{"project":"joyent/sdc-cn-agent","branch":"master","id":"Ifd56f581a57ef9c1e7cbdb061dc59d8f98238130","number":"5218","subject":"TRITON-1027 cn-agent should have a command_execute task Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/5218","commitMessage":"TRITON-1027 cn-agent should have a command_execute task\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1544509726,"lastUpdated":1544825461,"open":false,"status":"MERGED","comments":[{"timestamp":1544509726,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1544509727,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 3682e85a9ae0533767c7df4b611fe3102ad01670\n    \n    initial attempt at a command_execute task"},{"timestamp":1544509753,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(3 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1544520098,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1544520099,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 68cfe848fbaef11ac0a3600cb41e8ec720e4c390\n    \n    fix \u0027make check\u0027"},{"timestamp":1544520129,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1544580358,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1544580359,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 8601b6e2fac66c3bfc3d60d16d59bcbd56484442\n    \n    don\u0027t bail on non-zero exit"},{"timestamp":1544580485,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1544809640,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1544823762,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1544823913,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 5."},{"timestamp":1544823915,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 2edb96bafda5de1bdc6b23da1ab1c7eb1712415f\n    \n    don\u0027t bail on non-zero exit\n    \n    commit a22f7ae928474f6c4a2049875892c41c1482cb7b\n    \n    fix \u0027make check\u0027\n    \n    commit d1a450a0fd89a68ab2ae42183fb0a2c0b7057a32\n    \n    initial attempt at a command_execute task"},{"timestamp":1544824910,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1544825015,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1544825018,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"},{"timestamp":1544825461,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"5","revision":"fd56f581a57ef9c1e7cbdb061dc59d8f98238130","parents":["303b2b288d9750195bb8dccd89c87346f32ada50"],"ref":"refs/changes/18/5218/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1544823913,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544824910,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544824910,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544825015,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544825015,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1544825018,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"lib/backends/smartos/tasks/command_execute.js","line":100,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Is there a point in the `opts` object in this func?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"ADDED","insertions":119,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"49fdffdd7f09de722ad4bac979eec99459329562","parents":["142dc634a9b43096288f86b607c6fa8eaca40d45"],"ref":"refs/changes/18/5218/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1544509726,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1544509753,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/backends/dummy/tasks/command_execute.js","line":27,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: timeout"},{"file":"lib/backends/smartos/tasks/command_execute.js","line":52,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: extra comma is not recommended in array initializers"},{"file":"lib/backends/smartos/tasks/command_execute.js","line":91,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: timeout"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"ADDED","insertions":53,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"ADDED","insertions":120,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":176,"sizeDeletions":-1},{"number":"2","revision":"17c0b19901aec7f54256594ec92366d20c55d5a8","parents":["142dc634a9b43096288f86b607c6fa8eaca40d45"],"ref":"refs/changes/18/5218/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1544520098,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1544520129,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"ADDED","insertions":119,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-1},{"number":"3","revision":"9aa5c421412d8caa851a64ee96cb6b29ee6f1b1a","parents":["142dc634a9b43096288f86b607c6fa8eaca40d45"],"ref":"refs/changes/18/5218/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1544580358,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1544580485,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544809640,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544809640,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"ADDED","insertions":119,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-1},{"number":"4","revision":"0bf246246571ba0ece9eed4676052f48aa00d56b","parents":["142dc634a9b43096288f86b607c6fa8eaca40d45"],"ref":"refs/changes/18/5218/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1544823762,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1544580485,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544809640,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544809640,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"ADDED","insertions":119,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-1},{"number":"5","revision":"fd56f581a57ef9c1e7cbdb061dc59d8f98238130","parents":["303b2b288d9750195bb8dccd89c87346f32ada50"],"ref":"refs/changes/18/5218/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1544823913,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544825015,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544825015,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1544825018,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544824910,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544824910,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"comments":[{"file":"lib/backends/smartos/tasks/command_execute.js","line":100,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Is there a point in the `opts` object in this func?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"ADDED","insertions":119,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}