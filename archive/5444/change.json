{"project":"joyent/illumos-joyent","branch":"master","id":"I7a899a42e86d8d3e6d7d3eaf31bcacc6411fbb74","number":"5444","subject":"OS-7543 Marlin jobs crash zoneadmd on 20181206T011455Z PI Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Approved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e","owner":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"url":"https://cr.joyent.us/5444","commitMessage":"OS-7543 Marlin jobs crash zoneadmd on 20181206T011455Z PI\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nApproved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\n","createdOn":1548773301,"lastUpdated":1549566422,"open":false,"status":"MERGED","comments":[{"timestamp":1548773301,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 1."},{"timestamp":1549045125,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\nI think I\u0027ve found the root cause of this.  One line fix suggested in ticket.  If the explanation of a zfs_close race leading to EIO doesn\u0027t seem possible, let me know and I can dig some more."},{"timestamp":1549546390,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\nThis is fine to get past current pain, but there seems to be another issue lurking.  See my recent comment in the ticket."},{"timestamp":1549566328,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1549566387,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1549566422,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jerry Jelinek"}],"currentPatchSet":{"number":"3","revision":"7a899a42e86d8d3e6d7d3eaf31bcacc6411fbb74","parents":["3f0de8f54b3866e7073fd853de04717a1c86a80c"],"ref":"refs/changes/44/5444/3","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1549566387,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1549566421,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/zoneadmd/log.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/cmd/zoneadmd/zcons.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zfd.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/zoneadmd/zoneadmd.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zoneadmd.h","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":17,"sizeDeletions":-16},"patchSets":[{"number":"1","revision":"1ef1bc882d5c4f876eadbfbe2c211e8cacaa48af","parents":["c3d7532d6e2db922b1ccbdebe9d1b9ec10ca8e45"],"ref":"refs/changes/44/5444/1","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1548773301,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/zoneadmd/log.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/cmd/zoneadmd/zcons.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zfd.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/zoneadmd/zoneadmd.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zoneadmd.h","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":17,"sizeDeletions":-16},{"number":"2","revision":"5936ecf25754c62df5703816c6561092afb0eba4","parents":["3f0de8f54b3866e7073fd853de04717a1c86a80c"],"ref":"refs/changes/44/5444/2","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1549566328,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/zoneadmd/log.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/cmd/zoneadmd/zcons.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zfd.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/zoneadmd/zoneadmd.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zoneadmd.h","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":17,"sizeDeletions":-16},{"number":"3","revision":"7a899a42e86d8d3e6d7d3eaf31bcacc6411fbb74","parents":["3f0de8f54b3866e7073fd853de04717a1c86a80c"],"ref":"refs/changes/44/5444/3","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1549566387,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1549566421,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549546390,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/zoneadmd/log.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/cmd/zoneadmd/zcons.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zfd.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/zoneadmd/zoneadmd.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/zoneadmd/zoneadmd.h","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":17,"sizeDeletions":-16}],"allReviewers":[{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}]}