{"project":"joyent/illumos-joyent","branch":"master","id":"Iaedc79a5191058147e53a0ed06346ca4933a4512","number":"3438","subject":"OS-6410 fix-up bhyve build Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/3438","commitMessage":"OS-6410 fix-up bhyve build\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1519315808,"lastUpdated":1519326366,"open":false,"status":"MERGED","comments":[{"timestamp":1519315808,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1519318584,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\nI tested a smartos-live build against this (with DEBUG) and it completed cleanly"},{"timestamp":1519322223,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(2 comments)\n\nI know we\u0027re doing another round to disable the build. I went through all the files and things look fine to me. I just had two questions about CDDL."},{"timestamp":1519323407,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1519324127,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1519325361,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3."},{"timestamp":1519325669,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1519326155,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1519326269,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1519326334,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1519326366,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"4","revision":"aedc79a5191058147e53a0ed06346ca4933a4512","parents":["43f85cd4da7e7860e4d240f14e6b5dd45700c7b6"],"ref":"refs/changes/38/3438/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519326334,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519325669,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519326155,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519326269,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519326366,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/check_rtime","type":"MODIFIED","insertions":1,"deletions":0},{"file":"exception_lists/packaging","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/amd64/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/vmm.c","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/head/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile.com","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":24,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":30,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":33,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":5,"deletions":-15},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/viona/Makefile","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":32,"deletions":-2}],"sizeInsertions":364,"sizeDeletions":-92},"patchSets":[{"number":"1","revision":"758d99c9901dcf499f4206b5cbd19b71e2927ca4","parents":["43f85cd4da7e7860e4d240f14e6b5dd45700c7b6"],"ref":"refs/changes/38/3438/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519315808,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","line":37,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"should we be adding a cddl to this file?"},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","line":37,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"A subsequent change does end up making illumos-specific updates to this file, so I\u0027m inclined to keep it."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":40,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"same question about adding a cddl"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":40,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I guess it depends on how you view the tweaks needed to get it to compile on us.  I could go either way on this one."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/check_rtime","type":"MODIFIED","insertions":1,"deletions":0},{"file":"exception_lists/packaging","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/amd64/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/vmm.c","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/head/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libvmmapi/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile.com","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":24,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.i86pc","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":30,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":33,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":5,"deletions":-15},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":14,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/viona/Makefile","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":32,"deletions":-2}],"sizeInsertions":397,"sizeDeletions":-96},{"number":"2","revision":"41733bc81a2fbf6303f0280dc497154ba8326995","parents":["43f85cd4da7e7860e4d240f14e6b5dd45700c7b6"],"ref":"refs/changes/38/3438/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519323407,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/check_rtime","type":"MODIFIED","insertions":1,"deletions":0},{"file":"exception_lists/packaging","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/amd64/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/vmm.c","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/head/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile.com","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":24,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":30,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":33,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":5,"deletions":-15},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":14,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/viona/Makefile","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":32,"deletions":-2}],"sizeInsertions":382,"sizeDeletions":-92},{"number":"3","revision":"53a63e28102b4c0fb41dbb46859028336e4ca8a9","parents":["43f85cd4da7e7860e4d240f14e6b5dd45700c7b6"],"ref":"refs/changes/38/3438/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519325361,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519325669,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519326269,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519326155,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/check_rtime","type":"MODIFIED","insertions":1,"deletions":0},{"file":"exception_lists/packaging","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/amd64/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/vmm.c","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/head/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile.com","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":24,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":30,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":33,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":5,"deletions":-15},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/viona/Makefile","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":32,"deletions":-2}],"sizeInsertions":364,"sizeDeletions":-92},{"number":"4","revision":"aedc79a5191058147e53a0ed06346ca4933a4512","parents":["43f85cd4da7e7860e4d240f14e6b5dd45700c7b6"],"ref":"refs/changes/38/3438/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519326334,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519325669,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519326269,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519326155,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1519326366,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/check_rtime","type":"MODIFIED","insertions":1,"deletions":0},{"file":"exception_lists/packaging","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/amd64/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/amd64/vmm/vmm.c","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/head/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libvmmapi/Makefile.com","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":24,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":30,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":33,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":5,"deletions":-15},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/viona/Makefile","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":32,"deletions":-2}],"sizeInsertions":364,"sizeDeletions":-92}],"allReviewers":[{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}