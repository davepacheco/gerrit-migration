{"project":"joyent/illumos-joyent","branch":"master","topic":"ctf-i","id":"I91d87aa175a4bc8959aedab132da4ad91e5006d2","number":"5997","subject":"OS-6428 bad free in ctf_dwarf_init_die OS-6486 ctfconvert -i never converts OS-6488 ctfconvert should handle empty dies OS-6505 Improve ctfconvert error messages OS-7639 ctfconvert -i option is mis-handled OS-7663 ctf_dwarf_convert_type() relies on un-ini","owner":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"url":"https://cr.joyent.us/5997","commitMessage":"OS-6428 bad free in ctf_dwarf_init_die\nOS-6486 ctfconvert -i never converts\nOS-6488 ctfconvert should handle empty dies\nOS-6505 Improve ctfconvert error messages\nOS-7639 ctfconvert -i option is mis-handled\nOS-7663 ctf_dwarf_convert_type() relies on un-initialized id\nOS-7688 shouldn\u0027t build gcore.c as part of kmdb\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1553163165,"lastUpdated":1554200917,"open":false,"status":"MERGED","comments":[{"timestamp":1553163165,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 1."},{"timestamp":1553163241,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nNB: this is waiting for the ctf test suite merge"},{"timestamp":1553167816,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Topic set to ctf-i"},{"timestamp":1553175361,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 2."},{"timestamp":1553188809,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1553188835,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 3."},{"timestamp":1553188949,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 4."},{"timestamp":1553210542,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 5."},{"timestamp":1553251924,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 6."},{"timestamp":1553627140,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6:\n\n(20 comments)\n\nIn general, this looks good. Thanks for a lot of the improvements here. One general question I had was around why we choose to or not to basically still try to do any conversion of the assembly or C++ files. While we never did for the .cc files it seemed like things did try to at least, unsuccessfully, convert the .s files. Should we give up on that as well?"},{"timestamp":1553627275,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\nI can\u0027t see a reason to try to ctfconvert an .S derived file?"},{"timestamp":1553627437,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6:\n\n\u003e I can\u0027t see a reason to try to ctfconvert an .S derived file?\n\nI guess we don\u0027t annotate any of the debug information there today, but I think one could in theory? I guess we can cross that chasm when we actually do that."},{"timestamp":1553628240,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\n(18 comments)"},{"timestamp":1553638721,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6:\n\n(7 comments)"},{"timestamp":1553639801,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1553694437,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\n(7 comments)"},{"timestamp":1553695538,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 7."},{"timestamp":1553786214,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 7: Code-Review+1\n\nThanks, this looks great."},{"timestamp":1553815513,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 8: Patch Set 7 was rebased"},{"timestamp":1554116493,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 9: Patch Set 8 was rebased"},{"timestamp":1554117504,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 9:\n\nTesting notes for all of this in OS-7639"},{"timestamp":1554125071,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 9:\n\n(2 comments)\n\nThis looks good to me. I saw one comment nit which you can ignore if you want. I\u0027m just not sure about the bignum change. Once I understand that, I\u0027ll give +1."},{"timestamp":1554133292,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 9:\n\n(2 comments)"},{"timestamp":1554133868,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 10."},{"timestamp":1554133931,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 10:\n\n(1 comment)"},{"timestamp":1554134886,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 10: Code-Review+1"},{"timestamp":1554135664,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 10: Code-Review+1"},{"timestamp":1554144400,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 10: Integration-Approval+1"},{"timestamp":1554195373,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 11: Commit message was updated."},{"timestamp":1554195385,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 12: Patch Set 11 was rebased"},{"timestamp":1554200917,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by John Levon"}],"currentPatchSet":{"number":"12","revision":"495dfd0ac49c1326af24c839ba967d1e8264782d","parents":["8b607fd2753baed9c70e65eeda8ca3935dbe6077"],"ref":"refs/changes/97/5997/12","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1554195385,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554134886,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554135664,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554144400,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1554200917,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":16,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":60,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":141,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":97,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":117,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-27},{"file":"usr/src/test/util-tests/tests/ctf/precheck.ksh","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":991,"sizeDeletions":-636},"patchSets":[{"number":"1","revision":"d52f80b971cb944856b0c03e60bc7cc187aa0b82","parents":["cab8f574b2799281fddf00931d5f96a163272c9a"],"ref":"refs/changes/97/5997/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553163165,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/intel/aes/Makefile","line":104,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Note that uts/ doesn\u0027t use $(POST_PROCESS_*) in general, so removal instead of replacement is the right thing here. After this, there\u0027s no remaining references to $(POST_PROCESS_*) under uts/"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":41,"deletions":-23},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":97,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":175,"deletions":-92},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"ADDED","insertions":152,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":142,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"ADDED","insertions":282,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":1333,"sizeDeletions":-607},{"number":"2","revision":"80dd48c93c00ea7cfd9400518f4489951205edd4","parents":["cab8f574b2799281fddf00931d5f96a163272c9a"],"ref":"refs/changes/97/5997/2","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553175361,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"ADDED","insertions":152,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":142,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"ADDED","insertions":282,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":1329,"sizeDeletions":-607},{"number":"3","revision":"a9bdf3cc45c07e26ab4acf38eb5c01500c6259a6","parents":["d8fc647be2c6caf34bbf0e0b6990d1d798f0c108"],"ref":"refs/changes/97/5997/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553188835,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":156,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":142,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":286,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":1337,"sizeDeletions":-607},{"number":"4","revision":"9b265391cba886a7681d387607997dab1ca76528","parents":["d8fc647be2c6caf34bbf0e0b6990d1d798f0c108"],"ref":"refs/changes/97/5997/4","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553188949,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":142,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":52,"deletions":-27},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":951,"sizeDeletions":-635},{"number":"5","revision":"83ec93b9ea1cc4f9328e021f1999ad1450c3417f","parents":["d8fc647be2c6caf34bbf0e0b6990d1d798f0c108"],"ref":"refs/changes/97/5997/5","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553210542,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":142,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-26},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":947,"sizeDeletions":-634},{"number":"6","revision":"a764bd112166e305e100f29ddbfc8b3b515a6abc","parents":["d8fc647be2c6caf34bbf0e0b6990d1d798f0c108"],"ref":"refs/changes/97/5997/6","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553251924,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","line":316,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Haha, I guess that\u0027s true."},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","line":363,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I guess the only reason we do it for these is that in these cases we have meaningful error messages?"},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","line":363,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Yes. It\u0027s kind of awkward but I didn\u0027t come up with much better."},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","line":363,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"That\u0027s fine."},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","line":45,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is this basically another bug you found along the way?"},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","line":45,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Not quite. It\u0027s an empty file when compiling kmdb, which causes us to fail conversion, so I re-did the build so we don\u0027t include it in kmdb at all."},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","line":45,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Mind adding a bug that indicates that?"},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","line":45,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/lib/Makefile.lib","line":188,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should we still attempt to be doing a ctfconvert on the POST_PROCESS_S_O cases but ignoring failure if there is no data there?"},{"file":"usr/src/lib/Makefile.lib","line":188,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"As I mentioned, I can\u0027t think of a good reason why. Is there a specific case you\u0027re thinking of?"},{"file":"usr/src/lib/Makefile.lib","line":188,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"No, I forgot I mentioned this elsewhere. I guess it\u0027s fine and we never had CTF from those objects to begin with."},{"file":"usr/src/lib/libctf/common/ctf_convert.c","line":34,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Minor nit, but I find enums somewhat clearer for this."},{"file":"usr/src/lib/libctf/common/ctf_convert.c","line":34,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"OK."},{"file":"usr/src/lib/libctf/common/ctf_convert.c","line":34,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","line":1781,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I guess this was an existing bug where we incorrectlyu didn\u0027t set the id?"},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","line":1781,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This is OS-7663"},{"file":"usr/src/lib/libctf/common/libctf.h","line":82,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Can we avoid using the DWARF term in this define? In theory (though I understand in practice this isn\u0027t the case) we could have a non-DWARF based backend which doesn\u0027t use the same terminology."},{"file":"usr/src/lib/libctf/common/libctf.h","line":82,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Happy to, got a naming suggestion? I found CTF_ALLOW_MISSING a bit vague, but I wanted the CONVERT out of there now it\u0027s playing double duty"},{"file":"usr/src/lib/libctf/common/libctf.h","line":82,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Hmm, you\u0027re right, it is doing double duty so it\u0027s no longer just for CONVERT. Hmm. I don\u0027t have any great ideas. If we don\u0027t come up with anything better, we\u0027ll just have to roll with it that way."},{"file":"usr/src/lib/libctf/common/libctf.h","line":82,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I went with CTF_ALLOW_MISSING_DEBUG"},{"file":"usr/src/lib/libctf/common/libctf_impl.h","line":36,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"The original intent here was to make it such that we had multiple backends that could try and figure out what to convert, in case one failed. That way if we ever cared about something other than dwarf, like stabs, or some future format it was clear. I guess you\u0027ve opted to remove that logic in lieu of just trying to have something return the error directly? What do you see as the new semantic equivalent of CTF_CONV_NOTSUP?"},{"file":"usr/src/lib/libctf/common/libctf_impl.h","line":36,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"The idea is that it everything returns ECTF_CONVNODEBUG, there\u0027s no debug we can understand. If one of them returns an error of a different kind, we should error out immediately. And if one returns success, we should be done. It\u0027s just done via the error return directly now."},{"file":"usr/src/lib/libctf/common/libctf_impl.h","line":36,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"The way you have rigged it up here makes sense on looking at it again. I think this is a fine way to do it."},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","line":19,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Any particular reason this was added here?"},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","line":19,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"We need it? We don\u0027t get CTF without it AFAIK"},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","line":19,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027m not against adding CTF to things, it just wasn\u0027t clear to me if this was a case where you needed CTF so it was added or something else was going on."},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","line":19,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Oh, sorry, I see what you mean. We needed this because the .o\u0027s are input to a ctfmerge. I.e. we would now fail the build if we didn\u0027t do this."},{"file":"usr/src/test/util-tests/runfiles/default.run","line":61,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This was omitted on purpose. The tests generally speaking, will run by default on all installs because there is no ctfconvert/ctfmerge on the path by default. I don\u0027t consider it good form to allow tests that are run by default to fail. It makes me realize that the same is likely true of the dis tests."},{"file":"usr/src/test/util-tests/runfiles/default.run","line":61,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"So on that basis it fails for a bunch of reasons, in that we don\u0027t necessarily have gmake, gcc, etc.\n\nIt doesn\u0027t seem good that we have tests that don\u0027t get run.\nPerhaps we can make the tests mark themselves clearly as SKIPPED or some such?"},{"file":"usr/src/test/util-tests/runfiles/default.run","line":61,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027m not sure what the best way forward is. That\u0027s probably the better way to go in the longer term. I\u0027ll defer to you on what you want to do for the moment."},{"file":"usr/src/test/util-tests/runfiles/default.run","line":61,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"So I discovered that the libc symbol tests have a \"pre\" script that fails if it can\u0027t find a compiler (it has a horrible fixed list it looks for).\n\nI\u0027m going to take the same approach here. The pre script is marked as \"failed\" and the rest of the CTF tests are marked as \"skipped\".\n\nProbably, we should enhance test runner so we can say in the setup script \"Skip, but this is more or less expected\" so it doesn\u0027t show as up as a failure. But I\u0027m not going to approach that right now."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","line":77,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Using this hack makes me wonder if we really shouldn\u0027t be looking at DW_AT_language to do a better job here. I\u0027m not sure there\u0027s a good way to do so."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","line":77,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Would you like me to investigate DW_AT_language as a replacement for the suffix checking? That would make this test a pain though, as I\u0027d have to pass in a C++ Compiler..."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","line":91,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Please make as configurable like $CC and check for it in ctftest.ksh."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","line":91,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"ok"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":32,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I understand that you renamed these to match their counterparts that will get exported. If we really have to rename them, can we at least make a comment that explains why these are all named following a different pattern. I really want to try to keep things consistent where we can. We wouldn\u0027t do this to variables in C, which is why I had named them all the same way initially with a prefix, to make it clear what they were and their scope. If you don\u0027t mind, I\u0027d kind of prefer if we did keep it as is."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":32,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I guess I\u0027ll just export all the ctf_* variants?"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":148,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why is this changing to gmake? I wrote this purposefully so it could work with any make."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":148,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"merge error, sorry."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":221,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"We should probably glob on extension?"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":221,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"These don\u0027t have an extension."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":223,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Isn\u0027t the temp dir called $outdir, not $outsdir?"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":223,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"oops"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":223,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":232,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Shouldn\u0027t the outdir be cleared between runs so that way we can\u0027t leak data files between runs that\u0027ll potentially influence things, like leaving a .c file behind?"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":232,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Yep"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":232,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":258,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Can we just do CC\u003dctf_cc, etc. and not rename every usage of these? Can we maybe just export them in the context of the place we\u0027re using them rather than in a place where they might influence other tests or things?"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":258,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I\u0027d rather just export them at the top of the file with your original names. The earlier variant I had that just prefixed each test with what we needed to place into the environment was pretty ugly. And after all we do control what\u0027s running in these tests."},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":258,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","line":276,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Sorry about that!"},{"file":"usr/src/uts/intel/bignum/Makefile","line":91,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is just a straight up merge of Makefile.64 right which you pulled in because we no longer have both versions to build, right?"},{"file":"usr/src/uts/intel/bignum/Makefile","line":91,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"That\u0027s right"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":142,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":49,"deletions":-26},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":952,"sizeDeletions":-635},{"number":"7","revision":"3cd73fadae8b4f0975bd6dc429e13ac4ec27ed66","parents":["d8fc647be2c6caf34bbf0e0b6990d1d798f0c108"],"ref":"refs/changes/97/5997/7","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553695538,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1553786214,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":141,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":97,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":117,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-27},{"file":"usr/src/test/util-tests/tests/ctf/precheck.ksh","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":995,"sizeDeletions":-636},{"number":"8","revision":"23f18b7e567fa090b5e9a2c62dd94795f127156e","parents":["451d765fb45021fb191507bcbe46a507f1ec89d9"],"ref":"refs/changes/97/5997/8","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553815513,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1553786214,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":141,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":97,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":117,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-27},{"file":"usr/src/test/util-tests/tests/ctf/precheck.ksh","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":995,"sizeDeletions":-636},{"number":"9","revision":"3d3d5aa17a100c92c74611e25f0b6994c388081c","parents":["8604ad92dd1e3e4f766b9ff23008dfff4853c251"],"ref":"refs/changes/97/5997/9","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1554116493,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1553786214,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/lib/libctf/common/ctf_convert.c","line":35,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"It seems like this comment doesn\u0027t match what is being returned. It looks like there are at least 3 different types of return value below. Maybe it would be clearer to use the macro names instead of numbers in the comment as well."},{"file":"usr/src/lib/libctf/common/ctf_convert.c","line":35,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"So I suppose I forgot to update this comment."},{"file":"usr/src/lib/libctf/common/ctf_convert.c","line":35,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Ended up deleting it now the return type has a meaningful name"},{"file":"usr/src/uts/intel/bignum/Makefile","line":91,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"I\u0027m not sure which of the CTF bugs the following change is related to, if any. Is this part of one of those bugs or a separate bug?"},{"file":"usr/src/uts/intel/bignum/Makefile","line":91,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"It\u0027s really part of the -i changes. The old makefiles tried to ctfconvert a .S file. Rather than change a totally unused makefile (the 32-bit variant), I took the opportunity to kill it instead and merge the 64-bit in."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":64,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":141,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":97,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":117,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-27},{"file":"usr/src/test/util-tests/tests/ctf/precheck.ksh","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":995,"sizeDeletions":-636},{"number":"10","revision":"f91e6ea711518e968b152d038dc8b005b8f414d8","parents":["c248e2484c2c0a42913ce48e21031d119c63fe45"],"ref":"refs/changes/97/5997/10","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1554133868,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554134886,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554144400,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554135664,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":60,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":141,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":97,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":117,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-27},{"file":"usr/src/test/util-tests/tests/ctf/precheck.ksh","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":991,"sizeDeletions":-636},{"number":"11","revision":"91d87aa175a4bc8959aedab132da4ad91e5006d2","parents":["c248e2484c2c0a42913ce48e21031d119c63fe45"],"ref":"refs/changes/97/5997/11","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1554195373,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554134886,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554144400,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554135664,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":16,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":60,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":141,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":97,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":117,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-27},{"file":"usr/src/test/util-tests/tests/ctf/precheck.ksh","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":991,"sizeDeletions":-636},{"number":"12","revision":"495dfd0ac49c1326af24c839ba967d1e8264782d","parents":["8b607fd2753baed9c70e65eeda8ca3935dbe6077"],"ref":"refs/changes/97/5997/12","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1554195385,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554134886,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554144400,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554135664,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1554200917,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":16,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/cmd/ctfconvert/ctfconvert.c","type":"MODIFIED","insertions":42,"deletions":-24},{"file":"usr/src/cmd/ctfmerge/ctfmerge.c","type":"MODIFIED","insertions":96,"deletions":-143},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/cmd/mdb/common/modules/genunix/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/cmd/mdb/intel/amd64/genunix/Makefile","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/common/ctf/ctf_error.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.lib","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/Makefile.targ","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/brand/lx/lx_brand/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/lx/lx_vdso/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/brand/shared/brand/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/commpage/Makefile.shared.targ","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/Makefile.targ","type":"MODIFIED","insertions":20,"deletions":-20},{"file":"usr/src/lib/libc/capabilities/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libc_db/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libcpc/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libctf/common/ctf_convert.c","type":"MODIFIED","insertions":60,"deletions":-76},{"file":"usr/src/lib/libctf/common/ctf_dwarf.c","type":"MODIFIED","insertions":170,"deletions":-90},{"file":"usr/src/lib/libctf/common/libctf.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/lib/libctf/common/libctf_impl.h","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/lib/libctf/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libfru/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"usr/src/lib/libm/Makefile.targ","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libmvec/Makefile.com","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libnisdb/Makefile","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"usr/src/lib/libsqlite/Makefile.com","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libtnfctl/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libtnfprobe/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libumem/Makefile.targ","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/pkcs11/libsoftcrypto/amd64/Makefile","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/lib/pkcs11/libsoftcrypto/capabilities/intel/i386/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/common/Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/test/util-tests/runfiles/default.run","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-no-dwarf.ksh","type":"ADDED","insertions":141,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-convert-non-c.ksh","type":"ADDED","insertions":97,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest-merge-no-ctf.ksh","type":"ADDED","insertions":117,"deletions":0},{"file":"usr/src/test/util-tests/tests/ctf/ctftest.ksh","type":"MODIFIED","insertions":48,"deletions":-27},{"file":"usr/src/test/util-tests/tests/ctf/precheck.ksh","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/ctf_api.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/Makefile.rules","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-5},{"file":"usr/src/uts/intel/arcfour/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/bignum/Makefile","type":"MODIFIED","insertions":40,"deletions":-7},{"file":"usr/src/uts/intel/bignum/Makefile.32","type":"DELETED","insertions":0,"deletions":-64},{"file":"usr/src/uts/intel/bignum/Makefile.64","type":"DELETED","insertions":0,"deletions":-66},{"file":"usr/src/uts/intel/kcf/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/intel/md5/Makefile","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"usr/src/uts/intel/sha1/Makefile","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/intel/sha2/Makefile","type":"MODIFIED","insertions":1,"deletions":-6}],"sizeInsertions":991,"sizeDeletions":-636}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}