{"project":"joyent/node-vasync","branch":"master","id":"Ia7f47c6ed950aaec35dd1fc009e77e3edfec87e6","number":"2383","subject":"joyent/node-vasync#35 pipeline does not pass rv-object to final callback joyent/node-vasync#36 should bump version and update changes.md Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e Approved by: David Pacheco \u003cdap@joyent.com\u003e","owner":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"url":"https://cr.joyent.us/2383","commitMessage":"joyent/node-vasync#35 pipeline does not pass rv-object to final callback\njoyent/node-vasync#36 should bump version and update changes.md\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\nApproved by: David Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1502494466,"lastUpdated":1505428127,"open":false,"status":"MERGED","comments":[{"timestamp":1502494466,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 1."},{"timestamp":1502494469,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1502494875,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 2."},{"timestamp":1502494884,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1503007737,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 3."},{"timestamp":1503007741,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n(43 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1503008227,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 4."},{"timestamp":1503008231,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n(7 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1503008448,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 5."},{"timestamp":1503008452,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1504044260,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5:\n\n(2 comments)\n\nThis looks good to me, but I wonder if Julien could take a look as well, since he reviewed the previous change?"},{"timestamp":1504044263,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1504047974,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 6."},{"timestamp":1504047978,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1504048038,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 6:\n\nHey, thanks for reviewing, I\u0027ll ping Julien if he\u0027s around."},{"timestamp":1504048173,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1505246823,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 6:\n\n(4 comments)"},{"timestamp":1505251623,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 6:\n\n(5 comments)"},{"timestamp":1505253215,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 6:\n\n(9 comments)\n\nHey thanks for reviewing! I\u0027ll add the comments, and make the other fixes."},{"timestamp":1505253442,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1505253910,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1505314791,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1505338979,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 7."},{"timestamp":1505338983,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1505339110,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 8."},{"timestamp":1505339118,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1505339209,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 9."},{"timestamp":1505339213,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1505340828,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 9:\n\n(2 comments)"},{"timestamp":1505341014,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 10."},{"timestamp":1505341018,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1505348232,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 10: Code-Review+1"},{"timestamp":1505421078,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 10:\n\nIs PS10 `make prepush` clean?"},{"timestamp":1505424014,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 10:\n\nYep, PS10 is make-prepush clean: all tests pass and make-check passes."},{"timestamp":1505425633,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 10: Integration-Approval+1"},{"timestamp":1505427970,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 11: Commit message was updated."},{"timestamp":1505428065,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 12: Commit message was updated."},{"timestamp":1505428127,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Nick Zivkovic"}],"currentPatchSet":{"number":"12","revision":"548e7982ab07a0855e5694e6fe691f21397be527","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/12","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1505428065,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505341018,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505348232,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505425633,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1505428127,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":66,"deletions":-22},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":132,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-23},"patchSets":[{"number":"1","revision":"dc56a475a764f91cc6b2d1a4c923ff4f68251a25","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/1","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1502494466,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1502494469,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":21,"sizeDeletions":-7},{"number":"2","revision":"4932adf889e5c2fb5594e539da6a2d9bfcd21aa2","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/2","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1502494875,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1502494884,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":15,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":30,"sizeDeletions":-7},{"number":"3","revision":"8236a0013927b3757158531ece63055115a783a8","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/3","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1503007737,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1503007741,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"tests/pipeline.js","line":31,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":33,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"},{"file":"tests/pipeline.js","line":37,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":47,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":55,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":64,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":69,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":70,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":71,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":72,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":73,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":74,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":120,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":121,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":132,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"missing blank after open comment"},{"file":"tests/pipeline.js","line":132,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper first line of block comment"},{"file":"tests/pipeline.js","line":137,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"missing blank before close comment"},{"file":"tests/pipeline.js","line":137,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"comma or semicolon followed by non-blank"},{"file":"tests/pipeline.js","line":140,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":141,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":142,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":143,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":144,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":145,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":146,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":147,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":148,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":149,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":150,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":151,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":152,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":153,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":154,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":155,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":156,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":157,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":158,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":159,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":160,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":161,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":162,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":163,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment"},{"file":"tests/pipeline.js","line":164,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper block comment close"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":15,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":164,"deletions":0}],"sizeInsertions":194,"sizeDeletions":-7},{"number":"4","revision":"333a5c16dbd6af0f344ccb79191229e1000028ff","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/4","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1503008227,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1503008231,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"tests/pipeline.js","line":32,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"space or tab at end of line"},{"file":"tests/pipeline.js","line":69,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":70,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":71,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":72,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":73,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"},{"file":"tests/pipeline.js","line":74,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"indent by spaces instead of tabs"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":15,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":130,"deletions":0}],"sizeInsertions":160,"sizeDeletions":-7},{"number":"5","revision":"99078aa63118ac5f1aab2198cd0dcedcc4bf9d8e","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/5","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1503008448,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504044263,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1503008452,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"CHANGES.md","line":9,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think you can drop this one (seems to duplicate the next line, right?), and drop the newlines between the other bullet points."},{"file":"CHANGES.md","line":15,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think you can leave this one out too."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":15,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":130,"deletions":0}],"sizeInsertions":160,"sizeDeletions":-7},{"number":"6","revision":"0bcee8b4ba0d7ef8a801196ead7975f5d8b150a4","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/6","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1504047974,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504048173,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504047978,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/vasync.js","line":165,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Can we document somewhere what the different values for the \"res_type\" properties (\u0027rv\u0027, \u0027values\u0027 and \u0027array\u0027) mean?"},{"file":"lib/vasync.js","line":165,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Sure thing."},{"file":"lib/vasync.js","line":645,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should this assert\u0027s message be updated since now res_type must either be \"value\", \"array\" or \"rv\" it seems?"},{"file":"lib/vasync.js","line":645,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Yep."},{"file":"lib/vasync.js","line":700,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"It seems that this \"entry[\u0027results\u0027] \u003d args\" and the \"entry[\u0027result\u0027] \u003d arguments[2]\" could be factored out to something like \"entry[res_key] \u003d intermediateCbArgs\" somewhere.\n\nI would also suggest trying to make this code a bit easier to digest, maybe by doing at least one of the following things:\n\n1. adding clear comments of why we do what we do.\n2. renaming variables such as \"args\" to something that is maybe less similar to \"arguments\", \"opts.args\" and other variables with different purposes named similarly."},{"file":"lib/vasync.js","line":700,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Good idea, I\u0027ll clarify and disambiguate."},{"file":"lib/vasync.js","line":716,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I would also suggest adding comments here that make it clear why there\u0027s a different between \"pipeline\" and other \"impl\"s."},{"file":"lib/vasync.js","line":716,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Sure thing."},{"file":"tests/pipeline.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Why do these variables have module scope? Would it make the code a bit more readable and robust to have them scoped to each test?"},{"file":"tests/pipeline.js","line":8,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Yeah, will do."},{"file":"tests/pipeline.js","line":12,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is it expected that no result object is passed to the pipeline\u0027s callback when \"funcs\" is an empty array?"},{"file":"tests/pipeline.js","line":12,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"No, we do pass an rv. It\u0027s for `waterfall` and `tryEach` that we don\u0027t. Will fix."},{"file":"tests/pipeline.js","line":37,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What is the goal of scheduling the call to \"cb\" with \"setTimeout\"? Is it to call it asynchronously like what we think is the most common use case? If so, would setImmediate achieve the same goal while incurring less delay?"},{"file":"tests/pipeline.js","line":37,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Yeah, it\u0027s just to call it asynchronously. I guess we could use `setImmediate`."},{"file":"tests/pipeline.js","line":69,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Just thinking out loud, is it expected that these variables are actually references to the _same_ object? Was it the case before joyent/node-vasync#32?"},{"file":"tests/pipeline.js","line":69,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"I\u0027m pretty sure that it was always the case. So, the tests in `test/waterfall.js` check for this same thing. As for whether we should *guarantee* that we return/pass a reference to the _same_ object, I\u0027m not sure. I know that we do this now, but am not sure if we are obligated to keep doing this. I\u0027ll ask Dave ;)"},{"file":"tests/pipeline.js","line":69,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Ugh, nevermind. The waterfall test does not do this. I\u0027m losing my mind."},{"file":"tests/pipeline.js","line":69,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"However, according to Dave, it should be the same reference. The README says: \"This function returns the same \"result\" object it passes to the callback\". In this case \"same\" should be interpreted to mean \"same reference\"."},{"file":"tests/pipeline.js","line":69,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Sounds good to me!"},{"file":"tests/pipeline.js","line":118,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"shouldn\u0027t the message be \u0027final: count \u003d\u003d\u003d 2\u0027?"},{"file":"tests/pipeline.js","line":118,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Yep, will fix."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":130,"deletions":0}],"sizeInsertions":156,"sizeDeletions":-7},{"number":"7","revision":"3f4064838ded9fa60b070cf0f5a832bf5c60226b","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/7","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1505338979,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1505338983,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/vasync.js","line":633,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":66,"deletions":-22},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":132,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-23},{"number":"8","revision":"19c27ee1984f8d4899a7a474ae38f3cf3d4a5f3b","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/8","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1505339110,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1505339118,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"tests/pipeline.js","line":12,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"space or tab at end of line"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":66,"deletions":-22},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":132,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-23},{"number":"9","revision":"7a555b50317a9d75de094eec3d61578a36031df1","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/9","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1505339209,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505339213,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/vasync.js","line":657,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Typo in \"is it\"."},{"file":"lib/vasync.js","line":679,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Didn\u0027t catch initially that \"value\" must be \"values\"?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":66,"deletions":-22},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":132,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-23},{"number":"10","revision":"a7f47c6ed950aaec35dd1fc009e77e3edfec87e6","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/10","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1505341014,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505425633,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505341018,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505348232,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":66,"deletions":-22},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":132,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-23},{"number":"11","revision":"007afebb27f55c4b4b3d55a2564fdcd69f9a41f4","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/11","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1505427970,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505425633,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505341018,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505348232,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":66,"deletions":-22},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":132,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-23},{"number":"12","revision":"548e7982ab07a0855e5694e6fe691f21397be527","parents":["a88ef4ca209b2819d45dcefa06fdccdf0bdd83a1"],"ref":"refs/changes/83/2383/12","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1505428065,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505425633,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505341018,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1505428127,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505348232,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/vasync.js","type":"MODIFIED","insertions":66,"deletions":-22},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tests/pipeline.js","type":"ADDED","insertions":132,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-23}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}]}