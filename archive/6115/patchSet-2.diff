From a7e06c7da50e607e5731c1850f8df093267731bc Mon Sep 17 00:00:00 2001
From: Chris Burroughs <chris.burroughs@joyent.com>
Date: Tue, 16 Apr 2019 13:40:01 -0400
Subject: [PATCH] TRITON-1346 triton-origin-minimal-64-19.1.0 image

---
 Makefile                                    |  4 ++++
 README.md                                   |  2 ++
 images/triton-origin-x86_64-19.1.0/Makefile | 24 +++++++++++++++++++++
 3 files changed, 30 insertions(+)
 create mode 100644 images/triton-origin-x86_64-19.1.0/Makefile

diff --git a/Makefile b/Makefile
index 1e90153..125b589 100644
--- a/Makefile
+++ b/Makefile
@@ -67,6 +67,9 @@ triton-origin-x86_64-18.4.0-%:
 	@echo '$*'
 	cd images/triton-origin-x86_64-18.4.0 && $(MAKE) $*
 
+triton-origin-x86_64-19.1.0-%:
+	@echo '$*'
+	cd images/triton-origin-x86_64-19.1.0 && $(MAKE) $*
 
 #
 # Convenience wrapper to run the same target for each image
@@ -76,6 +79,7 @@ all-%:
 	cd images/triton-origin-multiarch-15.4.1 && $(MAKE) $*
 	cd images/triton-origin-multiarch-18.1.0 && $(MAKE) $*
 	cd images/triton-origin-x86_64-18.4.0 && $(MAKE) $*
+	cd images/triton-origin-x86_64-19.1.0 && $(MAKE) $*
 
 
 include ./deps/eng/tools/mk/Makefile.targ
diff --git a/README.md b/README.md
index 6a95dac..38ed2a1 100644
--- a/README.md
+++ b/README.md
@@ -104,6 +104,7 @@ files. We will try to keep this table up to date:
 
 | triton-origin image            | based on                     | sdcnode compatible build         | `NODE_PREBUILT_VERSION`              |
 | ------------------------------ | ---------------------------- | -------------------------------- | ------------------------------------ |
+| triton-origin-x86\_64-19.1.0   | minimal-64@19.1.0            | minimal-64@19.1.0                | fbda7200-57e7-11e9-bb3a-8b0b548fcc37 |
 | triton-origin-x86\_64-18.4.0   | minimal-64-lts@18.4.0        | minimal-64-lts@18.4.0            | c2c31b00-1d60-11e9-9a77-ff9f06554b0f |
 | triton-origin-multiarch-18.1.0 | minimal-multiarch@18.1.0     | minimal-multiarch@18.1.0         | 1ad363ec-3b83-11e8-8521-2f68a4a34d5d |
 | triton-origin-multiarch-15.4.1 | minimal-multiarch-lts@15.4.1 | sdc-minimal-multiarch-lts@15.4.1 | 18b094b0-eb01-11e5-80c1-175dac7ddf02 |
@@ -126,6 +127,7 @@ files. We will try to keep this table up to date:
 
 | triton-origin image            | Jenkins agent labels                        |
 | ------------------------------ | ------------------------------------------- |
+| triton-origin-x86\_64-19.1.0   | `image_ver:19.1.0 && pkgsrc_arch:x86_64`    |
 | triton-origin-x86\_64-18.4.0   | `image_ver:18.4.0 && pkgsrc_arch:x86_64`    |
 | triton-origin-multiarch-18.1.0 | `image_ver:18.1.0 && pkgsrc_arch:multiarch` |
 | triton-origin-multiarch-15.4.1 | `image_ver:15.4.1 && pkgsrc_arch:multiarch` |
diff --git a/images/triton-origin-x86_64-19.1.0/Makefile b/images/triton-origin-x86_64-19.1.0/Makefile
new file mode 100644
index 0000000..6a9d009
--- /dev/null
+++ b/images/triton-origin-x86_64-19.1.0/Makefile
@@ -0,0 +1,24 @@
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+#
+
+#
+# Copyright 2019 Joyent, Inc.
+#
+
+NAME=triton-origin-x86_64-19.1.0
+TOP=$(shell git rev-parse --show-toplevel)
+
+include $(TOP)/Makefile.origin.defs
+include $(TOP)/deps/eng/tools/mk/Makefile.defs
+
+BUILDIMAGE_DO_PKGSRC_UPGRADE:=true
+
+# minimal-64@19.1.0
+BASE_IMAGE_UUID = fbda7200-57e7-11e9-bb3a-8b0b548fcc37
+BUILDIMAGE_NAME = ${NAME}
+BUILDIMAGE_DESC = Triton/Manta component origin image based on x86_64 19.1.0
+BUILDIMAGE_PKGSRC = coreutils curl gsed patch sudo
+
+include $(TOP)/deps/eng/tools/mk/Makefile.targ
-- 
2.21.0

