{"project":"joyent/illumos-joyent","branch":"master","id":"Ia8a37d110b7ac0712628eabad3ca3242e4e510fc","number":"870","subject":"OS-5771 NFS mount command no longer works with Netapp server","owner":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"url":"https://cr.joyent.us/870","commitMessage":"OS-5771 NFS mount command no longer works with Netapp server\n","createdOn":1478736386,"lastUpdated":1478799497,"open":false,"status":"MERGED","comments":[{"timestamp":1478736386,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 1."},{"timestamp":1478751605,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1478784987,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1478785680,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 2."},{"timestamp":1478792186,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Code-Review+1\n\n(2 comments)"},{"timestamp":1478797795,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 3."},{"timestamp":1478798610,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1478799497,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jerry Jelinek"}],"currentPatchSet":{"number":"3","revision":"a8a37d110b7ac0712628eabad3ca3242e4e510fc","parents":["086d5d027adbdf03ebdffc6d4b56578ad97ac1d4"],"ref":"refs/changes/70/870/3","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1478797795,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478798610,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478798610,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1478799497,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","type":"MODIFIED","insertions":97,"deletions":-48}],"sizeInsertions":97,"sizeDeletions":-48},"patchSets":[{"number":"1","revision":"8593c68e1eadc5fda205cfb7a851c9ed573e481e","parents":["9a6eb06b470e9c1d8649210d4e7e79c603bf4cf0"],"ref":"refs/changes/70/870/1","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1478736386,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1674,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Perhaps bust this up into 2-3 sentences?"},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1674,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"ok"},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1714,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"s/compatability/compatibility,/"},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1714,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"fixed"},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1737,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Is there a pressing reason to pass \u0027err\u0027 through the clean-up method besides making the cleanup/return logic a one-liner?"},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1737,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"No, that is the exact reason"},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1741,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Wouldn\u0027t \u003e\u003d 0 be a more classic comparison for a valid fd?"},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1741,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Yes, but the caller explicitly uses -1 to denote a non-initialized value."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","type":"MODIFIED","insertions":97,"deletions":-48}],"sizeInsertions":97,"sizeDeletions":-48},{"number":"2","revision":"536269d7dfeb9669abf66189bc52e2d31f86fa3c","parents":["086d5d027adbdf03ebdffc6d4b56578ad97ac1d4"],"ref":"refs/changes/70/870/2","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1478785680,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478792186,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1673,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Can probably nix \u0027That is\u0027."},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","line":1714,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"still need the comma"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","type":"MODIFIED","insertions":97,"deletions":-48}],"sizeInsertions":97,"sizeDeletions":-48},{"number":"3","revision":"a8a37d110b7ac0712628eabad3ca3242e4e510fc","parents":["086d5d027adbdf03ebdffc6d4b56578ad97ac1d4"],"ref":"refs/changes/70/870/3","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1478797795,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"SUBM","value":"1","grantedOn":1478799497,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478798610,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478798610,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/mount_nfs.c","type":"MODIFIED","insertions":97,"deletions":-48}],"sizeInsertions":97,"sizeDeletions":-48}],"allReviewers":[{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}]}