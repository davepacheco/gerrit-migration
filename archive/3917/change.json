{"project":"joyent/sdc-napi","branch":"master","id":"I9b10d55db26afea97d3324b380c51bf1ce9ac377","number":"3917","subject":"TRITON-314 Want to expose etags to NAPI consumers Reviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e Reviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e Approved by: Mike Zeller \u003cmike.zeller@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/3917","commitMessage":"TRITON-314 Want to expose etags to NAPI consumers\nReviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\nReviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\nApproved by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\n","createdOn":1525730449,"lastUpdated":1526065198,"open":false,"status":"MERGED","comments":[{"timestamp":1525730449,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1525730510,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525733107,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1525733174,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525734372,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1525734433,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525823440,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 3:\n\n(15 comments)\n\nI did a first pass through this. I apologize for a lot of basic questions, as I don\u0027t know NAPI that well (except through code reviews).\n\nA common thing I noticed was using the underlying Moray client instead of the wrappers in lib/apis/moray.js. Was that intentional? Would it be better to add another wrapper more suitable for this change to moray.js?"},{"timestamp":1525898462,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1525898523,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525898525,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4:\n\n(12 comments)"},{"timestamp":1525900442,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 4:\n\n(1 comment)\n\nIt seems like this needs an accompanying documentation change as well, since the API is being augmented."},{"timestamp":1525900446,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1525904682,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5."},{"timestamp":1525904703,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1525904743,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525905011,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1526013412,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 6:\n\n(30 comments)\n\nmostly just small things and other nits"},{"timestamp":1526063716,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 7."},{"timestamp":1526063741,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 7:\n\n(23 comments)"},{"timestamp":1526063777,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526063998,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 8."},{"timestamp":1526064002,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 7:\n\n(7 comments)"},{"timestamp":1526064060,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526064265,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1526064330,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 8: Integration-Approval+1"},{"timestamp":1526064390,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 9: Commit message was updated."},{"timestamp":1526065198,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"9","revision":"9b10d55db26afea97d3324b380c51bf1ce9ac377","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/9","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1526064390,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526064060,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526064265,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526064330,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"SUBM","value":"1","grantedOn":1526065197,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":53,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":58,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":59,"deletions":-23},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":55,"deletions":-40},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":65,"deletions":-30},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":39,"deletions":-42},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":92,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":65,"deletions":-29},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":25,"deletions":-22},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":62,"deletions":-41},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":68,"deletions":-57},{"file":"lib/models/network.js","type":"MODIFIED","insertions":22,"deletions":-16},{"file":"lib/models/nic-tag.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":1,"deletions":-10},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":15,"deletions":-5},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":839,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1780,"sizeDeletions":-602},"patchSets":[{"number":"1","revision":"6f776a7675eb98dc0c04ac04ce600469636b2247","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525730449,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525730510,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":19,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":56,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":52,"deletions":-13},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":52,"deletions":-39},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":50,"deletions":-23},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":30,"deletions":-6},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":34,"deletions":-34},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":87,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":57,"deletions":-27},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":23,"deletions":-20},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":40,"deletions":-29},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":48,"deletions":-47},{"file":"lib/models/network.js","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":0,"deletions":-9},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":0,"deletions":-14},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":817,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1605,"sizeDeletions":-536},{"number":"2","revision":"eea1b449f9649c79014084bcaa441e49217ae197","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525733107,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525733174,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":19,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":56,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":52,"deletions":-19},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":52,"deletions":-39},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":50,"deletions":-23},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":30,"deletions":-6},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":34,"deletions":-34},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":87,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":57,"deletions":-27},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":23,"deletions":-20},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":40,"deletions":-29},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":48,"deletions":-47},{"file":"lib/models/network.js","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":0,"deletions":-9},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":0,"deletions":-14},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":817,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1606,"sizeDeletions":-540},{"number":"3","revision":"0a78abc802b2eafd9ca15b03ea816ea759dc675e","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525734372,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525734433,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/apis/moray.js","line":331,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Should we add \"original\" and \"etag\" to the params in the comment header? (Similarly, should the params documented here be asserted with the others below?)\n\nIt might be useful to document how \"original\" and \"etag\" are used."},{"file":"lib/models/aggregation.js","line":8,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"copyright update?"},{"file":"lib/models/aggregation.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/aggregation.js","line":83,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Could you explain a bit why this change was needed?"},{"file":"lib/models/aggregation.js","line":83,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This was needed to allow using params.id on line 473. Adding it here makes sure the validation logic copies it from the payload into the validated \"params\" object. (Things that don\u0027t get validated don\u0027t get copied across.)\n\nPreviously it was relying on the GET_SCHEMA to validate the ID."},{"file":"lib/models/ip/index.js","line":406,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Why is this no longer needed?"},{"file":"lib/models/ip/index.js","line":406,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This didn\u0027t actually work beforehand, because there was no rec._etag value. I added logic that sets rec.value.etag in lib/apis/moray.js, and removed this line so that it doesn\u0027t set it back to \"undefined\"."},{"file":"lib/models/ip/index.js","line":8,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"copyright update?"},{"file":"lib/models/ip/index.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/ip/index.js","line":310,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Should `existingIP` be documented here too?"},{"file":"lib/models/ip/index.js","line":310,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/ip/index.js","line":432,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"comment no longer matches arg names"},{"file":"lib/models/ip/index.js","line":432,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/ip/index.js","line":551,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"same here"},{"file":"lib/models/ip/index.js","line":551,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/ip/index.js","line":585,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Why the change from using the API wrapper here?"},{"file":"lib/models/ip/index.js","line":585,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I removed the \"replace\" functionality from the wrapper, since it\u0027s really just a normal putObject()."},{"file":"lib/models/network-pool.js","line":727,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Same question here about using the moray client directly instead of API wrappers"},{"file":"lib/models/network-pool.js","line":727,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I decided to create a wrapper for doing the putObject and handling the etag logic."},{"file":"lib/models/network.js","line":2060,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Why this change? (Apologies for lots of simple questions -- I haven\u0027t done any work in NAPI.)"},{"file":"lib/models/network.js","line":2060,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This is because we now get the network in the restify chain before doing the conditional work, and pass it in as an option here.\n\nI\u0027ll add an assert to this to make it clearer that we\u0027re passing in the network. I\u0027m also not crazy about it being passed in as opts.params.network, so I\u0027ll change that to be opts.existingNet."},{"file":"lib/models/network.js","line":1820,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"A bucket name maps to a network, right?"},{"file":"lib/models/network.js","line":1820,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"In this case, this is the bucket that contains the network objects (\"napi_networks\"). Each network does have its own bucket for storing information about IPs, named \"napi_ips_\u003cuuid\u003e\".\n\nNAPI refers to all of the bucket names using BUCKET.name since NAPI can technically be run with a prefix to all bucket names (e.g. \"test_napi_networks\")."},{"file":"lib/models/network.js","line":2199,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"oh dear"},{"file":"lib/models/nic/common.js","line":502,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"It\u0027s not strictly needed, but you might want to do a return statement after this line."},{"file":"lib/models/nic/del.js","line":41,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Similar question as some of the other deletions -- why isn\u0027t this isn\u0027t needed anymore?"},{"file":"lib/models/nic/del.js","line":41,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This is because we now look up the NIC in the restify chain, and pass it in."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":19,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":56,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":52,"deletions":-19},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":52,"deletions":-39},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":56,"deletions":-26},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":30,"deletions":-6},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":34,"deletions":-34},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":87,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":57,"deletions":-27},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":23,"deletions":-20},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":40,"deletions":-29},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":56,"deletions":-52},{"file":"lib/models/network.js","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":0,"deletions":-9},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":0,"deletions":-14},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":817,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1620,"sizeDeletions":-548},{"number":"4","revision":"26a537bd5b515355f78c042c7e99bac3536dde82","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525898462,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525898523,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525900446,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"comments":[{"file":"lib/apis/moray.js","line":247,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Add a simple header comment for this?"},{"file":"lib/apis/moray.js","line":247,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":38,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":56,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":59,"deletions":-23},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":52,"deletions":-39},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":56,"deletions":-26},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":30,"deletions":-6},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":38,"deletions":-41},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":87,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":57,"deletions":-27},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":25,"deletions":-22},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":55,"deletions":-41},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":60,"deletions":-54},{"file":"lib/models/network.js","type":"MODIFIED","insertions":13,"deletions":-10},{"file":"lib/models/nic-tag.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":0,"deletions":-9},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":0,"deletions":-14},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":839,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1705,"sizeDeletions":-577},{"number":"5","revision":"bb2792626067f9893ee9dee3b6b568f6ad02a394","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525904682,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525904743,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":47,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":56,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":59,"deletions":-23},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":52,"deletions":-39},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":56,"deletions":-26},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":30,"deletions":-6},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":38,"deletions":-41},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":87,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":57,"deletions":-27},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":25,"deletions":-22},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":55,"deletions":-41},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":60,"deletions":-54},{"file":"lib/models/network.js","type":"MODIFIED","insertions":13,"deletions":-10},{"file":"lib/models/nic-tag.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":0,"deletions":-9},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":0,"deletions":-14},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":839,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1714,"sizeDeletions":-577},{"number":"6","revision":"178e45d3a7c2f23998f09910528614af7adb1c44","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525905011,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525904743,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/apis/moray.js","line":256,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"nit: assert for these args"},{"file":"lib/apis/moray.js","line":256,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/apis/moray.js","line":370,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"nit: asserts for opts.original, opts.val"},{"file":"lib/apis/moray.js","line":370,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/apis/moray.js","line":383,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"nit: rename err2 to something like putErr"},{"file":"lib/apis/moray.js","line":383,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/aggregations.js","line":103,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._aggr like in getAggregation\nand probably in put and delete as well?"},{"file":"lib/endpoints/aggregations.js","line":103,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/fabrics/networks.js","line":34,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"What happens if the caller doesn\u0027t pass in extra?"},{"file":"lib/endpoints/fabrics/networks.js","line":34,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Then no additional fields get added. That\u0027s intended, since extra is just meant to be anything further that should be in the options for a call."},{"file":"lib/endpoints/fabrics/vlans.js","line":141,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Comment is incorrect it seems"},{"file":"lib/endpoints/fabrics/vlans.js","line":141,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Good catch. Fixed."},{"file":"lib/endpoints/fabrics/vlans.js","line":143,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._vlan"},{"file":"lib/endpoints/fabrics/vlans.js","line":143,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/network-pools.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/endpoints/network-pools.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/network-pools.js","line":54,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"put return on new line"},{"file":"lib/endpoints/network-pools.js","line":54,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/network-pools.js","line":63,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"can remove return"},{"file":"lib/endpoints/network-pools.js","line":63,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/network-pools.js","line":72,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"can this also become reqToOpts?"},{"file":"lib/endpoints/network-pools.js","line":72,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/network-pools.js","line":101,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._pool"},{"file":"lib/endpoints/network-pools.js","line":101,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/network-pools.js","line":122,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._pool"},{"file":"lib/endpoints/network-pools.js","line":122,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/networks/common.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/endpoints/networks/common.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/networks/index.js","line":88,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"remove return"},{"file":"lib/endpoints/networks/index.js","line":88,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/networks/ips.js","line":45,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._network"},{"file":"lib/endpoints/networks/ips.js","line":45,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/networks/ips.js","line":141,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._ip and req._network"},{"file":"lib/endpoints/networks/ips.js","line":141,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/networks/nics.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/endpoints/networks/nics.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/nics.js","line":107,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._nic"},{"file":"lib/endpoints/nics.js","line":107,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/nics.js","line":146,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"assert req._nic"},{"file":"lib/endpoints/nics.js","line":146,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/nics.js","line":152,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"put return on new line"},{"file":"lib/endpoints/nics.js","line":152,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/endpoints/nics.js","line":155,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"remove return"},{"file":"lib/endpoints/nics.js","line":155,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/ip/index.js","line":441,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"nit: assert params"},{"file":"lib/models/ip/index.js","line":441,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/ip/index.js","line":561,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"same nit as above"},{"file":"lib/models/ip/index.js","line":561,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/network.js","line":1814,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"nit: make err3 something like batchErr"},{"file":"lib/models/network.js","line":1814,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/nic-tag.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/models/nic-tag.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/nic-tag.js","line":390,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"nit: rename err2 to something like putErr"},{"file":"lib/models/nic-tag.js","line":390,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/nic/del.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/models/nic/del.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/nic/update.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/models/nic/update.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/models/vlan.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/models/vlan.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":47,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":56,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":59,"deletions":-23},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":52,"deletions":-39},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":56,"deletions":-26},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":30,"deletions":-6},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":38,"deletions":-41},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":87,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":57,"deletions":-27},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":25,"deletions":-22},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":55,"deletions":-41},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":60,"deletions":-54},{"file":"lib/models/network.js","type":"MODIFIED","insertions":13,"deletions":-10},{"file":"lib/models/nic-tag.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":0,"deletions":-9},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":0,"deletions":-14},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":839,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1714,"sizeDeletions":-577},{"number":"7","revision":"d5821c92dc93aa2a0c0e56d54663cc376e53b5ea","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1526063716,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526063777,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":53,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":58,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":59,"deletions":-23},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":55,"deletions":-40},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":65,"deletions":-30},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":39,"deletions":-42},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":90,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":65,"deletions":-29},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":25,"deletions":-22},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":62,"deletions":-41},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":68,"deletions":-57},{"file":"lib/models/network.js","type":"MODIFIED","insertions":22,"deletions":-16},{"file":"lib/models/nic-tag.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":1,"deletions":-10},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":15,"deletions":-5},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":839,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1778,"sizeDeletions":-602},{"number":"8","revision":"b131c9c8ae80cae45b3cbb93a0ff0107cab838a7","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/8","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1526063998,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526064060,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526064265,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526064330,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":53,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":58,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":59,"deletions":-23},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":55,"deletions":-40},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":65,"deletions":-30},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":39,"deletions":-42},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":92,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":65,"deletions":-29},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":25,"deletions":-22},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":62,"deletions":-41},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":68,"deletions":-57},{"file":"lib/models/network.js","type":"MODIFIED","insertions":22,"deletions":-16},{"file":"lib/models/nic-tag.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":1,"deletions":-10},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":15,"deletions":-5},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":839,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1780,"sizeDeletions":-602},{"number":"9","revision":"9b10d55db26afea97d3324b380c51bf1ce9ac377","parents":["25bf4e9db56a15626d8ea275b88c2b74d5cbacb6"],"ref":"refs/changes/17/3917/9","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1526064390,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1526065197,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526064060,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526064265,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526064330,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":53,"deletions":-29},{"file":"lib/endpoints/aggregations.js","type":"MODIFIED","insertions":58,"deletions":-30},{"file":"lib/endpoints/fabrics/networks.js","type":"MODIFIED","insertions":59,"deletions":-23},{"file":"lib/endpoints/fabrics/vlans.js","type":"MODIFIED","insertions":55,"deletions":-40},{"file":"lib/endpoints/network-pools.js","type":"MODIFIED","insertions":65,"deletions":-30},{"file":"lib/endpoints/networks/common.js","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":39,"deletions":-42},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":92,"deletions":-85},{"file":"lib/endpoints/networks/nics.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/nics.js","type":"MODIFIED","insertions":65,"deletions":-29},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":25,"deletions":-22},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":62,"deletions":-41},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":68,"deletions":-57},{"file":"lib/models/network.js","type":"MODIFIED","insertions":22,"deletions":-16},{"file":"lib/models/nic-tag.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":1,"deletions":-10},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":15,"deletions":-5},{"file":"lib/util/common.js","type":"MODIFIED","insertions":19,"deletions":-3},{"file":"test/lib/aggr.js","type":"MODIFIED","insertions":20,"deletions":-34},{"file":"test/lib/common.js","type":"MODIFIED","insertions":57,"deletions":-20},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/lib/ip.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/lib/net.js","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"test/unit/etags.test.js","type":"ADDED","insertions":839,"deletions":0},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":1780,"sizeDeletions":-602}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}