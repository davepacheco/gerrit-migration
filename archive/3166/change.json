{"project":"joyent/registrar","branch":"master","id":"I9cc905f3600e69b1c5e8e9ed01fbe9294ca50851","number":"3166","subject":"MANTA-3536 registrar broken by MANTA-3223","owner":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"url":"https://cr.joyent.us/3166","commitMessage":"MANTA-3536 registrar broken by MANTA-3223\n","createdOn":1515316895,"lastUpdated":1515440552,"open":false,"status":"MERGED","comments":[{"timestamp":1515316895,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 1."},{"timestamp":1515316919,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515355047,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 2."},{"timestamp":1515355071,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515356095,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 3."},{"timestamp":1515356119,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515361341,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 4."},{"timestamp":1515361365,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515364413,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 5."},{"timestamp":1515364437,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515364985,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 6."},{"timestamp":1515365009,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515369867,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 7."},{"timestamp":1515369891,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515383225,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1515384220,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 8."},{"timestamp":1515384244,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515386074,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1515387718,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 9."},{"timestamp":1515387743,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515388463,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 10."},{"timestamp":1515388487,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515394432,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 10:\n\n(1 comment)"},{"timestamp":1515434079,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 11."},{"timestamp":1515434103,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515438189,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 11: Code-Review+1"},{"timestamp":1515440495,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 11: Integration-Approval+1"},{"timestamp":1515440552,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jan Wyszynski"}],"currentPatchSet":{"number":"11","revision":"9cc905f3600e69b1c5e8e9ed01fbe9294ca50851","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/11","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515434079,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515434103,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1515438189,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1515440495,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1515440552,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/register.js","type":"MODIFIED","insertions":38,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":40,"deletions":-3}],"sizeInsertions":93,"sizeDeletions":-40},"patchSets":[{"number":"1","revision":"1663326d95450c46ca28d8d418414ddf7d582ab4","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/1","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515316895,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515316919,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"2","revision":"54f1f6cefff4527c109debff7209519d2eb18295","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/2","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515355047,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515355071,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":23,"deletions":0}],"sizeInsertions":24,"sizeDeletions":-1},{"number":"3","revision":"d79bf5f4d8ae80bab3b8e87506ac88e895190ecf","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/3","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515356095,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515356119,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"main.js","type":"MODIFIED","insertions":23,"deletions":0}],"sizeInsertions":36,"sizeDeletions":-13},{"number":"4","revision":"b98283ccf397495b2cdcad42186cc4841ac6060e","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/4","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515361341,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515361365,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"main.js","type":"MODIFIED","insertions":35,"deletions":0}],"sizeInsertions":48,"sizeDeletions":-13},{"number":"5","revision":"441c50c161d57e7100733b2d6bf643be26fcf7d8","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/5","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515364413,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515364437,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"main.js","type":"MODIFIED","insertions":35,"deletions":0}],"sizeInsertions":49,"sizeDeletions":-13},{"number":"6","revision":"29c57edb17022de3f0eb66a683803a8f0acc8ab2","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/6","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515364985,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515365009,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/register.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"main.js","type":"MODIFIED","insertions":37,"deletions":-3}],"sizeInsertions":55,"sizeDeletions":-20},{"number":"7","revision":"3c72fead46c7b2b6555e8da6ab9dabbea588ac14","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/7","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515369867,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515369891,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"main.js","line":91,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I think it would be nice to just print one warning at the end, something like \u0027registrar configuration uses old zookeeper options, converting to new format and continuing\u0027. It needs to mention that this error is not causing registrar to malfunction and that we are continuing to operate"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/register.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"main.js","type":"MODIFIED","insertions":37,"deletions":-3}],"sizeInsertions":56,"sizeDeletions":-21},{"number":"8","revision":"28c3dcb657100dcc037b2bfd06561c22023eb5f6","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/8","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515384220,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1515386074,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515384244,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/register.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"main.js","type":"MODIFIED","insertions":40,"deletions":-3}],"sizeInsertions":59,"sizeDeletions":-21},{"number":"9","revision":"76d0c7ec6e6df2be25420e81fe86872876bba411","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/9","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515387718,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515387743,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/register.js","type":"MODIFIED","insertions":35,"deletions":-23},{"file":"main.js","type":"MODIFIED","insertions":40,"deletions":-3}],"sizeInsertions":90,"sizeDeletions":-41},{"number":"10","revision":"bef753093be3c70951f1b21e4e0cb08a7c869a80","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/10","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515388463,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515388487,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/register.js","line":207,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I think this line is wider than 80 chars?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/register.js","type":"MODIFIED","insertions":38,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":40,"deletions":-3}],"sizeInsertions":93,"sizeDeletions":-40},{"number":"11","revision":"9cc905f3600e69b1c5e8e9ed01fbe9294ca50851","parents":["c7f03167e1f2789235838e802c2eeb1567dd6196"],"ref":"refs/changes/66/3166/11","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1515434079,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1515438189,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1515440495,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515434103,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1515440552,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-11},{"file":"etc/config.coal.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/register.js","type":"MODIFIED","insertions":38,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":40,"deletions":-3}],"sizeInsertions":93,"sizeDeletions":-40}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}]}