From 6993061b504b6cd2e276606963d9fde686f4da37 Mon Sep 17 00:00:00 2001
From: Alex Wilson <alex.wilson@joyent.com>
Date: Mon, 3 Oct 2016 14:12:35 -0700
Subject: [PATCH] joyent/node-mname#5 Update readme, add contribution
 guidelines

---
 .npmignore      | 11 ++++++++
 CONTRIBUTING.md | 16 +++++++++++
 README.md       | 72 +++++++++++++++++++++++++------------------------
 3 files changed, 64 insertions(+), 35 deletions(-)
 create mode 100644 .npmignore
 create mode 100644 CONTRIBUTING.md

diff --git a/.npmignore b/.npmignore
new file mode 100644
index 0000000..adf2639
--- /dev/null
+++ b/.npmignore
@@ -0,0 +1,11 @@
+.gitmodules
+deps
+docs
+Makefile
+node_modules
+test
+tools
+coverage
+man/src
+examples
+test.*
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
new file mode 100644
index 0000000..ad06cc3
--- /dev/null
+++ b/CONTRIBUTING.md
@@ -0,0 +1,16 @@
+# Contributing
+
+This repository uses [cr.joyent.us](https://cr.joyent.us) (Gerrit) for new
+changes.  Anyone can submit changes.  To get started, see the [cr.joyent.us user
+guide](https://github.com/joyent/joyent-gerrit/blob/master/docs/user/README.md).
+This repo does not use GitHub pull requests.
+
+See the [Joyent Engineering
+Guidelines](https://github.com/joyent/eng/blob/master/docs/index.md) for general
+best practices expected in this repository.
+
+Contributions should be "make check" clean.  The "make check" target will
+install all necessary tools as part of its operation.
+
+If you're changing something non-trivial or user-facing, you may want to submit
+an issue first.
diff --git a/README.md b/README.md
index 5ccdd55..5b9962e 100644
--- a/README.md
+++ b/README.md
@@ -1,42 +1,51 @@
-# node-named - DNS Server in Node.js
-
-Node-named is a lightweight DNS server written in pure javascript. It has
-limited support for the DNS spec, but aims to implement all of the *common*
-functionality that is in use today. 
+# node-mname - DNS Server in Node.js
 
+`mname` is a fork of the `node-named` library, which enables the development of
+DNS servers in node.js.
 
+This fork adds the following features:
+ - Queries over TCP connections
+ - AXFR, IXFR zone transfers
+ - PTR records
+ - Name compression
+ - EDNS 1.0
 
 ## Creating a DNS Server
 
-    var named = require('./lib/index');
-    var server = named.createServer();
-    var ttl = 300;
-
-    server.listen(9999, '127.0.0.1', function() {
-      console.log('DNS server started on port 9999');
-    });
-
-    server.on('query', function(query) {
-      var domain = query.name();
-      console.log('DNS Query: %s', domain)
-      var target = new SOARecord(domain, {serial: 12345});
-      query.addAnswer(domain, target, ttl);
-      server.send(query);
-    });
+```js
+var named = require('./lib/index');
+var server = named.createServer();
+var ttl = 300;
+
+server.listenUdp(9999, '127.0.0.1', function() {
+  console.log('DNS server started on port 9999');
+});
+
+server.on('query', function(query, done) {
+  var domain = query.name();
+  console.log('DNS Query: %s', domain)
+  var target = new SOARecord(domain, {serial: 12345});
+  query.addAnswer(domain, target, ttl);
+  query.respond();
+  done();
+});
+```
 
 ## Creating DNS Records
 
-node-named provides helper functions for creating DNS records. 
+node-named provides helper functions for creating DNS records.
 The records are available under 'named.record.NAME' where NAME is one
-of ['A', 'AAAA', 'CNAME', 'SOA', 'MX', 'TXT, 'SRV']. It is important to 
-remember that these DNS records are not permanently added to the server. 
-They only exist fo the length of the particular request. After that, they are
+of ['A', 'AAAA', 'CNAME', 'SOA', 'MX', 'TXT, 'SRV']. It is important to
+remember that these DNS records are not permanently added to the server.
+They only exist for the length of the particular request. After that, they are
 destroyed. This means you have to create your own lookup mechanism.
 
-    var named = require('node-named');
-    
-    var soaRecord = named.SOARecord('example.com', {serial: 201205150000});
-    console.log(soaRecord);
+```js
+var named = require('node-named');
+
+var soaRecord = named.SOARecord('example.com', {serial: 201205150000});
+console.log(soaRecord);
+```
 
 ### Supported Record Types
 
@@ -62,13 +71,6 @@ You can pass in an alternate logger if you wish. If you do not, then it will use
 bunyan by default. Your logger must expose the functions 'info', 'debug',
 'warn', 'trace', 'error', and 'notice'.
 
-### TODO
-
- * Better record validation
- * Create DNS client for query recursor
- * Add support for PTR records
- * Add support for TCP AXFR requests
-
 ## Tell me even more...
 
 When DNS was designed it was designed prior
-- 
2.21.0

