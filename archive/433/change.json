{"project":"joyent/illumos-joyent","branch":"master","id":"Ic230e37c387506affc49fdb00c42dba3f334075d","number":"433","subject":"OS-5658 USB always identified as xHCI after latest ACPI update Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Alex Wilson \u003calex.wilson@joyent.com\u003e","owner":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"url":"https://cr.joyent.us/433","commitMessage":"OS-5658 USB always identified as xHCI after latest ACPI update\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1473356526,"lastUpdated":1473364266,"open":false,"status":"MERGED","comments":[{"timestamp":1473356526,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 1."},{"timestamp":1473356714,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1473356834,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 1: Integration-Approval+1\n\nThis was tested on affected hardware (after analyzing the AML) and found to prevent the system going into all-xhci mode (the ehci controller reappears and has devices attached)"},{"timestamp":1473357956,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1473358583,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 2."},{"timestamp":1473358751,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1473359432,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1473361260,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1473361262,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1473364266,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jerry Jelinek"}],"currentPatchSet":{"number":"3","revision":"60bdcadec19203eaf6857dfd76ca609f322d1e84","parents":["d93feaa582d43152b1d9fe605c90751990f145a8"],"ref":"refs/changes/33/433/3","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1473361260,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473358751,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473359432,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473361262,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1473364266,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/intel/io/acpica/utilities/utosi.c","type":"MODIFIED","insertions":13,"deletions":-3}],"sizeInsertions":13,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"824f906afb381aaf2705d7de880d46f8d4ba5c04","parents":["d93feaa582d43152b1d9fe605c90751990f145a8"],"ref":"refs/changes/33/433/1","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1473356526,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473356714,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473356834,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"comments":[{"file":"usr/src/uts/intel/io/acpica/utilities/utosi.c","line":106,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Can we improve this comment a little bit please? If someone were to stumble across this it\u0027d be confusing. So how about the following:\n\n/*\n * The following OSes are disabled. Windows introduced for xhci (USB 3.0) in \n * Windows 8. When we advertise Windows 8 and newer support, some vendors use \n * that as a key to automatically transition all USB ports to the xhci \n * controller. Until we have support for the xhci controller, we should not \n * advertise these operating systems. From a brief survey, there isn\u0027t too much\n * other AML that this impacts at this time.\n */"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/io/acpica/utilities/utosi.c","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":4,"sizeDeletions":-3},{"number":"2","revision":"c230e37c387506affc49fdb00c42dba3f334075d","parents":["d93feaa582d43152b1d9fe605c90751990f145a8"],"ref":"refs/changes/33/433/2","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1473358583,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473359432,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473358751,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/io/acpica/utilities/utosi.c","type":"MODIFIED","insertions":13,"deletions":-3}],"sizeInsertions":13,"sizeDeletions":-3},{"number":"3","revision":"60bdcadec19203eaf6857dfd76ca609f322d1e84","parents":["d93feaa582d43152b1d9fe605c90751990f145a8"],"ref":"refs/changes/33/433/3","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1473361260,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473359432,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473358751,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473361262,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1473364266,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/intel/io/acpica/utilities/utosi.c","type":"MODIFIED","insertions":13,"deletions":-3}],"sizeInsertions":13,"sizeDeletions":-3}],"allReviewers":[{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}]}