{"project":"joyent/sdc-cnapi","branch":"master","id":"I951dceeb97e5d8150e9687bdf4ca989c697820bc","number":"4668","subject":"Revert \"TRITON-557 improve CNAPI handling for heartbeats and server status Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e\"","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/4668","commitMessage":"Revert \"TRITON-557 improve CNAPI handling for heartbeats and server status Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e\"\n\nThis reverts commit 34db7565a8334d26fcf67756ebe1dc4ca821cb7c. This needs more work as a bug was found in nightly.\n\nChange-Id: I951dceeb97e5d8150e9687bdf4ca989c697820bc\n","createdOn":1534181177,"lastUpdated":1534181434,"open":false,"status":"MERGED","comments":[{"timestamp":1534181177,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1534181208,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534181430,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\nThis is just a revert."},{"timestamp":1534181434,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"1","revision":"34717f5ad774df02af06db103230ec5cbaccc019","parents":["34db7565a8334d26fcf67756ebe1dc4ca821cb7c"],"ref":"refs/changes/68/4668/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1534181177,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534181208,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534181430,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534181430,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1534181434,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":18,"deletions":-88},{"file":"docs/static.md","type":"MODIFIED","insertions":17,"deletions":-91},{"file":"lib/app.js","type":"MODIFIED","insertions":54,"deletions":-51},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":3,"deletions":-27},{"file":"lib/heartbeat_reconciler.js","type":"DELETED","insertions":0,"deletions":-416},{"file":"lib/models/server.js","type":"MODIFIED","insertions":386,"deletions":-82},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-3}],"sizeInsertions":485,"sizeDeletions":-772},"patchSets":[{"number":"1","revision":"34717f5ad774df02af06db103230ec5cbaccc019","parents":["34db7565a8334d26fcf67756ebe1dc4ca821cb7c"],"ref":"refs/changes/68/4668/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1534181177,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534181208,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534181430,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534181430,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1534181434,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":18,"deletions":-88},{"file":"docs/static.md","type":"MODIFIED","insertions":17,"deletions":-91},{"file":"lib/app.js","type":"MODIFIED","insertions":54,"deletions":-51},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":3,"deletions":-27},{"file":"lib/heartbeat_reconciler.js","type":"DELETED","insertions":0,"deletions":-416},{"file":"lib/models/server.js","type":"MODIFIED","insertions":386,"deletions":-82},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-3}],"sizeInsertions":485,"sizeDeletions":-772}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}