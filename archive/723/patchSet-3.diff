From 246ab69014c210b23abf793c2f5a75e4708d12c5 Mon Sep 17 00:00:00 2001
From: Patrick Mooney <pmooney@pfmooney.com>
Date: Mon, 17 Oct 2016 21:31:59 +0000
Subject: [PATCH] OS-5732 build of localedef data files should be parallelized
 Reviewed by: Jerry Jelinek <jerry.jelinek@joyent.com> Approved by: Jerry
 Jelinek <jerry.jelinek@joyent.com>

---
 usr/src/cmd/localedef/Makefile | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/usr/src/cmd/localedef/Makefile b/usr/src/cmd/localedef/Makefile
index b7cab95d67..59c10f6ebc 100644
--- a/usr/src/cmd/localedef/Makefile
+++ b/usr/src/cmd/localedef/Makefile
@@ -13,7 +13,7 @@
 # Copyright 2011 Nexenta Systems, Inc.  All rights reserved.
 # Copyright 2011 EveryCity Ltd. All rights reserved.
 # Copyright 2013 DEY Storage Systems, Inc.
-# Copyright 2015 Joyent, Inc.
+# Copyright 2016 Joyent, Inc.
 #
 
 PROG=localedef
@@ -228,6 +228,8 @@ CATDIRS		= \
 
 DATA		= $(CATDIRS:%=%/LCL_DATA)
 
+.PARALLEL:
+
 DCOLL		= LC_COLLATE/LCL_DATA
 DCTYPE		= LC_CTYPE/LCL_DATA
 DMSGS		= LC_MESSAGES/LCL_DATA
@@ -253,7 +255,7 @@ OSTMOFILE	= LC_MESSAGES/SUNW_OST_OSLIB.mo
 PRIVTRANSLOCS	= \
 		zz_AA.UTF-8
 PRIVFILE	= LC_MESSAGES/priv_names
-		
+
 
 ROOTTRANSLATIONS = $(TRANSLOCS:%=$(ROOTLIB)/locale/%/$(OSTMOFILE))
 ROOTPRIVTRANS = $(PRIVTRANSLOCS:%=$(ROOTLIB)/locale/%/$(PRIVFILE))
@@ -296,7 +298,7 @@ parser.tab.c parser.tab.h: parser.y $(HDRS)
 lint:	$(SRCS)
 	$(LINT.c) $(CPPFLAGS) $(SRCS)
 
-clean:	
+clean:
 	$(RM) $(CLEANFILES)
 	$(RM) $(STAMPFILES)
 
-- 
2.21.0

