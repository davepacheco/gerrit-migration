{"project":"joyent/illumos-joyent","branch":"master","id":"I97a59aecee1660156cdd327ba82ae65501b474d4","number":"3934","subject":"OS-6630 bhyve should support vnc Reviewed by: Jorge Schrauwen \u003csjorge@blackdot.be\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"url":"https://cr.joyent.us/3934","commitMessage":"OS-6630 bhyve should support vnc\nReviewed by: Jorge Schrauwen \u003csjorge@blackdot.be\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1525982662,"lastUpdated":1526334387,"open":false,"status":"MERGED","comments":[{"timestamp":1525982662,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 1."},{"timestamp":1526044315,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1526062156,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 2."},{"timestamp":1526062170,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1526065886,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1526066360,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 3."},{"timestamp":1526066458,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1526067880,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1526302976,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 4."},{"timestamp":1526303009,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1526304171,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1526304252,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3:\n\n(4 comments)"},{"timestamp":1526311790,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 5."},{"timestamp":1526311795,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3:\n\n(4 comments)"},{"timestamp":1526312239,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 5:\n\n(1 comment)\n\nthanks for fixing those earlier nits, I just saw one last thing"},{"timestamp":1526314570,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 6."},{"timestamp":1526314580,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1526315133,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1526315171,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1526317330,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6: Code-Review+1\n\n(1 comment)"},{"timestamp":1526318941,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 7."},{"timestamp":1526319016,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1526319397,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1526319571,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1526320472,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1526325080,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 7:\n\nTest notes added to OS-6630"},{"timestamp":1526330898,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1526334356,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 8: Commit message was updated."},{"timestamp":1526334363,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 9: Patch Set 8 was rebased"},{"timestamp":1526334387,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"9","revision":"5f7e4160c0e83ee07bed904fb119988351eac739","parents":["f9b2546bbcb539268f3a40c8f3e6d32ffb2b469d"],"ref":"refs/changes/34/3934/9","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526334363,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319397,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319571,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526320472,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526330898,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1526334387,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":88,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":151,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"a8e0953de0ef5666f3b5c3336249137a47fe2232","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1525982662,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":479,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Why hardcode the resolution?\nPerhaps we can add a \u0027vnc_resolution\u0027 property, we already have \u0027vnc_password\u0027 and \u0027vnc_port\u0027"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":479,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"That\u0027s a possibility for the future.  For now I\u0027d like to avoid adding features in this area."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":613,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"To be inline with KVM we should check the \u0027vnc_port\u0027 property.\nIf it is set to -1 (disabled) we should not add the fbuf and xhci tablet."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":613,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Good catch.  I\u0027ve fixed this in add_fbuf().  If you add is_env_string() feel free to switch this over to using it when you add it."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":71,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":32,"deletions":-1}],"sizeInsertions":125,"sizeDeletions":-1},{"number":"2","revision":"0ff14542c2eec3031f1889722cb61dc24ef5c06a","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/2","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526062156,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":480,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"nit: (xhci) tableT"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":71,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":134,"sizeDeletions":-1},{"number":"3","revision":"d23927a332ba9d68dfad619f50095267391f1087","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/3","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526066360,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526066458,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}}],"comments":[{"file":"usr/src/cmd/bhyve/rfb.c","line":1077,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"missing check for NULL after all three of these calls"},{"file":"usr/src/cmd/bhyve/rfb.c","line":1077,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Sigh.  That\u0027s what I get for copy \u0026 paste from FreeBSD code."},{"file":"usr/src/cmd/bhyve/rfb.c","line":1085,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"missing free of allocated memory on all error return paths in this function"},{"file":"usr/src/cmd/bhyve/rfb.c","line":1085,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"usr/src/cmd/bhyve/rfb.c","line":1117,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"missing cast to void here and on many of the other pthread_* functions below"},{"file":"usr/src/cmd/bhyve/rfb.c","line":1117,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":482,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"if the environment variable does not exist, does that mean that VNC is not configured?"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":482,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"If not explicitly disabled via -1, it is enabled.  When not disabled, vmadmd uses the specified port or picks an unused one if not specified."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":488,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Just of interest, from the man page:\nA display resolution, width and height, respectively.\nIf not specified, a default resolution of 1024x768 pixels will be used.\nMinimal supported resolution is 640x480 pixels,\nand maximum is 1920x1200 pixels.\n\nWe can drop the specification of the resolution I think."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":488,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":71,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":134,"sizeDeletions":-1},{"number":"4","revision":"9fe0ddca08a702f8ac3dce54706e775a4044b49d","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526302976,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526304171,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":71,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":134,"sizeDeletions":-1},{"number":"5","revision":"f002062244f2ff2c335a95527da6dfbe4cca294d","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/5","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526311790,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/bhyve/rfb.c","line":1129,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"verify here as well?"},{"file":"usr/src/cmd/bhyve/rfb.c","line":1129,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":88,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":151,"sizeDeletions":-1},{"number":"6","revision":"936bf48184a9bd0553d66b388685c59e0058cf3a","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/6","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526314570,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526315133,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526317330,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526315171,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}}],"comments":[{"file":"usr/src/cmd/bhyve/rfb.c","line":1091,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"minor nit: If we were lint-ing this file, I imagine it would complain about spacing for \"sizeof(asdf)\" vs \"sizeof (asdf)\".\n\nIf you want to keep this section as close to the FreeBSD-native code, then I\u0027m fine with it."},{"file":"usr/src/cmd/bhyve/rfb.c","line":1091,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"This has already diverged quite a bit for the error handling suggested by Jerry.  Fixed."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":88,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":151,"sizeDeletions":-1},{"number":"7","revision":"97a59aecee1660156cdd327ba82ae65501b474d4","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/7","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526318941,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319571,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526330898,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319397,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526320472,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":88,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":151,"sizeDeletions":-1},{"number":"8","revision":"3518538de3bb7670a530e8fd45dbfd67f683d5c4","parents":["c0ca16f54c2c85ee7624b42c1082618f184fa9c5"],"ref":"refs/changes/34/3934/8","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526334356,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319571,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526330898,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319397,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526320472,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":88,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":151,"sizeDeletions":-1},{"number":"9","revision":"5f7e4160c0e83ee07bed904fb119988351eac739","parents":["f9b2546bbcb539268f3a40c8f3e6d32ffb2b469d"],"ref":"refs/changes/34/3934/9","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1526334363,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319571,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526330898,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526319397,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526320472,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}},{"type":"SUBM","value":"1","grantedOn":1526334387,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"MODIFIED","insertions":18,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":88,"deletions":0},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":41,"deletions":-1}],"sizeInsertions":151,"sizeDeletions":-1}],"allReviewers":[{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}]}