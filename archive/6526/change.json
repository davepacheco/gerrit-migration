{"project":"joyent/illumos-joyent","branch":"master","id":"I2306a376dfb39e12157d880502837582f8d574ce","number":"6526","subject":"OS-7870 Bring refhashes to user land Portions contributed by: Jason King \u003cjason.king@joyent.com\u003e","owner":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"url":"https://cr.joyent.us/6526","commitMessage":"OS-7870 Bring refhashes to user land\nPortions contributed by: Jason King \u003cjason.king@joyent.com\u003e\n","createdOn":1561759308,"lastUpdated":1562016414,"open":true,"status":"NEW","comments":[{"timestamp":1561759308,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 1."},{"timestamp":1561759396,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1: Integration-Approval-1\n\nWe\u0027ll not integrate until we\u0027re ready to publish kbmd, but it\u0027ll be useful to have the reviews done."},{"timestamp":1562005062,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\n(4 comments)\n\nWould be nice if MDB was fixed such that refhash worked on userspace too now.\n\nIs the lib build smatch clean?"},{"timestamp":1562009614,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1562009628,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 2."},{"timestamp":1562009686,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2:\n\nFYI running smatch on librefhash appears to be clean"},{"timestamp":1562009976,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 3."},{"timestamp":1562016414,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3: Code-Review+1"}],"currentPatchSet":{"number":"3","revision":"2306a376dfb39e12157d880502837582f8d574ce","parents":["9f27b084492b24583dbcc44e59ce9eaacd78ed68"],"ref":"refs/changes/26/6526/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1562009976,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1561759396,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1562016414,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.common","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/librefhash/librefhash.c","type":"ADDED","insertions":34,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/librefhash/Makefile","type":"ADDED","insertions":25,"deletions":0},{"file":"usr/src/cmd/mdb/intel/ia32/librefhash/Makefile","type":"ADDED","insertions":24,"deletions":0},{"file":"usr/src/cmd/mdb/sparc/v7/librefhash/Makefile","type":"ADDED","insertions":24,"deletions":0},{"file":"usr/src/cmd/mdb/sparc/v9/librefhash/Makefile","type":"ADDED","insertions":25,"deletions":0},{"file":"usr/src/common/refhash/refhash.c","fileOld":"usr/src/uts/common/refhash/refhash.c","type":"RENAMED","insertions":24,"deletions":-14},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile.com","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/amd64/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/lib/librefhash/common/mapfile-vers","type":"ADDED","insertions":48,"deletions":0},{"file":"usr/src/lib/librefhash/i386/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparc/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparcv9/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"usr/src/uts/common/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/sys/refhash.h","type":"MODIFIED","insertions":158,"deletions":-1}],"sizeInsertions":533,"sizeDeletions":-23},"patchSets":[{"number":"1","revision":"266a604c1022952223b3558c37071c15160c379b","parents":["9f27b084492b24583dbcc44e59ce9eaacd78ed68"],"ref":"refs/changes/26/6526/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1561759308,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1561759396,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"comments":[{"file":".gitignore","line":3943,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"We shouldn\u0027t even be generating lint files any more"},{"file":".gitignore","line":3943,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/Makefile.rules","line":2734,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"You can just drop this"},{"file":"usr/src/uts/common/Makefile.rules","line":2734,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/sys/refhash.h","line":166,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"s/different than/different from/"},{"file":"usr/src/uts/common/sys/refhash.h","line":166,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/sys/refhash.h","line":184,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Increment"},{"file":"usr/src/uts/common/sys/refhash.h","line":184,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":4,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/common/refhash/refhash.c","fileOld":"usr/src/uts/common/refhash/refhash.c","type":"RENAMED","insertions":24,"deletions":-14},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile.com","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/amd64/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/lib/librefhash/common/mapfile-vers","type":"ADDED","insertions":48,"deletions":0},{"file":"usr/src/lib/librefhash/i386/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparc/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparcv9/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"usr/src/uts/common/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/sys/refhash.h","type":"MODIFIED","insertions":158,"deletions":-1}],"sizeInsertions":406,"sizeDeletions":-22},{"number":"2","revision":"bc44685247267befd6a318829f3d2859b26ca00c","parents":["9f27b084492b24583dbcc44e59ce9eaacd78ed68"],"ref":"refs/changes/26/6526/2","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1562009628,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1561759396,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.common","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/librefhash/librefhash.c","type":"ADDED","insertions":34,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/librefhash/Makefile","type":"ADDED","insertions":25,"deletions":0},{"file":"usr/src/cmd/mdb/intel/ia32/librefhash/Makefile","type":"ADDED","insertions":24,"deletions":0},{"file":"usr/src/cmd/mdb/sparc/v7/librefhash/Makefile","type":"ADDED","insertions":24,"deletions":0},{"file":"usr/src/cmd/mdb/sparc/v9/librefhash/Makefile","type":"ADDED","insertions":25,"deletions":0},{"file":"usr/src/common/refhash/refhash.c","fileOld":"usr/src/uts/common/refhash/refhash.c","type":"RENAMED","insertions":24,"deletions":-14},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile.com","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/amd64/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/lib/librefhash/common/mapfile-vers","type":"ADDED","insertions":48,"deletions":0},{"file":"usr/src/lib/librefhash/i386/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparc/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparcv9/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"usr/src/uts/common/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/sys/refhash.h","type":"MODIFIED","insertions":158,"deletions":-1}],"sizeInsertions":533,"sizeDeletions":-23},{"number":"3","revision":"2306a376dfb39e12157d880502837582f8d574ce","parents":["9f27b084492b24583dbcc44e59ce9eaacd78ed68"],"ref":"refs/changes/26/6526/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1562009976,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1561759396,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1562016414,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.common","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/librefhash/librefhash.c","type":"ADDED","insertions":34,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/librefhash/Makefile","type":"ADDED","insertions":25,"deletions":0},{"file":"usr/src/cmd/mdb/intel/ia32/librefhash/Makefile","type":"ADDED","insertions":24,"deletions":0},{"file":"usr/src/cmd/mdb/sparc/v7/librefhash/Makefile","type":"ADDED","insertions":24,"deletions":0},{"file":"usr/src/cmd/mdb/sparc/v9/librefhash/Makefile","type":"ADDED","insertions":25,"deletions":0},{"file":"usr/src/common/refhash/refhash.c","fileOld":"usr/src/uts/common/refhash/refhash.c","type":"RENAMED","insertions":24,"deletions":-14},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/Makefile.com","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/librefhash/amd64/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/lib/librefhash/common/mapfile-vers","type":"ADDED","insertions":48,"deletions":0},{"file":"usr/src/lib/librefhash/i386/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparc/Makefile","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/lib/librefhash/sparcv9/Makefile","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"usr/src/uts/common/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/sys/refhash.h","type":"MODIFIED","insertions":158,"deletions":-1}],"sizeInsertions":533,"sizeDeletions":-23}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}