{"project":"joyent/muppet","branch":"master","id":"I11ff65053357e020c63c9718f5ce3d5196dc11a1","number":"6769","subject":"MANTA-3252 use haproxy SSL termination for loadbalancer MANTA-1424 stud not restarted when SSL certificate changes MANTA-3526 want to disable tls 1.0 MANTA-3680 loadbalancer stud processes are not evenly utilized MANTA-4512 muppet should use package-lock.","owner":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"url":"https://cr.joyent.us/6769","commitMessage":"MANTA-3252 use haproxy SSL termination for loadbalancer\nMANTA-1424 stud not restarted when SSL certificate changes\nMANTA-3526 want to disable tls 1.0\nMANTA-3680 loadbalancer stud processes are not evenly utilized\nMANTA-4512 muppet should use package-lock.json\n","createdOn":1565275519,"lastUpdated":1566307242,"open":true,"status":"NEW","comments":[{"timestamp":1565275519,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 1."},{"timestamp":1565275521,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit d22f07be146ac441e9ce825982b0869fc203c148\n    \n    basic removal of stud"},{"timestamp":1565275551,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565275647,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1: Code-Review-1\n\nnot ready for review yet"},{"timestamp":1566306848,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1566307211,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 3."},{"timestamp":1566307213,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit d008ed59153b4c5dab12635e8cc76ce954f62e93\n    \n    package-lock.json"},{"timestamp":1566307242,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"3","revision":"11ff65053357e020c63c9718f5ce3d5196dc11a1","parents":["ccd2382cdb3eaf9570b33f2518f06ca7473438e1"],"ref":"refs/changes/69/6769/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1566307211,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1565275647,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566307242,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":0,"deletions":-1},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"TODO","type":"ADDED","insertions":90,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"deps/haproxy","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/haproxy-1.8","type":"DELETED","insertions":0,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":11,"deletions":-141},{"file":"etc/haproxy.cfg.default","type":"MODIFIED","insertions":30,"deletions":-17},{"file":"etc/haproxy.cfg.in","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"etc/stud.conf","type":"DELETED","insertions":0,"deletions":-125},{"file":"lib/lb_manager.js","type":"MODIFIED","insertions":17,"deletions":-14},{"file":"package-lock.json","type":"ADDED","insertions":3398,"deletions":0},{"file":"smf/manifests/haproxy.xml.in","type":"MODIFIED","insertions":6,"deletions":0},{"file":"smf/manifests/stud.xml.in","type":"DELETED","insertions":0,"deletions":-34},{"file":"test/config.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/haproxy.cfg.good","type":"DELETED","insertions":0,"deletions":-39},{"file":"test/haproxy.cfg.in","type":"MODIFIED","insertions":14,"deletions":-10},{"file":"test/haproxy.cfg.no-frontend","type":"DELETED","insertions":0,"deletions":-12},{"file":"test/haproxy.cfg.out-check","type":"MODIFIED","insertions":20,"deletions":-7},{"file":"test/haproxy.cfg.parse-error","type":"MODIFIED","insertions":35,"deletions":-16},{"file":"test/haproxy.cfg.test","type":"MODIFIED","insertions":54,"deletions":-38},{"file":"test/helper.js","type":"MODIFIED","insertions":16,"deletions":-4},{"file":"tools/mk/Makefile.haproxy.defs","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.haproxy.targ","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":3719,"sizeDeletions":-505},"patchSets":[{"number":"1","revision":"53ae5a825082dd4097cf90a840ffb553d5265b40","parents":["ccd2382cdb3eaf9570b33f2518f06ca7473438e1"],"ref":"refs/changes/69/6769/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1565275519,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565275551,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1565275647,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"TODO","type":"ADDED","insertions":90,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"deps/haproxy","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/haproxy-1.8","type":"DELETED","insertions":0,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":11,"deletions":-141},{"file":"etc/haproxy.cfg.default","type":"MODIFIED","insertions":30,"deletions":-17},{"file":"etc/haproxy.cfg.in","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"etc/stud.conf","type":"DELETED","insertions":0,"deletions":-125},{"file":"lib/lb_manager.js","type":"MODIFIED","insertions":17,"deletions":-14},{"file":"smf/manifests/haproxy.xml.in","type":"MODIFIED","insertions":6,"deletions":0},{"file":"smf/manifests/stud.xml.in","type":"DELETED","insertions":0,"deletions":-34},{"file":"test/config.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/haproxy.cfg.good","type":"DELETED","insertions":0,"deletions":-39},{"file":"test/haproxy.cfg.in","type":"MODIFIED","insertions":14,"deletions":-10},{"file":"test/haproxy.cfg.no-frontend","type":"DELETED","insertions":0,"deletions":-12},{"file":"test/haproxy.cfg.out-check","type":"MODIFIED","insertions":20,"deletions":-7},{"file":"test/haproxy.cfg.parse-error","type":"MODIFIED","insertions":35,"deletions":-16},{"file":"test/haproxy.cfg.test","type":"MODIFIED","insertions":54,"deletions":-38},{"file":"test/helper.js","type":"MODIFIED","insertions":16,"deletions":-4},{"file":"tools/mk/Makefile.haproxy.defs","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.haproxy.targ","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":321,"sizeDeletions":-504},{"number":"2","revision":"8e22e7389359cfe9cf101b83d63c3bce2a42cc4d","parents":["ccd2382cdb3eaf9570b33f2518f06ca7473438e1"],"ref":"refs/changes/69/6769/2","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1566306848,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565275551,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1565275647,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"TODO","type":"ADDED","insertions":90,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"deps/haproxy","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/haproxy-1.8","type":"DELETED","insertions":0,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":11,"deletions":-141},{"file":"etc/haproxy.cfg.default","type":"MODIFIED","insertions":30,"deletions":-17},{"file":"etc/haproxy.cfg.in","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"etc/stud.conf","type":"DELETED","insertions":0,"deletions":-125},{"file":"lib/lb_manager.js","type":"MODIFIED","insertions":17,"deletions":-14},{"file":"smf/manifests/haproxy.xml.in","type":"MODIFIED","insertions":6,"deletions":0},{"file":"smf/manifests/stud.xml.in","type":"DELETED","insertions":0,"deletions":-34},{"file":"test/config.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/haproxy.cfg.good","type":"DELETED","insertions":0,"deletions":-39},{"file":"test/haproxy.cfg.in","type":"MODIFIED","insertions":14,"deletions":-10},{"file":"test/haproxy.cfg.no-frontend","type":"DELETED","insertions":0,"deletions":-12},{"file":"test/haproxy.cfg.out-check","type":"MODIFIED","insertions":20,"deletions":-7},{"file":"test/haproxy.cfg.parse-error","type":"MODIFIED","insertions":35,"deletions":-16},{"file":"test/haproxy.cfg.test","type":"MODIFIED","insertions":54,"deletions":-38},{"file":"test/helper.js","type":"MODIFIED","insertions":16,"deletions":-4},{"file":"tools/mk/Makefile.haproxy.defs","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.haproxy.targ","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":321,"sizeDeletions":-504},{"number":"3","revision":"11ff65053357e020c63c9718f5ce3d5196dc11a1","parents":["ccd2382cdb3eaf9570b33f2518f06ca7473438e1"],"ref":"refs/changes/69/6769/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1566307211,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566307242,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1565275647,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":0,"deletions":-1},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"TODO","type":"ADDED","insertions":90,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"deps/haproxy","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/haproxy-1.8","type":"DELETED","insertions":0,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":11,"deletions":-141},{"file":"etc/haproxy.cfg.default","type":"MODIFIED","insertions":30,"deletions":-17},{"file":"etc/haproxy.cfg.in","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"etc/stud.conf","type":"DELETED","insertions":0,"deletions":-125},{"file":"lib/lb_manager.js","type":"MODIFIED","insertions":17,"deletions":-14},{"file":"package-lock.json","type":"ADDED","insertions":3398,"deletions":0},{"file":"smf/manifests/haproxy.xml.in","type":"MODIFIED","insertions":6,"deletions":0},{"file":"smf/manifests/stud.xml.in","type":"DELETED","insertions":0,"deletions":-34},{"file":"test/config.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/haproxy.cfg.good","type":"DELETED","insertions":0,"deletions":-39},{"file":"test/haproxy.cfg.in","type":"MODIFIED","insertions":14,"deletions":-10},{"file":"test/haproxy.cfg.no-frontend","type":"DELETED","insertions":0,"deletions":-12},{"file":"test/haproxy.cfg.out-check","type":"MODIFIED","insertions":20,"deletions":-7},{"file":"test/haproxy.cfg.parse-error","type":"MODIFIED","insertions":35,"deletions":-16},{"file":"test/haproxy.cfg.test","type":"MODIFIED","insertions":54,"deletions":-38},{"file":"test/helper.js","type":"MODIFIED","insertions":16,"deletions":-4},{"file":"tools/mk/Makefile.haproxy.defs","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.haproxy.targ","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":3719,"sizeDeletions":-505}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}