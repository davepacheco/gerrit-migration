{"project":"joyent/sdc-napi","branch":"master","id":"I290c7b2b606d72efaf6361b64b541063f232f09d","number":"3856","subject":"NAPI-352 Want unit tests for fabrics Reviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e Approved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/3856","commitMessage":"NAPI-352 Want unit tests for fabrics\nReviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\nApproved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\n","createdOn":1524267562,"lastUpdated":1524767909,"open":false,"status":"MERGED","comments":[{"timestamp":1524267562,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1524267623,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1524596620,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1524596680,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1524607513,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1524688344,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1524688407,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1524688498,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5."},{"timestamp":1524688556,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 6."},{"timestamp":1524688557,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1524688617,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1524695917,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 6: Code-Review+1\n\n(2 comments)"},{"timestamp":1524697860,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 7."},{"timestamp":1524697887,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 7:\n\n(2 comments)"},{"timestamp":1524697919,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1524757582,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1524767905,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 8: Commit message was updated."},{"timestamp":1524767909,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"8","revision":"1666b37aba5ec361a7cd2a0415ecb7cb462db2cf","parents":["54cfce7c604dcb8ff506eff54220a3f3e105c70f"],"ref":"refs/changes/56/3856/8","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524767905,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524697919,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524757582,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524757582,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"SUBM","value":"1","grantedOn":1524767909,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":125,"deletions":0}],"sizeInsertions":142,"sizeDeletions":-8},"patchSets":[{"number":"1","revision":"4c2658fe3ea1b0cf6838f5b870ffa3fe784247e3","parents":["879746a227cf6aad2fe96a64f5c8d2026a1e6eda"],"ref":"refs/changes/56/3856/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524267562,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524267623,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":122,"deletions":0}],"sizeInsertions":137,"sizeDeletions":-6},{"number":"2","revision":"61c57ca84927c2e7ff467059ef71b6383b8c078d","parents":["fcc863dd52c5d1f148bde5dd39dd9b6736dd6019"],"ref":"refs/changes/56/3856/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524596620,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524267623,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":122,"deletions":0}],"sizeInsertions":137,"sizeDeletions":-6},{"number":"3","revision":"d55a65500aace737ab1517865f28e51c03f702fd","parents":["58b731b72d5ba183598aa376d2e14ce4c1c0a114"],"ref":"refs/changes/56/3856/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524607513,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524267623,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":122,"deletions":0}],"sizeInsertions":137,"sizeDeletions":-6},{"number":"4","revision":"aafb6af219dd9d446a9e017961cb331ba438cabe","parents":["54cfce7c604dcb8ff506eff54220a3f3e105c70f"],"ref":"refs/changes/56/3856/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524688344,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524688407,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":122,"deletions":0}],"sizeInsertions":137,"sizeDeletions":-6},{"number":"5","revision":"110aad5f6b8781959463f00818c0668ac0be5ff2","parents":["54cfce7c604dcb8ff506eff54220a3f3e105c70f"],"ref":"refs/changes/56/3856/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524688498,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524688557,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":122,"deletions":0}],"sizeInsertions":139,"sizeDeletions":-8},{"number":"6","revision":"9b7efe6b0132cd047f1e577a79fc9f0782bab53e","parents":["54cfce7c604dcb8ff506eff54220a3f3e105c70f"],"ref":"refs/changes/56/3856/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524688556,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524688617,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524695917,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"comments":[{"file":"test/lib/server.js","line":19,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Nit: can this be called mergeObjects instead (for consistent naming and grepabililty)?"},{"file":"test/lib/server.js","line":19,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"test/unit/fabrics.test.js","line":12,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Maybe add a note here that the tests (under the hood) are running the integration/fabric tests."},{"file":"test/unit/fabrics.test.js","line":12,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":122,"deletions":0}],"sizeInsertions":139,"sizeDeletions":-8},{"number":"7","revision":"290c7b2b606d72efaf6361b64b541063f232f09d","parents":["54cfce7c604dcb8ff506eff54220a3f3e105c70f"],"ref":"refs/changes/56/3856/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524697860,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524697919,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524757582,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524757582,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":125,"deletions":0}],"sizeInsertions":142,"sizeDeletions":-8},{"number":"8","revision":"1666b37aba5ec361a7cd2a0415ecb7cb462db2cf","parents":["54cfce7c604dcb8ff506eff54220a3f3e105c70f"],"ref":"refs/changes/56/3856/8","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524767905,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1524767909,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524697919,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524757582,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524757582,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"test/lib/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"test/unit/fabrics.test.js","type":"ADDED","insertions":125,"deletions":0}],"sizeInsertions":142,"sizeDeletions":-8}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}