{"project":"joyent/sdc-headnode","branch":"master","id":"Ie94f217eadb2b753901bfd84b0248d967c2a456a","number":"6698","subject":"TOOLS-2297 update deps/eng for copyright checks and motd work Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/6698","commitMessage":"TOOLS-2297 update deps/eng for copyright checks and motd work\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1564424902,"lastUpdated":1565607202,"open":false,"status":"MERGED","comments":[{"timestamp":1564424902,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1564424908,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit d37f07dd823101d6e5efdbd8af4536a7a7132eae\n    \n    TOOLS-2297 update deps/eng for copyright checks and motd work"},{"timestamp":1564425934,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1564425942,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 7d532461465c9716cc09141b5c01a1638cdbf104\n    \n    TOOLS-2297 update deps/eng for copyright checks and motd work"},{"timestamp":1564426657,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n buildtools/bashstyle scripts/cleanup-key.sh\n buildtools/bashstyle tools/bin/sdc-login\n buildtools/bashstyle tools/bin/sdc-healthcheck\n buildtools/bashstyle tools/bin/sdc-vmname\n buildtools/bashstyle tools/bin/sdc-vmmanifest\n buildtools/bashstyle tools/bin/sdc-phonehome\n buildtools/bashstyle tools/bin/sdc\n buildtools/bashstyle tools/bin/sdc-role\n buildtools/bashstyle tools/bin/sdc-ufds-m2s\n buildtools/bashstyle tools/bin/sdc-network\n buildtools/bashstyle tools/bin/sdc-ldap\n buildtools/bashstyle tools/bin/sdc-vm\n buildtools/bashstyle tools/bin/libdc.sh\n buildtools/bashstyle tools/bin/sdc-backup\n buildtools/bashstyle tools/bin/sdc-sbcreate\n buildtools/bashstyle tools/bin/sdc-restore\n buildtools/bashstyle tools/bin/sdc-image-sync\n buildtools/bashstyle tools/bin/sdc-amonrelay\n buildtools/bashstyle tools/bin/sdc-setconsole\n buildtools/bashstyle tools/bin/joyent-imgadm\n buildtools/bashstyle tools/lib/wrap.sh\n buildtools/bashstyle buildtools/lib/common.sh\n buildtools/bashstyle buildtools/lib/trace_logger.sh\n buildtools/bashstyle buildtools/lib/error_handler.sh\n buildtools/bashstyle bin/rsync-to\n buildtools/bashstyle bin/mk-sdc-clients-light.sh\n buildtools/bashstyle bin/reflash\n buildtools/bashstyle bin/build-coal-image\n buildtools/bashstyle bin/build-usb-image\n buildtools/bashstyle bin/build-tar-image\n buildtools/bashstyle bin/include-tar-generic\n buildtools/bashstyle bin/build-dataset\n buildtools/bashstyle bin/build-image\n for dev in ; do  \\\n     mount | grep \"on ${dev}\" | cut -d\u0027 \u0027 -f1 | while read mntpath; do \\\n         pfexec umount ${mntpath}; \\\n         done; \\\n     pfexec lofiadm -d ${dev}; \\\n done\n pfexec rm -rf /tmp/sdc-headnode-tmp.*\n cd buildtools/novus \u0026\u0026 gmake check\n gmake[1]: Entering directory \u0027/tmp/repo/buildtools/novus\u0027\n No code style errors found.\n gmake[1]: Leaving directory \u0027/tmp/repo/buildtools/novus\u0027\n deps/jsstyle/jsstyle -o indent\u003d4,doxygen,unparenthesized-return\u003d0 scripts/sdc-init.js scripts/update-usbkey.5.copy-contents.js scripts/build-payload.js scripts/sdc-deploy.js tools/cmd/sdc-usbkey.js tools/lib/oscmds.js tools/lib/common.js tools/lib/usbkey.js tools/bin/sdc-rabbitstat tools/bin/sdc-heartbeatsnoop tools/bin/sdc-server\n deps/eng/tools/check-copyright -q\n error: bin/build-dataset: copyright not in RFD 164 form, \u0027# Copyright 2019, Joyent, Inc.\u0027 does not match /Copyright [0-9]{4} Joyent, Inc\\.$/\n error: bin/build-tar-image: copyright not in RFD 164 form, \u0027# Copyright 2019, Joyent, Inc.\u0027 does not match /Copyright [0-9]{4} Joyent, Inc\\.$/\n gmake: *** [deps/eng/tools/mk/Makefile.targ:292: check-copyright] Error 1"},{"timestamp":1564428476,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565361933,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 3."},{"timestamp":1565361941,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit d9121a646bb1f1a18c06a2486cd86641d693c3cf\n    \n    TOOLS-2297 update deps/eng for copyright checks and motd work"},{"timestamp":1565363352,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565374970,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1565375332,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1565604081,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1565607202,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"}],"currentPatchSet":{"number":"4","revision":"e94f217eadb2b753901bfd84b0248d967c2a456a","parents":["82bb5d326e59b02c75a01429776b931246b53a03"],"ref":"refs/changes/98/6698/4","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565604081,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565363352,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565374970,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565375332,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1565607202,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"ac12e4a3bcc974580d28082a80188a76f37f4ad7","parents":["574c7dc388c521d310519f81b14c3f73c49c93f9"],"ref":"refs/changes/98/6698/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1564424902,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1564426657,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"2","revision":"038e62a797a1c54be061c8b3d0f7e040ced0a013","parents":["82bb5d326e59b02c75a01429776b931246b53a03"],"ref":"refs/changes/98/6698/2","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1564425934,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1564428476,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"3","revision":"31b7acdd9c961e5672ecca6672d8550d71a10e10","parents":["82bb5d326e59b02c75a01429776b931246b53a03"],"ref":"refs/changes/98/6698/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565361933,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565363352,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565374970,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565375332,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"4","revision":"e94f217eadb2b753901bfd84b0248d967c2a456a","parents":["82bb5d326e59b02c75a01429776b931246b53a03"],"ref":"refs/changes/98/6698/4","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565604081,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565363352,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565374970,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565375332,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1565607202,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}