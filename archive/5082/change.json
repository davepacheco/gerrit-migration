{"project":"joyent/sdc-agents-installer","branch":"master","id":"I1d55fa64eff459e544d39bd24b630bc9da046269","number":"5082","subject":"TRITON-976 agents-installer should have option to just unpack shar without executing install.sh Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/5082","commitMessage":"TRITON-976 agents-installer should have option to just unpack shar without executing install.sh\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1542789353,"lastUpdated":1542831913,"open":false,"status":"MERGED","comments":[{"timestamp":1542789353,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1542789354,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 78aaa5a52b4c64603e9fdf2bb44f9f7408224df0\n    \n    add UNPACK_SUBDIR and UNPACK_ONLY options"},{"timestamp":1542818673,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1542819525,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1542819526,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 99118a3dad03792ead32a162289941a7904aff6e\n    \n    update based on review feedback"},{"timestamp":1542819761,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\nWOuld be nice, later, to discuss/doc these options. I didn\u0027t look if the agents-installer README includes notes on using the shar. Don\u0027t bother for this change tho if you\u0027ve things backed up on this."},{"timestamp":1542831603,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1542831604,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 36b0c95148909986d596f3fad434c21814b66f43\n    \n    use AGENTSHAR_UNPACK_DIR instead of SUBDIR, and don\u0027t cd twice"},{"timestamp":1542831811,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1542831836,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4."},{"timestamp":1542831838,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit e8abe7389296352bf3829d5b1e64ae22ecd6d613\n    \n    most important fix ever"},{"timestamp":1542831886,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1542831913,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"4","revision":"1d55fa64eff459e544d39bd24b630bc9da046269","parents":["707200f3d046d097c47f73b1cfe14fa8d2519d32"],"ref":"refs/changes/82/5082/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542831836,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542831886,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542831886,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1542831913,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"mk-agents-shar","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":13,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"5aeafc2b3675b8a7712a1151e6baf457e792d7de","parents":["707200f3d046d097c47f73b1cfe14fa8d2519d32"],"ref":"refs/changes/82/5082/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542789353,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"mk-agents-shar","line":226,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Thoughts on an AGENTSSHAR_ (or whatever) prefix for envvars that control it?\n\nSorta related: I don\u0027t recall if there is a way to get a shar to process CLI *options*:  `./agents.sh --help`, `./agents.sh --unpack-only`.  If you don\u0027t know right away, don\u0027t spend the time digging. Envvars is fine."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"mk-agents-shar","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-3},{"number":"2","revision":"bb13a446d822b832b494ee72a438aa859f1da8d5","parents":["707200f3d046d097c47f73b1cfe14fa8d2519d32"],"ref":"refs/changes/82/5082/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542819525,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542819761,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542819761,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"mk-agents-shar","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-3},{"number":"3","revision":"26f7c16aa983c7910c8a2d50800c702732e23777","parents":["707200f3d046d097c47f73b1cfe14fa8d2519d32"],"ref":"refs/changes/82/5082/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542831603,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542831811,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542831811,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"mk-agents-shar","line":9,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"ZOMG"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"mk-agents-shar","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-3},{"number":"4","revision":"1d55fa64eff459e544d39bd24b630bc9da046269","parents":["707200f3d046d097c47f73b1cfe14fa8d2519d32"],"ref":"refs/changes/82/5082/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542831836,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542831886,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542831886,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1542831913,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"mk-agents-shar","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":13,"sizeDeletions":-4}],"allReviewers":[{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}