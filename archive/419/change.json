{"project":"joyent/smartos-live","branch":"master","topic":"OS-5652","id":"I13f5ba1c82254116777c55e77a7db4b8bcbfefc5","number":"419","subject":"OS-5652 platform build needs to work with python 2.7 OS-5651 better handle the lack of signed package support OS-5653 tools/sorter should work with python2/3 Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/419","commitMessage":"OS-5652 platform build needs to work with python 2.7\nOS-5651 better handle the lack of signed package support\nOS-5653 tools/sorter should work with python2/3\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1473195975,"lastUpdated":1478800935,"open":false,"status":"MERGED","comments":[{"timestamp":1473195975,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1473196006,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Topic set to OS-5652"},{"timestamp":1473271790,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1473296422,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1473608686,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1473608691,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1473608828,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\nThe following summarizes the testing that was noted in OS-5652 and applies to the entire topic. To test this I\u0027ve run through the following on a 15.4.x multiarch zone unless otherwise noted:\n\n* build debug\n* build non-debug\n* test tools in /opt/onbld that need python\n* tested sorter with both python2 and python3\n* verify old and new sorter result in identical manifests (by comparing two builds)\n* Verify test suite Python version\n* Run through general libc tests from ilumos with modified gas (from 14.4.x build)\n* Run through ltp\n* Build on 13.3.x multiarch\n* Build on 14.4.x multiarch"},{"timestamp":1473959097,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475334109,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3."},{"timestamp":1475334180,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475528176,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1476484493,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1477592708,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1477592881,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1477592918,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1478799723,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1478799805,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"},{"timestamp":1478800935,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"6","revision":"13f5ba1c82254116777c55e77a7db4b8bcbfefc5","parents":["1cfc365023de88bd81388a7fc3790cf612ba53f9"],"ref":"refs/changes/19/419/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478799723,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475334180,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475528176,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1476484493,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1478799805,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/sorter","type":"MODIFIED","insertions":20,"deletions":-7}],"sizeInsertions":23,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"204b51cd108d911e962b92afad0e6a5b81e6d2b8","parents":["542f022db1666b2d306c740fa9818f58461695bc"],"ref":"refs/changes/19/419/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1473195975,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1473296422,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"configure","line":93,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"How does the gcc47 addition relate to this specific change?"},{"file":"configure","line":93,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"It was left over from an earlier revision when I was trying to deal with the bug that gcc49 exposed in binutils. I\u0027ve removed this."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"tools/sorter","type":"MODIFIED","insertions":20,"deletions":-7}],"sizeInsertions":24,"sizeDeletions":-10},{"number":"2","revision":"31bcc64baa73db63ba5becc973acf6371b7aaf4d","parents":["542f022db1666b2d306c740fa9818f58461695bc"],"ref":"refs/changes/19/419/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1473608686,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1473959097,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"tools/sorter","type":"MODIFIED","insertions":20,"deletions":-7}],"sizeInsertions":23,"sizeDeletions":-9},{"number":"3","revision":"0db53aa620b80fa5adad5826a3e9d055fb553038","parents":["5e5731b3a41ab7bc3c6395a28f8964cddbe23e43"],"ref":"refs/changes/19/419/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1475334109,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475334180,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1476484493,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475528176,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/sorter","type":"MODIFIED","insertions":20,"deletions":-7}],"sizeInsertions":23,"sizeDeletions":-10},{"number":"4","revision":"36aa36748005c3489deaea2796c804fea7d59d5b","parents":["5e5731b3a41ab7bc3c6395a28f8964cddbe23e43"],"ref":"refs/changes/19/419/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1477592708,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475334180,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1476484493,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475528176,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/sorter","type":"MODIFIED","insertions":20,"deletions":-7}],"sizeInsertions":23,"sizeDeletions":-10},{"number":"5","revision":"161a227df790ab5a7e094b32d4c0bbdbfcc8b23e","parents":["eb48990c0db8917664800dbfd46c2a2fe7a3e102"],"ref":"refs/changes/19/419/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1477592881,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475334180,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1476484493,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475528176,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/sorter","type":"MODIFIED","insertions":20,"deletions":-7}],"sizeInsertions":23,"sizeDeletions":-10},{"number":"6","revision":"13f5ba1c82254116777c55e77a7db4b8bcbfefc5","parents":["1cfc365023de88bd81388a7fc3790cf612ba53f9"],"ref":"refs/changes/19/419/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478799723,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1478799805,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475334180,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1476484493,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475528176,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/sorter","type":"MODIFIED","insertions":20,"deletions":-7}],"sizeInsertions":23,"sizeDeletions":-10}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}