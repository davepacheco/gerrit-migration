{"project":"joyent/illumos-joyent","branch":"master","id":"I2b9d6c0c0b0b0ccf908460c4e3a04c0ca3ca07de","number":"1869","subject":"OS-6086 make pcplusmp and apix warning-free Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"url":"https://cr.joyent.us/1869","commitMessage":"OS-6086 make pcplusmp and apix warning-free\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1493388068,"lastUpdated":1496826721,"open":false,"status":"MERGED","comments":[{"timestamp":1493388068,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 1."},{"timestamp":1493398395,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1493400078,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Integration-Approval+1\n\n(8 comments)"},{"timestamp":1493400085,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: -Integration-Approval"},{"timestamp":1493734149,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1:\n\n(8 comments)"},{"timestamp":1495112390,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1496133384,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1496341885,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(6 comments)"},{"timestamp":1496404082,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1496409282,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 5."},{"timestamp":1496409321,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1:\n\n(5 comments)"},{"timestamp":1496409527,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 6."},{"timestamp":1496409973,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1496417639,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6: Code-Review+1\n\n(1 comment)"},{"timestamp":1496418142,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1496666153,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1496826599,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 7: Patch Set 6 was rebased"},{"timestamp":1496826708,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1496826721,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Hans Rosenfeld"}],"currentPatchSet":{"number":"8","revision":"2b9d6c0c0b0b0ccf908460c4e3a04c0ca3ca07de","parents":["ce7873af10a4be864450768fbba6318fa1b9dd55"],"ref":"refs/changes/69/1869/8","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1496826708,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496409973,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496417639,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496666153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1496826721,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-106},"patchSets":[{"number":"1","revision":"f9fd7cd277ca8396442e55f25f00ea2af21aebae","parents":["ce33465b99b9a4811a15724b9822c0531560d2b5"],"ref":"refs/changes/69/1869/1","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1493388068,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493398395,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"comments":[{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","line":331,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"While we\u0027re here should this be NULL?"},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","line":331,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","line":331,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I still don\u0027t see this in the latest version."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1135,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"What guarantees that pri is a valid value as a uchar_t at this point?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1135,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Apparently nothing does, but as airq_ipl is a uchar_t that aspect of the code doesn\u0027t change.\n\nIt may be useful to assert that pri is within range for a uchar_t, though."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1135,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Yeah, I\u0027d recommend we actually ASSERT that somewhere if it\u0027s supposed to be an invariant."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1135,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1212,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"What guarantees that pri is a valid uchar_t at this point?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1212,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"See above."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1212,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1254,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"What guarantees that i is in the valid range of a uchar_t? It seems like lowest and highest could actually overflow the range of a uchar_t pretty easily if something else in the stack messes up."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1254,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Well, yes, if something messes up the contents of apic_ipltopri[] we may end up with an overflow. Perhaps it\u0027s useful to add an ASSERT here, too."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1254,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Yeah, I think it might."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":1254,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","line":851,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"If for some reason this doesn\u0027t get initialized later on (I know we ASSERT it), what\u0027s the down-stream effect of this value being zero in the APIC related structures?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","line":851,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"The only value this is every compared against is APIC_INTEGRATED_VERS, so it would indicate a really old non-integrated APIC. I would assume that this would cause interesting failures in the multi CPU code that wouldn\u0027t even let us boot correctly."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","line":851,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK. Is it worth being explicit about that and failing somewhere or just letting it drive on and have that harder to diagnose runtime failure? It may not be worth the effort in this case."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","line":851,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"We already assert first\u003d\u003dB_FALSE, which is set at the same time as localver. So I think we\u0027re covered already."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","line":231,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"What guarantees that start is in the right range?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","line":231,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Same as in that other file, it\u0027s somewhere between lowest and highest, which are initialized from uchar_t array. As long as that isn\u0027t messed up we\u0027re good."},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","line":231,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Maybe we should add an ASSERT here as well then?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","line":231,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","line":699,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should this i actually be a uint_t rather than an int? That way in the unlikely case of an overflow of i we wouldn\u0027t end up having it win the MIN value with a negative value?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","line":699,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/uts/i86pc/sys/apix.h","line":296,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Rather than ASSERT, shouldn\u0027t we do an else panic? Otherwise on runtime bits, we\u0027d have a NULL pointer dereference that could potentially be exploitable."},{"file":"usr/src/uts/i86pc/sys/apix.h","line":296,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Not sure what the panic message should look like. We could just use a VERIFY instead."},{"file":"usr/src/uts/i86pc/sys/apix.h","line":296,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Sure, that makes sense."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":93,"sizeDeletions":-103},{"number":"2","revision":"1a2495be4616b95b8c41bc1942524ffc1d1ac8aa","parents":["718c1fe74ece33e1052bc917ddb2b5dc2d5dd582"],"ref":"refs/changes/69/1869/2","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1495112390,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493398395,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":93,"sizeDeletions":-103},{"number":"3","revision":"87a1261994b436e92f7cbb970bf42e55769ff537","parents":["eb851a777c457362e68a9c4505129bd23d595b7a"],"ref":"refs/changes/69/1869/3","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1496133384,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493398395,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":93,"sizeDeletions":-103},{"number":"4","revision":"2cc73f39f9ec7dfbff67452d36f2b4bec3a333f2","parents":["6d7aaea8af5e30481216b60530543aea714ae1d5"],"ref":"refs/changes/69/1869/4","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1496404082,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493398395,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":93,"sizeDeletions":-103},{"number":"5","revision":"357156d5de9bf902f1b1bc4cc8f0f9fa416042e5","parents":["6d7aaea8af5e30481216b60530543aea714ae1d5"],"ref":"refs/changes/69/1869/5","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1496409282,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-106},{"number":"6","revision":"6f31bac59f5dcca6a6fb60a9abf391bf017ee695","parents":["6d7aaea8af5e30481216b60530543aea714ae1d5"],"ref":"refs/changes/69/1869/6","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1496409527,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496417639,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496409973,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496666153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"comments":[{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":110,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Can we file a follow up bug to move this into sys/limits.h such that kernel software can use it potentially?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":110,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Yes, absolutely. I just didn\u0027t want this change to depend on it, as it might cause some fallout in userspace."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-106},{"number":"7","revision":"4f790ca8ba6c00b7f497ff8ce5612da0138283ee","parents":["ce7873af10a4be864450768fbba6318fa1b9dd55"],"ref":"refs/changes/69/1869/7","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1496826599,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496417639,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496409973,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496666153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-106},{"number":"8","revision":"2b9d6c0c0b0b0ccf908460c4e3a04c0ca3ca07de","parents":["ce7873af10a4be864450768fbba6318fa1b9dd55"],"ref":"refs/changes/69/1869/8","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1496826708,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496417639,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496409973,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496666153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1496826721,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/apix/Makefile","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/io/mp_platform_common.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/mp_platform_misc.c","type":"MODIFIED","insertions":72,"deletions":-69},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_introp.c","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"usr/src/uts/i86pc/pcplusmp/Makefile","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/apix.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-106}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}]}