{"project":"joyent/manta-marlin","branch":"master","id":"I3d14c465e3eb75e538fad400d238438c2101ce2e","number":"885","subject":"MANTA-3026 marlin could use detailed moray client errors Reviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e Approved by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e","owner":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"url":"https://cr.joyent.us/885","commitMessage":"MANTA-3026 marlin could use detailed moray client errors\nReviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\nApproved by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\n","createdOn":1478892744,"lastUpdated":1479144571,"open":false,"status":"MERGED","comments":[{"timestamp":1478892744,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 1."},{"timestamp":1478910929,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 1:\n\n(1 comment)\n\nLooks good! I am truly fascinated by these hardcoded errors (mGenericTransientErrors)."},{"timestamp":1478912921,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1479143922,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1479144545,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1479144571,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by David Pacheco"}],"currentPatchSet":{"number":"2","revision":"3d14c465e3eb75e538fad400d238438c2101ce2e","parents":["abcc3fba2583b1a41f9353f7dd2f2ab09c87fcd4"],"ref":"refs/changes/85/885/2","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1479144545,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479143922,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479143922,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"SUBM","value":"1","grantedOn":1479144571,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"common/lib/bus.js","type":"MODIFIED","insertions":57,"deletions":-39},{"file":"common/lib/marlin.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"dev/package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":62,"sizeDeletions":-43},"patchSets":[{"number":"1","revision":"98c6816f249ae91ab80f3505e445fed263789e19","parents":["abcc3fba2583b1a41f9353f7dd2f2ab09c87fcd4"],"ref":"refs/changes/85/885/1","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1478892744,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479143922,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479143922,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"comments":[{"file":"common/lib/bus.js","line":672,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"When would this case occur?"},{"file":"common/lib/bus.js","line":672,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"If we set err_transient at line 661 because there\u0027s a cause called \"Error\" or \"error\", but then we find that its message is not one of the hardcoded ones inside mGenericTransientErrors, then we\u0027ll clear err_transient here so that we don\u0027t actually treat this as a transient error.  That seemed simpler than trying to embed the mGenericTransientErrors check earlier."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"common/lib/bus.js","type":"MODIFIED","insertions":57,"deletions":-39},{"file":"common/lib/marlin.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"dev/package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":62,"sizeDeletions":-43},{"number":"2","revision":"3d14c465e3eb75e538fad400d238438c2101ce2e","parents":["abcc3fba2583b1a41f9353f7dd2f2ab09c87fcd4"],"ref":"refs/changes/85/885/2","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1479144545,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1479144571,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479143922,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479143922,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"common/lib/bus.js","type":"MODIFIED","insertions":57,"deletions":-39},{"file":"common/lib/marlin.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"dev/package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":62,"sizeDeletions":-43}],"allReviewers":[{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}]}