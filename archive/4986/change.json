{"project":"joyent/illumos-joyent","branch":"master","topic":"nawk-update","id":"I2b2695541d621ef1caa51056d6407f0acd012ed6","number":"4986","subject":"OS-7316 Want support for RT (record terminator) variable in nawk(1) Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Jason King \u003cjbk@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/4986","commitMessage":"OS-7316 Want support for RT (record terminator) variable in nawk(1)\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Jason King \u003cjbk@joyent.com\u003e\n","createdOn":1540231045,"lastUpdated":1560451887,"open":false,"status":"MERGED","comments":[{"timestamp":1540231045,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1540232017,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1540241483,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1540317696,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1541164177,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 4:\n\n(6 comments)\n\nI think I\u0027m not understanding RT correctly in all this."},{"timestamp":1542132631,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1542144950,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 6."},{"timestamp":1542145375,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6:\n\n(6 comments)"},{"timestamp":1542471062,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1542652599,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1543503916,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1548269140,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1548269185,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to nawk-update"},{"timestamp":1548280896,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1549481245,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1560301579,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 9: Patch Set 8 was rebased."},{"timestamp":1560451860,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 10: Patch Set 9 was rebased."},{"timestamp":1560451887,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"10","revision":"2b2695541d621ef1caa51056d6407f0acd012ed6","parents":["084c5c48f7680535f554dd406a99bf0ea8329823"],"ref":"refs/changes/86/4986/10","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1560451860,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543503916,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548280896,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"SUBM","value":"1","grantedOn":1560451886,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":59,"deletions":-14},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":176,"sizeDeletions":-14},"patchSets":[{"number":"1","revision":"61708e7981a2746e4ece01ba9ee83fe6336abcc5","parents":["19187d68cb470081b6e7c903d9e1b2ca9318942d"],"ref":"refs/changes/86/4986/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1540231045,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":45,"deletions":-6},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":87,"deletions":0}],"sizeInsertions":136,"sizeDeletions":-6},{"number":"2","revision":"0507444c65c4ffc6d27510312c51f674d797aceb","parents":["19187d68cb470081b6e7c903d9e1b2ca9318942d"],"ref":"refs/changes/86/4986/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1540232017,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":45,"deletions":-6},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":87,"deletions":0}],"sizeInsertions":136,"sizeDeletions":-6},{"number":"3","revision":"aeb99b66152869f01a3d6b053fd08e03e9c5e0df","parents":["19187d68cb470081b6e7c903d9e1b2ca9318942d"],"ref":"refs/changes/86/4986/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1540241483,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":45,"deletions":-6},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":148,"sizeDeletions":-6},{"number":"4","revision":"630344adc7ff26499778c2ea6508380b30fc284f","parents":["19187d68cb470081b6e7c903d9e1b2ca9318942d"],"ref":"refs/changes/86/4986/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1540317696,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/awk/lib.c","line":265,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should we be initializing the contents of rtbuf?"},{"file":"usr/src/cmd/awk/lib.c","line":265,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"We don\u0027t need to since we always start writing into it at the beginning, and always write the final \u0027\\0\u0027 (possibly at position 0 if we read EOF without first reading the separator). setsval() will call tostring() which uses strdup() to copy the string for the rtloc Cell."},{"file":"usr/src/cmd/awk/lib.c","line":289,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In other places we always check if we have space before changing rt. Why not here?"},{"file":"usr/src/cmd/awk/lib.c","line":289,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I initially didn\u0027t put the check here since the buffer is initialized to RECSIZE bytes (8192), and when we hit this case we write at most two bytes. I found testing with RECSIZE\u003d1 useful in OS-7261, though, so I\u0027ve added a check right before here to make sure we have enough space for this or for the two newlines below."},{"file":"usr/src/cmd/awk/lib.c","line":293,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"It doesn\u0027t really follow for me why we now check for multiple new lines in a row. It seems like this would mean we\u0027re not updating the line number or something else at the same time. Can you share a little more about that here?"},{"file":"usr/src/cmd/awk/lib.c","line":293,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This is to handle the case when RS is the empty string. When RS is empty, then awk will interpret two or more newlines as the record separator. Previously readrec() would stop at reading two newlines, and then process any others when it reentered the function the next time. In order to produce an accurate RT value, though, we read them all now."},{"file":"usr/src/cmd/awk/lib.c","line":295,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In other places we always check if we have space before changing rt. Why not here?"},{"file":"usr/src/cmd/awk/lib.c","line":295,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done above now."},{"file":"usr/src/cmd/awk/lib.c","line":309,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"If c is EOF why are we assuming that rt is a newline? I suspect I don\u0027t properly understand the use of the rt buffer."},{"file":"usr/src/cmd/awk/lib.c","line":309,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This is to handle the case where we read a \u0027\\n\u0027 and then EOF. In that case, RT should be \"\\n\". (If we read \u0027\\n\u0027 and then a non-EOF, non-newline character, then they\u0027re both added to the record below.)"},{"file":"usr/src/cmd/awk/lib.c","line":331,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is the reason we don\u0027t set this in the EOF case because that case suggests that we should have already processed the last entry that we handle and therefore there\u0027s no more to continue as I guess awk doesn\u0027t do anything for just the EOF case."},{"file":"usr/src/cmd/awk/lib.c","line":331,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Yes. If we don\u0027t read anything in (presumably because the previous readrec() call read a record and then the final separator) then we want to leave RT alone, so that its value is preserved in the END block."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":45,"deletions":-6},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":162,"sizeDeletions":-6},{"number":"5","revision":"50e90ffbf283e119502d8204b3b3a26cfbe48cf2","parents":["5d0bc79444e7d23f01afe5e43adc663be9545f7a"],"ref":"refs/changes/86/4986/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1542132631,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":45,"deletions":-6},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":162,"sizeDeletions":-6},{"number":"6","revision":"3e1cac60899736d4d3a8590999e007af7ac2a688","parents":["5d0bc79444e7d23f01afe5e43adc663be9545f7a"],"ref":"refs/changes/86/4986/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1542144950,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543503916,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/cmd/awk/lib.c","line":295,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is the +2 here to account for the two newlines you mention in your comment or is it just to account for a newline and a NUL with the assumption that rt - rtbuf will always be at least one?"},{"file":"usr/src/cmd/awk/lib.c","line":295,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"It\u0027s to account for the two newlines, on lines 303 and 304. We make sure we have space for the NUL on line 327."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":59,"deletions":-14},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":176,"sizeDeletions":-14},{"number":"7","revision":"558ee17a92c4ee4218ebda7b1e1a77cb28d5bc17","parents":["13be0bd91a83446630c742777d5497d5c63c6450"],"ref":"refs/changes/86/4986/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1548269140,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543503916,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548280896,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":59,"deletions":-14},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":176,"sizeDeletions":-14},{"number":"8","revision":"0370c0bfb2d2d1c34227b1f91cd3dd76f82512ca","parents":["e21906880f8b138e1a6a9c0c539ae2c4974fd66a"],"ref":"refs/changes/86/4986/8","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1549481245,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543503916,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548280896,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":59,"deletions":-14},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":176,"sizeDeletions":-14},{"number":"9","revision":"b3cdafca8ebd39a6367242eef56936d3ca98a03b","parents":["b122bc754d317fa3b0bf92271552b1a42bbdacff"],"ref":"refs/changes/86/4986/9","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1560301579,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543503916,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548280896,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":59,"deletions":-14},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":176,"sizeDeletions":-14},{"number":"10","revision":"2b2695541d621ef1caa51056d6407f0acd012ed6","parents":["084c5c48f7680535f554dd406a99bf0ea8329823"],"ref":"refs/changes/86/4986/10","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1560451860,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543503916,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1560451886,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548280896,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/awk/awk.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/awk/lib.c","type":"MODIFIED","insertions":59,"deletions":-14},{"file":"usr/src/cmd/awk/tran.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/man/man1/nawk.1","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-utiltest.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/util-tests/tests/awk/tests/T.rt","type":"ADDED","insertions":99,"deletions":0}],"sizeInsertions":176,"sizeDeletions":-14}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}