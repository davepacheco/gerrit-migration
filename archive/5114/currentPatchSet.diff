From 3911853738b429714f652b60ad13859f7b5d4880 Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Thu, 22 Nov 2018 18:18:43 -0800
Subject: [PATCH] MANTA-4030 many images using node 0.10 or 0.12 broken by
 transitive lru-cache@4.1.4 dep Reviewed by: Josh Wilsdon <josh@wilsdon.ca>
 Approved by: Josh Wilsdon <josh@wilsdon.ca>

---
 package.json | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/package.json b/package.json
index f8a2650..b51cc45 100644
--- a/package.json
+++ b/package.json
@@ -1,9 +1,10 @@
 {
     "name": "firewaller",
-    "description": "SmartDataCenter Firewalling Agent",
-    "version": "1.5.0",
+    "description": "Triton Data Center firewalling agent",
+    "version": "1.5.1",
     "author": "Joyent (joyent.com)",
     "private": true,
+    "// lru-cache": "attempting to pin version while satisfying transitive deps, because lru-cache@4.1.4 includes yallist@3 which breaks node --abort-on-uncaught-exception with node <v4",
     "dependencies": {
         "assert-plus": "1.0.0",
         "backoff": "2.3.0",
@@ -12,8 +13,9 @@
         "fast-stream": "git+https://github.com/joyent/sdc-fast-stream.git#893d59d",
         "jsprim": "0.5.0",
         "lockfd": "~1.2.1",
+        "lru-cache": "4.1.3",
         "restify": "2.6.1",
-        "sdc-clients": "10.2.0",
+        "sdc-clients": "12.1.1",
         "uuid": "3.0.1",
         "vasync": "1.6.3",
         "verror": "1.3.6"
-- 
2.21.0

