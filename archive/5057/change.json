{"project":"joyent/illumos-joyent","branch":"master","topic":"OS-7353","id":"I47055f4b313bfbe3f3ddfc1812816921093d678f","number":"5057","subject":"OS-7353 bhyve support for persistent pci slots for disks Reviewed by: Jorge Schrauwen \u003csjorge@blackdot.be\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.c","owner":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"url":"https://cr.joyent.us/5057","commitMessage":"OS-7353 bhyve support for persistent pci slots for disks\nReviewed by: Jorge Schrauwen \u003csjorge@blackdot.be\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1542207525,"lastUpdated":1543514633,"open":false,"status":"MERGED","comments":[{"timestamp":1542207525,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 1."},{"timestamp":1542271527,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1542345471,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Topic set to OS-7353"},{"timestamp":1542348373,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1542348432,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 2."},{"timestamp":1542349463,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1: Code-Review-1\n\nPulled the trigger on that a bit soon - forget about PPT already having a parser I should reuse."},{"timestamp":1542352417,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 3."},{"timestamp":1542352593,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3:\n\nThis now uses common pci slot parsing code for passthru and disks.  While testing, I realized that the passhtru parsing code would allow \",option\" to be passed so I fixed that too.  The tests-bhyve-pci.js tests still pass, as do a bunch of new ones that I wrote that (see the other review in this topic)."},{"timestamp":1542357150,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1542383525,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(4 comments)"},{"timestamp":1542387301,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 4."},{"timestamp":1542387318,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1542387483,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1542387595,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1542387670,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 5."},{"timestamp":1542388144,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5:\n\n(3 comments)"},{"timestamp":1542399955,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 6."},{"timestamp":1542406592,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6: Code-Review+1\n\n(1 comment)"},{"timestamp":1542643263,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1542681495,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 7."},{"timestamp":1542713401,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1542719159,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 7: Code-Review+1\n\nJust to double check I got this right, when specifying the PCI slot that takes presidence over the boot\u003dtrue and media\u003dcdrom?"},{"timestamp":1542720296,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 7:\n\n(3 comments)\n\n@sjorge - Yes, if a particular disk is set to be present in slot 0:4:0, it will be placed there instead of the disk that has boot\u003dtrue.  Likewise, you could manually place a disk in 0:3:0, which will most likely cause it to be the preferred boot device. We provide the gun and the bullets (and documentation for their proper use).  Whether you decide to shoot your foot is up to you.  :)"},{"timestamp":1542823611,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1543508126,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 8: Patch Set 7 was rebased"},{"timestamp":1543512809,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 8:\n\nI have rebased this and the corresponding smartos-live changes, rebuilt, and retested. All good. Ticket updated with test results."},{"timestamp":1543514458,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 8: Integration-Approval+1"},{"timestamp":1543514575,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 9: Commit message was updated."},{"timestamp":1543514633,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"9","revision":"cc78e0e8a9ef1c3c42ba267e1850ca73fa4e0395","parents":["c75576d2f6b4d8218702164bc9cc3e642ff88ccc"],"ref":"refs/changes/57/5057/9","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1543514575,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542713401,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542719159,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542823611,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543514458,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1543514633,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":65,"deletions":-35}],"sizeInsertions":65,"sizeDeletions":-35},"patchSets":[{"number":"1","revision":"f8dc2cfc8174b9f3dc85b9b0003806018ccf8ebc","parents":["9973e3eae80be35ffbb1bc9f8881ea8f037662f0"],"ref":"refs/changes/57/5057/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542207525,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1542349463,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"comments":[{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":238,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"So if we have \u0027something\u0027 in slotstr we just use this below, if it is unset we do the old behavior.\n\nWould this not allow for injection into zhyve\u0027s args ?\n\ne.g. with pci_slot set to \u00270,hostbridge -w -s 4:0\u0027? Would it not turn the opts into \n\n\u0027-s 0,hostbridge -w -s 4:0,virtio-blk,/dev/zvol/rdsk/zones/f3e59c75-51a8-e862-b7e1-8e3265fd555c/disk0\u0027\n\n?\n\nI assume there is validation for this in vmadm, but if this gets upstreamed, we cannot assume vmadm is being used.\n\nFor most other bits there is some validation going on like limiting the model and media values to things that are supported."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":238,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"The injection scenario you suggest won\u0027t work because each of the arguments is placed in its own position in an argument vector that is then used by execv().  That is, we are not building up a buffer to pass to system(3C) or `sh -c ...`.  It would allow injection of options for the particular slot (e.g. nocache, ro, etc.).\n\nThat being said, the error handling would be much less opaque if this is sanity checked."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":20,"deletions":-3}],"sizeInsertions":20,"sizeDeletions":-3},{"number":"2","revision":"00a9ac0f48ec8a1f293da1769c90e557a3c1a598","parents":["9973e3eae80be35ffbb1bc9f8881ea8f037662f0"],"ref":"refs/changes/57/5057/2","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542348432,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":106,"deletions":-3}],"sizeInsertions":106,"sizeDeletions":-3},{"number":"3","revision":"264bd73128fbef3e4386a5a0ce26bce009b21fd7","parents":["9973e3eae80be35ffbb1bc9f8881ea8f037662f0"],"ref":"refs/changes/57/5057/3","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542352417,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542357150,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}}],"comments":[{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":184,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"On other CRs, I\u0027ve been told \u0027uint_t\u0027 is the standard style for unsigned ints."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":184,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"was following John\u0027s lead.  I prefer uint_t or uint32_t so I\u0027ll do as you suggest."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":220,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"append comma"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":220,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":230,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Further testing turned up that pcibus was not initialized when the device does not have `pci_slot`.  Initializing here, got rid of initialization in parse_pcislot()."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":249,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Lift this check out so we\u0027re not repeating it in the two cases? (Could carry forward a boolean so the pci slot assignment still works fine)"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":249,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":282,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I don\u0027t see \u0027slotstr\u0027 used anywhere below.  Why is this being performed?"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":282,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"oops, missed this in previous update.  new one coming."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":76,"deletions":-36}],"sizeInsertions":76,"sizeDeletions":-36},{"number":"4","revision":"765fe51ef0beb9f7984189576d3675565f74c2f0","parents":["9973e3eae80be35ffbb1bc9f8881ea8f037662f0"],"ref":"refs/changes/57/5057/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542387301,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":75,"deletions":-40}],"sizeInsertions":75,"sizeDeletions":-40},{"number":"5","revision":"be892f44796433cd2cdb45496b08b0f3760c4c63","parents":["9973e3eae80be35ffbb1bc9f8881ea8f037662f0"],"ref":"refs/changes/57/5057/5","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542387670,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":185,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"uint_t, and perhaps wrap back to line above (if there\u0027s space)"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":185,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"sigh, yeah."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":228,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"uint_t"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":228,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":233,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Now \u0027boot\u0027 is never assigned."},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":233,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":68,"deletions":-40}],"sizeInsertions":68,"sizeDeletions":-40},{"number":"6","revision":"69ff871131c76038c1ef20415ec8d2c728185d0a","parents":["9973e3eae80be35ffbb1bc9f8881ea8f037662f0"],"ref":"refs/changes/57/5057/6","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542399955,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542406592,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":215,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"\"dynamic\""},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","line":246,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: this should be moved up to the \u0027multiple boot disks\u0027 bail-out above."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":65,"deletions":-35}],"sizeInsertions":65,"sizeDeletions":-35},{"number":"7","revision":"47055f4b313bfbe3f3ddfc1812816921093d678f","parents":["9973e3eae80be35ffbb1bc9f8881ea8f037662f0"],"ref":"refs/changes/57/5057/7","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542681495,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542823611,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542719159,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542713401,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":65,"deletions":-35}],"sizeInsertions":65,"sizeDeletions":-35},{"number":"8","revision":"0d460948a642c087d96ed5f60cb1f1cf01c743b3","parents":["c75576d2f6b4d8218702164bc9cc3e642ff88ccc"],"ref":"refs/changes/57/5057/8","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1543508126,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542823611,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542719159,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542713401,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543514458,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":65,"deletions":-35}],"sizeInsertions":65,"sizeDeletions":-35},{"number":"9","revision":"cc78e0e8a9ef1c3c42ba267e1850ca73fa4e0395","parents":["c75576d2f6b4d8218702164bc9cc3e642ff88ccc"],"ref":"refs/changes/57/5057/9","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1543514575,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542823611,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542719159,"by":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}},{"type":"SUBM","value":"1","grantedOn":1543514633,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542713401,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543514458,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":65,"deletions":-35}],"sizeInsertions":65,"sizeDeletions":-35}],"allReviewers":[{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}