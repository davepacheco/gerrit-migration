{"project":"joyent/sdc-imgapi","branch":"master","id":"Iba9f9eba8b8c513d6a6e6821bf0f7618ddebb6d1","number":"1347","subject":"DOCKER-929 Support the docker v2.2 manifest format","owner":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"url":"https://cr.joyent.us/1347","commitMessage":"DOCKER-929 Support the docker v2.2 manifest format\n","createdOn":1485464124,"lastUpdated":1485464403,"open":false,"status":"ABANDONED","comments":[{"timestamp":1485464124,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 1."},{"timestamp":1485464125,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 62f99663d06a023b97ad7f3aee3a089ba1274680\n    \n    DOCKER-929 Don\u0027t JSON serialize the config in pretty mode\n    \n    commit 967e6dd72fe58730fb2c8e781a5e9d200e76e380\n    \n    DOCKER-929 Support the docker v2.2 manifest format"},{"timestamp":1485464162,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485464228,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1485464263,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1485464266,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1485464267,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 3e7561f00b7f1aa69c2beb53ba000e6d640c8c82\n    \n    DOCKER-929 Don\u0027t JSON serialize the config in pretty mode\n    \n    commit 52b774ff81ec39bb3684dee0e08a404d51fdb800\n    \n    DOCKER-929 Support the docker v2.2 manifest format"},{"timestamp":1485464309,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 4."},{"timestamp":1485464310,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 35b8afa9ee69f64f0f853466182aca330f386935\n    \n    DOCKER-929 Don\u0027t JSON serialize the config in pretty mode\n    \n    commit b96e8efe16df52b7e028729ac773f4bd695dd358\n    \n    DOCKER-929 Support the docker v2.2 manifest format\n    \n    commit f6c069cfb438086206ef34206e322e8dab18973a\n    \n    IMGAPI-612 IMGAPI suffering from IMGAPI-599 which breaks http_proxy support\n    Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n    Approved by: Trent Mick \u003ctrentm@gmail.com\u003e\n    \n    commit 0740d10431a769451e3544f71408bd691febe961\n    \n    IMGAPI-610 Ignore docker migration on images that don\u0027t use a 64-char id"},{"timestamp":1485464334,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1485464339,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Abandoned"},{"timestamp":1485464403,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"4","revision":"ba9f9eba8b8c513d6a6e6821bf0f7618ddebb6d1","parents":["ee38888b1c62daba63b88caa891fba80915c6381"],"ref":"refs/changes/47/1347/4","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485464309,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485464162,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/images.js","type":"MODIFIED","insertions":971,"deletions":-555},{"file":"lib/magic.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"lib/storage.js","type":"MODIFIED","insertions":73,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":1063,"sizeDeletions":-560},"patchSets":[{"number":"1","revision":"9824ffef20bcb4852e82ba939959e0a92c3c35e8","parents":["ee38888b1c62daba63b88caa891fba80915c6381"],"ref":"refs/changes/47/1347/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485464124,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485464162,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/images.js","type":"MODIFIED","insertions":971,"deletions":-555},{"file":"lib/magic.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/storage.js","type":"MODIFIED","insertions":73,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":1049,"sizeDeletions":-557},{"number":"2","revision":"615b6793503ccc525130859ab912ddaf0d0a3c46","parents":["f6c069cfb438086206ef34206e322e8dab18973a"],"ref":"refs/changes/47/1347/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485464228,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485464162,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/images.js","type":"MODIFIED","insertions":971,"deletions":-555},{"file":"lib/magic.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/storage.js","type":"MODIFIED","insertions":73,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":1049,"sizeDeletions":-557},{"number":"3","revision":"8f249d0cafbd1e2aca81acf4a85054ae2ebf557a","parents":["ee38888b1c62daba63b88caa891fba80915c6381"],"ref":"refs/changes/47/1347/3","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485464266,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485464162,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/images.js","type":"MODIFIED","insertions":971,"deletions":-555},{"file":"lib/magic.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/storage.js","type":"MODIFIED","insertions":73,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":1049,"sizeDeletions":-557},{"number":"4","revision":"ba9f9eba8b8c513d6a6e6821bf0f7618ddebb6d1","parents":["ee38888b1c62daba63b88caa891fba80915c6381"],"ref":"refs/changes/47/1347/4","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485464309,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485464162,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/images.js","type":"MODIFIED","insertions":971,"deletions":-555},{"file":"lib/magic.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"lib/storage.js","type":"MODIFIED","insertions":73,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":1063,"sizeDeletions":-560}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}