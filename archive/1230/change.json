{"project":"joyent/sdc-cnapi","branch":"master","id":"I736598c51227677e8133d4a4d64a7e9284af25a6","number":"1230","subject":"DAPI-330: Improved over-provisioning logic to take into account the currently used amounts DAPI-334: dapi can miscalculate disk and ram requirements when a disk or ram arg differs from pkg DAPI-335: Allow operator to specify a minimum free disk space thre","owner":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"url":"https://cr.joyent.us/1230","commitMessage":"DAPI-330: Improved over-provisioning logic to take into account the currently used amounts\nDAPI-334: dapi can miscalculate disk and ram requirements when a disk or ram arg differs from pkg\nDAPI-335: Allow operator to specify a minimum free disk space threshold\nDAPI-338: DAPI hard-filter-invalid-servers algorithm dies on VMs in transient state\nDAPI-339: drop hard-filter-sick-servers algorithm\nReviewed by: Angela Fong \u003cangela.fong@joyent.com\u003e\n","createdOn":1484051887,"lastUpdated":1491349393,"open":false,"status":"MERGED","comments":[{"timestamp":1484051887,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 1."},{"timestamp":1484051925,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491347910,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 2."},{"timestamp":1491347939,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491348957,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 3."},{"timestamp":1491348994,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491349295,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1491349385,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1491349393,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Marsell Kukuljevic"}],"currentPatchSet":{"number":"4","revision":"ebb94171cd1c13d9945967359415105edab6dc61","parents":["cfdd897836b9ab2ae14e5a59b7bc8561f3e1c3e5"],"ref":"refs/changes/30/1230/4","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1491349385,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491348994,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491349295,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1491349295,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}},{"type":"SUBM","value":"1","grantedOn":1491349393,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"lib/designation.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cnapi/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":4,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"837fa2cdcc36cd7ab400a40696cb4e419cff6281","parents":["cc6a2e754cc84b6c61bd9e7e9d8b860ab4d6a352"],"ref":"refs/changes/30/1230/1","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1484051887,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484051925,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"2","revision":"d2a61793afc9bd8ae284975ee66d5483e304a82a","parents":["cfdd897836b9ab2ae14e5a59b7bc8561f3e1c3e5"],"ref":"refs/changes/30/1230/2","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1491347910,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491347939,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/designation.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cnapi/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":4,"sizeDeletions":-2},{"number":"3","revision":"736598c51227677e8133d4a4d64a7e9284af25a6","parents":["cfdd897836b9ab2ae14e5a59b7bc8561f3e1c3e5"],"ref":"refs/changes/30/1230/3","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1491348957,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491348994,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491349295,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1491349295,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"lib/designation.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cnapi/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":4,"sizeDeletions":-2},{"number":"4","revision":"ebb94171cd1c13d9945967359415105edab6dc61","parents":["cfdd897836b9ab2ae14e5a59b7bc8561f3e1c3e5"],"ref":"refs/changes/30/1230/4","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1491349385,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491348994,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1491349393,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491349295,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1491349295,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"lib/designation.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cnapi/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":4,"sizeDeletions":-2}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}]}