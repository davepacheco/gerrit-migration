From 9314903b5d4eabd293d4f1bb3a0ca63d29f2beb1 Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Tue, 7 Feb 2017 12:57:01 -0800
Subject: [PATCH] TOOLS-1685 make 'sdcadm ex<TAB>' completion work

---
 lib/cli/do_completion.js | 2 +-
 package.json             | 3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/lib/cli/do_completion.js b/lib/cli/do_completion.js
index f3227ea..94e2674 100644
--- a/lib/cli/do_completion.js
+++ b/lib/cli/do_completion.js
@@ -16,7 +16,7 @@ function do_completion(subcmd, opts, args, cb) {
         return;
     }
 
-    console.log(this.bashCompletion());
+    console.log(this.bashCompletion({includeHidden: true}));
     cb();
 }
 
diff --git a/package.json b/package.json
index a79a142..f65c8ba 100644
--- a/package.json
+++ b/package.json
@@ -9,8 +9,7 @@
     "assert-plus": "^1.0.0",
     "backoff": "2.5.0",
     "bunyan": "0.23.1",
-    "cmdln": "3.5.3",
-    "dashdash": "1.12.2",
+    "cmdln": "4.2.0",
     "extsprintf": "^1.3.0",
     "kthxbai": "~0.4.0",
     "joyent-schemas": "git+https://github.com/joyent/schemas.git#385e6eb",
-- 
2.21.0

