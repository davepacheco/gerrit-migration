{"project":"joyent/illumos-joyent","branch":"master","id":"I78dc0130d5402f19783b696837ada4e5880726be","number":"3831","subject":"OS-6744 Socket CMCI mismatch can lead to boot hang Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/3831","commitMessage":"OS-6744 Socket CMCI mismatch can lead to boot hang\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1523999608,"lastUpdated":1524092511,"open":false,"status":"MERGED","comments":[{"timestamp":1523999608,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1524008162,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(7 comments)\n\nEven though xpv doesn\u0027t need the CMCI stuff, shouldn\u0027t its psm_ops structures be updated too?"},{"timestamp":1524008208,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1524009389,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1524009395,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(10 comments)\n\nxpv updated"},{"timestamp":1524058038,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2:\n\n(1 comment)\n\nThis looks good to me, I only saw one small typo."},{"timestamp":1524061308,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1524062531,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3."},{"timestamp":1524062606,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1524063813,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1524066097,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1524068752,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\nThis seems fine, though I did briefly wonder if the two cmi setup paths were different enough that it was worth making it explicit, having one always take the cpu lock, and one assert its held; it\u0027d also make the psm-checking code more obvious."},{"timestamp":1524074374,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1524092496,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1524092511,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"5","revision":"78dc0130d5402f19783b696837ada4e5880726be","parents":["4066fb4b12a0f7c7aec01fbca53214ac0bf49856"],"ref":"refs/changes/31/3831/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1524092496,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524063813,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524066097,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1524092511,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","type":"MODIFIED","insertions":89,"deletions":-2},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":12,"deletions":-20},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":14,"deletions":-23},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":8,"deletions":-22},{"file":"usr/src/uts/i86pc/io/psm/uppc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/i86pc/os/mp_machdep.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/sys/apic_common.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/psm_types.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/smp_impldefs.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_psm.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_uppc.c","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":149,"sizeDeletions":-82},"patchSets":[{"number":"1","revision":"2532813eb563422f5956151d4cefb7e5aec143e1","parents":["9f9eb51579cad092cf3b3070d80becbe3355cc3d"],"ref":"refs/changes/31/3831/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1523999608,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":32,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: Merge with one of the above copyright comment blocks?"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":32,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":155,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"append comma"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":155,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":92,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: move the comment inside the ifndef?"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":92,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I merged this with the above block."},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":1050,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"append comma"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":1050,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":1089,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"remove comma"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":1089,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":1089,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: Wrong comma (see precisely which was indicated)"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":1089,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Sigh, sorry about that."},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","line":32,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: Merge with one of the above copyright comment blocks?"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","line":32,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/apix/apix.c","line":550,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This sentence is confusingly phrased.  Maybe something like \"Ensure a CMCI interrupt is allocated, regardless of whether it is enabled or not\""},{"file":"usr/src/uts/i86pc/io/apix/apix.c","line":550,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/apix/apix.c","line":552,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"const?"},{"file":"usr/src/uts/i86pc/io/apix/apix.c","line":552,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":434,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"const?"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":434,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","line":434,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","type":"MODIFIED","insertions":91,"deletions":-2},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":9,"deletions":-20},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":11,"deletions":-23},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":8,"deletions":-22},{"file":"usr/src/uts/i86pc/io/psm/uppc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/i86pc/os/mp_machdep.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/sys/apic_common.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/psm_types.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/smp_impldefs.h","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":147,"sizeDeletions":-82},{"number":"2","revision":"9c0a6c1286ad8d824794776fdf5ef440c6ca0e9a","parents":["c503160a02cf369bd6e7adfeb4a9dd95ea8cd3da"],"ref":"refs/changes/31/3831/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1524009389,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":89,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"typo"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","line":89,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","type":"MODIFIED","insertions":89,"deletions":-2},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":12,"deletions":-20},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":14,"deletions":-23},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":8,"deletions":-22},{"file":"usr/src/uts/i86pc/io/psm/uppc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/i86pc/os/mp_machdep.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/sys/apic_common.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/psm_types.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/smp_impldefs.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_psm.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_uppc.c","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":149,"sizeDeletions":-82},{"number":"3","revision":"cdf0e0d5e341f0d32253b4d3dcc58cc686483913","parents":["c503160a02cf369bd6e7adfeb4a9dd95ea8cd3da"],"ref":"refs/changes/31/3831/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1524062531,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524063813,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524066097,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","type":"MODIFIED","insertions":89,"deletions":-2},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":12,"deletions":-20},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":14,"deletions":-23},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":8,"deletions":-22},{"file":"usr/src/uts/i86pc/io/psm/uppc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/i86pc/os/mp_machdep.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/sys/apic_common.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/psm_types.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/smp_impldefs.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_psm.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_uppc.c","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":149,"sizeDeletions":-82},{"number":"4","revision":"26827ef3acb6e6d6e9f5798fc51134afc74b7159","parents":["c503160a02cf369bd6e7adfeb4a9dd95ea8cd3da"],"ref":"refs/changes/31/3831/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1524074374,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524063813,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524066097,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","type":"MODIFIED","insertions":89,"deletions":-2},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":12,"deletions":-20},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":14,"deletions":-23},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":8,"deletions":-22},{"file":"usr/src/uts/i86pc/io/psm/uppc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/i86pc/os/mp_machdep.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/sys/apic_common.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/psm_types.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/smp_impldefs.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_psm.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_uppc.c","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":149,"sizeDeletions":-82},{"number":"5","revision":"78dc0130d5402f19783b696837ada4e5880726be","parents":["4066fb4b12a0f7c7aec01fbca53214ac0bf49856"],"ref":"refs/changes/31/3831/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1524092496,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1524092511,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524063813,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524066097,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524068752,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_mca.c","type":"MODIFIED","insertions":89,"deletions":-2},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_poll_ntv.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix.c","type":"MODIFIED","insertions":12,"deletions":-20},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":14,"deletions":-23},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic_common.c","type":"MODIFIED","insertions":8,"deletions":-22},{"file":"usr/src/uts/i86pc/io/psm/uppc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/i86pc/os/mp_machdep.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/sys/apic_common.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/psm_types.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/smp_impldefs.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_psm.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86xpv/io/psm/xpv_uppc.c","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":149,"sizeDeletions":-82}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}