From 14829a9a48dd6d854f4a01d3a66fa688bc16ad29 Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Tue, 16 Apr 2019 13:36:09 -0700
Subject: [PATCH] joyent/node-triton#263 config.js validateProfile is confused
 about how to be insecure

---
 CHANGES.md    | 3 +++
 lib/config.js | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/CHANGES.md b/CHANGES.md
index 925b040..7dcf302 100644
--- a/CHANGES.md
+++ b/CHANGES.md
@@ -6,6 +6,9 @@ Known issues:
 
 ## not yet released
 
+- [joyent/node-triton#263] Correct envvar name to `TRITON_TLS_INSECURE`
+  in CLI profile validation error message.
+
 ## 7.0.2
 
 - [TRITON-1347] Changing to node-tap as the test runner. Also some
diff --git a/lib/config.js b/lib/config.js
index ea9dc36..35e7359 100644
--- a/lib/config.js
+++ b/lib/config.js
@@ -229,7 +229,7 @@ function validateProfile(profile, profilePath) {
             profile.name === 'env' ? 'TRITON_KEY_ID or SDC_KEY_ID'
                 : 'profile.keyId');
         assert.optionalBool(profile.insecure,
-            profile.name === 'env' ? 'TRITON_INSECURE or SDC_INSECURE'
+            profile.name === 'env' ? 'TRITON_TLS_INSECURE or SDC_TLS_INSECURE'
                 : 'profile.insecure');
         assert.optionalString(profile.user,
             profile.name === 'env' ? 'TRITON_USER or SDC_USER'
-- 
2.21.0

