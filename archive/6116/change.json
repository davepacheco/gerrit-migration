{"project":"joyent/node-triton","branch":"master","id":"I43a26927319f35b29e6c7246dbe93024e1d28452","number":"6116","subject":"joyent/node-triton#263 config.js validateProfile is confused about how to be insecure Reviewed by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e Approved by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/6116","commitMessage":"joyent/node-triton#263 config.js validateProfile is confused about how to be insecure\nReviewed by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e\nApproved by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e\n","createdOn":1555446970,"lastUpdated":1555524106,"open":false,"status":"MERGED","comments":[{"timestamp":1555446970,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1555446972,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 9cddce7e6ab805b596b7fbb6f923d24a4d9e2d18\n    \n    fix"},{"timestamp":1555447003,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1555447149,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1555447151,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 97ef3e3387bb87ed06c8b5034c38a239df9a3c25\n    \n    copyright fix"},{"timestamp":1555447183,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1555447931,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1555449267,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1555507981,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1555523952,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1555523974,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1555523978,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 49c4375366351780c73977159050c9819329e937\n    \n    copyright fix\n    \n    commit 4f0fabff3b6ee7f2d1be9a50ffc8942ac175966f\n    \n    fix"},{"timestamp":1555524006,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1555524064,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1555524103,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1555524106,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"4","revision":"43a26927319f35b29e6c7246dbe93024e1d28452","parents":["18b8fae33564531d30bd5d256c6cd1ff3911d8e2"],"ref":"refs/changes/16/6116/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555524103,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555447183,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555524064,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555524064,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"SUBM","value":"1","grantedOn":1555524106,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":5,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"14829a9a48dd6d854f4a01d3a66fa688bc16ad29","parents":["55e1d66964e8527fa3c210044f91a2a03faa5e29"],"ref":"refs/changes/16/6116/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555446970,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555447003,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":4,"sizeDeletions":-1},{"number":"2","revision":"b79a0dc061dc7f1d489ff46cb8df58ce21d69c88","parents":["55e1d66964e8527fa3c210044f91a2a03faa5e29"],"ref":"refs/changes/16/6116/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555447149,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555447183,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/config.js","line":232,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"In node-smartdc, was anything other than SDC_TESTING ever a thing?\n\nhttps://github.com/joyent/node-smartdc/issues/64"},{"file":"lib/config.js","line":232,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"No. There was never SDC_TLS_INSECURE envvar support in node-smartdc, if that is what you are asking."},{"file":"lib/config.js","line":232,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Shouldn\u0027t this message actually say \"TRITON_TLS_INSECURE or SDC_TESTING\" then, to only refer to vars that actually existed?"},{"file":"lib/config.js","line":232,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"No. \"SDC_TLS_INSECURE\" is the other form (for better or worse) that `triton ...` supports.\n\n`SDC_TESTING` *is* supported (for compat), but deprecated. We should drop `SDC_TESTING` at some point in a major rev."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":5,"sizeDeletions":-2},{"number":"3","revision":"77c2c6a5b4824fa93f18a26b66be6d1d53c7f83a","parents":["18b8fae33564531d30bd5d256c6cd1ff3911d8e2"],"ref":"refs/changes/16/6116/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555523974,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555447183,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555524064,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555524064,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":5,"sizeDeletions":-2},{"number":"4","revision":"43a26927319f35b29e6c7246dbe93024e1d28452","parents":["18b8fae33564531d30bd5d256c6cd1ff3911d8e2"],"ref":"refs/changes/16/6116/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555524103,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555447183,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1555524106,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555524064,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555524064,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":5,"sizeDeletions":-2}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}