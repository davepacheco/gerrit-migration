{"project":"joyent/smartos-live","branch":"master","id":"Ib1b41fd250028051dc53764af366701cb844dc0d","number":"531","subject":"OS-5666 statechange lock_file() use of trap could be less confusing Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"url":"https://cr.joyent.us/531","commitMessage":"OS-5666 statechange lock_file() use of trap could be less confusing\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1474746761,"lastUpdated":1474918583,"open":false,"status":"MERGED","comments":[{"timestamp":1474746761,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 1."},{"timestamp":1474746801,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1474909617,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1474918512,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1474918567,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1474918568,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1474918583,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Ryan Zezeski"}],"currentPatchSet":{"number":"3","revision":"b1b41fd250028051dc53764af366701cb844dc0d","parents":["1e841afa28d31a0b874e43ae1af791928a946ea1"],"ref":"refs/changes/31/531/3","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1474918567,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474746801,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1474918583,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"overlay/generic/usr/lib/brand/jcommon/poststate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/prestate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/statechange","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"86562324ef76d0eda69c38aeca842b63a39e2236","parents":["ba1feec0e1541ec7fd98d99b31d02c4d96abd129"],"ref":"refs/changes/31/531/1","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1474746761,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474746801,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"overlay/generic/usr/lib/brand/jcommon/poststate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/prestate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/statechange","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-3},{"number":"2","revision":"e45498c138c1406122179219f1b54dc88ffbcc62","parents":["1e841afa28d31a0b874e43ae1af791928a946ea1"],"ref":"refs/changes/31/531/2","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1474918512,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474746801,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"overlay/generic/usr/lib/brand/jcommon/poststate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/prestate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/statechange","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-3},{"number":"3","revision":"b1b41fd250028051dc53764af366701cb844dc0d","parents":["1e841afa28d31a0b874e43ae1af791928a946ea1"],"ref":"refs/changes/31/531/3","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1474918567,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474746801,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474909617,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1474918583,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"overlay/generic/usr/lib/brand/jcommon/poststate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/prestate","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"overlay/generic/usr/lib/brand/jcommon/statechange","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-3}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}]}