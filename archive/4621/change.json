{"project":"joyent/sdcadm","branch":"master","id":"Ic0901ec6afa75f2aa818de99f06ba64cb2a72bc2","number":"4621","subject":"TOOLS-1962 \u0027sdcadm create sdc -s NEW-HEADNODE\u0027 should work Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/4621","commitMessage":"TOOLS-1962 \u0027sdcadm create sdc -s NEW-HEADNODE\u0027 should work\nReviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1533224300,"lastUpdated":1533747207,"open":false,"status":"MERGED","comments":[{"timestamp":1533224300,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1533224304,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 8b0ac62e2a45df18bdb38103707ccc8acec4f2a6\n    \n    \u0027sdcadm create sdc -s NEW-HEADNODE\u0027 should work"},{"timestamp":1533224345,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533565823,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1533565827,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 6764d03c88c0ac245a5d7f84a29cafe16dde450c\n    \n    \u0027sdcadm create sdc -s NEW-HEADNODE\u0027 should work"},{"timestamp":1533565856,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1533567970,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1533567974,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 82d17fe6290cc2990dfc4d1b48f8facef5a71334\n    \n    \u0027sdcadm create sdc -s NEW-HEADNODE\u0027 should work"},{"timestamp":1533568004,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1533570483,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 3:\n\n(3 comments)\n\nFor IA: how was it tested?"},{"timestamp":1533746488,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4."},{"timestamp":1533746493,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit fa9a0146c47305a6baa769eeb35a51c83604b8b2\n    \n    \u0027sdcadm create sdc -s NEW-HEADNODE\u0027 should work"},{"timestamp":1533746528,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533746569,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4:\n\n(3 comments)\n\n\u003e (3 comments)\n \u003e \n \u003e For IA: how was it tested?\n\nOn this case, just \"sdcadm create sdc -s `sysinfo|json UUID` --dev-allow-multiple-instances\" and verifying that the zone comes up fine and can replace the other sdc0 zone when taking that one down."},{"timestamp":1533746801,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1533747197,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1533747207,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"5","revision":"c0901ec6afa75f2aa818de99f06ba64cb2a72bc2","parents":["fe5394ff82c437f26640eff3d940d50c8bb16126"],"ref":"refs/changes/21/4621/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1533747197,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533746528,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533746801,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533746801,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1533747207,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":22,"deletions":0},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":25,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"a004e78853aa1d6e413a778f05a113407fd850b5","parents":["907506a17ede0bd75831585f170d55234b71972a"],"ref":"refs/changes/21/4621/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1533224300,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533224345,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":17,"deletions":0},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":18,"sizeDeletions":-1},{"number":"2","revision":"346a7549bc8dcfc7b5492878eb4ec40fd0e92693","parents":["c213a3e2923750112e4104f71541c6900f618e71"],"ref":"refs/changes/21/4621/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1533565823,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533224345,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":17,"deletions":0},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":18,"sizeDeletions":-1},{"number":"3","revision":"aad24fc306e998bdbfcfc6e11101be4a6fc386d2","parents":["cb24da3e8652cc169f1d5ef4e8b03d35da6e9fbb"],"ref":"refs/changes/21/4621/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1533567970,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533224345,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/procedures/create-service-instance-v1.js","line":192,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"nor will"},{"file":"lib/procedures/create-service-instance-v1.js","line":192,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/procedures/create-service-instance-v1.js","line":193,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"if changing the above, remove this"},{"file":"lib/procedures/create-service-instance-v1.js","line":193,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/procedures/create-service-instance-v1.js","line":197,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Okay, so the given command will symlink in the tools. What commands will disable napi-ufds-watcher and hermes?\n\nOr at least make clear that they\u0027ll need to do that manually themselves. The way it is currently phrased, it almost seems like the services will (somehow) be disabled by symlinking."},{"file":"lib/procedures/create-service-instance-v1.js","line":197,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":17,"deletions":0},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":18,"sizeDeletions":-1},{"number":"4","revision":"e193c151f5ee200b21b184c88f8ef70a1d272701","parents":["fe5394ff82c437f26640eff3d940d50c8bb16126"],"ref":"refs/changes/21/4621/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1533746488,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533746528,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533746801,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533746801,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":22,"deletions":0},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":25,"sizeDeletions":-1},{"number":"5","revision":"c0901ec6afa75f2aa818de99f06ba64cb2a72bc2","parents":["fe5394ff82c437f26640eff3d940d50c8bb16126"],"ref":"refs/changes/21/4621/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1533747197,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533746528,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1533747207,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533746801,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533746801,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":22,"deletions":0},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":25,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}