{"project":"joyent/node-manta","branch":"master","id":"I6fcca2cff7b7c503afd6ede81d5ce8fe3b4c738e","number":"71","subject":"joyent/node-manta#265 `mfind --json,-j` Reviewed by: Dave Pacheco \u003cdap@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/71","commitMessage":"joyent/node-manta#265 `mfind --json,-j`\nReviewed by: Dave Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1468439445,"lastUpdated":1468686150,"open":false,"status":"MERGED","comments":[{"timestamp":1468439445,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1468443502,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\nThis looks great.\n\nCan you update the manual page for mfind as well?  Since this is presumably now a committed interface, we should probably mention what the fields are.  I think it\u0027s fine to point people at the API documentation for that (https://apidocs.joyent.com/manta/api.html#ListDirectory), though it looks like we add the \"parent\" and \"depth\" fields in addition.\n\nIs it worth adding a test case for this too?"},{"timestamp":1468445208,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n@dap Ah right, the man page. I had forgotten. \n\nTest case: Heh, probably I should yes. I was hoping to whip it in. We don\u0027t have a lot of prior art in node-manta\u0027s test suite for testing of the CLIs and their options. Almost exclusively it is just testing of the client directly. I\u0027ll try to get a test case."},{"timestamp":1468446428,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\nAh, okay.  If we don\u0027t have other test cases for CLI tools, then we shouldn\u0027t block this change on it."},{"timestamp":1468452310,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1468458456,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\nThanks for the test!\n\nI still think it would be worth documenting the fields (maybe in the manual page?), since we\u0027re effectively committing to this new interface, and presumably the point is for people to program to it.  I think it\u0027s fine to just point people at the API docs, though it would be nice to mention the two additional fields."},{"timestamp":1468626398,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1468626472,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nI\u0027d forgotten your suggestion to doc the --json fields. Added now in patch set 3."},{"timestamp":1468627351,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3: Code-Review+2"},{"timestamp":1468686150,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"6fcca2cff7b7c503afd6ede81d5ce8fe3b4c738e","parents":["384098ad875f6c65783ae7fe3fc71f27d332576c"],"ref":"refs/changes/71/71/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1468626398,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1468627351,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1468686150,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"bin/mfind","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/lib/logging.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/mfind.test.js","type":"ADDED","insertions":148,"deletions":0}],"sizeInsertions":208,"sizeDeletions":-13},"patchSets":[{"number":"1","revision":"ca1b4d98cce447dc9b9fd586a336958e34fd6057","parents":["384098ad875f6c65783ae7fe3fc71f27d332576c"],"ref":"refs/changes/71/71/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1468439445,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"bin/mfind","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":21,"sizeDeletions":-3},{"number":"2","revision":"a1ff496c802a33a557f17487f74cc673ff8f9485","parents":["384098ad875f6c65783ae7fe3fc71f27d332576c"],"ref":"refs/changes/71/71/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1468452310,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"bin/mfind","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/lib/logging.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/mfind.test.js","type":"ADDED","insertions":139,"deletions":0}],"sizeInsertions":177,"sizeDeletions":-13},{"number":"3","revision":"6fcca2cff7b7c503afd6ede81d5ce8fe3b4c738e","parents":["384098ad875f6c65783ae7fe3fc71f27d332576c"],"ref":"refs/changes/71/71/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1468626398,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1468627351,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1468686150,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"bin/mfind","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/lib/logging.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/mfind.test.js","type":"ADDED","insertions":148,"deletions":0}],"sizeInsertions":208,"sizeDeletions":-13}],"allReviewers":[{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}