{"project":"joyent/sdc-adminui","branch":"master","id":"Ife3fcffacd3380a23dcd3da3142a2fbfc403566a","number":"2828","subject":"ADMINUI-2388 When packages with similar names are created, their package versions are listed in the other\u0027s versions ADMINUI-2392 Package search by memory and disk was broken by ADMINUI-2378 Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e Approved by","owner":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"url":"https://cr.joyent.us/2828","commitMessage":"ADMINUI-2388 When packages with similar names are created, their package versions are listed in the other\u0027s versions\nADMINUI-2392 Package search by memory and disk was broken by ADMINUI-2378\nReviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1508478781,"lastUpdated":1508895936,"open":false,"status":"MERGED","comments":[{"timestamp":1508478781,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Uploaded patch set 1."},{"timestamp":1508478815,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508717703,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Uploaded patch set 2."},{"timestamp":1508717735,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508750048,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2: Code-Review+1\n\n(2 comments)"},{"timestamp":1508895100,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Uploaded patch set 3."},{"timestamp":1508895128,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508895223,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1508895712,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1508895831,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1508895936,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Angela Fong"}],"currentPatchSet":{"number":"4","revision":"fe3fcffacd3380a23dcd3da3142a2fbfc403566a","parents":["7392f9c688d6373406b29c2244c33a4233c0edc0"],"ref":"refs/changes/28/2828/4","uploader":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"createdOn":1508895831,"author":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508895128,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508895712,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508895712,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1508895936,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/adminui.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/packages.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"www/js/views/packages.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":17,"sizeDeletions":-5},"patchSets":[{"number":"1","revision":"1edbfe1e4a0f5a56c90a6402e2671cab471e9a35","parents":["ab3b7fc3930bd8e0b57aebed96ab8fe47e734c4f"],"ref":"refs/changes/28/2828/1","uploader":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"createdOn":1508478781,"author":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508478815,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/packages.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"www/js/views/packages.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":7,"sizeDeletions":-3},{"number":"2","revision":"894c91df22e9ad3fa9566bd1be6dd7e0d7d9fda1","parents":["ab3b7fc3930bd8e0b57aebed96ab8fe47e734c4f"],"ref":"refs/changes/28/2828/2","uploader":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"createdOn":1508717703,"author":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508717735,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508750048,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"lib/adminui.js","line":46,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"This code would be safer and a tad cleaner if it used \"var params \u003d req.params\" first."},{"file":"lib/adminui.js","line":46,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Done"},{"file":"lib/packages.js","line":141,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Maybe:\n\n// comment explaining why \u0027name_substring\u0027 should be substituted with \u0027name\u0027\nkey \u003d (key \u003d\u003d\u003d \u0027name_substring\u0027 ? \u0027name\u0027 : key);\nfilter.push(sprintf(\u0027(%s:caseIgnoreSubstringsMatch:\u003d*%s*)\u0027, key, value));\n\nOr something along those lines; there isn\u0027t a need to duplicate the filter.push() line. The reason for the key comparison isn\u0027t immediately clear either, ergo the request for a comment."},{"file":"lib/packages.js","line":141,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Yes we need to explain this. I meant to add a comment but forgot to do so."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/adminui.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/packages.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"www/js/views/packages.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-4},{"number":"3","revision":"bcd72f421d7aebad05e0705ce210abcefccb828f","parents":["7392f9c688d6373406b29c2244c33a4233c0edc0"],"ref":"refs/changes/28/2828/3","uploader":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"createdOn":1508895100,"author":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508895128,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508895712,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508895712,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"lib/packages.js","line":130,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Over 80 columns.\n\nNot that this repo at all obeys that restriction! :p"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/adminui.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/packages.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"www/js/views/packages.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":17,"sizeDeletions":-5},{"number":"4","revision":"fe3fcffacd3380a23dcd3da3142a2fbfc403566a","parents":["7392f9c688d6373406b29c2244c33a4233c0edc0"],"ref":"refs/changes/28/2828/4","uploader":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"createdOn":1508895831,"author":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508895128,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508895712,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508895712,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1508895936,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/adminui.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/packages.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"www/js/views/packages.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":17,"sizeDeletions":-5}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}]}