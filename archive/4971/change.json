{"project":"joyent/node-sdc-clients","branch":"master","id":"I3d668a961ea2fff59afc41d78a555e02cf0e0c24","number":"4971","subject":"TRITON-886 Add support for `channel` option to IMGAPI client `getImage` method. Reviewed by: Isaac Davis \u003cisaac.davis@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/4971","commitMessage":"TRITON-886 Add support for `channel` option to IMGAPI client `getImage` method.\nReviewed by: Isaac Davis \u003cisaac.davis@joyent.com\u003e\n","createdOn":1539805298,"lastUpdated":1540853989,"open":false,"status":"MERGED","comments":[{"timestamp":1539805298,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1539805299,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit c1f9b04c6e55b6c9587463eb9f4c3a877ed20435\n    \n    add IMGAPI.getImage channel param override"},{"timestamp":1539805323,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1539808019,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1539810080,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 1:\n\nLooks good. I do have one question - would it make sense to add support for the `channel` option to all relevant methods at once, rather than have it supported by some and unsupported by others? I\u0027m worried the inconsistency could create a sharp edge for people calling the methods."},{"timestamp":1540848659,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1540848661,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 8a3aec43f51d0e5e1ae5774ad27959d465d7854a\n    \n    per CR suggestion, add options.channel support for all the other endpoints that accept a channel param"},{"timestamp":1540848684,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1540848806,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nIsaac,\n\nThanks for the suggestion! Only two weeks later, I\u0027ve added it for the other endpoints.\n\nTesting notes: With these changes `sdcadm post-setup prometheus -C experimental ...` still works. That isn\u0027t a thorough testing of the other endpoints, but it does sanity check that the basic usage of the IMGAPI client is working at least.\n\nThe node-sdc-clients IMGAPI test suite isn\u0027t much help and I wasn\u0027t proposing fleshing it out."},{"timestamp":1540849697,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1540853974,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1540853989,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"2","revision":"3d668a961ea2fff59afc41d78a555e02cf0e0c24","parents":["047b72eb0d30d5cc9ebd8af238f174e3dc45a8b7"],"ref":"refs/changes/71/4971/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1540848659,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1540848684,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1540849697,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1540853974,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1540853989,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/imgapi.js","type":"MODIFIED","insertions":137,"deletions":-30}],"sizeInsertions":143,"sizeDeletions":-31},"patchSets":[{"number":"1","revision":"92fefacff4842c261d2741c55c0bfa4d18ffcd7f","parents":["047b72eb0d30d5cc9ebd8af238f174e3dc45a8b7"],"ref":"refs/changes/71/4971/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1539805298,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1539805323,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539808019,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/imgapi.js","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":7,"sizeDeletions":-2},{"number":"2","revision":"3d668a961ea2fff59afc41d78a555e02cf0e0c24","parents":["047b72eb0d30d5cc9ebd8af238f174e3dc45a8b7"],"ref":"refs/changes/71/4971/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1540848659,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1540848684,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1540853974,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1540853989,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1540849697,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/imgapi.js","type":"MODIFIED","insertions":137,"deletions":-30}],"sizeInsertions":143,"sizeDeletions":-31}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}