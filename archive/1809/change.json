{"project":"joyent/node-moray","branch":"master","topic":"MORAY-104","id":"Iad172f44cd0894c365c0db98c8accf7c3fda961d","number":"1809","subject":"MORAY-104 moray: disallow filtering on non-indexed fields except interactively Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Approved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"url":"https://cr.joyent.us/1809","commitMessage":"MORAY-104 moray: disallow filtering on non-indexed fields except interactively\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1492641027,"lastUpdated":1496356408,"open":false,"status":"MERGED","comments":[{"timestamp":1492641027,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 1."},{"timestamp":1492641051,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1492727472,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 2."},{"timestamp":1492727500,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1492801861,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)"},{"timestamp":1493074436,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1493402369,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(5 comments)"},{"timestamp":1493753894,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(5 comments)"},{"timestamp":1493918313,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Topic set to MORAY-104"},{"timestamp":1493924899,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1494463845,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1494546676,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 3."},{"timestamp":1494546699,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1494546717,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(5 comments)"},{"timestamp":1494964559,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 4."},{"timestamp":1494964584,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1494964614,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1494965590,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1496103888,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 4:\n\nI\u0027ve added some information about how these changes were tested in the associated JIRA ticket."},{"timestamp":1496341151,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 5."},{"timestamp":1496341176,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496341326,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 5:\n\nThe latest patchset just bumps the dependency on verror from ^1.7.0 to ^1.9.0, so that we make sure that we get VError.hasCauseWithName from verror, which was introduced in version 1.9.0.\n\nThe moray-test-suite was running fine, because npm installing node-moray with a dependency on verror ^1.7.0 would install the latest 1.x version.\n\nHowever, when using the node-moray changes from this CR within sdc-vmapi, which has a fixed dependency on verror 1.8.1, npm install node-moray would find that verror 1.8.1 \u003e\u003d ^1.7.0, and thus would install a verror module *without* the implementation for VError.hasCauseWithName."},{"timestamp":1496341705,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1496342825,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1496344126,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 6."},{"timestamp":1496344160,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496344178,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1496344456,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1496354456,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1"},{"timestamp":1496355204,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 7: Commit message was updated."},{"timestamp":1496356408,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Julien Gilli"}],"currentPatchSet":{"number":"7","revision":"791780c7c78c5c0d63b1b75f4e97ea15153c6a0d","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/7","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1496355204,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496344160,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496344456,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496354456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496354456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1496356408,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/findobjects","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"docs/man/man1/findobjects.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":171,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":214,"sizeDeletions":-9},"patchSets":[{"number":"1","revision":"0515ef1fb1254ec758d52b472ebc2c3358cda3a2","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/1","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1492641027,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492641051,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":122,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":151,"sizeDeletions":-5},{"number":"2","revision":"46acfc8879916b38991e72123e27c0b6eefd5116","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/2","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1492727472,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492801861,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492727500,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/man/man3/moray.md","line":242,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Could we add an option to findobjects(1) to exercise the new option and document it accordingly?"},{"file":"docs/man/man3/moray.md","line":242,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"OK, since the synopsis of MORAY-104 was \"disallow filtering on non-indexed fields except interactively\", I thought it was not necessary to add that capability to  findobjects(1) with these changes, and that could be done later instead, but I can do that."},{"file":"docs/man/man3/moray.md","line":242,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"In general, I try to add CLI tools that exercise new APIs when I add the APIs -- I think of it like the documentation in that way.  I wouldn\u0027t say it\u0027s strictly required, but if it\u0027s easy to do, I think it\u0027s very worthwhile."},{"file":"docs/man/man3/moray.md","line":242,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Agreed, will do in a subsequent patch set."},{"file":"docs/man/man3/moray.md","line":242,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I\u0027ve also added a test for that option in moray-test-suite."},{"file":"lib/objects.js","line":123,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"We seem to call this before actually making the RPC.  What does it mean in that context?"},{"file":"lib/objects.js","line":123,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"It is currently called before making the RPC to determine whether the client passed an option for which the server needs to acknowledge that it was handled. \n\nIt has this semantic before making the RPC call, because at that point all \"handledOptions\" properties have a value set to \"false\", since by definition the server hasn\u0027t sent a response specifying which options were handled.\n\nIt makes the code confusing to read though, so for that use case I\u0027ll change the code to not use \"getUnhandledOptions\"."},{"file":"lib/objects.js","line":123,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"That makes sense.  You could also just clarify the name or documentation."},{"file":"lib/objects.js","line":123,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/objects.js","line":152,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You can use jsprim.hasKey() here and below."},{"file":"lib/objects.js","line":152,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I like the fact that using Object.hasOwnProperty makes it explicit what kind of properties I\u0027m looking for here, so I\u0027m leaning towards not using jsprim.hasKey for now, which seems it would make this less explicit."},{"file":"lib/objects.js","line":185,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Shouldn\u0027t we be using VError\u0027s informational properties for this?"},{"file":"lib/objects.js","line":185,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Probably, I\u0027ll update this part of the code to use VError."},{"file":"lib/objects.js","line":185,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/objects.js","line":217,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Extra space here?"},{"file":"lib/objects.js","line":217,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good catch, will fix!"},{"file":"lib/objects.js","line":217,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/objects.js","line":266,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Does this ever stop the stream from flowing?"},{"file":"lib/objects.js","line":266,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"No, it doesn\u0027t. The rationale for doing that was no mechanism to abort a node-fast request, except only client side, seemed to exist.\n\nSo it seemed there\u0027s no way to prevent data from coming in, and in this case if there was an \u0027error\u0027 event previously emitted, an \u0027end\u0027 event would not be emitted.\n\nDo you have any suggestion in mind to improve things?"},{"file":"lib/objects.js","line":266,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think this is okay -- I just wanted to make sure we didn\u0027t leak the data and the request.\n\nBut why not just do the client-side-only abort?  Isn\u0027t that basically what we\u0027re trying to do here anyway?"},{"file":"lib/objects.js","line":266,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"\u003e But why not just do the client-side-only abort?  Isn\u0027t that basically what we\u0027re trying to do here anyway?\n\nIndeed, it looks like we could use \"req.abandon()\" here. It\u0027s not clear to me whether in this case both the \u0027end\u0027 and \u0027error\u0027 event would be emitted, but I\u0027ll figure it out and make that change. Thanks for the suggestion!"},{"file":"lib/objects.js","line":266,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I wanted to use \"FastClientRequest.prototype.abandon\", but it doesn\u0027t take a custom error as a parameter.\n\nSo I looked at \"FastClient.prototype.requestAbandon\", but I don\u0027t have a reference to the \"FastClient\" instance in this function.\n\nAm I missing something that would make this feasible without a change in node-fast, or without a significant refactoring in how \"MorayClient.prototype.findObjects\" is implemented?\n\nI could check in \"rpcCommon\"\u0027s callback that \"err\" is an instance of \"FastRequestAbandonedError\", and if \"needMetadataRecord \u0026\u0026 !gotMetadataRecord\" evaluates to true emit a \u0027UnhandledOptionsError\u0027 instead,  but that seems a bit hacky and potentially incorrect.\n\nOr maybe set a \"errorToEmit\" before calling \"requestAbandon\", but it also seems a bit fragile."},{"file":"lib/objects.js","line":266,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I actually just pushed a patch set that adresses that, according to the discussion we had with Dave in private."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":126,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":155,"sizeDeletions":-5},{"number":"3","revision":"81cd3e2d64fcc83e179da85d7982959f735c348b","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1494546676,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494546699,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/findobjects","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"docs/man/man1/findobjects.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":170,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":212,"sizeDeletions":-8},{"number":"4","revision":"fcaf7144807b7bd7d356ad50b7043bb21ca0bfde","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/4","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1494964559,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1494965590,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494964584,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/findobjects","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"docs/man/man1/findobjects.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":170,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":212,"sizeDeletions":-8},{"number":"5","revision":"6e2c04f80aa2575d29c4923f0b84a64894ec3f95","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1496341151,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496341705,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496342825,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496342825,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496341176,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/objects.js","line":193,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"\"and returns\"?"},{"file":"lib/objects.js","line":193,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/findobjects","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"docs/man/man1/findobjects.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":170,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":213,"sizeDeletions":-9},{"number":"6","revision":"ad172f44cd0894c365c0db98c8accf7c3fda961d","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/6","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1496344126,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496344456,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496354456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496354456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496344160,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/findobjects","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"docs/man/man1/findobjects.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":171,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":214,"sizeDeletions":-9},{"number":"7","revision":"791780c7c78c5c0d63b1b75f4e97ea15153c6a0d","parents":["2c2bb0ec6e1a68478dad18a87204ee5c10ec3dcc"],"ref":"refs/changes/09/1809/7","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1496355204,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496344456,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496354456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496354456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496344160,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1496356408,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/findobjects","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"docs/man/man1/findobjects.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"docs/man/man3/moray.md","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/objects.js","type":"MODIFIED","insertions":171,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":214,"sizeDeletions":-9}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}