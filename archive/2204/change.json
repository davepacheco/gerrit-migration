{"project":"joyent/eng","branch":"master","id":"Ia3caa0cb0f936d561acd08f6ca4cd19ab2a0f982","number":"2204","subject":"TOOLS-1810 common Makefile infrastructure for NPM public registry use TOOLS-1813 eng.git Makefile should actually work TOOLS-1814 retire \"node_deps\" Makefile from eng.git Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Reviewed by: David Pacheco \u003cdap@joyent.co","owner":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"url":"https://cr.joyent.us/2204","commitMessage":"TOOLS-1810 common Makefile infrastructure for NPM public registry use\nTOOLS-1813 eng.git Makefile should actually work\nTOOLS-1814 retire \"node_deps\" Makefile from eng.git\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: David Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1499746332,"lastUpdated":1500076063,"open":false,"status":"MERGED","comments":[{"timestamp":1499746332,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 1."},{"timestamp":1499746356,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499746617,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 2."},{"timestamp":1499746652,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499792073,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)\n\nThis looks great!  Thanks for doing it."},{"timestamp":1499901514,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 3."},{"timestamp":1499901518,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1499901538,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499901603,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 4."},{"timestamp":1499901628,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499901930,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1499919532,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 5."},{"timestamp":1499919582,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499919598,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 6."},{"timestamp":1499919624,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500057572,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6: Code-Review+1\n\n(5 comments)"},{"timestamp":1500057838,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1500060242,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 6:\n\n(7 comments)\n\nThanks for doing this!"},{"timestamp":1500068712,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 7."},{"timestamp":1500068715,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 6:\n\n(10 comments)"},{"timestamp":1500068745,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500069032,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 7:\n\nI believe I have applied everybody\u0027s feedback.  I have also re-executed the tests described in TOOLS-1810 and TOOLS-1813."},{"timestamp":1500074100,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1500075602,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1500075631,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1500076037,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1500076063,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Joshua M. Clulow"}],"currentPatchSet":{"number":"8","revision":"a3caa0cb0f936d561acd08f6ca4cd19ab2a0f982","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/8","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1500076037,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500068745,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500074100,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500074100,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500075602,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500075602,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1500076063,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":32,"deletions":-39},{"file":"lib/index.js","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-10},{"file":"src/node-dummy/package.json","type":"DELETED","insertions":0,"deletions":-9},{"file":"test/api.test.js","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"tools/jsstyle.conf","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":290,"sizeDeletions":-149},"patchSets":[{"number":"1","revision":"fdb076d972f0b6b13a19ad6282362463b3259746","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/1","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1499746332,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499746356,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":39,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":157,"sizeDeletions":-14},{"number":"2","revision":"65cdf6bb2efbaf3fc918e348ae23597800b364f0","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/2","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1499746617,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1499792073,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499746652,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"tools/mk/Makefile.node_modules.defs","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It would be nice to document the purpose, inputs (presumably: NODE_PACKAGE_JSON, NODE_MODULES), and how to use them (i.e., have \"all\" depend on STAMP_NODE_MODULES, or use the \"stamp-node-modules\" target directly?)."},{"file":"tools/mk/Makefile.node_modules.defs","line":0,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":39,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":158,"sizeDeletions":-14},{"number":"3","revision":"a13c5cd61a916366c05cbd7645deedfe47c7621d","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/3","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1499901514,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499901538,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":76,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":32,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":196,"sizeDeletions":-14},{"number":"4","revision":"da486cd8cc1032e316028cd3bc4c8c74e43b0d32","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/4","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1499901603,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1499901930,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499901628,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":76,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":195,"sizeDeletions":-14},{"number":"5","revision":"4bb9b80b21eccaf72445d6b1edc696affef8cdc2","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/5","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1499919532,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499919582,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":31,"deletions":-38},{"file":"lib/index.js","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-10},{"file":"test/api.test.js","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"tools/jsstyle.conf","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":85,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":306,"sizeDeletions":-139},{"number":"6","revision":"5839012bf0a2fea736befdb4d6bd6c593dcc9013","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/6","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1499919598,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500057572,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500057838,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499919624,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"Makefile","line":101,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Please remove the src/... directory as well."},{"file":"Makefile","line":101,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"},{"file":"Makefile","line":76,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Can you add a note to one of the tickets reflecting the restyling of this Makefile?"},{"file":"Makefile","line":76,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"I have added a description of the change to TOOLS-1813."},{"file":"Makefile","line":111,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"could also bump this to node v4 now"},{"file":"Makefile","line":111,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"},{"file":"package.json","line":10,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Should this not be a published version of verror?  Or is that so that this is an example of using a git dependency?"},{"file":"package.json","line":10,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"It is, indeed, an example of the correct form for a git URL."},{"file":"tools/jsstyle.conf","line":12,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"sneaky"},{"file":"tools/mk/Makefile.defs","line":93,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Should this be \"?\u003d\" so that it can be overridden?"},{"file":"tools/mk/Makefile.defs","line":93,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"},{"file":"tools/mk/Makefile.node_deps.defs","line":2,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Is there a ticket to update Makefile.node_deps.* usage in sdc-booter.git and sdc-mockcloud.git?"},{"file":"tools/mk/Makefile.node_deps.defs","line":2,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"I was considering folding those changes in as commits in those repositories using TOOLS-1814."},{"file":"tools/mk/Makefile.node_modules.defs","line":38,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Is there a use case for having variables for these?"},{"file":"tools/mk/Makefile.node_modules.defs","line":38,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"},{"file":"tools/mk/Makefile.node_modules.defs","line":65,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Typo: that should be a \u0027t\u0027 for \"node_prebuilt\""},{"file":"tools/mk/Makefile.node_modules.defs","line":65,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"},{"file":"tools/mk/Makefile.node_modules.defs","line":76,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Since I think we decided it\u0027s not possible to override these (without having it break), I wonder if these *shouldn\u0027t* be \"?\u003d\" definitions."},{"file":"tools/mk/Makefile.node_modules.defs","line":76,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Or just not have a variable for something as standard as package.json that can\u0027t be changed."},{"file":"tools/mk/Makefile.node_modules.defs","line":76,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"After careful consideration, I have decided not to use variables for these values today."},{"file":"tools/mk/Makefile.targ","line":334,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Does this need a recipe for some reason?"},{"file":"tools/mk/Makefile.targ","line":334,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"It seemed to!  Without the recipe, make refused to build the target."},{"file":"tools/mk/Makefile.targ","line":334,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"That is surprising."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":32,"deletions":-39},{"file":"lib/index.js","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-10},{"file":"test/api.test.js","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"tools/jsstyle.conf","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":85,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":307,"sizeDeletions":-140},{"number":"7","revision":"b99c20021999f6e0633016d08349df29829768fd","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/7","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1500068712,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500075602,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500075602,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500068745,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500074100,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500074100,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":32,"deletions":-39},{"file":"lib/index.js","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-10},{"file":"src/node-dummy/package.json","type":"DELETED","insertions":0,"deletions":-9},{"file":"test/api.test.js","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"tools/jsstyle.conf","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":290,"sizeDeletions":-149},{"number":"8","revision":"a3caa0cb0f936d561acd08f6ca4cd19ab2a0f982","parents":["bf2560129d0b2d49f3f6082b97cb602da0435ccd"],"ref":"refs/changes/04/2204/8","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1500076037,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500075602,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500075602,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1500076063,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500068745,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500074100,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500074100,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":32,"deletions":-39},{"file":"lib/index.js","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-10},{"file":"src/node-dummy/package.json","type":"DELETED","insertions":0,"deletions":-9},{"file":"test/api.test.js","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"tools/jsstyle.conf","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/mk/Makefile.defs","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"tools/mk/Makefile.node.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":17,"deletions":-2}],"sizeInsertions":290,"sizeDeletions":-149}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}]}