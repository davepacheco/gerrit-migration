{"project":"joyent/sdc-manta","branch":"master","id":"I48d0d723bb516d9b793a0cd3c52341b2f5868316","number":"1553","subject":"MANTA-3057 \u0027manta-adm show\u0027 could sort better Reviewed by: Dave Pacheco \u003cdap@joyent.com\u003e Approved by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e","owner":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"url":"https://cr.joyent.us/1553","commitMessage":"MANTA-3057 \u0027manta-adm show\u0027 could sort better\nReviewed by: Dave Pacheco \u003cdap@joyent.com\u003e\nApproved by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\n","createdOn":1487786054,"lastUpdated":1489013216,"open":false,"status":"MERGED","comments":[{"timestamp":1487786054,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 1."},{"timestamp":1487786097,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487787055,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 2."},{"timestamp":1487787103,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487803934,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 2:\n\n(5 comments)\n\nGreat job! Congratulations on your first CR :)\n\nI left some feedback in the code. Most of it is pretty minor. There are a couple other general things I wanted to add:\n- I always like to leave a summary of the change in the Jira ticket, explaining at a high level what was changed and why. This is helpful for reviewers and for people months (or years) down the line, trying to figure out why a line of code was added/modified. A lot of times (like with this change, I think), a sentence or two is probably sufficient.\n- Could you also write up how you tested the change in the Jira ticket as well? This can be in the same comment as your summary, and anything else you want to include. (For an example of a comment on a change I did recently, see MANTA-3150). Whoever does integration approval for the change will want to know how you tested it. It\u0027s also good to have the test plan written up to help us test and prevent regressions in the future. For example, the testing for MANTA-3072 was modeled after MANTA-2744, which fixed a similar bug in the same component."},{"timestamp":1487814228,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1487872529,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(3 comments)\n\nNice!  I have a few notes below."},{"timestamp":1487888395,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1487890598,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1487895778,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1488243502,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 3."},{"timestamp":1488243546,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1488325012,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 3:\n\n(3 comments)\n\nWere the changes to manta-adm.js scrapped for some reason?"},{"timestamp":1488326739,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 3:\n\n(1 comment)\n\nYes, the manta-adm.js changes were removed because the functionality they addressed turned out to be a bit deeper than I had anticipated.  I believed I could simply add the error messaging, but through testing I realized this might actually be a bug that would be better served by its own ticket (it was not part of MANTA-3057 originally). It is logged here: https://devhub.joyent.com/jira/browse/MANTA-3178"},{"timestamp":1488327516,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 4."},{"timestamp":1488327564,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1488385639,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1488405934,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1488406127,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 5."},{"timestamp":1488406158,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1488406315,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 6."},{"timestamp":1488406355,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1488473034,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6: Code-Review+1\n\nLooks good!  Thanks."},{"timestamp":1488993266,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6:\n\nLooks good! It looks like you tested a lot of combinations. Could you paste an representative output or two of `manta-adm show` in the ticket? After that I can IA."},{"timestamp":1489010710,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1489011170,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1489013216,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Brittany Wald"}],"currentPatchSet":{"number":"7","revision":"48d0d723bb516d9b793a0cd3c52341b2f5868316","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/7","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1489011170,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488406355,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488473034,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489010710,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"SUBM","value":"1","grantedOn":1489013216,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":-33},{"file":"lib/common.js","type":"MODIFIED","insertions":24,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":18,"deletions":-1},{"file":"test/tst.adm_show.js","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":543,"deletions":-233}],"sizeInsertions":608,"sizeDeletions":-270},"patchSets":[{"number":"1","revision":"d1a5591b6902084ffbcf01389b19f051a2966beb","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/1","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1487786054,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487786097,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-adm.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/adm.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":29,"deletions":-29},{"file":"test/tst.adm_show_cli.js","type":"ADDED","insertions":56,"deletions":0}],"sizeInsertions":95,"sizeDeletions":-34},{"number":"2","revision":"f92f64f3147d08d9c87a3e61b5adf4330461e661","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/2","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1487787055,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487787103,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"cmd/manta-adm.js","line":10,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Update copyright year here to 2017?"},{"file":"cmd/manta-adm.js","line":305,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Is this additional check intended to check if options were specified with extra arguments?\n\nI think it would be clearer (and save the creation of creating the array of keys) to use jsprim.isEmpty here (https://github.com/joyent/node-jsprim)."},{"file":"cmd/manta-adm.js","line":305,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"This check looks for unrecognized arguments, ones that are not part of the standard ops this command supports.  I will check out that method, thank you!"},{"file":"lib/adm.js","line":8,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Same here."},{"file":"lib/adm.js","line":1153,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\"sc_counts\" looks like a private field here.  (Obviously JavaScript isn\u0027t that explicit about this, but in this case, none of the properties on the ServiceConfiguration object are used outside of the implementation of that class.)\n\nWhat about adding an \"eachSorted()\" method to ServiceConfiguration that does the sort there?  Alternatively, we could use s.each() to collect a list of the rows here, sort them, and then write them to the stream."},{"file":"lib/adm.js","line":1153,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Thank you for catching that!  I like the idea of the eachSorted() method, I\u0027ll work on making that work for the other uses of sortObjectsByProps too if possible, since that function is only used on these three methods regardless."},{"file":"lib/adm.js","line":2494,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I know this is unrelated to your change, but is there any reason not to just move this function to the common.js file while we\u0027re in this code?"},{"file":"lib/adm.js","line":2494,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Not that I can think of, aside from potential issues with scoping changes.  I will look into this."},{"file":"lib/adm.js","line":2507,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"When is `isNaN(v1)` true?  I wonder if we should assert that anything that\u0027s not a string is a non-NaN number."},{"file":"lib/adm.js","line":2507,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"`isNaN` is true when elements of the comparators array other than shard are passed into this function.  The issue solved by adding this condition is that every row value is currently passed as a string, and therefore subjected to the `localeCompare`.  `localeCompare` sorts string integers by their string value (where \"12\" \u003c \"2\") rather than their integer value (where 12 \u003e 2).  I\u0027m not sure how an assertion against strings would work here, since the `isNaN` acts as a check for values that are both a string and an integer, not just one or the other."},{"file":"lib/adm.js","line":2507,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Thanks for that explanation.  I missed that this was an \"\u0026\u0026\".\n\nisNaN feels like a pretty implicit way to check whether a value can be successfully parsed as a number (because isNaN is supposed to mean \"is the IEEE NaN value\", not just anything that\u0027s not a number).  Also, It seems like deciding this based on the input of each row would produce surprising results if some of the rows could be parsed successfully, but others couldn\u0027t -- either because of bad input for the \"shard\" column, or because someone started using a non-integer \"shard\", or because the value of some other column happened to include some strings that were integers by coincidence.  I think it would be better if the callers explicitly parsed the integer columns here and just provided numbers to this function, since the callers should know which columns are actually numbers.  All that said, I\u0027m not sure it\u0027s worth changing this because I can\u0027t think of a case where this would actually do the wrong thing (short of the coincidence case, but I\u0027m not sure it\u0027s possible with the columns we have today)."},{"file":"lib/adm.js","line":2507,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"I agree that\u0027s it\u0027s very implicit.  I can see how it would be an issue to evaluate a (future) column with a mix of integer and string values.  For the current columns, and since this function is only used within the show method, I don\u0027t think it should be a problem.  I was trusting that the input for the shard column would be consistent by this point in the workflow, but I can and should test a case with mixed values and see what happens -- thanks for pointing that out.\n\nGenerally, I do think that a coincidental or future case where another column used strings that parsed to integers would work out ok (as long as within-column values are consistent), because the comparators explicitly define an organizational hierarchy.   This does actually come up in the example of the count column for manta-adm show -s, which is currently defined as a column but not a comparator.  If I add the count values to the comparator array, there is no alteration to the sorting, because shard number is evaluated first."},{"file":"test/tst.adm_show.js.out","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Could we add a test case that exercises \"manta-adm show\" and \"manta-adm show -s\" when there are at least 10 shards?  That could even be an extension of the existing test case.  Sorry if that\u0027s here and I just missed it.  I only see an update for \"manta-adm show -c\"."},{"file":"test/tst.adm_show_cli.js","line":12,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"It seems like these tests should be included in the existing manta-adm show tests, or otherwise differentiated from them. Do the existing manta-adm show tests (i.e., the ones in tst.adm_show.js) not test the CLI?\n\nAlso, are there new tests for the sort functionality?"},{"file":"test/tst.adm_show_cli.js","line":12,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"I thought about putting this test(ing setup) in the same file as the existing tests in tst.adm_show.js, but decided that this was different enough functionality to merit its own file.  tst.adm_show.js sets up a framework for plugging in the different functions for dumping the deployed zones/config.  This file\u0027s test is triggered further up the stack, before any of those functions would be called, in the case that an unrecognized flag is passed to `show`.  Maybe I should call out that this file is specifically for testing error messaging triggered by the CLI, either in comments or by splitting this out into a separate change?  I thought the change itself was small enough that it was ok to go in with this ticket.  The new test file does make it a bigger change, though I\u0027m not sure what the threshold is for a new ticket.\n\nThere are not new tests for the sorting functionality itself, there are updates to the old tests.  The old tests pass by matching the contents of tst.adm_show.js.out -- a file which previously listed shards out of order, and which I have now corrected -- to the output of the manta-adm show command."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-adm.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/adm.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":29,"deletions":-29},{"file":"test/tst.adm_show_cli.js","type":"ADDED","insertions":56,"deletions":0}],"sizeInsertions":95,"sizeDeletions":-34},{"number":"3","revision":"2302c9f2f97c7578109d970331328043178d2d72","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/3","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1488243502,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488243546,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/adm.js","line":1056,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Since sortObjectsByProps doesn\u0027t use `this`, `call()` isn\u0027t needed here. We can just call the function directly."},{"file":"lib/adm.js","line":1056,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Thank you!"},{"file":"lib/adm.js","line":1090,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Same here."},{"file":"lib/services.js","line":146,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Same here."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":-32},{"file":"lib/common.js","type":"MODIFIED","insertions":24,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"test/tst.adm_show.js","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":543,"deletions":-233}],"sizeInsertions":601,"sizeDeletions":-269},{"number":"4","revision":"f1d87390bb127a143f9437bf47e4ad829af8b64b","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/4","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1488327516,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488327564,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/services.js","line":143,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I was envisioning that this would work just like .each() (i.e., it would take a callback as an argument and call the callback on each one), but it would do it in sorted order.  I don\u0027t think we want to modify sc_counts itself here.  I\u0027d suggest creating a shallow copy with slice(), sorting that, and then doing the same thing that each() does with that.  This way, the function doesn\u0027t mutate the state of the object, and callers don\u0027t have to keep track of who sorted it last with which comparators or anything.  What do you think of that?\n\nSorry for the confusion."},{"file":"lib/services.js","line":143,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"That\u0027s a great point!  Sorry for not catching that, and thank you for the explanation."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":-32},{"file":"lib/common.js","type":"MODIFIED","insertions":24,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"test/tst.adm_show.js","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":543,"deletions":-233}],"sizeInsertions":600,"sizeDeletions":-269},{"number":"5","revision":"7d56fe37c61feb5ebeb3cadc2d4dccc0547636d6","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/5","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1488406127,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1488406158,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/services.js","line":150,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: config"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":-33},{"file":"lib/common.js","type":"MODIFIED","insertions":24,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":18,"deletions":-1},{"file":"test/tst.adm_show.js","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":543,"deletions":-233}],"sizeInsertions":608,"sizeDeletions":-270},{"number":"6","revision":"15e2ec983e396d32b46fb72bbbb7be48ec2eebf0","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/6","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1488406315,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488473034,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488406355,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489010710,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":-33},{"file":"lib/common.js","type":"MODIFIED","insertions":24,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":18,"deletions":-1},{"file":"test/tst.adm_show.js","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":543,"deletions":-233}],"sizeInsertions":608,"sizeDeletions":-270},{"number":"7","revision":"48d0d723bb516d9b793a0cd3c52341b2f5868316","parents":["91b7671e0d202170ae99a1c2ef2a36d19ac7f7bc"],"ref":"refs/changes/53/1553/7","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1489011170,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488473034,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488406355,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489010710,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"SUBM","value":"1","grantedOn":1489013216,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":-33},{"file":"lib/common.js","type":"MODIFIED","insertions":24,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":18,"deletions":-1},{"file":"test/tst.adm_show.js","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"test/tst.adm_show.js.out","type":"MODIFIED","insertions":543,"deletions":-233}],"sizeInsertions":608,"sizeDeletions":-270}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}]}