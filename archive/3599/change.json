{"project":"joyent/smartos-live","branch":"master","id":"If5764f0123be0b97354a4862f730bdf015bfb9ac","number":"3599","subject":"TRITON-75 Allow firewall rules to be applied in order of priority TRITON-77 Add support for ESP and AH protocols in firewall rules Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Alex Wilson \u003calex.wilson@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/3599","commitMessage":"TRITON-75 Allow firewall rules to be applied in order of priority\nTRITON-77 Add support for ESP and AH protocols in firewall rules\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1520893271,"lastUpdated":1520985121,"open":false,"status":"MERGED","comments":[{"timestamp":1520893271,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1520893467,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520907282,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1520907334,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520965226,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\nThe actual changes are in:\n\nsrc/fw/lib/fw.js\nsrc/fw/test/unit/priority.test.js\nsrc/fw/package.json\n\nThese files had to change because upgrading fwrule meant switching from shipping node-uuid to uuid:\n\nsrc/fw/lib/util/log.js\nsrc/fw/node_modules/uuid/index.js\nsrc/fw/node_modules/uuid/lib/bytesToUuid.js\nsrc/fw/node_modules/uuid/lib/rng.js\nsrc/fw/node_modules/uuid/LICENSE.md\nsrc/fw/node_modules/uuid/v1.js\nsrc/fw/node_modules/uuid/v4.js\nsrc/fw/test/lib/helpers.js\nsrc/fw/test/lib/mocks.js\nsrc/fw/test/unit/add.test.js\nsrc/fw/test/unit/fw.test.js\nsrc/fw/test/unit/global.test.js\nsrc/fw/test/unit/icmp.test.js\nsrc/fw/test/unit/list.test.js\nsrc/fw/test/unit/owner.test.js\nsrc/fw/test/unit/remote-targets.test.js\nsrc/fw/test/unit/remote-vms.test.js\nsrc/fw/test/unit/stats.test.js\nsrc/fw/test/unit/tags.test.js\nsrc/fw/test/unit/update.test.js\nsrc/fw/test/unit/validate.test.js\nsrc/fw/test/unit/vms.test.js\nsrc/fw/test/unit/wildcards.test.js\nsrc/fw/tools/bin/rebuild-node-modules\nsrc/manifest\n\nAnd these files are just pulling in the fwrule update:\n\nsrc/fw/node_modules/fwrule/index.js\nsrc/fw/node_modules/fwrule/parser.js\nsrc/fw/node_modules/fwrule/rule.js\nsrc/fw/node_modules/fwrule/validators.js\nsrc/fw/tools/fwrule/docs/fwrules.ebnf\nsrc/fw/tools/fwrule/docs/media/img/port-list.svg\nsrc/fw/tools/fwrule/docs/media/img/protocol.svg\nsrc/fw/tools/fwrule/docs/media/img/rule.svg\nsrc/fw/tools/fwrule/docs/media/img/target-list.svg\nsrc/fw/tools/fwrule/docs/media/img/target.svg\nsrc/fw/tools/fwrule/docs/media/img/type-list.svg\nsrc/fw/tools/fwrule/docs/rules.md\nsrc/fw/tools/fwrule/docs/rules.md.in\nsrc/fw/tools/fwrule/etc/rules.json"},{"timestamp":1520983733,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1520983777,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520983893,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1520984595,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1520985105,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1520985121,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"4","revision":"669e3444190dcae5a9390a27c55d39293a4a4bf4","parents":["9f3a5d6a9a2a67cf24371c5d4f283833329e3233"],"ref":"refs/changes/99/3599/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1520985105,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520983777,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520983893,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520984595,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1520985121,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":72,"deletions":-2},{"file":"src/fw/lib/util/log.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/node_modules/fwrule/index.js","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"src/fw/node_modules/fwrule/parser.js","type":"MODIFIED","insertions":121,"deletions":-97},{"file":"src/fw/node_modules/fwrule/rule.js","type":"MODIFIED","insertions":74,"deletions":-24},{"file":"src/fw/node_modules/fwrule/validators.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"src/fw/node_modules/node-uuid/LICENSE.md","type":"DELETED","insertions":0,"deletions":-3},{"file":"src/fw/node_modules/node-uuid/index.js","type":"DELETED","insertions":0,"deletions":-257},{"file":"src/fw/node_modules/uuid/LICENSE.md","type":"ADDED","insertions":21,"deletions":0},{"file":"src/fw/node_modules/uuid/index.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/bytesToUuid.js","type":"ADDED","insertions":23,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/rng.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/v1.js","type":"ADDED","insertions":109,"deletions":0},{"file":"src/fw/node_modules/uuid/v4.js","type":"ADDED","insertions":29,"deletions":0},{"file":"src/fw/package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"src/fw/test/integration/examples.test.js","type":"MODIFIED","insertions":4,"deletions":-45},{"file":"src/fw/test/integration/ipsec.test.js","type":"ADDED","insertions":114,"deletions":0},{"file":"src/fw/test/lib/fw.js","type":"MODIFIED","insertions":43,"deletions":0},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/global.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/ipsec.test.js","type":"ADDED","insertions":189,"deletions":0},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/priority.test.js","type":"ADDED","insertions":415,"deletions":0},{"file":"src/fw/test/unit/remote-targets.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/stats.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/validate.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/fw/tools/fwrule/docs/fwrules.ebnf","type":"MODIFIED","insertions":28,"deletions":-37},{"file":"src/fw/tools/fwrule/docs/media/img/port-list.svg","type":"ADDED","insertions":136,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/protocol.svg","type":"ADDED","insertions":138,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/rule.svg","type":"ADDED","insertions":121,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target-list.svg","type":"ADDED","insertions":102,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target.svg","type":"ADDED","insertions":160,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/type-list.svg","type":"ADDED","insertions":131,"deletions":0},{"file":"src/fw/tools/fwrule/docs/rules.md","type":"MODIFIED","insertions":79,"deletions":-51},{"file":"src/fw/tools/fwrule/docs/rules.md.in","type":"MODIFIED","insertions":110,"deletions":-25},{"file":"src/fw/tools/fwrule/etc/rules.json","type":"ADDED","insertions":3,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":8,"deletions":-3}],"sizeInsertions":2324,"sizeDeletions":-581},"patchSets":[{"number":"1","revision":"cdf5d0172678b245542defdce4c4a00171240e7a","parents":["f5ba22a87b68e413e8c4aca63123bd88196c4ed9"],"ref":"refs/changes/99/3599/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1520893271,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520893467,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":72,"deletions":-2},{"file":"src/fw/lib/util/log.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/node_modules/fwrule/index.js","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"src/fw/node_modules/fwrule/parser.js","type":"MODIFIED","insertions":121,"deletions":-97},{"file":"src/fw/node_modules/fwrule/rule.js","type":"MODIFIED","insertions":74,"deletions":-24},{"file":"src/fw/node_modules/fwrule/validators.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"src/fw/node_modules/node-uuid/LICENSE.md","type":"DELETED","insertions":0,"deletions":-3},{"file":"src/fw/node_modules/node-uuid/index.js","type":"DELETED","insertions":0,"deletions":-257},{"file":"src/fw/node_modules/uuid/LICENSE.md","type":"ADDED","insertions":21,"deletions":0},{"file":"src/fw/node_modules/uuid/index.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/bytesToUuid.js","type":"ADDED","insertions":23,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/md5-browser.js","type":"ADDED","insertions":216,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/md5.js","type":"ADDED","insertions":25,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/rng-browser.js","type":"ADDED","insertions":32,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/rng.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/sha1-browser.js","type":"ADDED","insertions":89,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/sha1.js","type":"ADDED","insertions":25,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/v35.js","type":"ADDED","insertions":53,"deletions":0},{"file":"src/fw/node_modules/uuid/v1.js","type":"ADDED","insertions":109,"deletions":0},{"file":"src/fw/node_modules/uuid/v4.js","type":"ADDED","insertions":29,"deletions":0},{"file":"src/fw/package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/global.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/priority.test.js","type":"ADDED","insertions":415,"deletions":0},{"file":"src/fw/test/unit/remote-targets.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/stats.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/validate.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/fw/tools/fwrule/docs/fwrules.ebnf","type":"MODIFIED","insertions":28,"deletions":-37},{"file":"src/fw/tools/fwrule/docs/media/img/port-list.svg","type":"ADDED","insertions":136,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/protocol.svg","type":"ADDED","insertions":138,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/rule.svg","type":"ADDED","insertions":121,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target-list.svg","type":"ADDED","insertions":102,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target.svg","type":"ADDED","insertions":160,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/type-list.svg","type":"ADDED","insertions":131,"deletions":0},{"file":"src/fw/tools/fwrule/docs/rules.md","type":"MODIFIED","insertions":79,"deletions":-51},{"file":"src/fw/tools/fwrule/docs/rules.md.in","type":"MODIFIED","insertions":110,"deletions":-25},{"file":"src/fw/tools/fwrule/etc/rules.json","type":"ADDED","insertions":3,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":8,"deletions":-3}],"sizeInsertions":2392,"sizeDeletions":-536},{"number":"2","revision":"56ce1ae2171485a25efc38e2b3eb3eac6ee973a8","parents":["9f3a5d6a9a2a67cf24371c5d4f283833329e3233"],"ref":"refs/changes/99/3599/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1520907282,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520907334,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":72,"deletions":-2},{"file":"src/fw/lib/util/log.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/node_modules/fwrule/index.js","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"src/fw/node_modules/fwrule/parser.js","type":"MODIFIED","insertions":121,"deletions":-97},{"file":"src/fw/node_modules/fwrule/rule.js","type":"MODIFIED","insertions":74,"deletions":-24},{"file":"src/fw/node_modules/fwrule/validators.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"src/fw/node_modules/node-uuid/LICENSE.md","type":"DELETED","insertions":0,"deletions":-3},{"file":"src/fw/node_modules/node-uuid/index.js","type":"DELETED","insertions":0,"deletions":-257},{"file":"src/fw/node_modules/uuid/LICENSE.md","type":"ADDED","insertions":21,"deletions":0},{"file":"src/fw/node_modules/uuid/index.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/bytesToUuid.js","type":"ADDED","insertions":23,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/rng.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/v1.js","type":"ADDED","insertions":109,"deletions":0},{"file":"src/fw/node_modules/uuid/v4.js","type":"ADDED","insertions":29,"deletions":0},{"file":"src/fw/package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/global.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/priority.test.js","type":"ADDED","insertions":415,"deletions":0},{"file":"src/fw/test/unit/remote-targets.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/stats.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/validate.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/fw/tools/fwrule/docs/fwrules.ebnf","type":"MODIFIED","insertions":28,"deletions":-37},{"file":"src/fw/tools/fwrule/docs/media/img/port-list.svg","type":"ADDED","insertions":136,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/protocol.svg","type":"ADDED","insertions":138,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/rule.svg","type":"ADDED","insertions":121,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target-list.svg","type":"ADDED","insertions":102,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target.svg","type":"ADDED","insertions":160,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/type-list.svg","type":"ADDED","insertions":131,"deletions":0},{"file":"src/fw/tools/fwrule/docs/rules.md","type":"MODIFIED","insertions":79,"deletions":-51},{"file":"src/fw/tools/fwrule/docs/rules.md.in","type":"MODIFIED","insertions":110,"deletions":-25},{"file":"src/fw/tools/fwrule/etc/rules.json","type":"ADDED","insertions":3,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":8,"deletions":-3}],"sizeInsertions":1952,"sizeDeletions":-536},{"number":"3","revision":"f5764f0123be0b97354a4862f730bdf015bfb9ac","parents":["9f3a5d6a9a2a67cf24371c5d4f283833329e3233"],"ref":"refs/changes/99/3599/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1520983733,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520983893,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520984595,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520983777,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":72,"deletions":-2},{"file":"src/fw/lib/util/log.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/node_modules/fwrule/index.js","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"src/fw/node_modules/fwrule/parser.js","type":"MODIFIED","insertions":121,"deletions":-97},{"file":"src/fw/node_modules/fwrule/rule.js","type":"MODIFIED","insertions":74,"deletions":-24},{"file":"src/fw/node_modules/fwrule/validators.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"src/fw/node_modules/node-uuid/LICENSE.md","type":"DELETED","insertions":0,"deletions":-3},{"file":"src/fw/node_modules/node-uuid/index.js","type":"DELETED","insertions":0,"deletions":-257},{"file":"src/fw/node_modules/uuid/LICENSE.md","type":"ADDED","insertions":21,"deletions":0},{"file":"src/fw/node_modules/uuid/index.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/bytesToUuid.js","type":"ADDED","insertions":23,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/rng.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/v1.js","type":"ADDED","insertions":109,"deletions":0},{"file":"src/fw/node_modules/uuid/v4.js","type":"ADDED","insertions":29,"deletions":0},{"file":"src/fw/package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"src/fw/test/integration/examples.test.js","type":"MODIFIED","insertions":4,"deletions":-45},{"file":"src/fw/test/integration/ipsec.test.js","type":"ADDED","insertions":114,"deletions":0},{"file":"src/fw/test/lib/fw.js","type":"MODIFIED","insertions":43,"deletions":0},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/global.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/ipsec.test.js","type":"ADDED","insertions":189,"deletions":0},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/priority.test.js","type":"ADDED","insertions":415,"deletions":0},{"file":"src/fw/test/unit/remote-targets.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/stats.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/validate.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/fw/tools/fwrule/docs/fwrules.ebnf","type":"MODIFIED","insertions":28,"deletions":-37},{"file":"src/fw/tools/fwrule/docs/media/img/port-list.svg","type":"ADDED","insertions":136,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/protocol.svg","type":"ADDED","insertions":138,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/rule.svg","type":"ADDED","insertions":121,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target-list.svg","type":"ADDED","insertions":102,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target.svg","type":"ADDED","insertions":160,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/type-list.svg","type":"ADDED","insertions":131,"deletions":0},{"file":"src/fw/tools/fwrule/docs/rules.md","type":"MODIFIED","insertions":79,"deletions":-51},{"file":"src/fw/tools/fwrule/docs/rules.md.in","type":"MODIFIED","insertions":110,"deletions":-25},{"file":"src/fw/tools/fwrule/etc/rules.json","type":"ADDED","insertions":3,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":8,"deletions":-3}],"sizeInsertions":2324,"sizeDeletions":-581},{"number":"4","revision":"669e3444190dcae5a9390a27c55d39293a4a4bf4","parents":["9f3a5d6a9a2a67cf24371c5d4f283833329e3233"],"ref":"refs/changes/99/3599/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1520985105,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1520985121,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520983893,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520984595,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520983777,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":72,"deletions":-2},{"file":"src/fw/lib/util/log.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/node_modules/fwrule/index.js","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"src/fw/node_modules/fwrule/parser.js","type":"MODIFIED","insertions":121,"deletions":-97},{"file":"src/fw/node_modules/fwrule/rule.js","type":"MODIFIED","insertions":74,"deletions":-24},{"file":"src/fw/node_modules/fwrule/validators.js","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"src/fw/node_modules/node-uuid/LICENSE.md","type":"DELETED","insertions":0,"deletions":-3},{"file":"src/fw/node_modules/node-uuid/index.js","type":"DELETED","insertions":0,"deletions":-257},{"file":"src/fw/node_modules/uuid/LICENSE.md","type":"ADDED","insertions":21,"deletions":0},{"file":"src/fw/node_modules/uuid/index.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/bytesToUuid.js","type":"ADDED","insertions":23,"deletions":0},{"file":"src/fw/node_modules/uuid/lib/rng.js","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/node_modules/uuid/v1.js","type":"ADDED","insertions":109,"deletions":0},{"file":"src/fw/node_modules/uuid/v4.js","type":"ADDED","insertions":29,"deletions":0},{"file":"src/fw/package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"src/fw/test/integration/examples.test.js","type":"MODIFIED","insertions":4,"deletions":-45},{"file":"src/fw/test/integration/ipsec.test.js","type":"ADDED","insertions":114,"deletions":0},{"file":"src/fw/test/lib/fw.js","type":"MODIFIED","insertions":43,"deletions":0},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/global.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/ipsec.test.js","type":"ADDED","insertions":189,"deletions":0},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/priority.test.js","type":"ADDED","insertions":415,"deletions":0},{"file":"src/fw/test/unit/remote-targets.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/stats.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/validate.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/fw/tools/fwrule/docs/fwrules.ebnf","type":"MODIFIED","insertions":28,"deletions":-37},{"file":"src/fw/tools/fwrule/docs/media/img/port-list.svg","type":"ADDED","insertions":136,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/protocol.svg","type":"ADDED","insertions":138,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/rule.svg","type":"ADDED","insertions":121,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target-list.svg","type":"ADDED","insertions":102,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/target.svg","type":"ADDED","insertions":160,"deletions":0},{"file":"src/fw/tools/fwrule/docs/media/img/type-list.svg","type":"ADDED","insertions":131,"deletions":0},{"file":"src/fw/tools/fwrule/docs/rules.md","type":"MODIFIED","insertions":79,"deletions":-51},{"file":"src/fw/tools/fwrule/docs/rules.md.in","type":"MODIFIED","insertions":110,"deletions":-25},{"file":"src/fw/tools/fwrule/etc/rules.json","type":"ADDED","insertions":3,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":8,"deletions":-3}],"sizeInsertions":2324,"sizeDeletions":-581}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}