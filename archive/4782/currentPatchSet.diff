From fc5d4c609bfcb272b523f9c35a210d4f906dbc9d Mon Sep 17 00:00:00 2001
From: Cody Peter Mello <cody.mello@joyent.com>
Date: Mon, 3 Sep 2018 19:27:46 +0000
Subject: [PATCH] TOOLS-2073 Allow importing repositories with "." (dot) in
 their name into Gerrit

---
 bin/crimport | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/bin/crimport b/bin/crimport
index 5831976..ead9f5b 100755
--- a/bin/crimport
+++ b/bin/crimport
@@ -98,7 +98,7 @@ function main
 	fi
 
 	if [[ ! $1 =~ ^[-a-zA-Z0-9_]+$ ]] ||
-	   [[ ! $2 =~ ^[-a-zA-Z0-9_]+$ ]]; then
+	   [[ ! $2 =~ ^[-a-zA-Z0-9_.]+$ ]]; then
 		fail "GitHub account or repo name contains unsupported" \
 		    "characters"
 	fi
@@ -229,7 +229,7 @@ function igp_project_create
 function igp_github_clone
 {
 	if [[ ! $1 =~ ^[-a-zA-Z0-9_]+$ ]] ||
-	   [[ ! $2 =~ ^[-a-zA-Z0-9_]+$ ]]; then
+	   [[ ! $2 =~ ^[-a-zA-Z0-9_.]+$ ]]; then
 		fail "bogus account or repo name!"
 	fi
 
@@ -245,7 +245,7 @@ function igp_github_clone
 function igp_github_protect
 {
 	if [[ ! $1 =~ ^[-a-zA-Z0-9_]+$ ]] ||
-	   [[ ! $2 =~ ^[-a-zA-Z0-9_]+$ ]]; then
+	   [[ ! $2 =~ ^[-a-zA-Z0-9_.]+$ ]]; then
 		fail "bogus account or repo name!"
 	fi
 
-- 
2.21.0

