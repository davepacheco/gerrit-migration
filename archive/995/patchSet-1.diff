From 04c912d14b1b227f4f11b80de0cac9ae4ca0a998 Mon Sep 17 00:00:00 2001
From: Chris Burroughs <chris.burroughs@joyent.com>
Date: Wed, 23 Nov 2016 16:34:36 -0500
Subject: [PATCH] ./bin/triton fwrule update
 172b1c32-2edd-4cfa-ac70-b2bcd0be0c5c description=hello

---
 lib/do_fwrule/do_update.js | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/lib/do_fwrule/do_update.js b/lib/do_fwrule/do_update.js
index 8238c61..9bad3e4 100644
--- a/lib/do_fwrule/do_update.js
+++ b/lib/do_fwrule/do_update.js
@@ -37,7 +37,9 @@ function do_update(subcmd, opts, args, cb) {
 
     var id = args.shift();
 
-    vasync.pipeline({arg: {}, funcs: [
+    vasync.pipeline({arg: {cli: this.top}, funcs: [
+        common.cliSetupTritonApi,
+
         function gatherDataArgs(ctx, next) {
             if (opts.file) {
                 next();
-- 
2.21.0

