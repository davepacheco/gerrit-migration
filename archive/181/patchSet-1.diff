From fa909a7232607d3c65566c805df58c8f0528bca9 Mon Sep 17 00:00:00 2001
From: Matt Smillie <matt.smillie@joyent.com>
Date: Sun, 31 Jul 2016 17:33:13 -0700
Subject: [PATCH] DOCKER-901: `docker -p` crashes sdc-docker without farics
 enabled.

---
 lib/backends/sdc/containers.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/backends/sdc/containers.js b/lib/backends/sdc/containers.js
index ec5d46e..7dce192 100644
--- a/lib/backends/sdc/containers.js
+++ b/lib/backends/sdc/containers.js
@@ -1961,7 +1961,7 @@ function buildVmPayload(opts, container, callback) {
         function addExternalNet(_, cb) {
             assert.object(opts.config, 'config');
             assert.object(opts.config.overlay, 'config.overlay');
-            assert.object(opts.config.overlay.enabled,
+            assert.bool(opts.config.overlay.enabled,
                 'config.overlay.enabled');
             if (opts.config.overlay.enabled
                 && (publishingPorts(container) || opts.fabricRequireExternal)) {
-- 
2.21.0

