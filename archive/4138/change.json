{"project":"joyent/illumos-joyent","branch":"master","id":"I788e26d53d698f1ae7fc91da6c1c4cd40d05dfd8","number":"4138","subject":"OS-6994 mdb: r9w isn\u0027t r8w OS-6993 libconv confuses SUNW_AT_COMMPAGE with SUNW_AT_BRAND_AUX4 OS-6995 CONV_CAP_VAL_HW2_BUFSIZE wasn\u0027t updated OS-6996 AV_386_2_AVX512VPOPCDQ elfcap name should be consistent Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Revi","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/4138","commitMessage":"OS-6994 mdb: r9w isn\u0027t r8w\nOS-6993 libconv confuses SUNW_AT_COMMPAGE with SUNW_AT_BRAND_AUX4\nOS-6995 CONV_CAP_VAL_HW2_BUFSIZE wasn\u0027t updated\nOS-6996 AV_386_2_AVX512VPOPCDQ elfcap name should be consistent\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nReviewed by: Rob Johnston \u003crob.johnston@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1528161141,"lastUpdated":1528303465,"open":false,"status":"MERGED","comments":[{"timestamp":1528161141,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1528245205,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1528245662,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 1:\n\n(1 comment)\n\nLooks right to me - just one question about conv.h"},{"timestamp":1528246113,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1528250448,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 1: Code-Review+1\n\nFair enough - thanks for the explanation."},{"timestamp":1528251780,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1528303346,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1528303412,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1528303465,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"3","revision":"788e26d53d698f1ae7fc91da6c1c4cd40d05dfd8","parents":["c4c6537e10afdbfcc5221e2f9c3d5d80780235fa"],"ref":"refs/changes/38/4138/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1528303412,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528245205,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528250448,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1528303465,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/cmd/mdb/intel/mdb/proc_amd64dep.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/cmd/sgs/include/conv.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":18,"sizeDeletions":-16},"patchSets":[{"number":"1","revision":"4d946b398655c23b61e22ec0b76fcd01e22d1b5f","parents":["a8ebca982427512b990db033e77275f1c5caea83"],"ref":"refs/changes/38/4138/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1528161141,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528245205,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528250448,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"comments":[{"file":"usr/src/cmd/sgs/include/conv.h","line":174,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Just curious.  How did you arrive at 350 and does this new value give us some headroom should new caps get added?"},{"file":"usr/src/cmd/sgs/include/conv.h","line":174,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I started by just summing the lengths of the strings for all the capabilities. Then I added an amount to cover the spaces and commas that might be used. Then I went through and added \"AV_386_2_ bit times the number of caps and then added a bit of room.\n\nAll in all, this system is honestly a bit of a mess."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/mdb/intel/mdb/proc_amd64dep.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/cmd/sgs/include/conv.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":18,"sizeDeletions":-16},{"number":"2","revision":"40d9f976ec4a0e903d49c1c00569a919b699f5ea","parents":["c4c6537e10afdbfcc5221e2f9c3d5d80780235fa"],"ref":"refs/changes/38/4138/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1528303346,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528245205,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528250448,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/mdb/intel/mdb/proc_amd64dep.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/cmd/sgs/include/conv.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":18,"sizeDeletions":-16},{"number":"3","revision":"788e26d53d698f1ae7fc91da6c1c4cd40d05dfd8","parents":["c4c6537e10afdbfcc5221e2f9c3d5d80780235fa"],"ref":"refs/changes/38/4138/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1528303412,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1528303465,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528251780,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528245205,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528250448,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/cmd/mdb/intel/mdb/proc_amd64dep.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/cmd/sgs/include/conv.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":18,"sizeDeletions":-16}],"allReviewers":[{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}