From 5389bada75b3cf386d5b6220b3a4185cb66c2c7c Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Tue, 7 Feb 2017 12:47:22 -0800
Subject: [PATCH] TOOLS-1684 sdcadm doesn't properly report an error if
 creating its logger fails

---
 lib/cli/index.js | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/lib/cli/index.js b/lib/cli/index.js
index 1668cc5..2fa2f1d 100644
--- a/lib/cli/index.js
+++ b/lib/cli/index.js
@@ -121,9 +121,10 @@ CLI.prototype.init = function init(opts, args, callback) {
         });
     } catch (e) {
         if (e.code && e.code === 'ENOSPC') {
-            return callback('Not enought space to create log file');
+            return callback(new Error('Not enought space to create log file'));
         } else if (e.code && e.code === 'EACCES') {
-            return callback('Insufficient permissions to create log file');
+            return callback(new Error(
+                'Insufficient permissions to create log file'));
         } else {
             return callback(e);
         }
-- 
2.21.0

