{"project":"joyent/node-fash","branch":"master","topic":"MANTA-3279","id":"I94931cccbb1960ad24d8a8a77e2a2e02e8d99207","number":"2054","subject":"MANTA-3279 node-fash loads the whole leveldb hash ring into memory Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Alex Wilson \u003calex.wilson@joyent.com\u003e","owner":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"url":"https://cr.joyent.us/2054","commitMessage":"MANTA-3279 node-fash loads the whole leveldb hash ring into memory\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1496881735,"lastUpdated":1502925325,"open":false,"status":"MERGED","comments":[{"timestamp":1496881735,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 1."},{"timestamp":1496944495,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 2."},{"timestamp":1496956607,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2:\n\n(7 comments)"},{"timestamp":1496967856,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1497053986,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 3."},{"timestamp":1497054170,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 4."},{"timestamp":1497287132,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 5."},{"timestamp":1497288854,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 6."},{"timestamp":1497300872,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 6:\n\n(7 comments)\n\nAlmost there I think!"},{"timestamp":1497302309,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 7."},{"timestamp":1497302322,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1497463604,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1502833210,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Topic set to MANTA-3279"},{"timestamp":1502908085,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1502922080,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1502925325,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Brittany Wald"}],"currentPatchSet":{"number":"8","revision":"94931cccbb1960ad24d8a8a77e2a2e02e8d99207","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/8","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1502922080,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497463604,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1502908085,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1502925325,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":190,"deletions":-74},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":60,"deletions":-40},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":114,"deletions":-37},{"file":"lib/common.js","type":"MODIFIED","insertions":42,"deletions":-7},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":99,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":599,"sizeDeletions":-206},"patchSets":[{"number":"1","revision":"dd12027ee062d364e7cc844b76d4ef041c238e19","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/1","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1496881735,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":174,"deletions":-53},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":70,"deletions":-10},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":96,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":448,"sizeDeletions":-114},{"number":"2","revision":"8a5bdc03adc4a357a28a7e2ef6b6b45315f316dd","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/2","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1496944495,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","comments":[{"file":"bin/fash.js","line":57,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Why not just use /[, ]+/ here? Is whitespace with the commas always actually required? That seems mildly inconvenient to me.\n\nAlso, given that getting these lists of nodes out and parsing them (into integers) is in common between so many functions here, I feel like it should be done in one common function, but I understand if you don\u0027t want to do that cleanup right now.\n\nFWIW I\u0027m not convinced the current way the integer parsing is happening elsewhere in this file is actually safe (not checking for NaN and such)"},{"file":"bin/fash.js","line":824,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Should this be self.do_help?"},{"file":"bin/fash.js","line":824,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Yes, thank you, good catch."},{"file":"bin/fash.js","line":856,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Why the double * here? The normal block comment style is just a single * on the opening line"},{"file":"bin/fash.js","line":856,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"This project\u0027s lib folder uses double * opening line comments, so I was following that format.  I can change it, though."},{"file":"bin/fash.js","line":859,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"See my other nodes about getDataVnode(), but this comment is pretty useless. If it explained that the pnode info is in the 2nd element, that would be useful info (explaining *why*), but as it is it\u0027s just repeating what the code already says (that we\u0027re getting the second element out)."},{"file":"lib/backend/leveldb.js","line":46,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"How is this not the \"default\" config? At line 115 we do:\n\n  self.leveldbCfg_ \u003d options.leveldbCfg || LEVEL_CONFIG;\n\nSo if we don\u0027t give options.leveldbCfg, we use this. That seems like a default?"},{"file":"lib/backend/leveldb.js","line":46,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"That\u0027s a good point -- I was thinking that it is not the default set by leveldb itself (which this is not).  I\u0027ll change it."},{"file":"lib/backend/leveldb.js","line":775,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I don\u0027t really like the name or the return type of this function to be honest.\n\nThe name is too close to \"getDataVnodes\", which makes it confusing since this function actually does something quite different (gets the pnode as well).\n\nI also think it should give you the pnode and vnode data as two separate callback arguments, and not as a vasync \"results\" array. Failing that, it should at least just pass the \"_\" variable through instead of the whole vasync result. Exposing the internal implementation of the function is pretty yucky.\n\nThe doc comment you\u0027ve put here doesn\u0027t clearly explain what\u0027s in the type the callback is called with, either, which makes this even more difficult to follow."},{"file":"package.json","line":24,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Given that this release is going to change a bunch of commandline arguments\u0027 semantics, output semantics, I think this should probably be a major bump -- these changes (correct me if I\u0027m wrong) don\u0027t look 100% backwards compatible.\n\nAt the very least this adds new API, so it should definitely be at least a minor bump (not a patch bump as you\u0027ve got here)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":177,"deletions":-55},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":71,"deletions":-10},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":96,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":452,"sizeDeletions":-116},{"number":"3","revision":"3ea60be8ff00294c478816d6707a3a745a1adafa","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/3","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1497053986,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":190,"deletions":-74},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":60,"deletions":-40},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":114,"deletions":-37},{"file":"lib/common.js","type":"MODIFIED","insertions":36,"deletions":-6},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":99,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":593,"sizeDeletions":-205},{"number":"4","revision":"35cf57d909a1e15ceb3f011cad4e6b25c15b1ea0","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/4","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1497054170,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":190,"deletions":-74},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":60,"deletions":-40},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":114,"deletions":-37},{"file":"lib/common.js","type":"MODIFIED","insertions":36,"deletions":-6},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":99,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":593,"sizeDeletions":-205},{"number":"5","revision":"0ecf8f3294c948a7d85326bb75349849db29bb8d","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/5","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1497287132,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":190,"deletions":-74},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":60,"deletions":-40},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":114,"deletions":-37},{"file":"lib/common.js","type":"MODIFIED","insertions":36,"deletions":-6},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":99,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":593,"sizeDeletions":-205},{"number":"6","revision":"1efe5d34e9274bdf1d152b7f443a2a063d02e482","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/6","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1497288854,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","comments":[{"file":"bin/fash.js","line":61,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I guess these have to be strings in this function so we can\u0027t use the new common.parseIntArray? Sad face."},{"file":"bin/fash.js","line":61,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Exactly :C\n\nCome to think of it, I should change the naming/commenting on that function so it reflects reality and not my hopes and dreams."},{"file":"lib/backend/in_memory.js","line":410,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Trailing whitespace"},{"file":"lib/backend/leveldb.js","line":116,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Trailing whitespace"},{"file":"lib/backend/leveldb.js","line":471,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Trailing whitespace"},{"file":"lib/backend/leveldb.js","line":829,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Trailing whitespace"},{"file":"package.json","line":24,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"2.4.0 is fine -- bumping the minor subsumes any patch-level changes you make at the same time in standard semver."},{"file":"package.json","line":42,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Probably add a space after the : here so that if someone uses \"npm\" to edit this in future it comes out the same way (the normalized JSON it outputs always has spaces after :s)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":190,"deletions":-74},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":60,"deletions":-40},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":114,"deletions":-37},{"file":"lib/common.js","type":"MODIFIED","insertions":42,"deletions":-7},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":99,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":599,"sizeDeletions":-206},{"number":"7","revision":"a7bd7fded1614cd0f80ad7781419695883c1ff03","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/7","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1497302309,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497463604,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1502908085,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":190,"deletions":-74},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":60,"deletions":-40},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":114,"deletions":-37},{"file":"lib/common.js","type":"MODIFIED","insertions":42,"deletions":-7},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":99,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":599,"sizeDeletions":-206},{"number":"8","revision":"94931cccbb1960ad24d8a8a77e2a2e02e8d99207","parents":["20713aba027cbc79e82132002204f60a19f55953"],"ref":"refs/changes/54/2054/8","uploader":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"createdOn":1502922080,"author":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497463604,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1502908085,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1502925325,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":22,"deletions":-23},{"file":"bin/fash.js","type":"MODIFIED","insertions":190,"deletions":-74},{"file":"lib/backend/in_memory.js","type":"MODIFIED","insertions":60,"deletions":-40},{"file":"lib/backend/leveldb.js","type":"MODIFIED","insertions":114,"deletions":-37},{"file":"lib/common.js","type":"MODIFIED","insertions":42,"deletions":-7},{"file":"lib/dtrace.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/index.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"test/in_memory.test.js","type":"MODIFIED","insertions":10,"deletions":0},{"file":"test/leveldb.test.js","type":"MODIFIED","insertions":99,"deletions":-1},{"file":"test/load.test.js","type":"MODIFIED","insertions":17,"deletions":-17}],"sizeInsertions":599,"sizeDeletions":-206}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}]}