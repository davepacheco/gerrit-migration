{"project":"joyent/sdc-cnapi","branch":"master","id":"Icfdd897836b9ab2ae14e5a59b7bc8561f3e1c3e5","number":"1646","subject":"CNAPI-696 CNAPI crashes when an non-existent route is called Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e","owner":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"url":"https://cr.joyent.us/1646","commitMessage":"CNAPI-696 CNAPI crashes when an non-existent route is called\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1489136639,"lastUpdated":1489595879,"open":false,"status":"MERGED","comments":[{"timestamp":1489136639,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 1."},{"timestamp":1489136640,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 04b0b751efe7a2fa0cd9226ea931fabebac4eade\n    \n    don\u0027t crash when hitting non-existent route"},{"timestamp":1489136672,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(5 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1489448230,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 2."},{"timestamp":1489448231,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 65ec2f47844943bf3e746550f033efc279b3d629\n    \n    make check fixes"},{"timestamp":1489448270,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489517383,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(5 comments)"},{"timestamp":1489521635,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 3."},{"timestamp":1489521636,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit b2af1917dfaf59681294da1057640cec312d05f0\n    \n    apply Julien\u0027s feedback"},{"timestamp":1489521669,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489529653,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1489536519,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1489595853,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1489595873,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1489595879,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Orlando Vazquez"}],"currentPatchSet":{"number":"5","revision":"cfdd897836b9ab2ae14e5a59b7bc8561f3e1c3e5","parents":["29b8eb57abe93ef020435b678ace957d1e352b99"],"ref":"refs/changes/46/1646/5","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1489595873,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489521669,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489529653,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489595853,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1489595879,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":15,"deletions":-10},{"file":"test/test-non-existent-route.js","type":"ADDED","insertions":92,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"b26476b9c0665f082eb641557ff5b29be60c59e7","parents":["8b72e0f7f9dbf9ad4fce3f451991b7fcd26ce5c9"],"ref":"refs/changes/46/1646/1","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1489136639,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1489136672,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/server.js","line":89,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper boolean continuation"},{"file":"lib/server.js","line":90,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper boolean continuation"},{"file":"lib/server.js","line":93,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper boolean continuation"},{"file":"lib/server.js","line":94,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper boolean continuation"},{"file":"lib/server.js","line":95,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper boolean continuation"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/test-non-existent-route.js","type":"ADDED","insertions":92,"deletions":0}],"sizeInsertions":108,"sizeDeletions":-10},{"number":"2","revision":"b935bdf5d59a333531b5d5c265051120acf85669","parents":["29b8eb57abe93ef020435b678ace957d1e352b99"],"ref":"refs/changes/46/1646/2","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1489448230,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489448270,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/server.js","line":87,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Does this comment apply to the declaration of \"isOmitBodyRoute\"? It seems it would apply better to the declaration of \"includeBody\", which is the one that check specifically for the \"GET\" method."},{"file":"lib/server.js","line":88,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is any parenthesis needed?"},{"file":"lib/server.js","line":92,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is any parenthesis needed?"},{"file":"lib/server.js","line":93,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"\u0026 -\u003e \u0026\u0026"},{"file":"test/test-non-existent-route.js","line":51,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"/servers -\u003e /diagnostics"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":15,"deletions":-10},{"file":"test/test-non-existent-route.js","type":"ADDED","insertions":92,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-10},{"number":"3","revision":"1630d158f443faf4fd1d38a1709d67701f1e1d23","parents":["29b8eb57abe93ef020435b678ace957d1e352b99"],"ref":"refs/changes/46/1646/3","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1489521635,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489521669,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489529653,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":15,"deletions":-10},{"file":"test/test-non-existent-route.js","type":"ADDED","insertions":92,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-10},{"number":"4","revision":"fbcb39a28dfd08972fdc1751426c5d3d2748cdb8","parents":["29b8eb57abe93ef020435b678ace957d1e352b99"],"ref":"refs/changes/46/1646/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1489536519,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489521669,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489529653,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489595853,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":15,"deletions":-10},{"file":"test/test-non-existent-route.js","type":"ADDED","insertions":92,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-10},{"number":"5","revision":"cfdd897836b9ab2ae14e5a59b7bc8561f3e1c3e5","parents":["29b8eb57abe93ef020435b678ace957d1e352b99"],"ref":"refs/changes/46/1646/5","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1489595873,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489521669,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489529653,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489595853,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1489595879,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":15,"deletions":-10},{"file":"test/test-non-existent-route.js","type":"ADDED","insertions":92,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-10}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}]}