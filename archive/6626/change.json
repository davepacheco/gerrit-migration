{"project":"joyent/manta-remora","branch":"master","id":"If118d0481c54bb10b25e452bdde780f9bdcad5ac","number":"6626","subject":"add tests for jobs","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/6626","commitMessage":"add tests for jobs\n","createdOn":1563560223,"lastUpdated":1563560377,"open":false,"status":"ABANDONED","comments":[{"timestamp":1563560223,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1563560318,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Abandoned\n\njust testing cr remote"},{"timestamp":1563560377,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1:\n\n\"make check\" exited with status 2\n\n cargo clippy\n     Checking remora v0.1.0 (/tmp/repo)\n warning: unneeded return statement\n   --\u003e src/api.rs:38:35\n    |\n 38 |                         Ok(()) \u003d\u003e return Ok((state, res)),\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return` as shown: `Ok((state, res))`\n    |\n    \u003d note: #[warn(clippy::needless_return)] on by default\n    \u003d help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return\n \n warning: unneeded return statement\n   --\u003e src/api.rs:39:35\n    |\n 39 |                         Err(e) \u003d\u003e return Err((state, e.into_handler_error())),\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return` as shown: `Err((state, e.into_handler_error()))`\n    |\n    \u003d help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return\n \n error[E0277]: the trait bound `\u0026mut [u8]: std::convert::From\u003c\u0026[u8]\u003e` is not satisfied\n   --\u003e src/api.rs:37:49\n    |\n 37 |                     match action_api.job_action.process(b.as_byte_slice_mut()) {\n    |                                                 ^^^^^^^ the trait `std::convert::From\u003c\u0026[u8]\u003e` is not implemented for `\u0026mut [u8]`\n    |\n    \u003d help: the following implementations were found:\n              \u003c[u8; 16] as std::convert::From\u003cmd5::Digest\u003e\u003e\n \n error[E0599]: no method named `as_str` found for type `T` in the current scope\n    --\u003e src/job.rs:341:14\n     |\n 341 |             .as_str())\n     |              ^^^^^^\n     |\n     \u003d help: items from traits can only be used if the trait is implemented and in scope\n     \u003d note: the following trait defines an item `as_str`, perhaps you need to implement it:\n             candidate #1: `http::header::map::as_header_name::Sealed`\n \n error: aborting due to 2 previous errors\n \n Some errors occurred: E0277, E0599.\n For more information about an error, try `rustc --explain E0277`.\n error: Could not compile `remora`.\n \n To learn more, run the command again with --verbose.\n gmake: *** [Makefile:12: check] Error 101"}],"currentPatchSet":{"number":"1","revision":"f118d0481c54bb10b25e452bdde780f9bdcad5ac","parents":["196089254b8a76840bef38dabe303f5c0c5073d9"],"ref":"refs/changes/26/6626/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1563560223,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"examples/gen_sharks.rs","type":"ADDED","insertions":22,"deletions":0},{"file":"src/agent.rs","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"src/api.rs","type":"ADDED","insertions":116,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":17,"deletions":-6},{"file":"src/job.rs","type":"MODIFIED","insertions":398,"deletions":-95},{"file":"src/lib.rs","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/picker.rs","type":"MODIFIED","insertions":39,"deletions":-34},{"file":"src/util.rs","type":"MODIFIED","insertions":14,"deletions":0}],"sizeInsertions":644,"sizeDeletions":-141},"patchSets":[{"number":"1","revision":"f118d0481c54bb10b25e452bdde780f9bdcad5ac","parents":["196089254b8a76840bef38dabe303f5c0c5073d9"],"ref":"refs/changes/26/6626/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1563560223,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"examples/gen_sharks.rs","type":"ADDED","insertions":22,"deletions":0},{"file":"src/agent.rs","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"src/api.rs","type":"ADDED","insertions":116,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":17,"deletions":-6},{"file":"src/job.rs","type":"MODIFIED","insertions":398,"deletions":-95},{"file":"src/lib.rs","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/picker.rs","type":"MODIFIED","insertions":39,"deletions":-34},{"file":"src/util.rs","type":"MODIFIED","insertions":14,"deletions":0}],"sizeInsertions":644,"sizeDeletions":-141}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"}]}