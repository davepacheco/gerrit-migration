{"project":"joyent/sdc-cloud-analytics","branch":"master","id":"I01167cf507789b801051cd3875023c30a6f6ec95","number":"5094","subject":"TRITON-766 cainstsvc ctf module relies on CTF type ordering","owner":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"url":"https://cr.joyent.us/5094","commitMessage":"TRITON-766 cainstsvc ctf module relies on CTF type ordering\n","createdOn":1542841654,"lastUpdated":1548099532,"open":false,"status":"ABANDONED","comments":[{"timestamp":1542841654,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 1."},{"timestamp":1542841656,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 505203f5585e894e8c8997fe88cd1f72b248dfd9\n    \n    TRITON-766 cainstsvc ctf module relies on CTF type ordering"},{"timestamp":1542841852,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nTested using a build of the sdc-cloud-analytics TRITON-766 branch and installed using:\n\nupdates-imgadm list -C experimental name\u003dcabase | grep 766\ne00b7716-7c9a-4a46-bd6e-241e19ab8d47  cabase  1.0.3vTRITON-766-20181121T220657Z-g505203f  -      other  2018-11-21T22:19:29Z\n\nsdcadm experimental update -C experimental cabase@e00b7716-7c9a-4a46-bd6e-241e19ab8d47"},{"timestamp":1543331013,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1544232091,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n sed -e \u0027s#@@CA_VERSION@@#-20181208T012127Z-g01167cf-dirty#g\u0027 pkg/cabase-package.json \u003e build/pkg/cabase/package.json\n (cd deps/node; ./configure --prefix\u003d/tmp/repo/build/node --with-dtrace --openssl-libpath\u003d/opt/local/lib --openssl-includes\u003d/opt/local/include \u0026\u0026 gmake \u0026\u0026 gmake install)\n Checking for program g++ or c++          : /opt/local/bin/g++ \n Checking for program cpp                 : /opt/local/bin/cpp \n Checking for program ar                  : /opt/local/bin/ar \n Checking for program ranlib              : /opt/local/bin/ranlib \n Checking for g++                         : ok  \n Checking for program gcc or cc           : /opt/local/bin/gcc \n Checking for gcc                         : ok  \n Checking for library dl                  : yes \n Checking for program dtrace              : /usr/sbin/dtrace \n Checking for function SSL_library_init   : yes \n Checking for header openssl/crypto.h     : yes \n Checking for library util                : not found \n Checking for library rt                  : yes \n Checking for ifaddrs on solaris          : yes \n Checking for library socket              : yes \n Checking for library nsl                 : yes \n Checking for library kstat               : yes \n Checking for fdatasync(2) with c++       : no \n \u0027configure\u0027 finished successfully (2.286s)\n gmake[1]: Entering directory \u0027/tmp/repo/deps/node\u0027\n Waf: Entering directory `/tmp/repo/deps/node/out\u0027\n [ 2/39] cc: deps/http_parser/http_parser.c -\u003e out/Release/deps/http_parser/http_parser_3.o\n gcc: error: unrecognized command line option \u0027-threads\u0027\n Waf: Leaving directory `/tmp/repo/deps/node/out\u0027\n Build failed:  -\u003e task failed (err #1): \n \t{task: cc http_parser.c -\u003e http_parser_3.o}\n DEST_OS: sunos\n DEST_CPU: x64\n Parallel Jobs: 1\n Product type: program\n /opt/local/bin/gcc -threads -g -O3 -DHAVE_OPENSSL\u003d1 -DSUNOS_HAVE_IFADDRS -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS\u003d64 -DHAVE_FDATASYNC\u003d0 -DARCH\u003d\"x64\" -DPLATFORM\u003d\"sunos\" -D__POSIX__\u003d1 -Wno-unused-parameter -D_FORTIFY_SOURCE\u003d2 -IRelease/deps/http_parser -I../deps/http_parser ../deps/http_parser/http_parser.c -c -o Release/deps/http_parser/http_parser_3.o\n Makefile:21: recipe for target \u0027program\u0027 failed\n gmake[1]: *** [program] Error 1\n gmake[1]: Leaving directory \u0027/tmp/repo/deps/node\u0027\n deps/eng/tools/mk/Makefile.node.targ:27: recipe for target \u0027build/node/bin/node\u0027 failed\n gmake: *** [build/node/bin/node] Error 2"},{"timestamp":1548099532,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Abandoned\n\nCA now removed - no longer need this."}],"currentPatchSet":{"number":"1","revision":"01167cf507789b801051cd3875023c30a6f6ec95","parents":["92307e6133dbe3fa68730db51e6c1e30c8637851"],"ref":"refs/changes/94/5094/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1542841654,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543331013,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1544232091,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/node-ctype","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"01167cf507789b801051cd3875023c30a6f6ec95","parents":["92307e6133dbe3fa68730db51e6c1e30c8637851"],"ref":"refs/changes/94/5094/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1542841654,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543331013,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1544232091,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/node-ctype","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}