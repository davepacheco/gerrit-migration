{"project":"joyent/sdc-cn-agent","branch":"master","id":"I83a4d395c64accc3ff695ea285d5bc0591d96943","number":"5075","subject":"TRITON-955 dummy cn-agent should support installation of agents TRITON-970 When mockcloud CNs are created they should have default agent versions Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/5075","commitMessage":"TRITON-955 dummy cn-agent should support installation of agents\nTRITON-970 When mockcloud CNs are created they should have default agent versions\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1542688608,"lastUpdated":1542992214,"open":false,"status":"MERGED","comments":[{"timestamp":1542688608,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1542688609,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 1ee0e25d25f4a48798716f40c369f24a0ef75e79\n    \n    fix comment\n    \n    commit 15a4b6c97941511b32116d014812014691905d51\n    \n    fix name\n    \n    commit 3943594bc4e0b1764bc58223c3f28f7faac04001\n    \n    fixes\n    \n    commit 9aa63b3f90509effe084d1b5c26a7ac33d618c3f\n    \n    wip, can\u0027t test because of stupid use of Ur in sdcadm"},{"timestamp":1542688634,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(6 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1542688842,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1542688843,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 8c57123edbd0f4c8d0215ea6257fa65d1767fead\n    \n    fix make check"},{"timestamp":1542688870,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542689152,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nThe main thing that needs review here is the change in lib/app.js. It looks like a bigger diff than it is, because the code in the App.prototype.updateAgents that loaded the list of agents was actually just moved to the smartos backend and the call here now calls self.backend.getAgents. I tried to avoid making more changes than necessary to SmartosBackend.prototype.getAgents so that the changes would be minimal.  The new code in the dummy backend will not run in a production install (in prod we only use the smartos backend) so I\u0027m less concerned with getting that reviewed."},{"timestamp":1542696224,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1542696225,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 2ff8df6e50d7d6cf23ac9a86c49697e5a0aa9544\n    \n    cleanup, complete dummy implementation"},{"timestamp":1542696253,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542759216,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1542911982,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4."},{"timestamp":1542911985,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 6fa2863403f73b933d29f83ca013cc3970b6c4f1\n    \n    no need to require trailing \u0027/\u0027\n    \n    commit b649e6fd9f7b7dfb9f110f25e32c1b179cdac4ad\n    \n    cleanup\n    \n    commit c8081c00d59478874c4fad7aaed2b2ea59ec6f7f\n    \n    fix dir creation\n    \n    commit ef988e3ffbc7fe74364256d1651b9e57c7e540ed\n    \n    install agents on server creation\n    \n    commit d1eacf9fcf2ce7fac5df4a89009241afbeb28765\n    \n    support installing shars and detecting agent names\n    \n    commit 6709853c3430dae96bff09519ada0906d582338a\n    \n    inital work on agentsshar installer in shared.js\n    \n    commit 129e497f4a67c41608a1e8af5371ef1e15e0048e\n    \n    implement SAPI adoptions and instance_uuid creation\n    \n    commit 523af26ec64abd4cb5d419aa05607c417408ccb1\n    \n    missing export\n    \n    commit 1e289afd6b68f85a21b615ec99f1c43bb8f14f2d\n    \n    move common getAgentImage to common file for the backends to share.\n    \n    commit fc038988d7276266a03691cb7f7927857c710320\n    \n    cleanup, complete dummy implementation\n    \n    commit 7e3e50b09b609dc0b0659fd86c92c5837e70c6b2\n    \n    fix make check\n    \n    commit d21ae4e6354857589eae7459055254ccb8f9d739\n    \n    fix comment\n    \n    commit cab70cc2a0a5c5d0a239811b1d759ad261c79fed\n    \n    fix name\n    \n    commit 237e9b631df89d8b650a2a35a6ed0217945dfc1c\n    \n    fixes\n    \n    commit 0246bec1e10e2b13e9248444777e3c77d96eb54f\n    \n    wip, can\u0027t test because of stupid use of Ur in sdcadm"},{"timestamp":1542912011,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542922253,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 5."},{"timestamp":1542922255,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 37f41c57be5065d78f0418ead282efcb72e6c5ba\n    \n    add missing newline"},{"timestamp":1542922283,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542959733,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1542992074,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1542992202,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7: Commit message was updated."},{"timestamp":1542992214,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"7","revision":"2aa71da5250b7ac4aec38c0612cace985dfc88a2","parents":["1df1666745106f32b2b3e94633774b1c602a3ebe"],"ref":"refs/changes/75/5075/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542992202,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542922283,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1542992214,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/common.js","type":"ADDED","insertions":494,"deletions":0},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":154,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":722,"deletions":0},{"file":"lib/backends/dummy/tools/create-server.js","type":"MODIFIED","insertions":52,"deletions":-2},{"file":"lib/backends/dummy/tools/install-agent.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/dummy/tools/install-agentsshar.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0},{"file":"lib/backends/smartos/tasks/agent_install.js","type":"MODIFIED","insertions":22,"deletions":-303},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":2001,"sizeDeletions":-459},"patchSets":[{"number":"1","revision":"a65c4ec932a82508d88bb3a2d2cd4d63c0083cfa","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/75/5075/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542688608,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1542688634,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/backends/dummy/common.js","line":113,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: checkIfReady"},{"file":"lib/backends/dummy/common.js","line":263,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: trailing_comma"},{"file":"lib/backends/dummy/common.js","line":284,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer err hides an identifier in a parent scope"},{"file":"lib/backends/dummy/tasks/agent_install.js","line":323,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer _ hides an identifier in a parent scope"},{"file":"lib/backends/dummy/tasks/agent_install.js","line":365,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: package_file"},{"file":"lib/backends/dummy/tasks/agent_install.js","line":366,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: package_name"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":452,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":87,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0}],"sizeInsertions":975,"sizeDeletions":-153},{"number":"2","revision":"b9b01982064556a403dbdb85ab2024e27b584229","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/75/5075/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542688842,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542688870,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":450,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":87,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0}],"sizeInsertions":973,"sizeDeletions":-153},{"number":"3","revision":"068a2af60e0865ff1ee212514c34c75c53f55064","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/75/5075/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542696224,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542696253,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542759216,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542759216,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":552,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":87,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0}],"sizeInsertions":1075,"sizeDeletions":-153},{"number":"4","revision":"9b05df9649820e7e9e37d9020c834c84e96d03cd","parents":["1df1666745106f32b2b3e94633774b1c602a3ebe"],"ref":"refs/changes/75/5075/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542911982,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542912011,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/common.js","type":"ADDED","insertions":494,"deletions":0},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":154,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":722,"deletions":0},{"file":"lib/backends/dummy/tools/create-server.js","type":"MODIFIED","insertions":52,"deletions":-2},{"file":"lib/backends/dummy/tools/install-agent.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/dummy/tools/install-agentsshar.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0},{"file":"lib/backends/smartos/tasks/agent_install.js","type":"MODIFIED","insertions":22,"deletions":-303},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":2001,"sizeDeletions":-459},{"number":"5","revision":"3089697af67d613a99d4a4057a1631140939b770","parents":["1df1666745106f32b2b3e94633774b1c602a3ebe"],"ref":"refs/changes/75/5075/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542922253,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542922283,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/common.js","type":"ADDED","insertions":494,"deletions":0},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":154,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":722,"deletions":0},{"file":"lib/backends/dummy/tools/create-server.js","type":"MODIFIED","insertions":52,"deletions":-2},{"file":"lib/backends/dummy/tools/install-agent.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/dummy/tools/install-agentsshar.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0},{"file":"lib/backends/smartos/tasks/agent_install.js","type":"MODIFIED","insertions":22,"deletions":-303},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":2001,"sizeDeletions":-459},{"number":"6","revision":"83a4d395c64accc3ff695ea285d5bc0591d96943","parents":["1df1666745106f32b2b3e94633774b1c602a3ebe"],"ref":"refs/changes/75/5075/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542992074,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542922283,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/common.js","type":"ADDED","insertions":494,"deletions":0},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":154,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":722,"deletions":0},{"file":"lib/backends/dummy/tools/create-server.js","type":"MODIFIED","insertions":52,"deletions":-2},{"file":"lib/backends/dummy/tools/install-agent.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/dummy/tools/install-agentsshar.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0},{"file":"lib/backends/smartos/tasks/agent_install.js","type":"MODIFIED","insertions":22,"deletions":-303},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":2001,"sizeDeletions":-459},{"number":"7","revision":"2aa71da5250b7ac4aec38c0612cace985dfc88a2","parents":["1df1666745106f32b2b3e94633774b1c602a3ebe"],"ref":"refs/changes/75/5075/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1542992202,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542922283,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1542992214,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542959733,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":17,"deletions":-85},{"file":"lib/backends/common.js","type":"ADDED","insertions":494,"deletions":0},{"file":"lib/backends/dummy/common.js","type":"MODIFIED","insertions":211,"deletions":-30},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":42,"deletions":-38},{"file":"lib/backends/dummy/tasks/agent_install.js","type":"ADDED","insertions":154,"deletions":0},{"file":"lib/backends/dummy/tasks/refresh_agents.js","type":"ADDED","insertions":54,"deletions":0},{"file":"lib/backends/dummy/tasks/shared.js","type":"ADDED","insertions":722,"deletions":0},{"file":"lib/backends/dummy/tools/create-server.js","type":"MODIFIED","insertions":52,"deletions":-2},{"file":"lib/backends/dummy/tools/install-agent.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/dummy/tools/install-agentsshar.js","type":"ADDED","insertions":60,"deletions":0},{"file":"lib/backends/smartos/index.js","type":"MODIFIED","insertions":112,"deletions":0},{"file":"lib/backends/smartos/tasks/agent_install.js","type":"MODIFIED","insertions":22,"deletions":-303},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":2001,"sizeDeletions":-459}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}