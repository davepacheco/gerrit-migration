{"project":"joyent/sdc-cloudapi","branch":"master","id":"I721e7252763e14bbe0e5f888aa9630500793a7cb","number":"5713","subject":"TRITON-898 Add CloudAPI endpoints for triton instance migration Reviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e Approved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/5713","commitMessage":"TRITON-898 Add CloudAPI endpoints for triton instance migration\nReviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\nApproved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\n","createdOn":1551799707,"lastUpdated":1559664418,"open":false,"status":"MERGED","comments":[{"timestamp":1551799707,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1551799713,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 5ff5fa72835cdbaa6d18eb481aa12da251ba50ad\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1551799748,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1553787868,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2."},{"timestamp":1553787873,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 1a9fb9fad1822ad6b16bb162cc43ba13aa2ee2f5\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1553787906,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1553787929,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1553787934,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit ec8194256076811908fad655aa36e9c039d3e99c\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1553787968,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1553787974,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3:\n\nCan I have a first pass at this while I write node-triton tests?"},{"timestamp":1553799099,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 3:\n\n(18 comments)"},{"timestamp":1553873493,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 3:\n\n(34 comments)\n\nI hope I haven\u0027t been too nitpicky. Take or leave whatever you want."},{"timestamp":1553971365,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4."},{"timestamp":1553971369,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 891aa0d52512cc21db3b975d5c94284d78634cbb\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1553971401,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1553971467,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4:\n\n(50 comments)\n\nDone with all the suggested changes, added the GET /:account/migrations/:id end-point. Waiting on Todd to change VMAPI in order to completely remove \"LoadMigration\" call and extra request.\n\nPlease, feel free to add anything to docs, though. The clearer those are the better for everybody."},{"timestamp":1553971534,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 5."},{"timestamp":1553971539,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 5a98477759086da136cd7bc159cdb819cee8b764\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1553971575,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1554126924,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1554136657,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5:\n\n(1 comment)\n\nTodd \u0026 I agreed we want the different VMAPI requests to perform a migration action (other than watch) to return the migration object and avoid CloudAPI the need to perform a second HTTP request."},{"timestamp":1554313683,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 6."},{"timestamp":1554313688,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit ae4701c397989ff2130463792d050228cb62fb4c\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1554313722,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1554313748,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 6:\n\nNow with Todd\u0027s improvement made to VMAPI we can finally get rid of the extra HTTP request after performing each migration action. Tests passing fine so far."},{"timestamp":1554827765,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1554827770,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 0ffbadd366afe2866914a723c3db3e01eb8c8a83\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1554827804,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1554999055,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1554999083,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 7:\n\nIs this up for final IA.\n\nIf so: tests pass? :D"},{"timestamp":1555426013,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 8."},{"timestamp":1555426018,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit 24cd0e2e70a066daeac5b42e06f6c82df9d6dcbf\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1555426050,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1555426091,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 8:\n\n\u003e Is this up for final IA.\n \u003e \n \u003e If so: tests pass? :D\n\nWe cannot go merge this at least until VMAPI has been merged so, we rather wait till then before we add IA +1.\n\nAnd yes, tests are passing. How else could I have developed this thing? :-)"},{"timestamp":1555429613,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 6:\n\n(3 comments)"},{"timestamp":1555515166,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 9."},{"timestamp":1555515171,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 9:\n\nNew commits:\n    \n    commit b0a2e23ef15ae0de7ef406e589df28fbc2567fb8\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1555515205,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1555515248,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 10: Patch Set 9 was rebased."},{"timestamp":1555515253,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 10:\n\nNew commits:\n    \n    commit 7c199251bbbd47b16ce4346a81e19efb7339ea11\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1555515299,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1555515339,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 10:\n\n(3 comments)\n\nDone as suggested. If you both can go +1 it ... shall we merge now, Todd?"},{"timestamp":1555601997,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 10:\n\n(7 comments)\n\nSorry for the delay. Some trivial changes and I\u0027m happy to LGTM."},{"timestamp":1555603230,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 10:\n\n\u003e Shall we merge now, Todd?\n\nNo, as we need to wait for TRITON-1050 (user migration controls) to land before this, otherwise users will be able to migrate instances when we (Ops) don\u0027t want them to."},{"timestamp":1558374451,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 11: Patch Set 10 was rebased."},{"timestamp":1558374457,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 11:\n\nNew commits:\n    \n    commit b2f54f5c871346506532dbdde75eca77aca29bd7\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1558374489,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11:\n\n\"make check\" passed ok"},{"timestamp":1559576723,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 11:\n\nPedro, could you give this a rebase and then we can merge this in."},{"timestamp":1559656266,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 12: Patch Set 11 was rebased."},{"timestamp":1559656272,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 12:\n\nNew commits:\n    \n    commit 41888b5fc6aa147f382200f7ffcf9b7777d7c791\n    \n    TRITON-898 Add CloudAPI endpoints for triton instance migration"},{"timestamp":1559656305,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 12:\n\n\u003e Pedro, could you give this a rebase and then we can merge this in.\n\nDone Todd! Mind to re-stamp?"},{"timestamp":1559656314,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12:\n\n\"make check\" passed ok"},{"timestamp":1559663049,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 12: Code-Review+1 Integration-Approval+1"},{"timestamp":1559664407,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 13: Commit message was updated."},{"timestamp":1559664418,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"13","revision":"721e7252763e14bbe0e5f888aa9630500793a7cb","parents":["b0d7bf4e39cae5af2b81d42d454e3a949814f196"],"ref":"refs/changes/13/5713/13","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1559664407,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555515205,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559663049,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559663049,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"SUBM","value":"1","grantedOn":1559664418,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":438,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1015,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"b3079940e6a16c43ed0ecbb8cba8c206e08d8025","parents":["7b9edc12198e2c1286c36d5fff2fdcbb566fca30"],"ref":"refs/changes/13/5713/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1551799707,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1551799748,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":308,"deletions":0},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"test/machines/migrations.js","type":"ADDED","insertions":230,"deletions":0}],"sizeInsertions":550,"sizeDeletions":-4},{"number":"2","revision":"21017614de506e29e37e5f02f9c215de9c991ed7","parents":["b23fbcb19b93215c05480b7fd0712020ee79753c"],"ref":"refs/changes/13/5713/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1553787868,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1553787906,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":258,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":314,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"test/machines/migrations.js","type":"ADDED","insertions":230,"deletions":0}],"sizeInsertions":815,"sizeDeletions":-6},{"number":"3","revision":"3e617bfc8b491001ebfcce8393e473ffbb6e2f9c","parents":["e4378701f9a26063218763573bc415ad9cc61cdb"],"ref":"refs/changes/13/5713/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1553787929,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1553787906,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/index.md","line":845,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I\u0027d add a little extra here. Maybe:\n\n, allowing the movement of machines between servers."},{"file":"docs/index.md","line":845,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"user-driven"},{"file":"docs/index.md","line":845,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":845,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7043,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Maybe:\n\nAt times it is necessary to migrate instances between different compute nodes within the Triton Cloud."},{"file":"docs/index.md","line":7043,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7047,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Remove this sentence."},{"file":"docs/index.md","line":7047,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I agree with this. Having said that, a bit more detail about why we have multiple phases, and what they do, would be nice."},{"file":"docs/index.md","line":7047,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"I think the \"why\" is a design decision we may not want to include into API docs ... anyway, Todd\u0027s call"},{"file":"docs/index.md","line":7047,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7049,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"It would be nice to describe that the typical usage is to request a migration action (asynchronous), followed by a using migration watch to see the results of that action."},{"file":"docs/index.md","line":7049,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Still need this (similar to what Marsell asked \"a bit more detail...\").\n\nFor reference, this is what I added for vmapi:\nhttps://github.com/joyent/sdc-vmapi/blob/master/docs/index.md#vm-migration"},{"file":"docs/index.md","line":7049,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Shamelessly copied!"},{"file":"docs/index.md","line":7052,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"From what I see, it\u0027s usually only a single \\n between ## and any following text in the docs."},{"file":"docs/index.md","line":7052,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7059,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Only apply when"},{"file":"docs/index.md","line":7059,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Since this feature is newer than affinities, I don\u0027t think you need to add this statement."},{"file":"docs/index.md","line":7059,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7059,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7066,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"without"},{"file":"docs/index.md","line":7066,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7067,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"t"},{"file":"docs/index.md","line":7067,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I think lining up these | helps people reading the raw file."},{"file":"docs/index.md","line":7067,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"I was so focused into the width of the Field column that forgot about this one!"},{"file":"docs/index.md","line":7067,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7068,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"t"},{"file":"docs/index.md","line":7068,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"for when"},{"file":"docs/index.md","line":7068,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7068,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7070,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Some of the sentences in this table end with a period, and some don\u0027t."},{"file":"docs/index.md","line":7070,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"All do now. Thanks!"},{"file":"docs/index.md","line":7078,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Prolly use backticks around the attribute names here."},{"file":"docs/index.md","line":7078,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7081,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Most tables in the doc have a space between - and |"},{"file":"docs/index.md","line":7081,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Let it be then."},{"file":"docs/index.md","line":7100,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Line up"},{"file":"docs/index.md","line":7100,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7102,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Capitalize these description sentences."},{"file":"docs/index.md","line":7102,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7106,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"These two don\u0027t exist."},{"file":"docs/index.md","line":7106,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"You lying on the RFD! :-)"},{"file":"docs/index.md","line":7120,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Remove this - there is no \"finished\" phase (finished means there is state \u003d\u003d \"successful\" and phase \u003d\u003d \"switch\").\n\nI know this was taken from the rfd (so I\u0027ve updated the rfd as well)."},{"file":"docs/index.md","line":7121,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"There is also a phase for:\n\nabort | This phase is used when aborting a migration."},{"file":"docs/index.md","line":7121,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7135,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Don\u0027t think we want to use the \"triton -i\" flag in the docs :)"},{"file":"docs/index.md","line":7135,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"One of these days I will buy a certificate for coal.joyent.us ..."},{"file":"docs/index.md","line":7190,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"This server version (and other migrations responses) should be 9.6.0 right?"},{"file":"docs/index.md","line":7190,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7266,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"my"},{"file":"docs/index.md","line":7266,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"And dropped auth details, added api.joyent.com ... I bet it was dinner time when I added this one!"},{"file":"docs/index.md","line":7293,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"It would be nice to see a full completed migration example (i.e. one that shows the progress_entries)."},{"file":"docs/index.md","line":7293,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7295,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Is there no GetMigration?"},{"file":"docs/index.md","line":7295,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"No. Only list migrations."},{"file":"docs/index.md","line":7295,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"But there is now! :D"},{"file":"lib/migrations.js","line":8,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Trent seems to have a thing against this format. I think it\u0027s\n\nCopyright 2019 Joyent, Inc.\n\nBut not sure. I can\u0027t find where it\u0027s documented."},{"file":"lib/migrations.js","line":8,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"I don\u0027t have any problem on changing :-)"},{"file":"lib/migrations.js","line":59,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Seems like\n\n\u0027/migrations/\u0027 + vmUuid\n\nwould do here."},{"file":"lib/migrations.js","line":59,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/migrations.js","line":80,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Since this is only used in one place, it it worth putting directly in list()?"},{"file":"lib/migrations.js","line":80,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/migrations.js","line":129,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Likewise with this."},{"file":"lib/migrations.js","line":129,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/migrations.js","line":170,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I\u0027m curious if\n\naRes.on(\u0027data\u0027, res.write);\n\nwould work the same."},{"file":"lib/migrations.js","line":170,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"There\u0027s a way to know it ..."},{"file":"lib/migrations.js","line":181,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Superfluous newline."},{"file":"lib/migrations.js","line":181,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/migrations.js","line":206,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Maybe move this to top of file?\n\nAlso, why KNOWN_MIGRATION_ACTIONS over MIGRATION_ACTIONS?"},{"file":"lib/migrations.js","line":206,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"B/C when I started writing this file there were migration actions unknown to CloudAPI but known by me ;-)"},{"file":"lib/migrations.js","line":211,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Just remove uncommented \"schedule\" code for now."},{"file":"lib/migrations.js","line":211,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/migrations.js","line":235,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"remove"},{"file":"lib/migrations.js","line":235,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/migrations.js","line":252,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I\u0027d split these two functions out, and do a:\n\nfuncs: [doMigrationAction, loadMigration]\n\nIt reduces the indentation level."},{"file":"lib/migrations.js","line":252,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"I\u0027m gonna wait b/c if Todd returns the migration object from VMAPI we can get rid of load migration."},{"file":"lib/migrations.js","line":260,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Can we add the request id here (so we can later track this error down)?"},{"file":"lib/migrations.js","line":260,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/migrations.js","line":271,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Should VMAPI be returning this migration record as part of the response, then we don\u0027t need another request? I\u0027d be happy to add that to VMAPI."},{"file":"lib/migrations.js","line":271,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Definitely!"},{"file":"lib/migrations.js","line":294,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Can we get a GetMigration here? Principle of least surprise."},{"file":"lib/migrations.js","line":294,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Todd is the guru here!"},{"file":"test/machines/migrations.js","line":11,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Remove"},{"file":"test/machines/migrations.js","line":11,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":25,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"I thought this would be \u0027migration.machine\u0027 after the vmapi/cloudapi conversion?"},{"file":"test/machines/migrations.js","line":25,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Indeed, but given I never called \"translate\" after calling \"LoadMigration\" ... good call!"},{"file":"test/machines/migrations.js","line":35,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"test/machines/migrations.js","line":35,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":117,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Might want to try to add an abort, e.g.:\n\n    [\u0027begin\u0027, \u0027abort\u0027, \u0027begin\u0027, \u0027sync\u0027, \u0027sync\u0027, \u0027switch\u0027];"},{"file":"test/machines/migrations.js","line":117,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":120,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"test/machines/migrations.js","line":120,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":128,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"test/machines/migrations.js","line":128,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":155,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"test/machines/migrations.js","line":155,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":160,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"test/machines/migrations.js","line":160,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":170,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"test/machines/migrations.js","line":170,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":212,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"test/machines/migrations.js","line":212,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":219,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Perhaps check one of these migration entries using \"checkMigration\"."},{"file":"test/machines/migrations.js","line":219,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/machines/migrations.js","line":231,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Please don\u0027t forget to do some tests with the \"other\" client -- Migrate and GetMigration (if added) of another owner\u0027s machine."},{"file":"test/machines/migrations.js","line":231,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Good call!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":258,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":314,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"test/machines/migrations.js","type":"ADDED","insertions":230,"deletions":0}],"sizeInsertions":815,"sizeDeletions":-6},{"number":"4","revision":"2cfe137717c5e8a14941f6fc4dde0dae54717b03","parents":["e4378701f9a26063218763573bc415ad9cc61cdb"],"ref":"refs/changes/13/5713/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1553971365,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1553971401,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/machines/migrations.js","line":223,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: redeclaration of lsCb"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":427,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":340,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1036,"sizeDeletions":-6},{"number":"5","revision":"3b92e560f9fceafc52b545e7136193b13d5696d1","parents":["e4378701f9a26063218763573bc415ad9cc61cdb"],"ref":"refs/changes/13/5713/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1553971534,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1553971575,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/migrations.js","line":118,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"This is nearly identical to loadVmMigration(), except for the PreconditionFailed. Is there some way to use loadVmMigration() within get()?"},{"file":"lib/migrations.js","line":118,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"We\u0027re waiting on Todd to return the migration object from the calls to the different VMAPI actions, so it wouldn\u0027t be required to call loadMigration from those and, therefore, we\u0027ll RIP that apart and keep only get."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":427,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":340,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1036,"sizeDeletions":-6},{"number":"6","revision":"d2e5d401df57c71724d4186024404c3d5d2bbbfa","parents":["e4378701f9a26063218763573bc415ad9cc61cdb"],"ref":"refs/changes/13/5713/6","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1554313683,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1554313722,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/index.md","line":7064,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Drop \"scheduled\" - not implemented."},{"file":"docs/index.md","line":7064,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"docs/index.md","line":7097,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Drop \"scheduled\" - not implemented."},{"file":"docs/index.md","line":7097,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":427,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1005,"sizeDeletions":-6},{"number":"7","revision":"a9328f8770f655a7a4228b02e5f0480b0f19bcd9","parents":["0a07ee22a45ea51b8229f54ef998aa47eb9d3e66"],"ref":"refs/changes/13/5713/7","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1554827765,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1554313722,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554999055,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":427,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1005,"sizeDeletions":-6},{"number":"8","revision":"8e864adac25d1b7404091a1080657c88ffd45207","parents":["9d589e04360b902eb1e4f342160a94372735fcff"],"ref":"refs/changes/13/5713/8","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1555426013,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555426050,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":427,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1004,"sizeDeletions":-4},{"number":"9","revision":"1b3fc3b65081b49882ac3049ebdb4490543b43f5","parents":["9d589e04360b902eb1e4f342160a94372735fcff"],"ref":"refs/changes/13/5713/9","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1555515166,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555515205,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":438,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1015,"sizeDeletions":-4},{"number":"10","revision":"1c7dfdbdeca70dcefb7ad0e375105a2535245c33","parents":["7e07f311aa358021ca5b3940fd4bd3aae8b9c6e5"],"ref":"refs/changes/13/5713/10","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1555515248,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555515205,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/index.md","line":7046,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Move this to a separate line?"},{"file":"docs/index.md","line":7049,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":":"},{"file":"docs/index.md","line":7050,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Hmm. Maybe remove this? It\u0027s not really a placeholder."},{"file":"docs/index.md","line":7050,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"\"VM\" and \"vm\" is used inconsistently in this paragraph. Just use \"VM\"?"},{"file":"docs/index.md","line":7057,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"actions"},{"file":"docs/index.md","line":7086,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"No reason not to wrap to 80."},{"file":"test/machines.80.test.js","line":24,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Where is this used?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":438,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1015,"sizeDeletions":-4},{"number":"11","revision":"2abb6517cf6ba4be96f1edbefe86785e9af99715","parents":["e46b9540cba121dd80c536c829f3c611fceadf6a"],"ref":"refs/changes/13/5713/11","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1558374451,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555515205,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":438,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1015,"sizeDeletions":-4},{"number":"12","revision":"fd9c3496b6c019509c19bb566e8b012628877aa0","parents":["b0d7bf4e39cae5af2b81d42d454e3a949814f196"],"ref":"refs/changes/13/5713/12","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1559656266,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555515205,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559663049,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559663049,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":438,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1015,"sizeDeletions":-4},{"number":"13","revision":"721e7252763e14bbe0e5f888aa9630500793a7cb","parents":["b0d7bf4e39cae5af2b81d42d454e3a949814f196"],"ref":"refs/changes/13/5713/13","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1559664407,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555515205,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1559664418,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559663049,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559663049,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":438,"deletions":-1},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/migrations.js","type":"ADDED","insertions":309,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"test/machines/migrations.js","type":"ADDED","insertions":256,"deletions":0}],"sizeInsertions":1015,"sizeDeletions":-4}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}