{"project":"joyent/illumos-joyent","branch":"master","id":"Ib993502bebb9a0147b2f588756c07c810814b035","number":"4677","subject":"OS-7116 bhyve brand should accept bios and uefi values for bootrom (fix cstyle) Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Approved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e","owner":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"url":"https://cr.joyent.us/4677","commitMessage":"OS-7116 bhyve brand should accept bios and uefi values for bootrom (fix cstyle)\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nApproved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\n","createdOn":1534238745,"lastUpdated":1534524577,"open":false,"status":"MERGED","comments":[{"timestamp":1534238745,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 1."},{"timestamp":1534239152,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 1:\n\nFound this while doing a gmake clean ; gmake live after pulling in the changes from master after the merge. Sorry about that."},{"timestamp":1534347153,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1534347337,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1534347463,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1534347537,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1534354117,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1534484001,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 2:\n\nHere is the output from mail_msg from a fresh build with this change I did this night.\n\n\n\u003d\u003d\u003d\u003d Nightly distributed build started:   Thu Aug 16 21:31:41 UTC 2018 \u003d\u003d\u003d\u003d\n\u003d\u003d\u003d\u003d Nightly distributed build completed: Thu Aug 16 22:15:10 UTC 2018 \u003d\u003d\u003d\u003d\n\n\u003d\u003d\u003d\u003d Total build time \u003d\u003d\u003d\u003d\n\nreal    0:43:29\n\n\u003d\u003d\u003d\u003d Build environment \u003d\u003d\u003d\u003d\n\n/usr/bin/uname\nSunOS proton 5.11 joyent_20180814T224446Z i86pc i386 i86pc\n\n/root/smartos-live/proto.strap/usr/bin/dmake\ndmake: rm hacked up make 2013/03/23\nnumber of concurrent jobs \u003d 26\n\n32-bit compiler\n/root/smartos-live/projects/illumos/usr/src/tools/proto/root_i386-nd/opt/onbld/bin/i386/cw -_gcc\ncw version 1.30 (SHADOW MODE DISABLED)\nprimary: /root/smartos-live/proto.strap/usr/gcc/4/bin/gcc\ngcc (GCC) 4.4.4\n\n64-bit compiler\n/root/smartos-live/projects/illumos/usr/src/tools/proto/root_i386-nd/opt/onbld/bin/i386/cw -_gcc\ncw version 1.30 (SHADOW MODE DISABLED)\nprimary: /root/smartos-live/proto.strap/usr/gcc/4/bin/gcc\ngcc (GCC) 4.4.4\n\n/opt/local/java/openjdk7/bin/javac\nopenjdk full version \"1.7.0_141-internal-pkgsrc_2017_11_07_04_22-b00\"\n\n/usr/bin/openssl\nOpenSSL 1.0.2n  7 Dec 2017\n\n./nightly: line 1693: as: not found\n\n/usr/ccs/bin/ld\nld: Software Generation Utilities - Solaris Link Editors: 5.11-1.1756 (illumos)\n\nBuild project:  user.root\nBuild taskid:   2104\n\n\u003d\u003d\u003d\u003d Nightly argument issues \u003d\u003d\u003d\u003d\n\nWarning: the N option (do not run protocmp) is set; it probably shouldn\u0027t be\n\n\n\u003d\u003d\u003d\u003d Build version \u003d\u003d\u003d\u003d\n\njoyent_20180816T213033Z\n\n\u003d\u003d\u003d\u003d Tools build errors \u003d\u003d\u003d\u003d\n\n\n\u003d\u003d\u003d\u003d Build errors (non-DEBUG) \u003d\u003d\u003d\u003d\n\n\n\u003d\u003d\u003d\u003d Build warnings (non-DEBUG) \u003d\u003d\u003d\u003d\n\n\n\u003d\u003d\u003d\u003d Elapsed build time (non-DEBUG) \u003d\u003d\u003d\u003d\n\nreal    23:33.0\nuser  3:48:06.1\nsys   2:33:40.5\n\n\u003d\u003d\u003d\u003d Build errors (DEBUG) \u003d\u003d\u003d\u003d\n\n\n\u003d\u003d\u003d\u003d Build warnings (DEBUG) \u003d\u003d\u003d\u003d\n\n\n\u003d\u003d\u003d\u003d Elapsed build time (DEBUG) \u003d\u003d\u003d\u003d\n\nreal    16:36.1\nuser  2:46:07.1\nsys   1:27:31.7\n\n\u003d\u003d\u003d\u003d cstyle/hdrchk errors \u003d\u003d\u003d\u003d\n\n\n\u003d\u003d\u003d\u003d Find core files \u003d\u003d\u003d\u003d\n\n\n\u003d\u003d\u003d\u003d Nightly build noise \u003d\u003d\u003d\u003d\n\n./nightly[1388]: child_wstype: line 1375: which_scm: not found"},{"timestamp":1534524442,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1534524520,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1534524539,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1534524577,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"4","revision":"d4571eb653823d0e8936b35502fc38b7af9f6f04","parents":["a72f92c76cef0e035c3ae9af38ea6789c0676527"],"ref":"refs/changes/77/4677/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1534524539,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534347337,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534354117,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534524442,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1534524576,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"338c67cfb942c02aa0c9609cc8f21d6cc7281f57","parents":["b50884db8d84f652919a0d7b6fd6dd3d28fb035e"],"ref":"refs/changes/77/4677/1","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1534238745,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534347337,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"should be:\n\nbhyve brand should accept bios and uefi values for bootrom (fix cstyle)"},{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"2","revision":"b993502bebb9a0147b2f588756c07c810814b035","parents":["b50884db8d84f652919a0d7b6fd6dd3d28fb035e"],"ref":"refs/changes/77/4677/2","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1534347463,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534354117,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534524442,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534347337,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"3","revision":"c5693827412eace5806f8b7d469f7188cdf95c99","parents":["b50884db8d84f652919a0d7b6fd6dd3d28fb035e"],"ref":"refs/changes/77/4677/3","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1534524520,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534354117,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534524442,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534347337,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"4","revision":"d4571eb653823d0e8936b35502fc38b7af9f6f04","parents":["a72f92c76cef0e035c3ae9af38ea6789c0676527"],"ref":"refs/changes/77/4677/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1534524539,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534354117,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534524442,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1534524576,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534347337,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/boot.c","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1}],"allReviewers":[{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}]}