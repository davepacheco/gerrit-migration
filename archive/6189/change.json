{"project":"joyent/manta-muskie","branch":"master","id":"I810d30f043a3c3ee5717146fe7bbb85484cfe0ef","number":"6189","subject":"MANTA-4245 Improve error handling in manta-muskie unit tests","owner":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"url":"https://cr.joyent.us/6189","commitMessage":"MANTA-4245 Improve error handling in manta-muskie unit tests\n","createdOn":1556818276,"lastUpdated":1557181702,"open":false,"status":"MERGED","comments":[{"timestamp":1556818276,"reviewer":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"message":"Uploaded patch set 1."},{"timestamp":1556818277,"reviewer":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 33e522021f94889ce555eebff07c770116f97c47\n    \n    Fix \u0027make check\u0027 errors.\n    \n    commit a8d3561f8546fb223ce44af17a814665b13cb730\n    \n    Add error handling to test helper for MUSKIETEST_OPERATOR_KEYFILE env var."},{"timestamp":1556888594,"reviewer":{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"},"message":"Patch Set 1: Code-Review+1\n\n- Added an env var for MUSKIETEST_OPERATOR_KEYFILE\n- Ran the test suite before the change and get a lot of failures, and the failure reasons seem unrelated to key files (a lot of undefined and expects array messages)\n- Ran the test AFTER the change and get a dead stop fail, with a clear message. \n- Ran tests without the env var, and pass as before\n\nNice."},{"timestamp":1557176807,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1: Integration-Approval+1\n\nDid similar testing to what Russell did. Set the env var to a nonexistent file and the test stopped with the clear error message, set it to an existing file and the tests pass, and the tests pass without having it set."},{"timestamp":1557181702,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jon Anderson"}],"currentPatchSet":{"number":"1","revision":"810d30f043a3c3ee5717146fe7bbb85484cfe0ef","parents":["124740b581c21b6fbaf4c1c30590b03ed91af194"],"ref":"refs/changes/89/6189/1","uploader":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"createdOn":1556818276,"author":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556888594,"by":{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557176807,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"SUBM","value":"1","grantedOn":1557181702,"by":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":15,"deletions":-3}],"sizeInsertions":15,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"810d30f043a3c3ee5717146fe7bbb85484cfe0ef","parents":["124740b581c21b6fbaf4c1c30590b03ed91af194"],"ref":"refs/changes/89/6189/1","uploader":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"createdOn":1556818276,"author":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557176807,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556888594,"by":{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"}},{"type":"SUBM","value":"1","grantedOn":1557181702,"by":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":15,"deletions":-3}],"sizeInsertions":15,"sizeDeletions":-3}],"allReviewers":[{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"},{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}]}