{"project":"joyent/node-triton","branch":"master","id":"I92bfe6266bade63c627c2bb550474db70e654dad","number":"4763","subject":"joyent/node-triton#255 creating fabric networks still broken joyent/node-triton#257 \"triton vlan create\" should not assert on missing argument Reviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Cody Me","owner":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"url":"https://cr.joyent.us/4763","commitMessage":"joyent/node-triton#255 creating fabric networks still broken\njoyent/node-triton#257 \"triton vlan create\" should not assert on missing argument\nReviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Cody Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1535570993,"lastUpdated":1538776000,"open":false,"status":"MERGED","comments":[{"timestamp":1535570993,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 1."},{"timestamp":1535571026,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1535652060,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1536033387,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1536076294,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1537814735,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1537815610,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1537839364,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1537853572,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 2."},{"timestamp":1537853598,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1537853608,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1537859116,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1537997261,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1538592265,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2:\n\n(1 comment)\n\nsmall copyright update - otherwise the change looks good to me!"},{"timestamp":1538694000,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 3."},{"timestamp":1538694032,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1538694042,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 2:\n\n(1 comment)\n\nCopyright updated.  I think that should be everything, if you can all +1 again I\u0027d like to tie this one up!  Thanks."},{"timestamp":1538763569,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1538764193,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1538775752,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1538775956,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1538776000,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Joshua M. Clulow"}],"currentPatchSet":{"number":"4","revision":"05f1bae869a2761315d6a9bb69d474bfdb94fbe9","parents":["aea9b2b7b335fc24862ab76acde47821b41fdcb4"],"ref":"refs/changes/63/4763/4","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1538775956,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1538694032,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538763569,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538764193,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1538775752,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1538776000,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"lib/do_network/do_create.js","type":"MODIFIED","insertions":119,"deletions":-33},{"file":"lib/do_vlan/do_create.js","type":"MODIFIED","insertions":27,"deletions":-10},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":158,"sizeDeletions":-48},"patchSets":[{"number":"1","revision":"e69f17445a0102eb7851ad98991e6eacc5f8a6e8","parents":["aea9b2b7b335fc24862ab76acde47821b41fdcb4"],"ref":"refs/changes/63/4763/1","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1535570993,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536076294,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1535571026,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/do_network/do_create.js","line":92,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Prolly be better of put above the declaration of createOpts, and work on a resolvers array directly (i.e. resolvers.push() instead of createOpts.resolvers.push())."},{"file":"lib/do_network/do_create.js","line":92,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"I think it\u0027s probably fine the way it is -- it has to end up on createOpts eventually anyway."},{"file":"lib/do_network/do_create.js","line":96,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"split(\u0027\u003d\u0027)?"},{"file":"lib/do_network/do_create.js","line":96,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Seconded - based on this regex it seems that you could do:\n\n var s \u003d opts.route[i].split(\u0027\u003d\u0027);\n if (m.length !\u003d\u003d 2) {\n   // error\n }"},{"file":"lib/do_network/do_create.js","line":96,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"After thinking about it a tad more, I think it\u0027s better the way it is now. We don\u0027t need additional checks to prevent degenerate cases like \u0027\u003d\u0027.split(\u0027\u003d\u0027)."},{"file":"lib/do_network/do_create.js","line":96,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Right, I made the regular expression that way on purpose."},{"file":"lib/do_network/do_create.js","line":115,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Don\u0027t need a following return?"},{"file":"lib/do_network/do_create.js","line":115,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"},{"file":"lib/do_network/do_create.js","line":174,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why is this unlabelled? Is that just so you can basically break up the grouping logic?"},{"file":"lib/do_network/do_create.js","line":174,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Yes, it effectively inserts a blank line between these particular options when rendering the usage output.  I did it a couple of times to group (I feel) related options together visually."},{"file":"lib/do_vlan/do_create.js","line":137,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"How did you know to change this?"},{"file":"lib/do_vlan/do_create.js","line":137,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"I inspected the output visually, and compared with what some other files in this project are doing."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"lib/do_network/do_create.js","type":"MODIFIED","insertions":118,"deletions":-33},{"file":"lib/do_vlan/do_create.js","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":156,"sizeDeletions":-47},{"number":"2","revision":"dd2246c771ebbcc32bd156c563e6e17ad377f8c2","parents":["aea9b2b7b335fc24862ab76acde47821b41fdcb4"],"ref":"refs/changes/63/4763/2","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1537853572,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537997261,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1537853608,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537859116,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"lib/do_vlan/do_create.js","line":8,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"2018"},{"file":"lib/do_vlan/do_create.js","line":8,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"lib/do_network/do_create.js","type":"MODIFIED","insertions":119,"deletions":-33},{"file":"lib/do_vlan/do_create.js","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":157,"sizeDeletions":-47},{"number":"3","revision":"92bfe6266bade63c627c2bb550474db70e654dad","parents":["aea9b2b7b335fc24862ab76acde47821b41fdcb4"],"ref":"refs/changes/63/4763/3","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1538694000,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538764193,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1538775752,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1538694032,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538763569,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"lib/do_network/do_create.js","type":"MODIFIED","insertions":119,"deletions":-33},{"file":"lib/do_vlan/do_create.js","type":"MODIFIED","insertions":27,"deletions":-10},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":158,"sizeDeletions":-48},{"number":"4","revision":"05f1bae869a2761315d6a9bb69d474bfdb94fbe9","parents":["aea9b2b7b335fc24862ab76acde47821b41fdcb4"],"ref":"refs/changes/63/4763/4","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1538775956,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538764193,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1538775752,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1538776000,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1538694032,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538763569,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"lib/do_network/do_create.js","type":"MODIFIED","insertions":119,"deletions":-33},{"file":"lib/do_vlan/do_create.js","type":"MODIFIED","insertions":27,"deletions":-10},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":158,"sizeDeletions":-48}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}]}