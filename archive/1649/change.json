{"project":"joyent/smartos-live","branch":"master","id":"Idb036c27db1e6d72366c8b7edb33377b7b361de7","number":"1649","subject":"OS-6006 VM.start fails for zones that don\u0027t stay running very long Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e Approved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e","owner":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"url":"https://cr.joyent.us/1649","commitMessage":"OS-6006 VM.start fails for zones that don\u0027t stay running very long\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\nApproved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1489187230,"lastUpdated":1492458550,"open":false,"status":"MERGED","comments":[{"timestamp":1489187230,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 1."},{"timestamp":1489187233,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 34544030099b016fbade7b1557f6213c72671077\n    \n    initial commit"},{"timestamp":1489187273,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489187429,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 2."},{"timestamp":1489187432,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit a75a0cd67ac2d6b8e2094d2b9fad1f3cc1424aaa\n    \n    spelling and debug statements"},{"timestamp":1489187473,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489682069,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1489682072,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 352358f469c5265fcfad52484b62ed553fc1ce7b\n    \n    spelling and debug statements\n    \n    commit 905cb0063b221bf3ff57d614c931fa136fe9445c\n    \n    initial commit"},{"timestamp":1489682115,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1490026543,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3: Code-Review+1\n\n(1 comment)"},{"timestamp":1490715022,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3: Code-Review-1\n\n(1 comment)"},{"timestamp":1490736262,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 4."},{"timestamp":1490736266,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit e3cefc9ea31190e50974d8fc30ef06b2014a3811\n    \n    allow creation of sysevent stream before waitForZoneState"},{"timestamp":1490736304,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1490736502,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 5."},{"timestamp":1490736505,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit e0d43eea35b96918bc94c0fe21a46aede3b69b58\n    \n    cleanup"},{"timestamp":1490736540,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491328453,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 6."},{"timestamp":1491328456,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 909f6092fbe3082dfbbebba251d37c8efc6b9b42\n    \n    better docs"},{"timestamp":1491328490,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491328500,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 6: -Code-Review"},{"timestamp":1491455379,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6: Code-Review+1\n\n(3 comments)\n\nIt\u0027s kinda unfortunate that this had to be so complex, but I don\u0027t have any immediate suggestions on how to make it simpler.\n\nCould you clarify what tests you\u0027ve run against these changes?"},{"timestamp":1491582751,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 6:\n\n(2 comments)"},{"timestamp":1491582781,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 7."},{"timestamp":1491582784,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 4be499ede22d8c02d0820ba274bd0e75148b5fe9\n    \n    alphabetize\n    \n    commit f061632d211bc2cda02083f0bc21269729dfa9e5\n    \n    better docs\n    \n    commit 7ab35bf368657754a18521550871a3d377fa7269\n    \n    cleanup\n    \n    commit 753678e6b7a655e6087d9944ad538ffe6a773538\n    \n    allow creation of sysevent stream before waitForZoneState\n    \n    commit ffdd91530642d62a872f052e73028603a1905a12\n    \n    spelling and debug statements\n    \n    commit 11b61fd0aa462183d08c1ddcf7e18518e568b45c\n    \n    initial commit"},{"timestamp":1491582799,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1491582819,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491582885,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 6:\n\nI\u0027ve run 3 test suites on this branch with success - smartos-live, sdc-vm-agent and sdc-vmapi tests."},{"timestamp":1491854661,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1491854692,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1"},{"timestamp":1492097682,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 9."},{"timestamp":1492097725,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1492097732,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 9:\n\nI\u0027ve created a separate change here https://devhub.joyent.com/jira/browse/OS-6054 which adds a timer around the \"ready\" event to ensure it is seen so we do not hang indefinitely."},{"timestamp":1492452604,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 9: Code-Review+1"},{"timestamp":1492452611,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 9: Integration-Approval+1"},{"timestamp":1492458550,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Dave Eddy"}],"currentPatchSet":{"number":"9","revision":"db036c27db1e6d72366c8b7edb33377b7b361de7","parents":["37fa0b13a2503039ea0e9ba785f1951785d941ad"],"ref":"refs/changes/49/1649/9","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1492097682,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492097725,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492452604,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1492452611,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1492458550,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":287,"deletions":-176}],"sizeInsertions":287,"sizeDeletions":-176},"patchSets":[{"number":"1","revision":"604262abbe1741b0b61bfc9c70895a22938ad52d","parents":["5ceb19e2c56f5673d0d93269fadce77f731e3e83"],"ref":"refs/changes/49/1649/1","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1489187230,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489187273,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":76,"deletions":-44}],"sizeInsertions":76,"sizeDeletions":-44},{"number":"2","revision":"facaf4202cf9791d3e87a5ee6db10d97b59ab815","parents":["5ceb19e2c56f5673d0d93269fadce77f731e3e83"],"ref":"refs/changes/49/1649/2","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1489187429,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489187473,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":78,"deletions":-44}],"sizeInsertions":78,"sizeDeletions":-44},{"number":"3","revision":"81557891c54302b9a33eba126cce3eb03e98b490","parents":["1b00ef6f33b5462efeba20cce1478de7439bbb3d"],"ref":"refs/changes/49/1649/3","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1489682069,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489187473,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490026543,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1490715022,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"comments":[{"file":"src/vm/node_modules/VM.js","line":10404,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"with vasync.parallel what guarantees do we have? Is it possible for the zoneadm to error out immediately and the VM.waitForZoneState to run just after that? In that case we\u0027d not call cancel here, but we\u0027d create the waiter immediately after. Or are we guaranteed the code runs completely for each function, but we just don\u0027t wait for cb2() before moving on?"},{"file":"src/vm/node_modules/VM.js","line":10404,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"So there a couple of interesting problems about this approach that your comment has helped me to see.\n\nWRT to vasync, the code for .parallel will execute the functions in order, so waitForZone state will be called before zoneadm is.  However...\n\nwaitForZoneState will create a zone watcher if one does not already exist.  Because of this, the call to fork `zoneevent` will be done simultaneously with the call to `zoneadm`, meaning it is possible for events to be missed during that window.  I have similar code to this in the vminfod branch, and to get around this issue I create a VminfodEventStream and wait for it to be \"ready\" before calling vasync.parallel and waiting for the event I expect to see.\n\nThe implementation for this change will need to change to allow the creation of a zone state watcher as a separate step to waitForZoneState.  I have a couple of ideas I\u0027m testing and am trying to work out the simplest solution - I\u0027ll update this change when I have something simple that works."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":78,"deletions":-44}],"sizeInsertions":78,"sizeDeletions":-44},{"number":"4","revision":"1c83c53f31a7a4ed2e41ccfc827661273de9cc00","parents":["73d8c13dc6b3d6923a4a1a6203517f6cb568ccb5"],"ref":"refs/changes/49/1649/4","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1490736262,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490736304,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1490715022,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":234,"deletions":-167}],"sizeInsertions":234,"sizeDeletions":-167},{"number":"5","revision":"96fe880da844e977f169db69b41a0d71ba23ad11","parents":["73d8c13dc6b3d6923a4a1a6203517f6cb568ccb5"],"ref":"refs/changes/49/1649/5","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1490736502,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490736540,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1490715022,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":234,"deletions":-168}],"sizeInsertions":234,"sizeDeletions":-168},{"number":"6","revision":"416ec30a1e2f1d9a0159e6aac3ab8efb4d95c264","parents":["73d8c13dc6b3d6923a4a1a6203517f6cb568ccb5"],"ref":"refs/changes/49/1649/6","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1491328453,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491328490,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491455379,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"src/vm/node_modules/VM.js","line":3514,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"would be nice to keep these alphabetized."},{"file":"src/vm/node_modules/VM.js","line":3514,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Done"},{"file":"src/vm/node_modules/VM.js","line":3586,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"good catch!"},{"file":"src/vm/node_modules/VM.js","line":3763,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"if the stream has an error here and for some reason we never get a \u0027ready\u0027 event, does that mean we\u0027ll never call the callback? Or are we guaranteed to get a ready?"},{"file":"src/vm/node_modules/VM.js","line":3763,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"So as this is written, the `SyseventStream` will emit an \u0027error\u0027 for any error encountered, which will result in an exception being thrown as nothing is listening for the \u0027error\u0027 event.\n\nWhat do you think would be the best course of action here? I could attach an error handler to the stream and remove it when the \u0027ready\u0027 event is seen.   Not being able to fork sysevent(1M) is a serious problem and perhaps should result in the entire processing crashing (like it does in this change currently)."},{"file":"src/vm/node_modules/VM.js","line":3763,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"If we\u0027re guaranteed that it will always either:\n\na) emit \u0027ready\u0027\nb) emit an \u0027error\u0027 and abort the program\n\nI\u0027m fine with that. The case I was concerned about is if there was any possibility that neither of those situations occurred. E.g. a hang or something."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":287,"deletions":-176}],"sizeInsertions":287,"sizeDeletions":-176},{"number":"7","revision":"f30cc0b3b16fb57aa5aa0637e2d33b99756eb9b3","parents":["6b833549a5739a30c623198e9029765e2b1fa3ff"],"ref":"refs/changes/49/1649/7","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1491582781,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491582819,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":287,"deletions":-176}],"sizeInsertions":287,"sizeDeletions":-176},{"number":"8","revision":"5079abdabdeca168bda0190f9c5546ff14e4afa3","parents":["6b833549a5739a30c623198e9029765e2b1fa3ff"],"ref":"refs/changes/49/1649/8","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1491582799,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491854692,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1491854692,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":287,"deletions":-176}],"sizeInsertions":287,"sizeDeletions":-176},{"number":"9","revision":"db036c27db1e6d72366c8b7edb33377b7b361de7","parents":["37fa0b13a2503039ea0e9ba785f1951785d941ad"],"ref":"refs/changes/49/1649/9","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1492097682,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492097725,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492452604,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1492452611,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1492458550,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":287,"deletions":-176}],"sizeInsertions":287,"sizeDeletions":-176}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}]}