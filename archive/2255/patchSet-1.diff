commit f88f11b993d9f742a83b111384551210a5ff54c1 (refs/changes/55/2255/1)
Author: David Pacheco <dap@joyent.com>
Date:   2017-07-24T11:24:52-07:00 (2 years, 2 months ago)
    
    joyent/node-manta#315 document mlogin session termination conditions

diff --git a/CHANGES.md b/CHANGES.md
index 5ec55a8..d180dcb 100644
--- a/CHANGES.md
+++ b/CHANGES.md
@@ -2,6 +2,10 @@
 
 ## not yet released
 
+## 4.4.4
+
+- joyent/node-manta#315 document mlogin session termination conditions
+
 ## 4.4.3
 
 - joyent/node-manta#244 mlogin could disable Manta's abort-on-core behavior
diff --git a/docs/man/mlogin.md b/docs/man/mlogin.md
index 317bec0..1745bb1 100644
--- a/docs/man/mlogin.md
+++ b/docs/man/mlogin.md
@@ -24,6 +24,14 @@ become part of a workflow using interactive terminal utilities on large Manta
 objects without the need to download or transfer the data -- e.g. the the use
 of `mdb` (the Modular Debugger) on crash dumps and core files.
 
+The mlogin session terminates when the top level process has exited (usually the
+interactive shell, unless the `-c` option was used) and all references to that
+process's controlling terminal have also been closed.  Beware that if you fork a
+background process and then exit the shell, the background process (and the job)
+may continue running if they hold the terminal open.  You may need to cancel the
+job in order to stop it.
+
+
 EXAMPLES
 --------
 
diff --git a/man/man1/mlogin.1 b/man/man1/mlogin.1
index 74d5eb4..21c16e2 100644
--- a/man/man1/mlogin.1
+++ b/man/man1/mlogin.1
@@ -16,6 +16,13 @@ experience and explore the compute zone environment hands on.  It can also
 become part of a workflow using interactive terminal utilities on large Manta
 objects without the need to download or transfer the data \-\- e.g. the the use
 of \fB\fCmdb\fR (the Modular Debugger) on crash dumps and core files.
+.PP
+The mlogin session terminates when the top level process has exited (usually the
+interactive shell, unless the \fB\fC\-c\fR option was used) and all references to that
+process's controlling terminal have also been closed.  Beware that if you fork a
+background process and then exit the shell, the background process (and the job)
+may continue running if they hold the terminal open.  You may need to cancel the
+job in order to stop it.
 .SH EXAMPLES
 .PP
 The default mode of \fB\fCmlogin\fR is to create a reduce job with no input keys.  This
@@ -150,4 +157,5 @@ where \fB\fC:login\fR is the account login name.
 .PP
 DSA keys do not work when loaded via the SSH agent.
 .PP
-Report bugs at Github \[la]https://github.com/joyent/node-manta/issues\[ra]
+Report bugs at Github
+\[la]https://github.com/joyent/node-manta/issues\[ra]
diff --git a/package.json b/package.json
index 6b7df03..fe6e240 100644
--- a/package.json
+++ b/package.json
@@ -7,7 +7,7 @@
         "type": "git",
         "url": "git://github.com/joyent/node-manta.git"
     },
-    "version": "4.4.3",
+    "version": "4.4.4",
     "main": "./lib/index.js",
     "dependencies": {
         "assert-plus": "^1.0.0",
