{"project":"joyent/illumos-joyent","branch":"master","id":"I1b989864babedc13028d67e6c9aaeb7d6cf33843","number":"103","subject":"OS-5525 changes to allow the tests to work on SmartOS Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e","owner":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"url":"https://cr.joyent.us/103","commitMessage":"OS-5525 changes to allow the tests to work on SmartOS\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1468957523,"lastUpdated":1468966986,"open":false,"status":"MERGED","comments":[{"timestamp":1468957523,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 1."},{"timestamp":1468959372,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)\n\nIn general, looks fine. Though I\u0027d rather we just get rid of the other runfiles entirely for the os-tests and just have the default, which means there\u0027s no guessing which ones we should use."},{"timestamp":1468960081,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 2."},{"timestamp":1468960589,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1\n\nLooks good to me, thanks for the follow up."},{"timestamp":1468964432,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 3."},{"timestamp":1468965292,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(1 comment)\n\nAside from the minor typo it seems good. Once this is in we can go through and update instructions for dtest, vndtest, mdbtest, etc."},{"timestamp":1468966758,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 4."},{"timestamp":1468966815,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1468966958,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1468966986,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jerry Jelinek"}],"currentPatchSet":{"number":"4","revision":"1b989864babedc13028d67e6c9aaeb7d6cf33843","parents":["1288dcc696c13b8f20bc65f1aa13c0a6211a2a89"],"ref":"refs/changes/03/103/4","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1468966758,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1468966815,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1468966958,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1468966986,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":15,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/Readme.smartos","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/test/os-tests/cmd/ostest.ksh","type":"MODIFIED","insertions":3,"deletions":-6},{"file":"usr/src/test/os-tests/runfiles/Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/os-tests/runfiles/default.run","fileOld":"usr/src/test/os-tests/runfiles/delphix.run","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/omnios.run","type":"DELETED","insertions":0,"deletions":-28},{"file":"usr/src/test/os-tests/runfiles/openindiana.run","type":"DELETED","insertions":0,"deletions":-28}],"sizeInsertions":102,"sizeDeletions":-68},"patchSets":[{"number":"1","revision":"597ac2718d19bd386dc5d45e4fa65965fe0246f7","parents":["5b906d728d7999b28ec95f09b8e95dd56216a546"],"ref":"refs/changes/03/103/1","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1468957523,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1468959372,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/test/os-tests/cmd/ostest.ksh","line":31,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Can we just get rid of the other runfiles and just have it be the default? Given that there\u0027s no OS-specific behavior here?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":15,"deletions":0},{"file":"usr/src/test/os-tests/cmd/ostest.ksh","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"ADDED","insertions":28,"deletions":0}],"sizeInsertions":50,"sizeDeletions":-1},{"number":"2","revision":"15c28f1540fb02a42c768c9295e6d6047fb6294e","parents":["5b906d728d7999b28ec95f09b8e95dd56216a546"],"ref":"refs/changes/03/103/2","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1468960081,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1468960589,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":15,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/os-tests/cmd/ostest.ksh","type":"MODIFIED","insertions":3,"deletions":-6},{"file":"usr/src/test/os-tests/runfiles/Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/os-tests/runfiles/default.run","fileOld":"usr/src/test/os-tests/runfiles/delphix.run","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/omnios.run","type":"DELETED","insertions":0,"deletions":-28},{"file":"usr/src/test/os-tests/runfiles/openindiana.run","type":"DELETED","insertions":0,"deletions":-28}],"sizeInsertions":22,"sizeDeletions":-68},{"number":"3","revision":"acff02449cea1a836d50b55441f31f01b02f5997","parents":["1288dcc696c13b8f20bc65f1aa13c0a6211a2a89"],"ref":"refs/changes/03/103/3","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1468964432,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/test/Readme.smartos","line":46,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should be python26"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":15,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/Readme.smartos","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/test/os-tests/cmd/ostest.ksh","type":"MODIFIED","insertions":3,"deletions":-6},{"file":"usr/src/test/os-tests/runfiles/Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/os-tests/runfiles/default.run","fileOld":"usr/src/test/os-tests/runfiles/delphix.run","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/omnios.run","type":"DELETED","insertions":0,"deletions":-28},{"file":"usr/src/test/os-tests/runfiles/openindiana.run","type":"DELETED","insertions":0,"deletions":-28}],"sizeInsertions":102,"sizeDeletions":-68},{"number":"4","revision":"1b989864babedc13028d67e6c9aaeb7d6cf33843","parents":["1288dcc696c13b8f20bc65f1aa13c0a6211a2a89"],"ref":"refs/changes/03/103/4","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1468966758,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1468966815,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1468966958,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1468966986,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":15,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/Readme.smartos","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/test/os-tests/cmd/ostest.ksh","type":"MODIFIED","insertions":3,"deletions":-6},{"file":"usr/src/test/os-tests/runfiles/Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/test/os-tests/runfiles/default.run","fileOld":"usr/src/test/os-tests/runfiles/delphix.run","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/omnios.run","type":"DELETED","insertions":0,"deletions":-28},{"file":"usr/src/test/os-tests/runfiles/openindiana.run","type":"DELETED","insertions":0,"deletions":-28}],"sizeInsertions":102,"sizeDeletions":-68}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}]}