{"project":"joyent/sdc-imgapi","branch":"master","id":"Iec75a83661a4cadb0373307e44dacfef2ac6f1cb","number":"2001","subject":"IMGAPI-627 switch standalone IMGAPI to using ECDSA keys Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e Approved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/2001","commitMessage":"IMGAPI-627 switch standalone IMGAPI to using ECDSA keys\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\nApproved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1495673784,"lastUpdated":1496256876,"open":false,"status":"MERGED","comments":[{"timestamp":1495673784,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1495673791,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 8046dd7ca04e73c2a01d3d8a4af9ff95258823d9\n    \n    first pass"},{"timestamp":1495673816,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496089378,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1496089380,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 6c7a24be0315dd9e5c043e259765a30e2cedfac5\n    \n    updates\n    \n    commit 9dcac1da97cf8da5ec883fab7764cbf343f20689\n    \n    tweaks\n    \n    commit 3821d4d0e7b4856f5dbd42170e58763c1f6bc47f\n    \n    add redeploy script\n    \n    commit 021970fd1df8575bfe04868a744d646015b12df2\n    \n    support \u0027channels\u0027 in setup config\n    \n    commit 12a466863457f3dace24727ef97085595a913651\n    \n    get imgapi-standalone-restore to wait for imgapi to come up after the restart\n    \n    commit b73787779bb9799754b9fe5688a7e16e82bdc571\n    \n    Add opt to get trace output from this script\n    \n    commit cc790684c37c901e6319668574d8ad8731277fd2\n    \n    fix more rsa -\u003e ecdsa"},{"timestamp":1496089406,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496094531,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2: Code-Review+1\n\n(6 comments)"},{"timestamp":1496101861,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1496101862,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 8b279dbf95081fd792a0a023b486dee86a26d5c4\n    \n    parameterize redeploy dev script"},{"timestamp":1496101888,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496101912,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(6 comments)"},{"timestamp":1496171843,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 4."},{"timestamp":1496171845,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit cdc209c0fa43ced79b7f02f6a9b7f8b82c9a3c00\n    \n    finish up parameterizing this redeploy script: no hardcoding trent anymore"},{"timestamp":1496171872,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496180580,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1496183615,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 5."},{"timestamp":1496183616,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit fe7e68f43a67197ceba139c7f15b952662661ad2\n    \n    ensure that an update to from an image with an *RSA* key doesn\u0027t break manta CLI (e.g. used in imgapi-standalone-status)"},{"timestamp":1496183648,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496184369,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1496185230,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 6."},{"timestamp":1496185231,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 30d594aafeeaa2cae8aaad8ef2734cdba456135c\n    \n    another stab at that"},{"timestamp":1496185270,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496186868,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1\n\nüëç"},{"timestamp":1496256876,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"6","revision":"ec75a83661a4cadb0373307e44dacfef2ac6f1cb","parents":["36bfd2ba9e40b013412aa851c0b0262bb461dfc4"],"ref":"refs/changes/01/2001/6","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1496185230,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496185270,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496186868,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496186868,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1496256876,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":23,"deletions":0},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"bin/imgapi-standalone-create","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"bin/imgapi-standalone-gen-setup-config","type":"MODIFIED","insertions":31,"deletions":-2},{"file":"bin/imgapi-standalone-reprovision","type":"MODIFIED","insertions":12,"deletions":-17},{"file":"bin/imgapi-standalone-restore","type":"MODIFIED","insertions":36,"deletions":-7},{"file":"boot/standalone/setup.sh","type":"MODIFIED","insertions":10,"deletions":-11},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":21,"deletions":-8},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"MODIFIED","insertions":4,"deletions":0},{"file":"etc/standalone/standard-channels.json","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi_private_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/imgapi_public_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/redeploy-staging-updatesjo.sh","type":"ADDED","insertions":242,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":407,"sizeDeletions":-65},"patchSets":[{"number":"1","revision":"b6a6d44d939b3f49ab572251a080dbb3beb1162c","parents":["36bfd2ba9e40b013412aa851c0b0262bb461dfc4"],"ref":"refs/changes/01/2001/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1495673784,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495673816,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"boot/standalone/setup.sh","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":9,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/standalone/tritonlogupload.sh","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":25,"sizeDeletions":-19},{"number":"2","revision":"4e4fa2e478686c90f8c888a6ab9e2d5fa79a5ad5","parents":["36bfd2ba9e40b013412aa851c0b0262bb461dfc4"],"ref":"refs/changes/01/2001/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1496089378,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496089406,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496094531,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"bin/imgapi-standalone-create","line":248,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"There\u0027s no case where an existing key might be in some other format at this point?"},{"file":"bin/imgapi-standalone-create","line":248,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Not after \"imgapi-standalone-*create*\", no.\n\nHowever, that reminds me that I need to think about impact on \"imgapi-standalone-*reprovision*\"."},{"file":"bin/imgapi-standalone-gen-setup-config","line":189,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"what does this have to do with ecdsa?"},{"file":"bin/imgapi-standalone-gen-setup-config","line":189,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"It doesn\u0027t. Only that I was doing a dev cycle creating a staging updates.jo and one of the limitations of \u0027imgapi-standalone-create\u0027 was that it didn\u0027t support setting up the \"channels\" field in the config file from instance metadata. I wanted to have that so I could blow-away and re-creating the staging updates.jo instance for testing."},{"file":"bin/imgapi-standalone-restore","line":55,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"why \"mostly\"? Because of the stuff that happens before we get to getopts?"},{"file":"bin/imgapi-standalone-restore","line":55,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Exactly, yes."},{"file":"boot/standalone/setup.sh","line":9,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"2017!!!"},{"file":"boot/standalone/setup.sh","line":9,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I got all the other ones!"},{"file":"tools/redeploy-staging-updatesjo.sh","line":47,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Is it a good idea to have trent\u0027s account hardcoded in the imgapi source?"},{"file":"tools/redeploy-staging-updatesjo.sh","line":47,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"No, not great. Those this is intended just for my testing for now. I could parameterize it better.\n\nDone."},{"file":"tools/standalone/tritonlogupload.sh","line":9,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Not a great year."},{"file":"tools/standalone/tritonlogupload.sh","line":9,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Ouch. Putting it back in the cellar."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":23,"deletions":0},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"bin/imgapi-standalone-create","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"bin/imgapi-standalone-gen-setup-config","type":"MODIFIED","insertions":31,"deletions":-2},{"file":"bin/imgapi-standalone-reprovision","type":"MODIFIED","insertions":12,"deletions":-17},{"file":"bin/imgapi-standalone-restore","type":"MODIFIED","insertions":36,"deletions":-7},{"file":"boot/standalone/setup.sh","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":21,"deletions":-8},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"MODIFIED","insertions":4,"deletions":0},{"file":"etc/standalone/standard-channels.json","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi_private_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/imgapi_public_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/redeploy-staging-updatesjo.sh","type":"ADDED","insertions":162,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":324,"sizeDeletions":-61},{"number":"3","revision":"5180da983e9acaaef74f9feca2147adbe717a94d","parents":["36bfd2ba9e40b013412aa851c0b0262bb461dfc4"],"ref":"refs/changes/01/2001/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1496101861,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496101888,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":23,"deletions":0},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"bin/imgapi-standalone-create","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"bin/imgapi-standalone-gen-setup-config","type":"MODIFIED","insertions":31,"deletions":-2},{"file":"bin/imgapi-standalone-reprovision","type":"MODIFIED","insertions":12,"deletions":-17},{"file":"bin/imgapi-standalone-restore","type":"MODIFIED","insertions":36,"deletions":-7},{"file":"boot/standalone/setup.sh","type":"MODIFIED","insertions":9,"deletions":-9},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":21,"deletions":-8},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"MODIFIED","insertions":4,"deletions":0},{"file":"etc/standalone/standard-channels.json","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi_private_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/imgapi_public_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/redeploy-staging-updatesjo.sh","type":"ADDED","insertions":215,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":379,"sizeDeletions":-63},{"number":"4","revision":"eee3b61dcf914ca7792f1890a4feaf4a317399a9","parents":["36bfd2ba9e40b013412aa851c0b0262bb461dfc4"],"ref":"refs/changes/01/2001/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1496171843,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496171872,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496180580,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496180580,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":23,"deletions":0},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"bin/imgapi-standalone-create","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"bin/imgapi-standalone-gen-setup-config","type":"MODIFIED","insertions":31,"deletions":-2},{"file":"bin/imgapi-standalone-reprovision","type":"MODIFIED","insertions":12,"deletions":-17},{"file":"bin/imgapi-standalone-restore","type":"MODIFIED","insertions":36,"deletions":-7},{"file":"boot/standalone/setup.sh","type":"MODIFIED","insertions":9,"deletions":-9},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":21,"deletions":-8},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"MODIFIED","insertions":4,"deletions":0},{"file":"etc/standalone/standard-channels.json","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi_private_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/imgapi_public_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/redeploy-staging-updatesjo.sh","type":"ADDED","insertions":242,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":406,"sizeDeletions":-63},{"number":"5","revision":"6efe2d8082f47bec988e79c2c8661b8dd00a4db2","parents":["36bfd2ba9e40b013412aa851c0b0262bb461dfc4"],"ref":"refs/changes/01/2001/5","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1496183615,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496183648,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496184369,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496184369,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":23,"deletions":0},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"bin/imgapi-standalone-create","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"bin/imgapi-standalone-gen-setup-config","type":"MODIFIED","insertions":31,"deletions":-2},{"file":"bin/imgapi-standalone-reprovision","type":"MODIFIED","insertions":12,"deletions":-17},{"file":"bin/imgapi-standalone-restore","type":"MODIFIED","insertions":36,"deletions":-7},{"file":"boot/standalone/setup.sh","type":"MODIFIED","insertions":10,"deletions":-13},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":21,"deletions":-8},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"MODIFIED","insertions":4,"deletions":0},{"file":"etc/standalone/standard-channels.json","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi_private_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/imgapi_public_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/redeploy-staging-updatesjo.sh","type":"ADDED","insertions":242,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":407,"sizeDeletions":-67},{"number":"6","revision":"ec75a83661a4cadb0373307e44dacfef2ac6f1cb","parents":["36bfd2ba9e40b013412aa851c0b0262bb461dfc4"],"ref":"refs/changes/01/2001/6","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1496185230,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496185270,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1496256876,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496186868,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496186868,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":23,"deletions":0},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"bin/imgapi-standalone-create","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"bin/imgapi-standalone-gen-setup-config","type":"MODIFIED","insertions":31,"deletions":-2},{"file":"bin/imgapi-standalone-reprovision","type":"MODIFIED","insertions":12,"deletions":-17},{"file":"bin/imgapi-standalone-restore","type":"MODIFIED","insertions":36,"deletions":-7},{"file":"boot/standalone/setup.sh","type":"MODIFIED","insertions":10,"deletions":-11},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":21,"deletions":-8},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"MODIFIED","insertions":4,"deletions":0},{"file":"etc/standalone/standard-channels.json","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi_private_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/imgapi_public_key/manifest.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/redeploy-staging-updatesjo.sh","type":"ADDED","insertions":242,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":407,"sizeDeletions":-65}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}