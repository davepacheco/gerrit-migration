{"project":"joyent/illumos-joyent","branch":"master","id":"I919d37f67476ae6f9911035197d34891582d50e6","number":"6045","subject":"OS-7696 bhyve should avoid all-cpu cross calls Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/6045","commitMessage":"OS-7696 bhyve should avoid all-cpu cross calls\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1554390165,"lastUpdated":1554748250,"open":false,"status":"MERGED","comments":[{"timestamp":1554390165,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1554391214,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1554403201,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1554407753,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1554420641,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3."},{"timestamp":1554422078,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1554471757,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1554474139,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1554474194,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1554484751,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4."},{"timestamp":1554485500,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1554485880,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5: Code-Review+1\n\nThanks for the comment here, I think that makes it a lot clearer what\u0027s going on!"},{"timestamp":1554489616,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5:\n\nI\u0027ve added test notes to the jira ticket."},{"timestamp":1554718798,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1554732628,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1554737140,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 6."},{"timestamp":1554741232,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1554741784,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1\n\nAnticipating the retest for the last set, this looks good to me. Thanks!"},{"timestamp":1554746420,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1554746495,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1554748250,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"8","revision":"919d37f67476ae6f9911035197d34891582d50e6","parents":["dd2509c6fbfefb12c3e34e3763b23543a92f69e3"],"ref":"refs/changes/45/6045/8","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554746495,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741232,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1554748249,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":151,"deletions":-30},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":15,"deletions":-2}],"sizeInsertions":204,"sizeDeletions":-62},"patchSets":[{"number":"1","revision":"bf446d08bdba752b1ee19d850533df7b06bb2cf8","parents":["b2382a9d2ac444201a28feadb8bc8a1870ffbcde"],"ref":"refs/changes/45/6045/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554390165,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":61,"deletions":-5},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":103,"sizeDeletions":-35},{"number":"2","revision":"754a9a1df470b109272836361c54c0d4cab5e00d","parents":["b2382a9d2ac444201a28feadb8bc8a1870ffbcde"],"ref":"refs/changes/45/6045/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554391214,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/ml/hma_asm.s","line":38,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why are we saving this version of rdi and rsi? Is this a manual save args? Does libsaveargs detect this form?"},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","line":38,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Yeah, manual save args.  Apparently libsaveargs does have detection for the pushq form."},{"file":"usr/src/uts/i86pc/os/hma.c","line":306,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"So, when we\u0027re enabling VMX, we specifically do a cross call to reach the right CPU. Is there a reason that in this context we\u0027re guaranteed to be executing on the current CPU? Also, what about the kpreempt_disable() done during the execution of the vmxon? Is that unneeded here?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":306,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Good point.  The state change notification makes no guarantee about what CPU you\u0027re running on.  I will fix this."},{"file":"usr/src/uts/i86pc/os/hma.c","line":398,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is this a new HMA requirement that we didn\u0027t previously have? Are there any systems we support for which this would no longer be true?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":398,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I\u0027ll just put the INVEPT stuff behind a guard so that systems which lack it are not inconvenienced.  bhyve itself still checks for that functionality, so it is safe."},{"file":"usr/src/uts/i86pc/sys/hma.h","line":56,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Given that this is a single context invalidation I feel like we should have that in the name, unless in the future a special value in the address would instead lead to a global invalidation. Though I admit, the other options seem rather wordy, so maybe this is fine, given the comment there."},{"file":"usr/src/uts/i86pc/sys/hma.h","line":56,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Requiring the eptp is adequate for implying that its a single-context operation, IMO.  I\u0027m inclined to leave it as-is."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":63,"deletions":-7},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":105,"sizeDeletions":-37},{"number":"3","revision":"f34c18dc85700929c53e54a1742d1c8943a68b33","parents":["b2382a9d2ac444201a28feadb8bc8a1870ffbcde"],"ref":"refs/changes/45/6045/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554420641,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/os/hma.c","line":381,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I don\u0027t understand why these have a 32-bit shift in here. Aren\u0027t all the flags already appropriately shifted?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":381,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"For the *_CTLS MSRs, the lower 32-bits indicate flags which can be set to zero and the upper 32-bits indicate flags which can be set to one.  The relevant vol3 sections describe it in detail."},{"file":"usr/src/uts/i86pc/os/hma.c","line":381,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK, I missed that originally in the SDM. This is pretty confusing. This needs a comment. It\u0027s not clear at all to someone else who comes along when you do or don\u0027t need to use this. It\u0027s extremely non-obvious especially when you consider the same function mixes traditional MSR access and this special case."},{"file":"usr/src/uts/i86pc/os/hma.c","line":381,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I\u0027ll write up a comment to make it more clear."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":144,"deletions":-29},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":15,"deletions":-2}],"sizeInsertions":197,"sizeDeletions":-61},{"number":"4","revision":"ab7ef68503ba600345eae321ada618fa91397ba1","parents":["b2382a9d2ac444201a28feadb8bc8a1870ffbcde"],"ref":"refs/changes/45/6045/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554484751,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":153,"deletions":-29},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":15,"deletions":-2}],"sizeInsertions":206,"sizeDeletions":-61},{"number":"5","revision":"e5ac5c987de686b5dbfecb1f745ff58c3474211a","parents":["6aaf159ea324821122771dc6552e8ed77cc1f8fe"],"ref":"refs/changes/45/6045/5","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554485500,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554485880,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/uts/i86pc/os/hma.c","line":308,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This doesn\u0027t seem right. You shouldn\u0027t need a CPU_ENABLE to cross call a CPU, that\u0027s for \"normal\" interrupts. (Early during boot is an exception, but I don\u0027t think we would be at this point.)\n\nAnd while it\u0027s currently true that an OFFLINE-\u003eNOINTR transition will go through the CPU_INTR_ON state, that\u0027s hard-coding something of an implementation detail IMO."},{"file":"usr/src/uts/i86pc/os/hma.c","line":308,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"OK.  I just got antsy when I saw the separate events.  I\u0027ll change back to the previous event hook and re-test."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":153,"deletions":-29},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":15,"deletions":-2}],"sizeInsertions":206,"sizeDeletions":-61},{"number":"6","revision":"6ce495b08a419253f912972afa73e36d41efe971","parents":["6aaf159ea324821122771dc6552e8ed77cc1f8fe"],"ref":"refs/changes/45/6045/6","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554737140,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741232,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":151,"deletions":-30},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":15,"deletions":-2}],"sizeInsertions":204,"sizeDeletions":-62},{"number":"7","revision":"dc4aa759c2760744a02ab8f0f3fb5e218d13795f","parents":["dd2509c6fbfefb12c3e34e3763b23543a92f69e3"],"ref":"refs/changes/45/6045/7","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554746420,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741232,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":151,"deletions":-30},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":15,"deletions":-2}],"sizeInsertions":204,"sizeDeletions":-62},{"number":"8","revision":"919d37f67476ae6f9911035197d34891582d50e6","parents":["dd2509c6fbfefb12c3e34e3763b23543a92f69e3"],"ref":"refs/changes/45/6045/8","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1554746495,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741232,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1554748249,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1554741784,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-13},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"usr/src/uts/i86pc/os/hma.c","type":"MODIFIED","insertions":151,"deletions":-30},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":15,"deletions":-2}],"sizeInsertions":204,"sizeDeletions":-62}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}