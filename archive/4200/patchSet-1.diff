commit 98d696ff6ed64d380e19182a840383330027f090 (refs/changes/00/4200/1)
Author: Alex Wilson <alex.wilson@joyent.com>
Date:   2018-06-13T10:41:07-07:00 (1 year, 4 months ago)
    
    MANTA-3758 ops zone missing reverse lookup data in binder

diff --git a/deps/manta-scripts b/deps/manta-scripts
index cd8d6f1..4b86dd1 160000
--- a/deps/manta-scripts
+++ b/deps/manta-scripts
@@ -1 +1 @@
-Subproject commit cd8d6f194ba34dfaa4b0740dfbd11147041dd13e
+Subproject commit 4b86dd132d68cb177f066a83d90b8fdc9ac2cde9
diff --git a/lib/server.js b/lib/server.js
index 09272ed..078b4d3 100644
--- a/lib/server.js
+++ b/lib/server.js
@@ -302,6 +302,7 @@ function resolve(options, query, cb) {
         case 'load_balancer':
         case 'moray_host':
         case 'redis_host':
+        case 'ops_host':
         case 'rr_host':
                 addr = record[record.type].address;
                 query.addAnswer(domain, new ARecord(addr), ttl);
diff --git a/lib/zk.js b/lib/zk.js
index b7b998f..655efb2 100644
--- a/lib/zk.js
+++ b/lib/zk.js
@@ -175,6 +175,7 @@ TreeNode.prototype.onDataChanged = function (zk, data, stat) {
         case 'load_balancer':
         case 'moray_host':
         case 'redis_host':
+        case 'ops_host':
         case 'rr_host':
                 var record = parsedData[parsedData.type];
                 if (typeof (record) !== 'object' || record === null)
