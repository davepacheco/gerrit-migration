{"project":"joyent/illumos-joyent","branch":"master","id":"I7dd4dbdf370edab01f30fd9732e7be9e0c610f73","number":"6994","subject":"build and ship ccid, fix nits, add annotations","owner":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"url":"https://cr.joyent.us/6994","commitMessage":"build and ship ccid, fix nits, add annotations\n","createdOn":1571953007,"lastUpdated":1572881703,"open":false,"status":"ABANDONED","comments":[{"timestamp":1571953007,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 1."},{"timestamp":1571953106,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1: Integration-Approval-1"},{"timestamp":1572881703,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Abandoned"}],"currentPatchSet":{"number":"1","revision":"7dd4dbdf370edab01f30fd9732e7be9e0c610f73","parents":["850f91da8079df9dbeac82f12e4e1889e264c2e0"],"ref":"refs/changes/94/6994/1","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1571953007,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1571953106,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/ccidadm/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/ccidadm/ccidadm.c","type":"MODIFIED","insertions":36,"deletions":-25},{"file":"usr/src/cmd/devfsadm/cfg_link.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/devfsadm/cfg_link.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/devfsadm/usb_link.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/usba/prtusb.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/common/ccid/atr.c","type":"MODIFIED","insertions":18,"deletions":-20},{"file":"usr/src/common/ccid/atr.h","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/common/ccid/ccid_t1.c","type":"MODIFIED","insertions":18,"deletions":-18},{"file":"usr/src/common/ccid/ccid_t1.h","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/cfgadm_plugins/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/cfgadm_plugins/ccid/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/cfgadm_plugins/ccid/amd64/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/common/cfga_ccid.c","type":"MODIFIED","insertions":16,"deletions":-12},{"file":"usr/src/lib/cfgadm_plugins/ccid/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/i386/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/sparc/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/sparcv9/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libcmdutils/common/nicenum.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libcmdutils/libcmdutils.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libpcsc/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/amd64/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/common/libpcsc.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libpcsc/common/llib-lpcsc","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/common/winscard.h","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/lib/libpcsc/common/wintypes.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/i386/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/man/man7d/ccid.7d","type":"MODIFIED","insertions":169,"deletions":-252},{"file":"usr/src/man/man7i/uccid.7i","type":"DELETED","insertions":0,"deletions":-470},{"file":"usr/src/test/os-tests/tests/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/os-tests/tests/uccid/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/os-tests/tests/uccid/atrparse.c","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"usr/src/test/os-tests/tests/uccid/excl-badread.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-basic.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-close.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-loop.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-nonblock.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-reset.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/os-tests/tests/uccid/notxn-poll.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/pollin.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/pollout.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/status.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/txn-pollerr.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/yk.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/usb/clients/ccid/ccid.c","type":"MODIFIED","insertions":167,"deletions":-140},{"file":"usr/src/uts/common/sys/Makefile.syshdrs","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/sys/usb/clients/ccid/ccid.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/usb/clients/ccid/uccid.h","type":"MODIFIED","insertions":19,"deletions":-20},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/intel/ccid/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/os/driver_aliases","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/intel/os/name_to_major","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":528,"sizeDeletions":-1024},"patchSets":[{"number":"1","revision":"7dd4dbdf370edab01f30fd9732e7be9e0c610f73","parents":["850f91da8079df9dbeac82f12e4e1889e264c2e0"],"ref":"refs/changes/94/6994/1","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1571953007,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1571953106,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/ccidadm/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/ccidadm/ccidadm.c","type":"MODIFIED","insertions":36,"deletions":-25},{"file":"usr/src/cmd/devfsadm/cfg_link.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/devfsadm/cfg_link.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/devfsadm/usb_link.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/usba/prtusb.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/common/ccid/atr.c","type":"MODIFIED","insertions":18,"deletions":-20},{"file":"usr/src/common/ccid/atr.h","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/common/ccid/ccid_t1.c","type":"MODIFIED","insertions":18,"deletions":-18},{"file":"usr/src/common/ccid/ccid_t1.h","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/lib/cfgadm_plugins/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/cfgadm_plugins/ccid/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/cfgadm_plugins/ccid/amd64/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/common/cfga_ccid.c","type":"MODIFIED","insertions":16,"deletions":-12},{"file":"usr/src/lib/cfgadm_plugins/ccid/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/i386/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/sparc/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/cfgadm_plugins/ccid/sparcv9/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libcmdutils/common/nicenum.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libcmdutils/libcmdutils.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libpcsc/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/amd64/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/common/libpcsc.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/libpcsc/common/llib-lpcsc","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/common/winscard.h","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/lib/libpcsc/common/wintypes.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/libpcsc/i386/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/man/man7d/ccid.7d","type":"MODIFIED","insertions":169,"deletions":-252},{"file":"usr/src/man/man7i/uccid.7i","type":"DELETED","insertions":0,"deletions":-470},{"file":"usr/src/test/os-tests/tests/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/test/os-tests/tests/uccid/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/os-tests/tests/uccid/atrparse.c","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"usr/src/test/os-tests/tests/uccid/excl-badread.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-basic.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-close.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-loop.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-nonblock.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/excl-reset.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/os-tests/tests/uccid/notxn-poll.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/pollin.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/pollout.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/status.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/txn-pollerr.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/uccid/yk.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/usb/clients/ccid/ccid.c","type":"MODIFIED","insertions":167,"deletions":-140},{"file":"usr/src/uts/common/sys/Makefile.syshdrs","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/sys/usb/clients/ccid/ccid.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/usb/clients/ccid/uccid.h","type":"MODIFIED","insertions":19,"deletions":-20},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/intel/ccid/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/intel/os/driver_aliases","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/intel/os/name_to_major","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":528,"sizeDeletions":-1024}],"allReviewers":[{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}]}