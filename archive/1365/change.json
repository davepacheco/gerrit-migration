{"project":"joyent/illumos-extra","branch":"master","id":"I5b71e6584138f6626a99ea97d534f08ea3869a59","number":"1365","subject":"OS-5130 Update platform to openssl-1.0.2k Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/1365","commitMessage":"OS-5130 Update platform to openssl-1.0.2k\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1485548682,"lastUpdated":1485793515,"open":false,"status":"MERGED","comments":[{"timestamp":1485548682,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1485552942,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\nSymbol filter/rename results:\n\n[root@92-49-1a-ba-df-af ~]# openssl version\nOpenSSL 1.0.2k  26 Jan 2017\n[root@92-49-1a-ba-df-af ~]# nm /lib/libsunw_* /lib/64/libsunw_* | grep GLOB | grep -v UNDEF | grep -v sunw\n[7202]  |       180|         0|OBJT |GLOB |3    |1      |_DYNAMIC\n[6656]  |   1803612|         0|OBJT |GLOB |3    |25     |_edata\n[7199]  |   1813324|         0|OBJT |GLOB |3    |26     |_end\n[4970]  |   1643890|         0|OBJT |GLOB |3    |16     |_etext\n[5789]  |   1479248|        30|FUNC |GLOB |3    |15     |_fini\n[8424]  |   1709428|         0|OBJT |GLOB |3    |17     |_GLOBAL_OFFSET_TABLE_\n[6481]  |   1479200|        40|FUNC |GLOB |3    |14     |_init\n[8268]  |   1479296|         4|OBJT |GLOB |3    |16     |_lib_version\n[7499]  |    350180|         0|OBJT |GLOB |3    |12     |_PROCEDURE_LINKAGE_TABLE_\n[1625]  |       180|         0|OBJT |GLOB |3    |1      |_DYNAMIC\n[1168]  |    448680|         0|OBJT |GLOB |3    |25     |_edata\n[1044]  |    448872|         0|OBJT |GLOB |3    |26     |_end\n[1006]  |    361980|         0|OBJT |GLOB |3    |16     |_etext\n[1487]  |    333840|        30|FUNC |GLOB |3    |15     |_fini\n[998]   |    427516|         0|OBJT |GLOB |3    |17     |_GLOBAL_OFFSET_TABLE_\n[1029]  |    333792|        35|FUNC |GLOB |3    |14     |_init\n[1088]  |    333888|         4|OBJT |GLOB |3    |16     |_lib_version\n[1056]  |     73896|         0|OBJT |GLOB |3    |12     |_PROCEDURE_LINKAGE_TABLE_\n[4571]  |                 288|                   0|OBJT |GLOB |3    |1      |_DYNAMIC\n[5214]  |             2562952|                   0|OBJT |GLOB |3    |25     |_edata\n[5625]  |             2574544|                   0|OBJT |GLOB |3    |26     |_end\n[6936]  |             2331790|                   0|OBJT |GLOB |3    |17     |_etext\n[4394]  |             2010368|                  11|FUNC |GLOB |3    |16     |_fini\n[4195]  |             2397328|                   0|OBJT |GLOB |3    |18     |_GLOBAL_OFFSET_TABLE_\n[4911]  |             2010336|                  21|FUNC |GLOB |3    |15     |_init\n[5990]  |             2011136|                   4|OBJT |GLOB |3    |17     |_lib_version\n[5372]  |              728920|                   0|OBJT |GLOB |3    |13     |_PROCEDURE_LINKAGE_TABLE_\n[1376]  |                 288|                   0|OBJT |GLOB |3    |1      |_DYNAMIC\n[918]   |              533192|                   0|OBJT |GLOB |3    |25     |_edata\n[794]   |              533544|                   0|OBJT |GLOB |3    |26     |_end\n[757]   |              427932|                   0|OBJT |GLOB |3    |17     |_etext\n[1237]  |              399568|                  11|FUNC |GLOB |3    |16     |_fini\n[749]   |              493472|                   0|OBJT |GLOB |3    |18     |_GLOBAL_OFFSET_TABLE_\n[779]   |              399552|                  16|FUNC |GLOB |3    |15     |_init\n[838]   |              399584|                   4|OBJT |GLOB |3    |17     |_lib_version\n[806]   |              140672|                   0|OBJT |GLOB |3    |13     |_PROCEDURE_LINKAGE_TABLE_"},{"timestamp":1485557285,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1\n\nHey Patrick, all in all, this looks great. Thanks so much for putting it together."},{"timestamp":1485559273,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1485559382,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1485570533,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\nThe \u0027openssl speed\u0027 results showed no appreciable regression between versions.  Accessing ssl resources via curl functioned as expected."},{"timestamp":1485793204,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1485793479,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1485793515,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"3","revision":"5b71e6584138f6626a99ea97d534f08ea3869a59","parents":["753470c8ef1715081cf18aaf4ae21e34ff86de1c"],"ref":"refs/changes/65/1365/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1485793479,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485559382,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1485793204,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1485793515,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"openssl1x/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"openssl1x/Patches/0001-Override-Configure-script.patch","fileOld":"openssl1x/Patches/001-configure.patch","type":"RENAMED","insertions":17,"deletions":-4},{"file":"openssl1x/Patches/0002-Add-pkcs11-engine-support.patch","fileOld":"openssl1x/Patches/002-pkcs11.patch","type":"RENAMED","insertions":23,"deletions":-9},{"file":"openssl1x/Patches/0003-Prefix-symbols.patch","fileOld":"openssl1x/Patches/003-prefix.patch","type":"RENAMED","insertions":52,"deletions":-18},{"file":"openssl1x/Patches/0004-Fix-crypto-header-links.patch","fileOld":"openssl1x/Patches/004-crypto-header-links.patch","type":"RENAMED","insertions":19,"deletions":-6},{"file":"openssl1x/Patches/0005-Remove-shared-library-paths.patch","fileOld":"openssl1x/Patches/005-ld_library.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssl1x/Patches/0006-Suppress-ecdh_compute_key-warning.patch","type":"ADDED","insertions":25,"deletions":0},{"file":"openssl1x/openssl-1.0.1u.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssl1x/openssl-1.0.2k.tar.gz","type":"ADDED","insertions":0,"deletions":0},{"file":"openssl1x/sunw_prefix.h","type":"MODIFIED","insertions":1077,"deletions":-831}],"sizeInsertions":1218,"sizeDeletions":-873},"patchSets":[{"number":"1","revision":"be05cf1ec99011baae09d6070fe700a716140f44","parents":["753470c8ef1715081cf18aaf4ae21e34ff86de1c"],"ref":"refs/changes/65/1365/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1485548682,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485557285,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"openssl1x/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"openssl1x/Patches/001-configure.patch","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"openssl1x/Patches/002-pkcs11.patch","type":"MODIFIED","insertions":9,"deletions":-9},{"file":"openssl1x/Patches/003-prefix.patch","type":"MODIFIED","insertions":31,"deletions":-18},{"file":"openssl1x/Patches/004-crypto-header-links.patch","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"openssl1x/Patches/005-ld_library.patch","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"openssl1x/Patches/006-bad-warning.patch","type":"ADDED","insertions":22,"deletions":0},{"file":"openssl1x/openssl-1.0.1u.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssl1x/openssl-1.0.2k.tar.gz","type":"ADDED","insertions":0,"deletions":0},{"file":"openssl1x/sunw_prefix.h","type":"MODIFIED","insertions":1077,"deletions":-831}],"sizeInsertions":1151,"sizeDeletions":-873},{"number":"2","revision":"e2209e0a43787976087260252c94453c0faeb828","parents":["753470c8ef1715081cf18aaf4ae21e34ff86de1c"],"ref":"refs/changes/65/1365/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1485559273,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485559382,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1485793204,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"openssl1x/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"openssl1x/Patches/0001-Override-Configure-script.patch","fileOld":"openssl1x/Patches/001-configure.patch","type":"RENAMED","insertions":17,"deletions":-4},{"file":"openssl1x/Patches/0002-Add-pkcs11-engine-support.patch","fileOld":"openssl1x/Patches/002-pkcs11.patch","type":"RENAMED","insertions":23,"deletions":-9},{"file":"openssl1x/Patches/0003-Prefix-symbols.patch","fileOld":"openssl1x/Patches/003-prefix.patch","type":"RENAMED","insertions":52,"deletions":-18},{"file":"openssl1x/Patches/0004-Fix-crypto-header-links.patch","fileOld":"openssl1x/Patches/004-crypto-header-links.patch","type":"RENAMED","insertions":19,"deletions":-6},{"file":"openssl1x/Patches/0005-Remove-shared-library-paths.patch","fileOld":"openssl1x/Patches/005-ld_library.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssl1x/Patches/0006-Suppress-ecdh_compute_key-warning.patch","type":"ADDED","insertions":25,"deletions":0},{"file":"openssl1x/openssl-1.0.1u.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssl1x/openssl-1.0.2k.tar.gz","type":"ADDED","insertions":0,"deletions":0},{"file":"openssl1x/sunw_prefix.h","type":"MODIFIED","insertions":1077,"deletions":-831}],"sizeInsertions":1218,"sizeDeletions":-873},{"number":"3","revision":"5b71e6584138f6626a99ea97d534f08ea3869a59","parents":["753470c8ef1715081cf18aaf4ae21e34ff86de1c"],"ref":"refs/changes/65/1365/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1485793479,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485559382,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1485793204,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1485793515,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"openssl1x/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"openssl1x/Patches/0001-Override-Configure-script.patch","fileOld":"openssl1x/Patches/001-configure.patch","type":"RENAMED","insertions":17,"deletions":-4},{"file":"openssl1x/Patches/0002-Add-pkcs11-engine-support.patch","fileOld":"openssl1x/Patches/002-pkcs11.patch","type":"RENAMED","insertions":23,"deletions":-9},{"file":"openssl1x/Patches/0003-Prefix-symbols.patch","fileOld":"openssl1x/Patches/003-prefix.patch","type":"RENAMED","insertions":52,"deletions":-18},{"file":"openssl1x/Patches/0004-Fix-crypto-header-links.patch","fileOld":"openssl1x/Patches/004-crypto-header-links.patch","type":"RENAMED","insertions":19,"deletions":-6},{"file":"openssl1x/Patches/0005-Remove-shared-library-paths.patch","fileOld":"openssl1x/Patches/005-ld_library.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssl1x/Patches/0006-Suppress-ecdh_compute_key-warning.patch","type":"ADDED","insertions":25,"deletions":0},{"file":"openssl1x/openssl-1.0.1u.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssl1x/openssl-1.0.2k.tar.gz","type":"ADDED","insertions":0,"deletions":0},{"file":"openssl1x/sunw_prefix.h","type":"MODIFIED","insertions":1077,"deletions":-831}],"sizeInsertions":1218,"sizeDeletions":-873}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}