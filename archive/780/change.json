{"project":"joyent/node-cueball","branch":"master","id":"I55c6235892a4da9656694b3ecf4b9c3e41f017b4","number":"780","subject":"joyent/node-cueball#44 Give up on SRV and AAAA lookups that return NOTIMP or NODATA Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/780","commitMessage":"joyent/node-cueball#44 Give up on SRV and AAAA lookups that return NOTIMP or NODATA\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1477432174,"lastUpdated":1477524667,"open":false,"status":"MERGED","comments":[{"timestamp":1477432174,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1477432334,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1477434897,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2."},{"timestamp":1477434927,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1477435010,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 3."},{"timestamp":1477435128,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1477521292,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1477523803,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 4."},{"timestamp":1477523843,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1477524222,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 5."},{"timestamp":1477524349,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1477524397,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1477524525,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5: Code-Review+1\n\n(1 comment)"},{"timestamp":1477524666,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 5: Integration-Approval+1"},{"timestamp":1477524667,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"}],"currentPatchSet":{"number":"5","revision":"55c6235892a4da9656694b3ecf4b9c3e41f017b4","parents":["2419ebf63f989d0701cc5ee9108899f6d11b803a"],"ref":"refs/changes/80/780/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477524222,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477524397,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477524525,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477524666,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1477524667,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/resolver.js","type":"MODIFIED","insertions":85,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/dns.test.js","type":"MODIFIED","insertions":6,"deletions":-9}],"sizeInsertions":92,"sizeDeletions":-18},"patchSets":[{"number":"1","revision":"8623e431ac8e2449fbea1a450821ffac87a1ae94","parents":["d4e5a330148217cee662f7dc186ec1417bf65907"],"ref":"refs/changes/80/780/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477432174,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477432334,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/resolver.js","type":"MODIFIED","insertions":35,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/dns.test.js","type":"MODIFIED","insertions":6,"deletions":-9}],"sizeInsertions":42,"sizeDeletions":-18},{"number":"2","revision":"1890b9319b9bc22d0b7861de8cede99f2cc8421c","parents":["d4e5a330148217cee662f7dc186ec1417bf65907"],"ref":"refs/changes/80/780/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477434897,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1477434927,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/resolver.js","line":798,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: code"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/resolver.js","type":"MODIFIED","insertions":62,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/dns.test.js","type":"MODIFIED","insertions":6,"deletions":-9}],"sizeInsertions":69,"sizeDeletions":-18},{"number":"3","revision":"4c1dd98ed46a7fd3ce20928a995c198a3ad93a72","parents":["d4e5a330148217cee662f7dc186ec1417bf65907"],"ref":"refs/changes/80/780/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477435010,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477435128,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/resolver.js","line":514,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"May be worth a comment explaining why we\u0027re making this transition."},{"file":"lib/resolver.js","line":514,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Done"},{"file":"lib/resolver.js","line":599,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Perhaps it\u0027s worth a comment explaining *why* we\u0027re doing this. Though it makes sense in my head."},{"file":"lib/resolver.js","line":599,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Done"},{"file":"lib/resolver.js","line":822,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I guess at this point it\u0027s fine for us to throw away the original error that got us here?"},{"file":"lib/resolver.js","line":822,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I think so. It would be nice to be able to track down more easily exactly which nameservers were queried and said what, though. That\u0027ll require some changes in mname-client or the way we use it, so I\u0027ve filed it as its own bug."},{"file":"lib/resolver.js","line":822,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Makes sense."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/resolver.js","type":"MODIFIED","insertions":59,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/dns.test.js","type":"MODIFIED","insertions":6,"deletions":-9}],"sizeInsertions":66,"sizeDeletions":-18},{"number":"4","revision":"9bf4af30588548883694ebc4d5b2abca815da993","parents":["2419ebf63f989d0701cc5ee9108899f6d11b803a"],"ref":"refs/changes/80/780/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477523803,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1477523843,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/resolver.js","line":615,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: src"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/resolver.js","type":"MODIFIED","insertions":85,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/dns.test.js","type":"MODIFIED","insertions":6,"deletions":-9}],"sizeInsertions":92,"sizeDeletions":-18},{"number":"5","revision":"55c6235892a4da9656694b3ecf4b9c3e41f017b4","parents":["2419ebf63f989d0701cc5ee9108899f6d11b803a"],"ref":"refs/changes/80/780/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477524222,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477524525,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477524666,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1477524667,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477524397,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/resolver.js","type":"MODIFIED","insertions":85,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/dns.test.js","type":"MODIFIED","insertions":6,"deletions":-9}],"sizeInsertions":92,"sizeDeletions":-18}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}