{"project":"joyent/illumos-joyent","branch":"master","id":"If73efb5aaa5d40efb1df466f85bfcfd6db92c7a6","number":"2587","subject":"OS-6346 dtrace_unregister()/fasttrap_pid_disable()/prgetmap() deadlock OS-6347 unloadable modules should use NO_UNLOAD stubs Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: Tim Kordas \u003ctim.kordas@joyent.com\u003e Approved by: Robert Mustacchi \u003crm@jo","owner":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"url":"https://cr.joyent.us/2587","commitMessage":"OS-6346 dtrace_unregister()/fasttrap_pid_disable()/prgetmap() deadlock\nOS-6347 unloadable modules should use NO_UNLOAD stubs\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: Tim Kordas \u003ctim.kordas@joyent.com\u003e\nApproved by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1505515819,"lastUpdated":1505518865,"open":false,"status":"MERGED","comments":[{"timestamp":1505515819,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Uploaded patch set 1."},{"timestamp":1505516624,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1505518179,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1505518399,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 1: Code-Review+1 -Integration-Approval"},{"timestamp":1505518787,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1505518855,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1505518865,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Bryan Cantrill"}],"currentPatchSet":{"number":"2","revision":"c2aad2852fbec43c0f3b9f3739ecd317811ccd36","parents":["d60c4b68b4189b047c8b3c8bf84337505e0ccfc5"],"ref":"refs/changes/87/2587/2","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1505518855,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505516624,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505518399,"by":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505518787,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1505518865,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/usdt/tst.deadstub.ksh","type":"ADDED","insertions":161,"deletions":0},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/modstubs.s","type":"MODIFIED","insertions":22,"deletions":-22},{"file":"usr/src/uts/sparc/ml/modstubs.s","type":"MODIFIED","insertions":22,"deletions":-22}],"sizeInsertions":206,"sizeDeletions":-44},"patchSets":[{"number":"1","revision":"f73efb5aaa5d40efb1df466f85bfcfd6db92c7a6","parents":["d60c4b68b4189b047c8b3c8bf84337505e0ccfc5"],"ref":"refs/changes/87/2587/1","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1505515819,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505516624,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505518787,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505518399,"by":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/usdt/tst.deadstub.ksh","type":"ADDED","insertions":161,"deletions":0},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/modstubs.s","type":"MODIFIED","insertions":22,"deletions":-22},{"file":"usr/src/uts/sparc/ml/modstubs.s","type":"MODIFIED","insertions":22,"deletions":-22}],"sizeInsertions":206,"sizeDeletions":-44},{"number":"2","revision":"c2aad2852fbec43c0f3b9f3739ecd317811ccd36","parents":["d60c4b68b4189b047c8b3c8bf84337505e0ccfc5"],"ref":"refs/changes/87/2587/2","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1505518855,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505516624,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505518787,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1505518865,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505518399,"by":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/usdt/tst.deadstub.ksh","type":"ADDED","insertions":161,"deletions":0},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/modstubs.s","type":"MODIFIED","insertions":22,"deletions":-22},{"file":"usr/src/uts/sparc/ml/modstubs.s","type":"MODIFIED","insertions":22,"deletions":-22}],"sizeInsertions":206,"sizeDeletions":-44}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}