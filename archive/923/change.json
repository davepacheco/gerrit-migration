{"project":"joyent/node-kstat","branch":"master","id":"I94f45902f133a8aa54c274cbeed23393db86d33c","number":"923","subject":"joyent/node-kstat#11 reimplement node-kstat to be in terms of v8plus Reviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e Reviewed by: Dave Pacheco \u003cdap@joyent.com\u003e Reviewed by: Richard Kiene \u003crichard.kiene@joyent.com\u003e Approved by: Richard Kiene \u003crichard.kiene@","owner":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"url":"https://cr.joyent.us/923","commitMessage":"joyent/node-kstat#11 reimplement node-kstat to be in terms of v8plus\nReviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\nReviewed by: Dave Pacheco \u003cdap@joyent.com\u003e\nReviewed by: Richard Kiene \u003crichard.kiene@joyent.com\u003e\nApproved by: Richard Kiene \u003crichard.kiene@joyent.com\u003e\n","createdOn":1479504569,"lastUpdated":1479929589,"open":false,"status":"MERGED","comments":[{"timestamp":1479504569,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Uploaded patch set 1."},{"timestamp":1479507734,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1: Code-Review+1\n\n(6 comments)\n\nThese are generally nitty or questions for my own knowledge."},{"timestamp":1479748201,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 1:\n\n(6 comments)"},{"timestamp":1479753285,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1479775782,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Uploaded patch set 2."},{"timestamp":1479775959,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 2:\n\nI have uploaded a new changeset that incorporates all of dap\u0027s feedback -- and even makes bashstyle jsstyle-clean. ;)"},{"timestamp":1479776697,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Uploaded patch set 3."},{"timestamp":1479776744,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 3:\n\nAdded comment in the Makefile on CTFCONVERT/CTFMERGE -- and removed the unused jsstyle.conf"},{"timestamp":1479777519,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3: Code-Review+1\n\nThanks for doing this.  I\u0027m sorry it was so painful to get the tools and make targets set up appropriately."},{"timestamp":1479785074,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1479785095,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"Patch Set 3: Code-Review+1\n\nLGTM"},{"timestamp":1479798279,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1479844109,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1479867618,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Uploaded patch set 4."},{"timestamp":1479867793,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1479873660,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1479913804,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1\n\nLGTM"},{"timestamp":1479927046,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Uploaded patch set 5."},{"timestamp":1479927351,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1479927662,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1479928478,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1\n\nLGTM"},{"timestamp":1479929589,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Bryan Cantrill"}],"currentPatchSet":{"number":"5","revision":"94f45902f133a8aa54c274cbeed23393db86d33c","parents":["512323467f568942e59bf57dad1be786cf359094"],"ref":"refs/changes/23/923/5","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1479927046,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479927351,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479927662,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479928478,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479928478,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"SUBM","value":"1","grantedOn":1479929589,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"LICENSE","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"Makefile","type":"ADDED","insertions":48,"deletions":0},{"file":"Makefile.check.targ","type":"ADDED","insertions":173,"deletions":0},{"file":"binding.gyp","type":"DELETED","insertions":0,"deletions":-11},{"file":"examples/filter.js","type":"DELETED","insertions":0,"deletions":-94},{"file":"examples/kstat.js","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"examples/mpstat.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"kstat.c","type":"ADDED","insertions":614,"deletions":0},{"file":"kstat.cc","type":"DELETED","insertions":0,"deletions":-764},{"file":"package.json","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"test/basic.js","type":"ADDED","insertions":133,"deletions":0},{"file":"test/close.js","type":"ADDED","insertions":26,"deletions":0},{"file":"test/filter.js","type":"ADDED","insertions":92,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":175,"deletions":0},{"file":"tools/cstyle.pl","type":"ADDED","insertions":1002,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":139,"deletions":0},{"file":"tools/jsstyle","type":"ADDED","insertions":967,"deletions":0},{"file":"tools/multinode","type":"ADDED","insertions":365,"deletions":0},{"file":"wscript","type":"DELETED","insertions":0,"deletions":-17}],"sizeInsertions":3767,"sizeDeletions":-908},"patchSets":[{"number":"1","revision":"3c93d4897701171e16097c62e48136feb0b89cc9","parents":["512323467f568942e59bf57dad1be786cf359094"],"ref":"refs/changes/23/923/1","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1479504569,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479507734,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}}],"comments":[{"file":"Makefile","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It looks like we\u0027re not doing any style-checking or lint-checking of the JavaScript files here.  That might be nice to add.  There are eng.git helper Makefiles to do this."},{"file":"Makefile","line":0,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Sure -- will do.  (Note that all the JavaScript files are test files and examples; the entirety of node-kstat is an addon.)"},{"file":"Makefile","line":21,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Should we include a comment about this?   (My apology in marlin: https://github.com/joyent/manta-marlin/blob/master/Makefile#L138-L142)?"},{"file":"Makefile","line":21,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Yes, sure -- will do.  (Though I don\u0027t know if mine will be as much an apology as a condemnation; it\u0027s absurd to me that v8plus relies on something that can\u0027t be easily installed through traditional packaging.)"},{"file":"kstat.c","line":31,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Out of curiosity, why don\u0027t we use assert(3C)?"},{"file":"kstat.c","line":31,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Because we don\u0027t want to abort() on assertion failure, we want to v8plus_panic()."},{"file":"kstat.c","line":165,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Out of curiosity, why not nvlist_lookup_nvlist() (and nvlist_lookup_string() and such elsewhere)?"},{"file":"kstat.c","line":165,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Because these things return ENOENT if the name is there but the type doesn\u0027t match -- when we want to fail explicitly on this condition.  (These fields are optional, so ENOENT is valid -- but having the field there and of the wrong type should be an error.)"},{"file":"kstat.c","line":221,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"v8plus_syserr() appears to take a format string, so I wouldn\u0027t have thought V8PLUS_TYPE_NONE would work.  But the implementation does seem to treat NULL specially, and V8PLUS_TYPE_NONE is 0, so I think that will work.  But I can\u0027t tell if that\u0027s working by accident or design."},{"file":"kstat.c","line":221,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Good point. I have verified that the code does correctly work, but making this more explicit in v8plus would be a good idea (e.g., with a #error if these two don\u0027t have the same definition).  Do you mind if I leave this as follow-up work for v8plus?"},{"file":"kstat.c","line":221,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Sure."},{"file":"tools/multinode","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Gerrit is highlighting some whitespace issues (notably blank space at end-of-line).  It may be worth applying \"bashstyle\" from eng.git."},{"file":"tools/multinode","line":0,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Yes, will do -- thanks for the tip!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"LICENSE","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"Makefile","type":"ADDED","insertions":32,"deletions":0},{"file":"binding.gyp","type":"DELETED","insertions":0,"deletions":-11},{"file":"examples/kstat.js","type":"MODIFIED","insertions":7,"deletions":-8},{"file":"kstat.c","type":"ADDED","insertions":613,"deletions":0},{"file":"kstat.cc","type":"DELETED","insertions":0,"deletions":-764},{"file":"package.json","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"test/basic.js","type":"ADDED","insertions":132,"deletions":0},{"file":"test/close.js","type":"ADDED","insertions":27,"deletions":0},{"file":"test/filter.js","type":"ADDED","insertions":92,"deletions":0},{"file":"tools/cstyle.pl","type":"ADDED","insertions":1002,"deletions":0},{"file":"tools/multinode","type":"ADDED","insertions":365,"deletions":0},{"file":"wscript","type":"DELETED","insertions":0,"deletions":-17}],"sizeInsertions":2282,"sizeDeletions":-805},{"number":"2","revision":"56ff06e30da1eefdab19b07ce287b575a6086b2a","parents":["512323467f568942e59bf57dad1be786cf359094"],"ref":"refs/changes/23/923/2","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1479775782,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"LICENSE","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"Makefile","type":"ADDED","insertions":43,"deletions":0},{"file":"Makefile.check.targ","type":"ADDED","insertions":173,"deletions":0},{"file":"binding.gyp","type":"DELETED","insertions":0,"deletions":-11},{"file":"examples/filter.js","type":"DELETED","insertions":0,"deletions":-94},{"file":"examples/kstat.js","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"examples/mpstat.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"kstat.c","type":"ADDED","insertions":613,"deletions":0},{"file":"kstat.cc","type":"DELETED","insertions":0,"deletions":-764},{"file":"package.json","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"test/basic.js","type":"ADDED","insertions":133,"deletions":0},{"file":"test/close.js","type":"ADDED","insertions":26,"deletions":0},{"file":"test/filter.js","type":"ADDED","insertions":92,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":175,"deletions":0},{"file":"tools/cstyle.pl","type":"ADDED","insertions":1002,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":139,"deletions":0},{"file":"tools/jsstyle","type":"ADDED","insertions":967,"deletions":0},{"file":"tools/jsstyle.conf","type":"ADDED","insertions":14,"deletions":0},{"file":"tools/multinode","type":"ADDED","insertions":365,"deletions":0},{"file":"wscript","type":"DELETED","insertions":0,"deletions":-17}],"sizeInsertions":3775,"sizeDeletions":-908},{"number":"3","revision":"e9f6fc3f052e80316268110aaacd86a3474e674d","parents":["512323467f568942e59bf57dad1be786cf359094"],"ref":"refs/changes/23/923/3","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1479776697,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479777519,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479785095,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479785074,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}}],"comments":[{"file":"kstat.c","line":231,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"cast (void) as on L246?"},{"file":"kstat.c","line":231,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Yes -- and in several other cases as well, it turns out..."},{"file":"kstat.c","line":470,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Do we need to reset \"ksjs_tail\" to NULL here as well?"},{"file":"kstat.c","line":470,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"We don\u0027t need to reset ksj_tail because it\u0027s only used conditionally in this function -- which clears ksj_tail upon entry.  Indeed, you could make the case that it should be a local variable in kstatjs_update(), but I stuck it in the structure purely out of habit. ;)"},{"file":"kstat.c","line":542,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Ought this be 11 bytes for \"2147483647\" + NUL terminator?"},{"file":"kstat.c","line":542,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Yes, it ought -- thank you!  And I\u0027ll add an assertion that it\u0027s positive."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"LICENSE","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"Makefile.check.targ","type":"ADDED","insertions":173,"deletions":0},{"file":"binding.gyp","type":"DELETED","insertions":0,"deletions":-11},{"file":"examples/filter.js","type":"DELETED","insertions":0,"deletions":-94},{"file":"examples/kstat.js","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"examples/mpstat.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"kstat.c","type":"ADDED","insertions":613,"deletions":0},{"file":"kstat.cc","type":"DELETED","insertions":0,"deletions":-764},{"file":"package.json","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"test/basic.js","type":"ADDED","insertions":133,"deletions":0},{"file":"test/close.js","type":"ADDED","insertions":26,"deletions":0},{"file":"test/filter.js","type":"ADDED","insertions":92,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":175,"deletions":0},{"file":"tools/cstyle.pl","type":"ADDED","insertions":1002,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":139,"deletions":0},{"file":"tools/jsstyle","type":"ADDED","insertions":967,"deletions":0},{"file":"tools/multinode","type":"ADDED","insertions":365,"deletions":0},{"file":"wscript","type":"DELETED","insertions":0,"deletions":-17}],"sizeInsertions":3767,"sizeDeletions":-908},{"number":"4","revision":"2ce540dc32c8c788f04e21e2f41f202e72ea91c4","parents":["512323467f568942e59bf57dad1be786cf359094"],"ref":"refs/changes/23/923/4","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1479867618,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479873660,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479867793,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479913804,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479913804,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"LICENSE","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"Makefile","type":"ADDED","insertions":48,"deletions":0},{"file":"Makefile.check.targ","type":"ADDED","insertions":173,"deletions":0},{"file":"binding.gyp","type":"DELETED","insertions":0,"deletions":-11},{"file":"examples/filter.js","type":"DELETED","insertions":0,"deletions":-94},{"file":"examples/kstat.js","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"examples/mpstat.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"kstat.c","type":"ADDED","insertions":613,"deletions":0},{"file":"kstat.cc","type":"DELETED","insertions":0,"deletions":-764},{"file":"package.json","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"test/basic.js","type":"ADDED","insertions":133,"deletions":0},{"file":"test/close.js","type":"ADDED","insertions":26,"deletions":0},{"file":"test/filter.js","type":"ADDED","insertions":92,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":175,"deletions":0},{"file":"tools/cstyle.pl","type":"ADDED","insertions":1002,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":139,"deletions":0},{"file":"tools/jsstyle","type":"ADDED","insertions":967,"deletions":0},{"file":"tools/multinode","type":"ADDED","insertions":365,"deletions":0},{"file":"wscript","type":"DELETED","insertions":0,"deletions":-17}],"sizeInsertions":3766,"sizeDeletions":-908},{"number":"5","revision":"94f45902f133a8aa54c274cbeed23393db86d33c","parents":["512323467f568942e59bf57dad1be786cf359094"],"ref":"refs/changes/23/923/5","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1479927046,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479927351,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479927662,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1479929589,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479928478,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479928478,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"LICENSE","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"Makefile","type":"ADDED","insertions":48,"deletions":0},{"file":"Makefile.check.targ","type":"ADDED","insertions":173,"deletions":0},{"file":"binding.gyp","type":"DELETED","insertions":0,"deletions":-11},{"file":"examples/filter.js","type":"DELETED","insertions":0,"deletions":-94},{"file":"examples/kstat.js","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"examples/mpstat.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"kstat.c","type":"ADDED","insertions":614,"deletions":0},{"file":"kstat.cc","type":"DELETED","insertions":0,"deletions":-764},{"file":"package.json","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"test/basic.js","type":"ADDED","insertions":133,"deletions":0},{"file":"test/close.js","type":"ADDED","insertions":26,"deletions":0},{"file":"test/filter.js","type":"ADDED","insertions":92,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":175,"deletions":0},{"file":"tools/cstyle.pl","type":"ADDED","insertions":1002,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":139,"deletions":0},{"file":"tools/jsstyle","type":"ADDED","insertions":967,"deletions":0},{"file":"tools/multinode","type":"ADDED","insertions":365,"deletions":0},{"file":"wscript","type":"DELETED","insertions":0,"deletions":-17}],"sizeInsertions":3767,"sizeDeletions":-908}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}]}