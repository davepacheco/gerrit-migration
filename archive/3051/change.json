{"project":"joyent/illumos-joyent","branch":"master","id":"I9a212cf317ce1d7fed4fcc798229efeda6ad43f2","number":"3051","subject":"OS-6478 default chunk size used by ipmi_fru_read() is too large for some SP\u0027s","owner":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"url":"https://cr.joyent.us/3051","commitMessage":"OS-6478 default chunk size used by ipmi_fru_read() is too large for some SP\u0027s\n","createdOn":1512528936,"lastUpdated":1512695452,"open":false,"status":"MERGED","comments":[{"timestamp":1512528936,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 1."},{"timestamp":1512585218,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1512589009,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 2."},{"timestamp":1512589223,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 3."},{"timestamp":1512591698,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1512599067,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1512685177,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1512695137,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1512695452,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rob Johnston"}],"currentPatchSet":{"number":"4","revision":"9a212cf317ce1d7fed4fcc798229efeda6ad43f2","parents":["48cfa1b7f6b764a5a89379233733e64570a6fc97"],"ref":"refs/changes/51/3051/4","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512695137,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1512599067,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1512685177,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1512695452,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","type":"MODIFIED","insertions":32,"deletions":-6}],"sizeInsertions":32,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"76ae751c7caf1f881932a20d93fe56c4fd3cd743","parents":["86aa638917f0ec83401d6523f879fbdf56cde0b9"],"ref":"refs/changes/51/3051/1","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512528936,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","line":86,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Can we make the 128 a #define somewhere?"},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","line":86,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","line":104,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Can we make the minimum chunk size a #define somewhere?"},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","line":104,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","line":105,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I think it\u0027s probably worth a comment above this block explaining the chunk size shifting."},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","line":105,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","type":"MODIFIED","insertions":15,"deletions":-6}],"sizeInsertions":15,"sizeDeletions":-6},{"number":"2","revision":"5915eba940f45a12da2433e90b9015e6502f3a9e","parents":["e176640e479d9a74ae96f890e98dba7b066e67de"],"ref":"refs/changes/51/3051/2","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512589009,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":22,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":169,"sizeDeletions":-24},{"number":"3","revision":"4c6bbf9bcbf107a79d3b473ac44132d2891f829f","parents":["86aa638917f0ec83401d6523f879fbdf56cde0b9"],"ref":"refs/changes/51/3051/3","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512589223,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1512599067,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1512685177,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","type":"MODIFIED","insertions":32,"deletions":-6}],"sizeInsertions":32,"sizeDeletions":-6},{"number":"4","revision":"9a212cf317ce1d7fed4fcc798229efeda6ad43f2","parents":["48cfa1b7f6b764a5a89379233733e64570a6fc97"],"ref":"refs/changes/51/3051/4","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512695137,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1512599067,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1512685177,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1512695452,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libipmi/common/ipmi_fru.c","type":"MODIFIED","insertions":32,"deletions":-6}],"sizeInsertions":32,"sizeDeletions":-6}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}]}