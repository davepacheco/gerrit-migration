{"project":"joyent/sdcadm","branch":"master","id":"I3db0cb4107a7c609e3614bd448fec321916fafa7","number":"3899","subject":"TOOLS-1224 \u0027sdcadm \u003csubcommand\u003e -h|--help\u0027 hits SAPI to get the sdc app: that\u0027s overkill Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/3899","commitMessage":"TOOLS-1224 \u0027sdcadm \u003csubcommand\u003e -h|--help\u0027 hits SAPI to get the sdc app: that\u0027s overkill\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1525364590,"lastUpdated":1526543697,"open":false,"status":"MERGED","comments":[{"timestamp":1525364590,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1525364596,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 07b78ad367f3444f6d87b83064bcfa5a913c06ab\n    \n    \u0027sdcadm \u003csubcommand\u003e -h|--help\u0027 hits SAPI to get the sdc app: that\u0027s overkill"},{"timestamp":1525364626,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526485951,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1526485957,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit b07a88cec8e0cc89cf50884888951e6c716ccd8e\n    \n    \u0027sdcadm \u003csubcommand\u003e -h|--help\u0027 hits SAPI to get the sdc app: that\u0027s overkill"},{"timestamp":1526485985,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1526486009,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nThis is that tiny commit related to TOOLS-1717 we pretty much forgot about :-)"},{"timestamp":1526507236,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\nI think the *right* answer would be to have all the sdcadm commands not call `SdcAdm.init` until they are needed. E.g. after this we would still run the init to handled `sdcadm up --help`.  However that \"right\" answer is a lot of work. E.g. node-triton had to do this at one point (change from some work being sync to being async and lazy) and it was a lot of work: https://github.com/joyent/node-triton/issues/108"},{"timestamp":1526543516,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3."},{"timestamp":1526543521,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 5f60f36d812c785c5e702f1d5616c179508f12a0\n    \n    \u0027sdcadm \u003csubcommand\u003e -h|--help\u0027 hits SAPI to get the sdc app: that\u0027s overkill"},{"timestamp":1526543552,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526543687,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\nThanks for the CR. Yeah, it would be desirable to avoid calling `SdcAdm.init` until it\u0027s completely needed. Anyway, not sure we have the room for that amount of work right now.\n\nBtw, I\u0027ve +1\u0027ed myself after a minor rebase I just did.\n\n \u003e I think the *right* answer would be to have all the sdcadm commands\n \u003e not call `SdcAdm.init` until they are needed. E.g. after this we\n \u003e would still run the init to handled `sdcadm up --help`.  However\n \u003e that \"right\" answer is a lot of work. E.g. node-triton had to do\n \u003e this at one point (change from some work being sync to being async\n \u003e and lazy) and it was a lot of work: https://github.com/joyent/node-triton/issues/108"},{"timestamp":1526543697,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"3","revision":"3db0cb4107a7c609e3614bd448fec321916fafa7","parents":["301d43df3dce21c35818ffdc8cbb9c7b57235984"],"ref":"refs/changes/99/3899/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1526543516,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526543552,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526543687,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526543687,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1526543697,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"a80c6e71b8a5401fb71b1e79e56ebf565cf785cb","parents":["f2bf9bb71062b09fcbf05034c1ef768358696cbc"],"ref":"refs/changes/99/3899/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1525364590,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525364626,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-1},{"number":"2","revision":"cc29ff5b031c3de78f456daaf27dea7fcb168f4e","parents":["116b1e545c2af44ecac21155a5101f03fdd73fdb"],"ref":"refs/changes/99/3899/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1526485951,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525364626,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526507236,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526507236,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-1},{"number":"3","revision":"3db0cb4107a7c609e3614bd448fec321916fafa7","parents":["301d43df3dce21c35818ffdc8cbb9c7b57235984"],"ref":"refs/changes/99/3899/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1526543516,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526543552,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526543687,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526543687,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1526543697,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}