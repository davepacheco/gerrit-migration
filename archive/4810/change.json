{"project":"joyent/sdc-cloudapi","branch":"master","id":"I4ab0fe4d23a2b3e22d5f8c247e57a02f2bb4cc5d","number":"4810","subject":"TRITON-683 cloudapi needs to support image.requirements.bootrom Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/4810","commitMessage":"TRITON-683 cloudapi needs to support image.requirements.bootrom\nReviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1536590999,"lastUpdated":1536849037,"open":false,"status":"MERGED","comments":[{"timestamp":1536590999,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1536591004,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 8de3ada315b3181ada156c67c3c6ab6dd98c6e7e\n    \n    TRITON-683 cloudapi needs to support image.requirements.bootrom"},{"timestamp":1536591036,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1536591098,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nAdded tests to check that we\u0027re not allowing the new value for brands not knowing it. Not sure how convenient is to add a requirement for a new Image/VM type to CloudAPI test suite right now just to test that we are passing the bootrom parameter from the image to VMAPI, though."},{"timestamp":1536758514,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1536760486,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\n(1 comment)\n\nJust personal preference for boolean properties, though"},{"timestamp":1536835313,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1536849023,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1536849037,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"2","revision":"4ab0fe4d23a2b3e22d5f8c247e57a02f2bb4cc5d","parents":["8c97e87f9d5a201bdaefe965b7f03d57b5147249"],"ref":"refs/changes/10/4810/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1536849023,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1536591036,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536835313,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536835313,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1536849037,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/machines.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/machines.test.js","type":"MODIFIED","insertions":43,"deletions":-18}],"sizeInsertions":51,"sizeDeletions":-18},"patchSets":[{"number":"1","revision":"ab5cdfabbe1050ce8bc5d7a2d59402b23dbb2a68","parents":["8c97e87f9d5a201bdaefe965b7f03d57b5147249"],"ref":"refs/changes/10/4810/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1536590999,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1536591036,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536835313,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536835313,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"lib/machines.js","line":426,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Why not just img.requirements.bootrom? What does hasOwnProperty() gain here?"},{"file":"lib/machines.js","line":426,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"It\u0027s just b/c I don\u0027t wanna use straight property checks when I know the expected value for a property is either a boolean or, eventually, a quoted boolean. Pretty much no other advantage"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/machines.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/machines.test.js","type":"MODIFIED","insertions":43,"deletions":-18}],"sizeInsertions":51,"sizeDeletions":-18},{"number":"2","revision":"4ab0fe4d23a2b3e22d5f8c247e57a02f2bb4cc5d","parents":["8c97e87f9d5a201bdaefe965b7f03d57b5147249"],"ref":"refs/changes/10/4810/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1536849023,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1536591036,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1536849037,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536835313,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536835313,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/machines.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/machines.test.js","type":"MODIFIED","insertions":43,"deletions":-18}],"sizeInsertions":51,"sizeDeletions":-18}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}