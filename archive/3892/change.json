{"project":"joyent/illumos-joyent","branch":"master","id":"Ie3dae313fd48ef259fc7f98dc1083fad9d8d14a3","number":"3892","subject":"OS-6914 Implement CPU autoreplace based on Intel PPIN Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Rob Johnston \u003crob.johnston@joyent.com\u003e Approved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/3892","commitMessage":"OS-6914 Implement CPU autoreplace based on Intel PPIN\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Rob Johnston \u003crob.johnston@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1525218035,"lastUpdated":1527811043,"open":false,"status":"MERGED","comments":[{"timestamp":1525218035,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1525223336,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 1:\n\n(4 comments)\n\nOverall, looks great!  Just a few comments."},{"timestamp":1525224679,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1525224710,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1525224945,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 2: Code-Review+1\n\nThanks for making those updates.  This looks good to me."},{"timestamp":1525447792,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1\n\n(2 comments)\n\nThis looks good. I noticed a couple of small nits which you can feel free to ignore."},{"timestamp":1525796682,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3."},{"timestamp":1525796685,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1525803938,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1527097645,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 3: Code-Review+1\n\nLatest changes look good."},{"timestamp":1527800613,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1527809268,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1527810531,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1527810627,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1527811043,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"6","revision":"e3dae313fd48ef259fc7f98dc1083fad9d8d14a3","parents":["9e30beee2f0c127bf41868db46257124206e28d6"],"ref":"refs/changes/92/3892/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1527810627,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525803938,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527097645,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527809268,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1527811043,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/sys/devfm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":133,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi_hw.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/cpu_module_impl.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/intel/io/devfm_machdep.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/intel/sys/cpu_module.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":25,"deletions":0}],"sizeInsertions":284,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"0cf9727b9ed6ab35cf45b43ff3c1247cf67293fb","parents":["66c901cbd443b11122d6c3b84de5ccb16e76efeb"],"ref":"refs/changes/92/3892/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1525218035,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","line":185,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"I wonder if even in the case that we do have FM-aware smbios that we should still try and lookup FM_PHYSCPU_INFO_CHIP_IDENTSTR, iff we don\u0027t find a serial in the SMBIOS record. I don\u0027t recall any sort of chip serial being exposed via smbios even on PRMS-compliant Sun/Oracle x64 boxes."},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","line":185,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"That\u0027s a good question. Unfortunately I don\u0027t think we have any PRMS-compliant boxes to test on right now at least, such that FM is aware. If we do, then I\u0027d be happy to extend this."},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":67,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"I wonder if there should be a comment explicitly stating that the synthesized serial is only available on Xeon-class processors (not the consumer lines).\n\nMaybe add a reference to the relevant section of the Intel SDM where this mechanism is described?  Or briefly summarize the algorithm here?\n\nAlso, maybe a comment t the effect that the case statement and the defines in x86_archext.h can/should be extended in the future to accommodate future Xeon models."},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":67,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK, I\u0027ve tried to better explain this. Let me know what you think of the updated version. Unfortunately, this doesn\u0027t come from the SDM, but I\u0027ve tried to refer people to where to search."},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":132,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Nice touch! :)"},{"file":"usr/src/uts/intel/sys/x86_archext.h","line":694,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Nit - maybe call this define INTC_MODEL_BROADWELL_XEON_D, since it is a XEON-class processor - just in a SoC formfactor."},{"file":"usr/src/uts/intel/sys/x86_archext.h","line":694,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK, I ended up doing BROADWELL_D_XEON. How\u0027s that?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","type":"MODIFIED","insertions":54,"deletions":0},{"file":"usr/src/uts/common/sys/devfm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":120,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi_hw.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/cpu_module_impl.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/intel/io/devfm_machdep.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/intel/sys/cpu_module.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":25,"deletions":0}],"sizeInsertions":273,"sizeDeletions":-4},{"number":"2","revision":"8b62d7072c93f6969d712b2ecf49186a4d34d055","parents":["66c901cbd443b11122d6c3b84de5ccb16e76efeb"],"ref":"refs/changes/92/3892/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1525224679,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525447792,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525224945,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"comments":[{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","line":866,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"I don\u0027t see any way ret can be less than 0 in this function."},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","line":866,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I think you\u0027re right. I think this happened as a side effect of refactoring."},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":71,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"typo"},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","line":71,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","type":"MODIFIED","insertions":54,"deletions":0},{"file":"usr/src/uts/common/sys/devfm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":133,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi_hw.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/cpu_module_impl.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/intel/io/devfm_machdep.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/intel/sys/cpu_module.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":25,"deletions":0}],"sizeInsertions":286,"sizeDeletions":-4},{"number":"3","revision":"9cc888a2c1c355eda4b16ece67cc9a31feec67f7","parents":["66c901cbd443b11122d6c3b84de5ccb16e76efeb"],"ref":"refs/changes/92/3892/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1525796682,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525803938,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527097645,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/sys/devfm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":133,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi_hw.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/cpu_module_impl.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/intel/io/devfm_machdep.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/intel/sys/cpu_module.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":25,"deletions":0}],"sizeInsertions":284,"sizeDeletions":-4},{"number":"4","revision":"e371d2acaac2c255d803a278c4118e01b567d2ed","parents":["a342859e706a48afa2e2dd03a1ab5af9a3a2532c"],"ref":"refs/changes/92/3892/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1527800613,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525803938,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527809268,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527097645,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/sys/devfm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":133,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi_hw.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/cpu_module_impl.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/intel/io/devfm_machdep.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/intel/sys/cpu_module.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":25,"deletions":0}],"sizeInsertions":284,"sizeDeletions":-4},{"number":"5","revision":"48dfc6cf21f93cdd0ca1927a9c943da3c527b843","parents":["9e30beee2f0c127bf41868db46257124206e28d6"],"ref":"refs/changes/92/3892/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1527810531,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525803938,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527809268,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527097645,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/sys/devfm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":133,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi_hw.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/cpu_module_impl.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/intel/io/devfm_machdep.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/intel/sys/cpu_module.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":25,"deletions":0}],"sizeInsertions":284,"sizeDeletions":-4},{"number":"6","revision":"e3dae313fd48ef259fc7f98dc1083fad9d8d14a3","parents":["9e30beee2f0c127bf41868db46257124206e28d6"],"ref":"refs/changes/92/3892/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1527810627,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1527811043,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525803938,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527809268,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527097645,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.c","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/chip/chip_subr.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/sys/devfm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/cpu/generic_cpu/gcpu_main.c","type":"MODIFIED","insertions":133,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/i86pc/os/cmi_hw.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/cpu_module_impl.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/intel/io/devfm_machdep.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/intel/sys/cpu_module.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":25,"deletions":0}],"sizeInsertions":284,"sizeDeletions":-4}],"allReviewers":[{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}