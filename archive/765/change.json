{"project":"joyent/triton-cns","branch":"master","id":"I8773a89f6acba3f4bebff7fe223dc93ed0eb19ed","number":"765","subject":"CNS-172 AAAA requests where an A record exists should return NODATA, not NXDOMAIN Reviewed by: Richard Kiene \u003crichard.kiene@joyent.com\u003e Reviewed by: Brian Bennett \u003cbrian.bennett@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/765","commitMessage":"CNS-172 AAAA requests where an A record exists should return NODATA, not NXDOMAIN\nReviewed by: Richard Kiene \u003crichard.kiene@joyent.com\u003e\nReviewed by: Brian Bennett \u003cbrian.bennett@joyent.com\u003e\n","createdOn":1477080873,"lastUpdated":1477087593,"open":false,"status":"MERGED","comments":[{"timestamp":1477080873,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1477080914,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1477081065,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1477081601,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1477081609,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1: -Code-Review -Integration-Approval"},{"timestamp":1477082338,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1: Code-Review+1\n\nTested in west-a. This seems to have resolved the issue I was having."},{"timestamp":1477087514,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\nLGTM. Also for anyone confused about NODATA vs NOERROR when looking at the code, I found http://prefetch.net/blog/index.php/2016/09/28/the-subtleties-between-the-nxdomain-noerror-and-nodata-dns-response-codes/ to be pretty helpful."},{"timestamp":1477087578,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1477087593,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"}],"currentPatchSet":{"number":"2","revision":"8c34c821163a37b4bec334de7e9b00d7a8be3d86","parents":["3cbf3cd6eb97f6a3333fc98de429e5d857aa040d"],"ref":"refs/changes/65/765/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477087578,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477080914,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477082338,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477087514,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477087514,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"SUBM","value":"1","grantedOn":1477087593,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/dns-server.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"test/unit/dns-server.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":66,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"8773a89f6acba3f4bebff7fe223dc93ed0eb19ed","parents":["3cbf3cd6eb97f6a3333fc98de429e5d857aa040d"],"ref":"refs/changes/65/765/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477080873,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477080914,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477087514,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477087514,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477082338,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/dns-server.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"test/unit/dns-server.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":66,"sizeDeletions":-3},{"number":"2","revision":"8c34c821163a37b4bec334de7e9b00d7a8be3d86","parents":["3cbf3cd6eb97f6a3333fc98de429e5d857aa040d"],"ref":"refs/changes/65/765/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1477087578,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1477087593,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477080914,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477087514,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477087514,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477082338,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/dns-server.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"test/unit/dns-server.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":66,"sizeDeletions":-3}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}