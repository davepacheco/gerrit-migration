{"project":"joyent/triton-prometheus","branch":"master","id":"I100cc1d828547ec9019214d20e2d72de1ea2f6d1","number":"6231","subject":"TRITON-1662 setup-prometheus.sh\u0027s loose package selection broken by packages with brand\u003dbhyve Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e Approved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/6231","commitMessage":"TRITON-1662 setup-prometheus.sh\u0027s loose package selection broken by packages with brand\u003dbhyve\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\nApproved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1557517463,"lastUpdated":1557518310,"open":false,"status":"MERGED","comments":[{"timestamp":1557517463,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1557517464,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 4b1fc2ffa8e3e0451262aef6fcecc560203ce95b\n    \n    fix it"},{"timestamp":1557517504,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1557517505,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 80c0efeb8f42d64ac1504f6451143d689057b0b3\n    \n    fix copyright"},{"timestamp":1557518194,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\n(2 comments)"},{"timestamp":1557518303,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1557518308,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1557518310,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"100cc1d828547ec9019214d20e2d72de1ea2f6d1","parents":["69c1c7f6fa21b60504fabf28c8ae6345241b5944"],"ref":"refs/changes/31/6231/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1557518308,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557518194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557518194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1557518310,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"setup-grafana.sh","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"setup-prometheus.sh","type":"MODIFIED","insertions":7,"deletions":-2}],"sizeInsertions":16,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"0d2e51ded1f6a27ad81596b224063d062cd4cba9","parents":["69c1c7f6fa21b60504fabf28c8ae6345241b5944"],"ref":"refs/changes/31/6231/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1557517463,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"setup-grafana.sh","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"setup-prometheus.sh","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":14,"sizeDeletions":-2},{"number":"2","revision":"674a4c6f1c073b142742d6d0f3e5786b8f7b4fa3","parents":["69c1c7f6fa21b60504fabf28c8ae6345241b5944"],"ref":"refs/changes/31/6231/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1557517504,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557518194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557518194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"setup-grafana.sh","line":78,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"should this be excluding when package.brand\u003dlx?"},{"file":"setup-grafana.sh","line":78,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"No necessarily, but we can talk over beer when there is ever a package deployed to our test infra that is limited to brand\u003dlx ... and there isn\u0027t a sufficient generic package that doesn\u0027t limit ot brand at all."},{"file":"setup-prometheus.sh","line":90,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"same question as on the setup-grafana.sh"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"setup-grafana.sh","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"setup-prometheus.sh","type":"MODIFIED","insertions":7,"deletions":-2}],"sizeInsertions":16,"sizeDeletions":-4},{"number":"3","revision":"100cc1d828547ec9019214d20e2d72de1ea2f6d1","parents":["69c1c7f6fa21b60504fabf28c8ae6345241b5944"],"ref":"refs/changes/31/6231/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1557518308,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1557518310,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557518194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557518194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"setup-grafana.sh","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"setup-prometheus.sh","type":"MODIFIED","insertions":7,"deletions":-2}],"sizeInsertions":16,"sizeDeletions":-4}],"allReviewers":[{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}