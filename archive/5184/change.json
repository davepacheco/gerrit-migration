{"project":"joyent/illumos-joyent","branch":"master","id":"Ic80a96f941e57993b407b02fe55a9f725a070282","number":"5184","subject":"OS-7419 bhyve: want switch to start VM in suspended state Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"url":"https://cr.joyent.us/5184","commitMessage":"OS-7419 bhyve: want switch to start VM in suspended state\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1543932001,"lastUpdated":1545299911,"open":false,"status":"MERGED","comments":[{"timestamp":1543932001,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 1."},{"timestamp":1543943567,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nThe naming seems a bit generic to me, debug could mean pretty much anything? Can the code make it \"start_suspended\" or something?\n\n-d seems at a high risk of clashing in the future too.\nIt\u0027s unfortunate that all of -S, -s, and -W are unavailable. Is it time for -o options ?"},{"timestamp":1543943864,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\nThere\u0027s been talk in the bhyve community about more rich configuration system.  I\u0027ve advocated for KEY\u003dVALUE to be used internally which would lend itself well to this kind of thing.\n\nThe -d flag seems fine if we\u0027re willing for it to be a Private interface, subject to later change/removal."},{"timestamp":1544034578,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1544093290,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 2."},{"timestamp":1544093328,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1544093389,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 3."},{"timestamp":1544094750,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1544096458,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1544814174,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1545236026,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1545272428,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 5: Patch Set 4 was rebased"},{"timestamp":1545299869,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1545299911,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Hans Rosenfeld"}],"currentPatchSet":{"number":"6","revision":"c80a96f941e57993b407b02fe55a9f725a070282","parents":["6bae70f86196b5f8f8767a4e2f3c1b7583459dac"],"ref":"refs/changes/84/5184/6","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1545299869,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544094750,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544814174,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236026,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1545299911,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":35,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"8b447aa13cad395b4c6ba6222f52e691a38a449a","parents":["6f5c59de3d01598b20549f07d594cb4a2436853a"],"ref":"refs/changes/84/5184/1","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1543932001,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/bhyve/bhyverun.c","line":1017,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Hide this with an ifdef, please"},{"file":"usr/src/cmd/bhyve/bhyverun.c","line":1017,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":21,"deletions":-3},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":30,"sizeDeletions":-3},{"number":"2","revision":"ca01bc12a4287ef83b3c1c9b0eadeca1677cce06","parents":["6f5c59de3d01598b20549f07d594cb4a2436853a"],"ref":"refs/changes/84/5184/2","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544093290,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":35,"sizeDeletions":-3},{"number":"3","revision":"a9b56dfa421f40ed738554ffcb32ba7e1c9de5b7","parents":["6f5c59de3d01598b20549f07d594cb4a2436853a"],"ref":"refs/changes/84/5184/3","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544093389,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544094750,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":35,"sizeDeletions":-3},{"number":"4","revision":"01d93e0699abfa6f306f63c0d7f01c796c9d47b9","parents":["87d4da426028d277778c2593d015e925ca543605"],"ref":"refs/changes/84/5184/4","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544096458,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544814174,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544094750,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236026,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":35,"sizeDeletions":-3},{"number":"5","revision":"0667a04db7f7447eb8ee46a8068d0156d5d3ac93","parents":["6bae70f86196b5f8f8767a4e2f3c1b7583459dac"],"ref":"refs/changes/84/5184/5","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1545272428,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544814174,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544094750,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236026,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":35,"sizeDeletions":-3},{"number":"6","revision":"c80a96f941e57993b407b02fe55a9f725a070282","parents":["6bae70f86196b5f8f8767a4e2f3c1b7583459dac"],"ref":"refs/changes/84/5184/6","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1545299869,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544814174,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1545299911,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544094750,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236026,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":35,"sizeDeletions":-3}],"allReviewers":[{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}]}