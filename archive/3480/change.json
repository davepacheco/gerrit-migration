{"project":"joyent/illumos-joyent","branch":"master","id":"I7859c1369f34e4ea328514c82b3579e7f3896a57","number":"3480","subject":"OS-6672 update vmm to FreeBSD 11.1 OS-6673 update libvmmapi to FreeBSD 11.1 OS-6690 want kernel driver API into bhyve Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/3480","commitMessage":"OS-6672 update vmm to FreeBSD 11.1\nOS-6673 update libvmmapi to FreeBSD 11.1\nOS-6690 want kernel driver API into bhyve\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1519663325,"lastUpdated":1519697334,"open":false,"status":"MERGED","comments":[{"timestamp":1519663325,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1519680696,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(47 comments)\n\nI went through all of the files and I all have is nits or questions, many of which may be resolved in subsequent CRs."},{"timestamp":1519684661,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1519684733,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(26 comments)\n\nI\u0027ve addressed a bunch of your comments.  Those which I didn\u0027t comment on are not fixed in the updated changeset and are also not addressed by subsequent commits (to the best of my knowledge).  They are things we can choose to clean up later."},{"timestamp":1519685918,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1\n\nI recognize this is an intermediate step and we have to be pragmatic on getting through all of this, so I am happy with the changes you made."},{"timestamp":1519689408,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\nThis has been taken from my bhyve merge branch which I\u0027ve been testing with.  The commit by itself has been check to build clean."},{"timestamp":1519691688,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1519694176,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1519694211,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1519697334,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"4","revision":"7859c1369f34e4ea328514c82b3579e7f3896a57","parents":["18ab788d153564dc0bc27d9b855fa3df844f6673"],"ref":"refs/changes/80/3480/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519694211,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519685918,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519691688,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519697334,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/pmap.h","type":"ADDED","insertions":455,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/specialreg.h","type":"DELETED","insertions":0,"deletions":-6},{"file":"usr/contrib/freebsd/isa/rtc.h","type":"ADDED","insertions":125,"deletions":0},{"file":"usr/contrib/freebsd/lib/libutil/humanize_number.c","type":"ADDED","insertions":179,"deletions":0},{"file":"usr/contrib/freebsd/x86/segments.h","type":"ADDED","insertions":274,"deletions":0},{"file":"usr/contrib/freebsd/x86/specialreg.h","type":"MODIFIED","insertions":60,"deletions":-3},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/bhyvectl/Makefile.com","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":1423,"deletions":-712},{"file":"usr/src/compat/freebsd/amd64/machine/asmacros.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/cpufunc.h","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/compat/freebsd/amd64/machine/md_var.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/pmap.h","type":"MODIFIED","insertions":454,"deletions":-9},{"file":"usr/src/compat/freebsd/amd64/machine/smp.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/specialreg.h","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmm.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmparam.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/libutil.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/_cpuset.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/compat/freebsd/sys/clock.h","type":"ADDED","insertions":110,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":51,"deletions":-12},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/sys/lock.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"COPIED","insertions":7,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/malloc.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/mutex.h","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/compat/freebsd/sys/sglist.h","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/time.h","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"usr/src/compat/freebsd/sys/types.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/compat/freebsd/vm/vm.h","type":"MODIFIED","insertions":28,"deletions":-3},{"file":"usr/src/compat/freebsd/vm/vm_param.h","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/compat/freebsd/x86/_types.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/x86/segments.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":36,"deletions":-2},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":523,"deletions":-240},{"file":"usr/src/lib/libvmmapi/common/vmmapi.h","type":"MODIFIED","insertions":88,"deletions":-9},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/uts/i86pc/Makefile.i86pc","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":4,"deletions":-130},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.c","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.h","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/offsets.in","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.c","type":"ADDED","insertions":2272,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.h","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_softc.h","type":"ADDED","insertions":114,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_support.s","type":"ADDED","insertions":148,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.c","type":"ADDED","insertions":442,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.h","type":"ADDED","insertions":334,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":71,"deletions":-306},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.h","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/offsets.in","type":"ADDED","insertions":62,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":28,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.h","type":"MODIFIED","insertions":82,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":1177,"deletions":-406},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.h","type":"MODIFIED","insertions":32,"deletions":-35},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_controls.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":12,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":73,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":195,"deletions":-193},{"file":"usr/src/uts/i86pc/io/vmm/intel/vtd.c","type":"ADDED","insertions":688,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/iommu.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/ppt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_iommu.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_ppt.c","type":"ADDED","insertions":92,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.c","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.c","type":"MODIFIED","insertions":12,"deletions":-69},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.h","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":21,"deletions":-22},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic_priv.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.c","type":"ADDED","insertions":103,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.c","type":"ADDED","insertions":1019,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.h","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/offsets.in","type":"DELETED","insertions":0,"deletions":-72},{"file":"usr/src/uts/i86pc/io/vmm/vm/pmap.h","type":"ADDED","insertions":27,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_extern.h","type":"ADDED","insertions":35,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_glue.h","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_map.h","type":"ADDED","insertions":63,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_object.h","type":"ADDED","insertions":30,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_page.h","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_pager.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"RENAMED","insertions":7,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":1391,"deletions":-439},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.c","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":211,"deletions":-102},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.c","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ipi.h","type":"DELETED","insertions":0,"deletions":-37},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ktr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.c","type":"ADDED","insertions":122,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":1143,"deletions":-382},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":333,"deletions":-310},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"DELETED","insertions":0,"deletions":-109},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","type":"ADDED","insertions":1437,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":41,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmx_assym.s","type":"DELETED","insertions":0,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","type":"MODIFIED","insertions":328,"deletions":-53},{"file":"usr/src/uts/i86pc/io/vmm/x86.h","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":184,"deletions":-37},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":109,"deletions":-18},{"file":"usr/src/uts/i86pc/sys/vmm_drv.h","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":36,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/vmm_instruction_emul.h","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":19,"deletions":-5}],"sizeInsertions":17808,"sizeDeletions":-3974},"patchSets":[{"number":"1","revision":"9ec2015927516e267524c79eaa2e55404704c833","parents":["109982faf712fd43b18aba660dbefd8f08c3382c"],"ref":"refs/changes/80/3480/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519663325,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/bhyvectl/Makefile.com","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"add joyent copyright?"},{"file":"usr/src/cmd/bhyvectl/Makefile.com","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/amd64/machine/specialreg.h","line":19,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"6?"},{"file":"usr/src/compat/freebsd/amd64/machine/specialreg.h","line":19,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/amd64/machine/vmm.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"add joyent copyright?"},{"file":"usr/src/compat/freebsd/amd64/machine/vmm.h","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/amd64/machine/vmparam.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/amd64/machine/vmparam.h","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/sys/kernel.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/sys/kernel.h","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/sys/param.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/sys/param.h","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/sys/smp.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/sys/smp.h","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/vm/vm.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/vm/vm.h","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","line":275,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is this comment correct for us? Should we put it into a FreeBSD wrapper to avoid confusion?"},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","line":275,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"bhyvectl can do this as well, IIRC.  I think it\u0027s fine to leave in."},{"file":"usr/src/uts/i86pc/io/vmm/amd/offsets.in","line":36,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is this right?"},{"file":"usr/src/uts/i86pc/io/vmm/amd/offsets.in","line":36,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"It escapes the include so it\u0027s actually included in the assym.h output, so the actual file contents are included by the asm."},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.h","line":26,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.h","line":26,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","line":998,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"should this comment be inside a FreeBSD guard? I guess I understand why its here, but it seems a little confusing to reference illumos in FreeBSD code."},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","line":998,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Keeping illumos-specific code inside guards, even if they\u0027re negative, makes it easier to tell upstream code from ours, IMO."},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","line":2830,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is this cleaned up in a subsequent CR?"},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.h","line":26,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.h","line":26,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_ppt.c","line":26,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"this should probably say \"either fail or no-op\"?"},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_ppt.c","line":26,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This gets overhauled in the commit ppt-related commits, but I\u0027ll fix it."},{"file":"usr/src/uts/i86pc/io/vmm/vm/pmap.h","line":1,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"no copyright or license?"},{"file":"usr/src/uts/i86pc/io/vmm/vm/pmap.h","line":1,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_extern.h","line":21,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"no copyright or license"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_extern.h","line":21,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_map.h","line":2,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"no copyright or license?"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_map.h","line":2,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_object.h","line":1,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"no copyright or license?"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_object.h","line":1,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_pager.h","line":1,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"no copyright or license?"},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_pager.h","line":1,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","line":373,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is something fixed here later?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","line":1594,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"above we used cv_wait_sig where FreeBSD is using msleep_spin. Should we do the same here?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","line":1594,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Waking on a signal doesn\u0027t help us here, since there\u0027s no logic to bail out of the loop on that condition.  If we woke on a signal, this would turn into an extremely busy loop with little benefit."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":269,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"we\u0027re using two different sizes here to constrain the write into mseg_name, it seems like we should use the same size limit in both places."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":269,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Yeah, that\u0027s a bug.  Fixed."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":304,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is this removed in a later change?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":329,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is this removed in a later change?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":528,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is this cleaned up in a later change?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":593,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"similar question"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":593,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This is wired up by the coming ppt commits."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":948,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one, also why is is this in a FreeBSD guard? Do we even need FreeBSD guards in this file?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":948,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This isn\u0027t implemented yet, so it\u0027s NOPed out for now"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1298,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1691,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Done in a later change?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1714,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"same"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","line":2,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"I feel like I am confused about the copyrights here and this being a \"Solaris\" specific file."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","line":2,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"There is some logic copied directly from FreeBSD in here, covered by these copyrights.  I was able to remove the top one when cleaning up the sleepq stuff, but not the subsequent copyright."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":206,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"fixed in a later CR?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":300,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"fixed later?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":366,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":471,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":626,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":640,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":688,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":730,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":934,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"two more here"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":961,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"another one"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":1132,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"again"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","line":1299,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"again"},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","line":230,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"why inside a FreeBSD guard?"},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","line":230,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Because I wasn\u0027t able to find convenient functionality to implement an equivalent at the time.  The freebsd variables referenced aren\u0027t supported by glue definitions, so this will fail to compile without the guard."},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","line":542,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"cleaned up later?"},{"file":"usr/src/uts/i86pc/sys/vmm_drv.h","line":24,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"remove"},{"file":"usr/src/uts/i86pc/sys/vmm_drv.h","line":24,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":47,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/pmap.h","type":"ADDED","insertions":455,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/specialreg.h","type":"DELETED","insertions":0,"deletions":-6},{"file":"usr/contrib/freebsd/isa/rtc.h","type":"ADDED","insertions":125,"deletions":0},{"file":"usr/contrib/freebsd/lib/libutil/humanize_number.c","type":"ADDED","insertions":179,"deletions":0},{"file":"usr/contrib/freebsd/x86/segments.h","type":"ADDED","insertions":274,"deletions":0},{"file":"usr/contrib/freebsd/x86/specialreg.h","type":"MODIFIED","insertions":60,"deletions":-3},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/bhyvectl/Makefile.com","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":1423,"deletions":-712},{"file":"usr/src/compat/freebsd/amd64/machine/asmacros.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/cpufunc.h","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/compat/freebsd/amd64/machine/md_var.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/pmap.h","type":"MODIFIED","insertions":454,"deletions":-9},{"file":"usr/src/compat/freebsd/amd64/machine/smp.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/specialreg.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmm.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmparam.h","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/compat/freebsd/libutil.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/_cpuset.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/compat/freebsd/sys/clock.h","type":"ADDED","insertions":110,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":51,"deletions":-12},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/compat/freebsd/sys/lock.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"RENAMED","insertions":7,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/malloc.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/mutex.h","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/sglist.h","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/time.h","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"usr/src/compat/freebsd/sys/types.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/compat/freebsd/vm/vm.h","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"usr/src/compat/freebsd/vm/vm_param.h","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/compat/freebsd/x86/_types.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/x86/segments.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":36,"deletions":-2},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":523,"deletions":-240},{"file":"usr/src/lib/libvmmapi/common/vmmapi.h","type":"MODIFIED","insertions":88,"deletions":-9},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/uts/i86pc/Makefile.i86pc","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":4,"deletions":-130},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.c","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.h","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/offsets.in","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.c","type":"ADDED","insertions":2272,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.h","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_softc.h","type":"ADDED","insertions":114,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_support.s","type":"ADDED","insertions":148,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.c","type":"ADDED","insertions":442,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.h","type":"ADDED","insertions":334,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":71,"deletions":-306},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.h","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/offsets.in","type":"ADDED","insertions":62,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":28,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.h","type":"MODIFIED","insertions":78,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":1177,"deletions":-406},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.h","type":"MODIFIED","insertions":28,"deletions":-35},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_controls.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":12,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":73,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":195,"deletions":-193},{"file":"usr/src/uts/i86pc/io/vmm/intel/vtd.c","type":"ADDED","insertions":688,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/iommu.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/ppt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_iommu.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_ppt.c","type":"ADDED","insertions":92,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.c","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.c","type":"MODIFIED","insertions":12,"deletions":-69},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.h","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":21,"deletions":-22},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic_priv.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.c","type":"ADDED","insertions":103,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.c","type":"ADDED","insertions":1019,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.h","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/offsets.in","type":"DELETED","insertions":0,"deletions":-72},{"file":"usr/src/uts/i86pc/io/vmm/vm/pmap.h","type":"ADDED","insertions":12,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_extern.h","type":"ADDED","insertions":20,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_glue.h","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_map.h","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_object.h","type":"ADDED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_page.h","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_pager.h","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":1391,"deletions":-439},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.c","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":211,"deletions":-102},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.c","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ipi.h","type":"DELETED","insertions":0,"deletions":-37},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ktr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.c","type":"ADDED","insertions":122,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":1143,"deletions":-382},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":333,"deletions":-310},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"DELETED","insertions":0,"deletions":-109},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","type":"ADDED","insertions":1437,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":41,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmx_assym.s","type":"DELETED","insertions":0,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","type":"MODIFIED","insertions":328,"deletions":-53},{"file":"usr/src/uts/i86pc/io/vmm/x86.h","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":184,"deletions":-37},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":109,"deletions":-18},{"file":"usr/src/uts/i86pc/sys/vmm_drv.h","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":36,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/vmm_instruction_emul.h","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":19,"deletions":-5}],"sizeInsertions":17737,"sizeDeletions":-3969},{"number":"2","revision":"6828e955424bf3b283a4a6a5db47d4d16754ed3d","parents":["109982faf712fd43b18aba660dbefd8f08c3382c"],"ref":"refs/changes/80/3480/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519684661,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519685918,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519691688,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":48,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/pmap.h","type":"ADDED","insertions":455,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/specialreg.h","type":"DELETED","insertions":0,"deletions":-6},{"file":"usr/contrib/freebsd/isa/rtc.h","type":"ADDED","insertions":125,"deletions":0},{"file":"usr/contrib/freebsd/lib/libutil/humanize_number.c","type":"ADDED","insertions":179,"deletions":0},{"file":"usr/contrib/freebsd/x86/segments.h","type":"ADDED","insertions":274,"deletions":0},{"file":"usr/contrib/freebsd/x86/specialreg.h","type":"MODIFIED","insertions":60,"deletions":-3},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/bhyvectl/Makefile.com","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":1423,"deletions":-712},{"file":"usr/src/compat/freebsd/amd64/machine/asmacros.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/cpufunc.h","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/compat/freebsd/amd64/machine/md_var.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/pmap.h","type":"MODIFIED","insertions":454,"deletions":-9},{"file":"usr/src/compat/freebsd/amd64/machine/smp.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/specialreg.h","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmm.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmparam.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/libutil.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/_cpuset.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/compat/freebsd/sys/clock.h","type":"ADDED","insertions":110,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":51,"deletions":-12},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/sys/lock.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"COPIED","insertions":7,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/malloc.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/mutex.h","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/compat/freebsd/sys/sglist.h","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/time.h","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"usr/src/compat/freebsd/sys/types.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/compat/freebsd/vm/vm.h","type":"MODIFIED","insertions":28,"deletions":-3},{"file":"usr/src/compat/freebsd/vm/vm_param.h","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/compat/freebsd/x86/_types.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/x86/segments.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":36,"deletions":-2},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":523,"deletions":-240},{"file":"usr/src/lib/libvmmapi/common/vmmapi.h","type":"MODIFIED","insertions":88,"deletions":-9},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/uts/i86pc/Makefile.i86pc","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":4,"deletions":-130},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.c","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.h","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/offsets.in","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.c","type":"ADDED","insertions":2272,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.h","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_softc.h","type":"ADDED","insertions":114,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_support.s","type":"ADDED","insertions":148,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.c","type":"ADDED","insertions":442,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.h","type":"ADDED","insertions":334,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":71,"deletions":-306},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.h","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/offsets.in","type":"ADDED","insertions":62,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":28,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.h","type":"MODIFIED","insertions":82,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":1177,"deletions":-406},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.h","type":"MODIFIED","insertions":32,"deletions":-35},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_controls.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":12,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":73,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":195,"deletions":-193},{"file":"usr/src/uts/i86pc/io/vmm/intel/vtd.c","type":"ADDED","insertions":688,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/iommu.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/ppt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_iommu.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_ppt.c","type":"ADDED","insertions":92,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.c","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.c","type":"MODIFIED","insertions":12,"deletions":-69},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.h","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":21,"deletions":-22},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic_priv.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.c","type":"ADDED","insertions":103,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.c","type":"ADDED","insertions":1019,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.h","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/offsets.in","type":"DELETED","insertions":0,"deletions":-72},{"file":"usr/src/uts/i86pc/io/vmm/vm/pmap.h","type":"ADDED","insertions":27,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_extern.h","type":"ADDED","insertions":35,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_glue.h","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_map.h","type":"ADDED","insertions":63,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_object.h","type":"ADDED","insertions":30,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_page.h","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_pager.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"RENAMED","insertions":7,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":1391,"deletions":-439},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.c","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":211,"deletions":-102},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.c","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ipi.h","type":"DELETED","insertions":0,"deletions":-37},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ktr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.c","type":"ADDED","insertions":122,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":1143,"deletions":-382},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":333,"deletions":-310},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"DELETED","insertions":0,"deletions":-109},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","type":"ADDED","insertions":1437,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":41,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmx_assym.s","type":"DELETED","insertions":0,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","type":"MODIFIED","insertions":328,"deletions":-53},{"file":"usr/src/uts/i86pc/io/vmm/x86.h","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":184,"deletions":-37},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":109,"deletions":-18},{"file":"usr/src/uts/i86pc/sys/vmm_drv.h","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":36,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/vmm_instruction_emul.h","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":19,"deletions":-5}],"sizeInsertions":17808,"sizeDeletions":-3974},{"number":"3","revision":"b85aea1ab64905f8f9663b6fbc2d76f1aa70b405","parents":["18ab788d153564dc0bc27d9b855fa3df844f6673"],"ref":"refs/changes/80/3480/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519694176,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519685918,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519691688,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":48,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/pmap.h","type":"ADDED","insertions":455,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/specialreg.h","type":"DELETED","insertions":0,"deletions":-6},{"file":"usr/contrib/freebsd/isa/rtc.h","type":"ADDED","insertions":125,"deletions":0},{"file":"usr/contrib/freebsd/lib/libutil/humanize_number.c","type":"ADDED","insertions":179,"deletions":0},{"file":"usr/contrib/freebsd/x86/segments.h","type":"ADDED","insertions":274,"deletions":0},{"file":"usr/contrib/freebsd/x86/specialreg.h","type":"MODIFIED","insertions":60,"deletions":-3},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/bhyvectl/Makefile.com","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":1423,"deletions":-712},{"file":"usr/src/compat/freebsd/amd64/machine/asmacros.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/cpufunc.h","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/compat/freebsd/amd64/machine/md_var.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/pmap.h","type":"MODIFIED","insertions":454,"deletions":-9},{"file":"usr/src/compat/freebsd/amd64/machine/smp.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/specialreg.h","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmm.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmparam.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/libutil.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/_cpuset.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/compat/freebsd/sys/clock.h","type":"ADDED","insertions":110,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":51,"deletions":-12},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/sys/lock.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"COPIED","insertions":7,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/malloc.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/mutex.h","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/compat/freebsd/sys/sglist.h","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/time.h","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"usr/src/compat/freebsd/sys/types.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/compat/freebsd/vm/vm.h","type":"MODIFIED","insertions":28,"deletions":-3},{"file":"usr/src/compat/freebsd/vm/vm_param.h","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/compat/freebsd/x86/_types.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/x86/segments.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":36,"deletions":-2},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":523,"deletions":-240},{"file":"usr/src/lib/libvmmapi/common/vmmapi.h","type":"MODIFIED","insertions":88,"deletions":-9},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/uts/i86pc/Makefile.i86pc","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":4,"deletions":-130},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.c","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.h","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/offsets.in","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.c","type":"ADDED","insertions":2272,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.h","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_softc.h","type":"ADDED","insertions":114,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_support.s","type":"ADDED","insertions":148,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.c","type":"ADDED","insertions":442,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.h","type":"ADDED","insertions":334,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":71,"deletions":-306},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.h","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/offsets.in","type":"ADDED","insertions":62,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":28,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.h","type":"MODIFIED","insertions":82,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":1177,"deletions":-406},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.h","type":"MODIFIED","insertions":32,"deletions":-35},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_controls.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":12,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":73,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":195,"deletions":-193},{"file":"usr/src/uts/i86pc/io/vmm/intel/vtd.c","type":"ADDED","insertions":688,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/iommu.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/ppt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_iommu.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_ppt.c","type":"ADDED","insertions":92,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.c","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.c","type":"MODIFIED","insertions":12,"deletions":-69},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.h","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":21,"deletions":-22},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic_priv.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.c","type":"ADDED","insertions":103,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.c","type":"ADDED","insertions":1019,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.h","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/offsets.in","type":"DELETED","insertions":0,"deletions":-72},{"file":"usr/src/uts/i86pc/io/vmm/vm/pmap.h","type":"ADDED","insertions":27,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_extern.h","type":"ADDED","insertions":35,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_glue.h","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_map.h","type":"ADDED","insertions":63,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_object.h","type":"ADDED","insertions":30,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_page.h","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_pager.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"RENAMED","insertions":7,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":1391,"deletions":-439},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.c","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":211,"deletions":-102},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.c","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ipi.h","type":"DELETED","insertions":0,"deletions":-37},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ktr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.c","type":"ADDED","insertions":122,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":1143,"deletions":-382},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":333,"deletions":-310},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"DELETED","insertions":0,"deletions":-109},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","type":"ADDED","insertions":1437,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":41,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmx_assym.s","type":"DELETED","insertions":0,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","type":"MODIFIED","insertions":328,"deletions":-53},{"file":"usr/src/uts/i86pc/io/vmm/x86.h","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":184,"deletions":-37},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":109,"deletions":-18},{"file":"usr/src/uts/i86pc/sys/vmm_drv.h","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":36,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/vmm_instruction_emul.h","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":19,"deletions":-5}],"sizeInsertions":17808,"sizeDeletions":-3974},{"number":"4","revision":"7859c1369f34e4ea328514c82b3579e7f3896a57","parents":["18ab788d153564dc0bc27d9b855fa3df844f6673"],"ref":"refs/changes/80/3480/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519694211,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519685918,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519691688,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519697334,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/pmap.h","type":"ADDED","insertions":455,"deletions":0},{"file":"usr/contrib/freebsd/amd64/machine/specialreg.h","type":"DELETED","insertions":0,"deletions":-6},{"file":"usr/contrib/freebsd/isa/rtc.h","type":"ADDED","insertions":125,"deletions":0},{"file":"usr/contrib/freebsd/lib/libutil/humanize_number.c","type":"ADDED","insertions":179,"deletions":0},{"file":"usr/contrib/freebsd/x86/segments.h","type":"ADDED","insertions":274,"deletions":0},{"file":"usr/contrib/freebsd/x86/specialreg.h","type":"MODIFIED","insertions":60,"deletions":-3},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/bhyvectl/Makefile.com","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/bhyvectl/bhyvectl.c","type":"MODIFIED","insertions":1423,"deletions":-712},{"file":"usr/src/compat/freebsd/amd64/machine/asmacros.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/cpufunc.h","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/compat/freebsd/amd64/machine/md_var.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/pmap.h","type":"MODIFIED","insertions":454,"deletions":-9},{"file":"usr/src/compat/freebsd/amd64/machine/smp.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/specialreg.h","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmm.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/vmparam.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/libutil.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/_cpuset.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/compat/freebsd/sys/clock.h","type":"ADDED","insertions":110,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cpuset.h","type":"MODIFIED","insertions":51,"deletions":-12},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/sys/lock.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"COPIED","insertions":7,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/malloc.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/mutex.h","type":"MODIFIED","insertions":0,"deletions":-3},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/compat/freebsd/sys/sglist.h","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/compat/freebsd/sys/smp.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/systm.h","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"usr/src/compat/freebsd/sys/time.h","type":"MODIFIED","insertions":14,"deletions":-4},{"file":"usr/src/compat/freebsd/sys/types.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/compat/freebsd/vm/vm.h","type":"MODIFIED","insertions":28,"deletions":-3},{"file":"usr/src/compat/freebsd/vm/vm_param.h","type":"ADDED","insertions":18,"deletions":0},{"file":"usr/src/compat/freebsd/x86/_types.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/x86/segments.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/Makefile","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":36,"deletions":-2},{"file":"usr/src/lib/libvmmapi/common/vmmapi.c","type":"MODIFIED","insertions":523,"deletions":-240},{"file":"usr/src/lib/libvmmapi/common/vmmapi.h","type":"MODIFIED","insertions":88,"deletions":-9},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/uts/i86pc/Makefile.i86pc","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.rules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/amdv.c","type":"MODIFIED","insertions":4,"deletions":-130},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.c","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/npt.h","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/offsets.in","type":"ADDED","insertions":36,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.c","type":"ADDED","insertions":2272,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm.h","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_msr.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_softc.h","type":"ADDED","insertions":114,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/svm_support.s","type":"ADDED","insertions":148,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.c","type":"ADDED","insertions":442,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/amd/vmcb.h","type":"ADDED","insertions":334,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.c","type":"MODIFIED","insertions":71,"deletions":-306},{"file":"usr/src/uts/i86pc/io/vmm/intel/ept.h","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/offsets.in","type":"ADDED","insertions":62,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.c","type":"MODIFIED","insertions":28,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmcs.h","type":"MODIFIED","insertions":82,"deletions":-10},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":1177,"deletions":-406},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.h","type":"MODIFIED","insertions":32,"deletions":-35},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_controls.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_cpufunc.h","type":"MODIFIED","insertions":12,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.c","type":"MODIFIED","insertions":73,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_msr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx_support.s","type":"MODIFIED","insertions":195,"deletions":-193},{"file":"usr/src/uts/i86pc/io/vmm/intel/vtd.c","type":"ADDED","insertions":688,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/iommu.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/ppt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_iommu.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/sol_ppt.c","type":"ADDED","insertions":92,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.c","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/io/vatpit.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.c","type":"MODIFIED","insertions":12,"deletions":-69},{"file":"usr/src/uts/i86pc/io/vmm/io/vhpet.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.c","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"usr/src/uts/i86pc/io/vmm/io/vioapic.h","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.c","type":"MODIFIED","insertions":21,"deletions":-22},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vlapic_priv.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.c","type":"ADDED","insertions":103,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vpmtmr.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.c","type":"ADDED","insertions":1019,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/io/vrtc.h","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/offsets.in","type":"DELETED","insertions":0,"deletions":-72},{"file":"usr/src/uts/i86pc/io/vmm/vm/pmap.h","type":"ADDED","insertions":27,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_extern.h","type":"ADDED","insertions":35,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_glue.h","type":"ADDED","insertions":80,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_map.h","type":"ADDED","insertions":63,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_object.h","type":"ADDED","insertions":30,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_page.h","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vm/vm_pager.h","fileOld":"usr/src/compat/freebsd/vm/pmap.h","type":"RENAMED","insertions":7,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm.c","type":"MODIFIED","insertions":1391,"deletions":-439},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.c","type":"MODIFIED","insertions":40,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_host.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_instruction_emul.c","type":"MODIFIED","insertions":211,"deletions":-102},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.c","type":"MODIFIED","insertions":32,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ioport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ipi.h","type":"DELETED","insertions":0,"deletions":-37},{"file":"usr/src/uts/i86pc/io/vmm/vmm_ktr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/uts/i86pc/io/vmm/vmm_lapic.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.c","type":"ADDED","insertions":122,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_mem.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":1143,"deletions":-382},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":333,"deletions":-310},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"DELETED","insertions":0,"deletions":-109},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_vm.c","type":"ADDED","insertions":1437,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","type":"ADDED","insertions":170,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":41,"deletions":-7},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_util.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/vmx_assym.s","type":"DELETED","insertions":0,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/x86.c","type":"MODIFIED","insertions":328,"deletions":-53},{"file":"usr/src/uts/i86pc/io/vmm/x86.h","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm.h","type":"MODIFIED","insertions":184,"deletions":-37},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":109,"deletions":-18},{"file":"usr/src/uts/i86pc/sys/vmm_drv.h","type":"ADDED","insertions":39,"deletions":0},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":36,"deletions":-15},{"file":"usr/src/uts/i86pc/sys/vmm_instruction_emul.h","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":19,"deletions":-5}],"sizeInsertions":17808,"sizeDeletions":-3974}],"allReviewers":[{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}