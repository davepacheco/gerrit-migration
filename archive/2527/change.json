{"project":"joyent/sdc-docker","branch":"master","topic":"tritonnfs","id":"Idd0fc22d2e46f0f9e4a3291aed3901f8280bfbae","number":"2527","subject":"DOCKER-793 First pass for NFS shared volumes DOCKER-863 Create shared volume when mounting nonexistent volume DOCKER-878 Make docker volume ls list only \"active\" volumes DOCKER-890 docker volume integration tests fail with docker version 1.12-rc2 DOCKER-8","owner":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"url":"https://cr.joyent.us/2527","commitMessage":"DOCKER-793 First pass for NFS shared volumes\nDOCKER-863 Create shared volume when mounting nonexistent volume\nDOCKER-878 Make docker volume ls list only \"active\" volumes\nDOCKER-890 docker volume integration tests fail with docker version 1.12-rc2\nDOCKER-880 add regression test\nDOCKER-895 duplicate volume name error at volume creation time should be properly communicated to docker client\nDOCKER-895 (fix make check)\nDOCKER-896 invalid volume size error at volume creation time should be properly communicated to docker client\nDOCKER-906 support modes when mounting volumes\nDOCKER-911 tritonnfs volume mounted by container with docker-compose v2 fails to mount\nVOLAPI-9 Implement asynchronous NFS shared volume creation\nVOLAPI-6 Deleting a tritonnfs volume used by an active Docker container should fail\nVOLAPI-23 docker run -v fails when the mount point is an existing folder in the image\nVOLAPI-25 Docker volume create does not honor the network selection\nPUBAPI-1300 Implement CRUD volumes endpoints\nVOLAPI-42 implement volumes renaming constraints\nDOCKER-1011 docker run -v option for local volume (non-tritonnfs) should continue to work\nVOLAPI-27 Divergence in `docker create -v` behavior; volume is not created until `docker start`\nDOCKER-1021 docker volume create should output error message when volume creation fails in storage VM\u0027s provisioning workflow\nDOCKER-1055 volume names for sdc-docker should match those from PUBAPI-1372\nVOLAPI-49 DELETE should delete\nDOCKER-1030 restrain number of size unit suffixes supported when creating NFS volumes\nDOCKER-1066 sdc-docker should expose current config\nDOCKER-894 NFS shared volumes tests should check for \"NFS shared volumes not supported\" error in a separate tests suite\nVOLAPI-54 Custom errors\u0027 rest codes should follow engineering guide\u0027s guidelines\nDOCKER-1034 support docker volume ls -f dangling\u003dtrue\nVOLAPI-65 rename required_nfs_volumes VM objects\u0027 property to volumes\nTOOLS-1830 replace sdcadm experimental nfs-volumes with cloudapi-nfs-volumes/docker-nfs-volumes subcommands\nTOOLS-1829 add sdcadm experimental docker-nfs-volumes-automount\nDOCKER-1088 sdc-docker should not modify VMs\u0027 internal docker:nfsvolumes metadata\nVOLAPI-72 creating volume with unsupported size should result in error, not in volume being created with closest matching size\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1504883100,"lastUpdated":1510345241,"open":false,"status":"MERGED","comments":[{"timestamp":1504883100,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 1."},{"timestamp":1504883133,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1504883155,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Topic set to tritonnfs"},{"timestamp":1505231124,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 2."},{"timestamp":1505231159,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1505249023,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1505249065,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1507052060,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 4."},{"timestamp":1507052101,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1507070804,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 5."},{"timestamp":1507070849,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1507245486,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5:\n\n(17 comments)\n\nFeedback, part 1 of ?"},{"timestamp":1507255661,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 6."},{"timestamp":1507255680,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 5:\n\n(17 comments)"},{"timestamp":1507255706,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1507331800,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 7."},{"timestamp":1507331846,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1507679372,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 7: Code-Review+1\n\n(6 comments)"},{"timestamp":1507709005,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 7: -Code-Review"},{"timestamp":1507833011,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 8."},{"timestamp":1507833027,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 9: Patch Set 8 was rebased."},{"timestamp":1507833035,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 9:\n\n(6 comments)"},{"timestamp":1507833052,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1507833068,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508279090,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 10."},{"timestamp":1508279138,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508953653,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 11."},{"timestamp":1508953670,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 11:\n\nThe latest patch set is the result of a rebase + resolving conflicts."},{"timestamp":1508953705,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1509386922,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 12: Patch Set 11 was rebased."},{"timestamp":1509386955,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12:\n\n\"make check\" passed ok"},{"timestamp":1509397750,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 13: Patch Set 12 was rebased."},{"timestamp":1509397783,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13:\n\n\"make check\" passed ok"},{"timestamp":1509645893,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 14: Patch Set 13 was rebased."},{"timestamp":1509645926,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 14:\n\n\"make check\" passed ok"},{"timestamp":1509731682,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 15."},{"timestamp":1509731715,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 15: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1509756064,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 16."},{"timestamp":1509756097,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 16: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1509756223,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 17."},{"timestamp":1509756256,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 17: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1510101869,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 17: Code-Review+1"},{"timestamp":1510341100,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 17: Integration-Approval+1"},{"timestamp":1510341119,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 17: -Integration-Approval"},{"timestamp":1510345137,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 17: Integration-Approval+1"},{"timestamp":1510345184,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 17:\n\nTesting notes:\n\n1. Ran all sdc-docker volume tests in my COAL with support for NFS volumes enabled. All tests passed.\n\n2. Ran all sdc-docker tests in nightly-1 with support for NFS volumes disabled. All tests passed."},{"timestamp":1510345228,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 18: Commit message was updated."},{"timestamp":1510345241,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Julien Gilli"}],"currentPatchSet":{"number":"18","revision":"9d39e1bce65f959593ca7ee8d8eeecccc546d3e1","parents":["572b6191b5705f6e98e84dd7ff1fff91efca024b"],"ref":"refs/changes/27/2527/18","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1510345228,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509756256,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510101869,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510345137,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"SUBM","value":"1","grantedOn":1510345241,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":39,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-image-rmi.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":307,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":394,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":156,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5225,"sizeDeletions":-342},"patchSets":[{"number":"1","revision":"0f8ba0f68b4b84f98eb38aa6924c8c1ab8ac59dd","parents":["94fa554d7402b61ddfa643d4e76f5169797d049e"],"ref":"refs/changes/27/2527/1","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1504883100,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504883133,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":141,"deletions":-269},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":248,"deletions":-12},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":383,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":44,"deletions":-36},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":19,"deletions":-1},{"file":"lib/ufds.js","type":"ADDED","insertions":37,"deletions":0},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":143,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":50,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":153,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5244,"sizeDeletions":-371},{"number":"2","revision":"a63102255143e3b220eed563768d705bcd052965","parents":["94fa554d7402b61ddfa643d4e76f5169797d049e"],"ref":"refs/changes/27/2527/2","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1505231124,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505231159,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":141,"deletions":-269},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":248,"deletions":-12},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":383,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":44,"deletions":-36},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":19,"deletions":-1},{"file":"lib/ufds.js","type":"ADDED","insertions":37,"deletions":0},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":143,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":50,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":153,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5244,"sizeDeletions":-371},{"number":"3","revision":"0eec6328b567d5598e16caad503e98f206584dd8","parents":["b751d9dc133205bf1a81b28b8eec0ddc2a1cc19f"],"ref":"refs/changes/27/2527/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1505249023,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505231159,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":141,"deletions":-269},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":248,"deletions":-12},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":383,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":44,"deletions":-36},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":19,"deletions":-1},{"file":"lib/ufds.js","type":"ADDED","insertions":37,"deletions":0},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":143,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":50,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":153,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5244,"sizeDeletions":-371},{"number":"4","revision":"c72a52d78f596d9c0ac7b5870ab17c6a5691026d","parents":["1ef3d45a8e369e696a307fda280faa740eded32d"],"ref":"refs/changes/27/2527/4","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1507052060,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1507052101,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":141,"deletions":-250},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":239,"deletions":-13},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":383,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":49,"deletions":-11},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":19,"deletions":-1},{"file":"lib/ufds.js","type":"ADDED","insertions":37,"deletions":0},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":143,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":50,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":153,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5240,"sizeDeletions":-328},{"number":"5","revision":"4b4315616a9a12128df702651acde49847c41ea7","parents":["b66d3e12b79943816154e0a68e1ae00c94b5905b"],"ref":"refs/changes/27/2527/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1507070804,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1507070849,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/api/features/volumes.md","line":23,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"detail"},{"file":"docs/api/features/volumes.md","line":23,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/backends/sdc/containers.js","line":568,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"try/catch?"},{"file":"lib/backends/sdc/containers.js","line":568,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"This is not a change from the current CR, do you mind if we take care of that in a different CR?"},{"file":"lib/backends/sdc/containers.js","line":614,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"try/catch"},{"file":"lib/backends/sdc/containers.js","line":614,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"This is not a change from the current CR, do you mind if we take care of that in a different CR?"},{"file":"lib/backends/sdc/containers.js","line":626,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"try/catch"},{"file":"lib/backends/sdc/containers.js","line":626,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"This is not a change from the current CR, do you mind if we take care of that in a different CR?"},{"file":"lib/backends/sdc/containers.js","line":1858,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Should we wrap this w/ try/catch blocks?"},{"file":"lib/backends/sdc/containers.js","line":1858,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes, good catch! Will fix."},{"file":"lib/backends/sdc/networks.js","line":584,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"extra blank line"},{"file":"lib/backends/sdc/networks.js","line":584,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/backends/sdc/networks.js","line":599,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Should we be using assert.uuid here?"},{"file":"lib/backends/sdc/networks.js","line":599,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes, good catch, will fix!"},{"file":"lib/backends/sdc/volumes.js","line":37,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"NB"},{"file":"lib/backends/sdc/volumes.js","line":37,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/backends/sdc/volumes.js","line":58,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Is it worth using one of the error classes pulling from the `errors` module?"},{"file":"lib/backends/sdc/volumes.js","line":58,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I consider the pollVolumeState function to be internal, and all its consumers check the error passed to its callback, and then call _their_ callback with an error from the \"errors\" module.\n\nDoes that make sense?"},{"file":"lib/backends/sdc/volumes.js","line":130,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Should this be `done` rather than `callback`?"},{"file":"lib/backends/sdc/volumes.js","line":130,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes it should, good catch, thanks!"},{"file":"lib/backends/sdc/volumes.js","line":162,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Might be nice to do a more thorough audit of the types of the properties in`options` and `params` here, similar to what you do in other places (for instance L252-L257), for safety and consistency."},{"file":"lib/backends/sdc/volumes.js","line":162,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good point, I updated that code."},{"file":"lib/backends/sdc/volumes.js","line":185,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"try/catch"},{"file":"lib/backends/sdc/volumes.js","line":185,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good point, will fix!"},{"file":"lib/backends/sdc/volumes.js","line":268,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Tiny nit, in functions above you use `done` as a function to callback vasync.pipeline functions, but here you use next. It\u0027d be nice if they could agree on a name."},{"file":"lib/backends/sdc/volumes.js","line":268,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good point, changed everything to \"next\"."},{"file":"lib/backends/sdc/volumes.js","line":356,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Assert `params`, `options` properties"},{"file":"lib/backends/sdc/volumes.js","line":356,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/docker.js","line":263,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"The connection watcher behaviour has been removed."},{"file":"lib/docker.js","line":263,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Isn\u0027t it still in master at https://github.com/joyent/sdc-docker/blob/master/lib/docker.js#L183-L272?"},{"file":"lib/endpoints/volumes.js","line":32,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"does it make sense to use a more rich Error-child class here?"},{"file":"lib/endpoints/volumes.js","line":32,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Absolutely, very good point, will fix, thanks!"},{"file":"lib/ufds.js","line":1,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Need copyright block"},{"file":"lib/ufds.js","line":1,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"This file was left by error after a rebase on top of current master, so this should not apply anymore."},{"file":"test/lib/volumes-api.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"2017"},{"file":"test/lib/volumes-api.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"test/lib/volumes-cli.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"2017"},{"file":"test/lib/volumes-cli.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":141,"deletions":-250},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":239,"deletions":-13},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":383,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":49,"deletions":-11},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":19,"deletions":-1},{"file":"lib/ufds.js","type":"ADDED","insertions":37,"deletions":0},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":143,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5238,"sizeDeletions":-328},{"number":"6","revision":"9f09ea35de7dfa9a5a2287bf661a6af3699254bf","parents":["b66d3e12b79943816154e0a68e1ae00c94b5905b"],"ref":"refs/changes/27/2527/6","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1507255661,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1507255706,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-250},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":236,"deletions":-13},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":411,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":49,"deletions":-11},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":40,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":143,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5254,"sizeDeletions":-328},{"number":"7","revision":"57e1b0e03122a49d215c970b64a1f7311671d54e","parents":["b66d3e12b79943816154e0a68e1ae00c94b5905b"],"ref":"refs/changes/27/2527/7","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1507331800,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1507331846,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/errors.js","line":572,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Might be nice to assert `availableSizes` is of the right type."},{"file":"lib/errors.js","line":572,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good point, will fix!"},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","line":112,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"successfully"},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","line":112,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Will fix!"},{"file":"test/lib/volumes-api.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"2017"},{"file":"test/lib/volumes-api.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"test/lib/volumes-cli.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"2017"},{"file":"test/lib/volumes-cli.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-250},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":236,"deletions":-13},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":49,"deletions":-11},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":40,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":143,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5253,"sizeDeletions":-328},{"number":"8","revision":"1d7ba8f5b3e94bf9a2c7da64971555bc1e152270","parents":["b66d3e12b79943816154e0a68e1ae00c94b5905b"],"ref":"refs/changes/27/2527/8","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1507833011,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1507833052,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-250},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":236,"deletions":-13},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":49,"deletions":-11},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5256,"sizeDeletions":-328},{"number":"9","revision":"1994e70717999c08a787f40f728ce0427588e45f","parents":["24514b9970f50224fd7df8a6b055030ee67ab9be"],"ref":"refs/changes/27/2527/9","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1507833027,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1507833068,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-250},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":236,"deletions":-13},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":49,"deletions":-11},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5256,"sizeDeletions":-328},{"number":"10","revision":"5c78a57f13528280decb63b954b66fb0003c6532","parents":["118021272f5390e698aae4e5c660d3a6acef03f5"],"ref":"refs/changes/27/2527/10","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1508279090,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508279138,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-250},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":236,"deletions":-13},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5257,"sizeDeletions":-329},{"number":"11","revision":"e9f07886a5123afe31a01c7e3843ae6a2191d03e","parents":["466b0b62dea1dbd1fd92127f74602309660e1b3c"],"ref":"refs/changes/27/2527/11","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1508953653,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508953705,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5265,"sizeDeletions":-341},{"number":"12","revision":"200fd3f1f1c2a41105f7a0a22686c954483bf393","parents":["ef3d5bcbd02abb4994fbc8dc2f248e9213ae2a1e"],"ref":"refs/changes/27/2527/12","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1509386922,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508953705,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5265,"sizeDeletions":-341},{"number":"13","revision":"cb74b0081978694c1c534e684a30c452269d2c67","parents":["beaa5becb47870da558fe24f6a5ca8c12c1fb4f2"],"ref":"refs/changes/27/2527/13","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1509397750,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508953705,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5265,"sizeDeletions":-341},{"number":"14","revision":"b499070a0a0ae6aa9c00e3769b4d5dbcd405d78f","parents":["572b6191b5705f6e98e84dd7ff1fff91efca024b"],"ref":"refs/changes/27/2527/14","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1509645893,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508953705,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":352,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":389,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5265,"sizeDeletions":-341},{"number":"15","revision":"0109609bf771de55046d2019489d0bb88bda6f40","parents":["572b6191b5705f6e98e84dd7ff1fff91efca024b"],"ref":"refs/changes/27/2527/15","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1509731682,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509731715,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-image-rmi.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":313,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":282,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":400,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5239,"sizeDeletions":-342},{"number":"16","revision":"7584d7750e45059cada97efd1663a932108a97ce","parents":["572b6191b5705f6e98e84dd7ff1fff91efca024b"],"ref":"refs/changes/27/2527/16","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1509756064,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509756097,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-image-rmi.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":307,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":394,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":156,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5225,"sizeDeletions":-342},{"number":"17","revision":"dd0fc22d2e46f0f9e4a3291aed3901f8280bfbae","parents":["572b6191b5705f6e98e84dd7ff1fff91efca024b"],"ref":"refs/changes/27/2527/17","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1509756223,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509756256,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510345137,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510101869,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":37,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-image-rmi.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":307,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":394,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":156,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5225,"sizeDeletions":-342},{"number":"18","revision":"9d39e1bce65f959593ca7ee8d8eeecccc546d3e1","parents":["572b6191b5705f6e98e84dd7ff1fff91efca024b"],"ref":"refs/changes/27/2527/18","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1510345228,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509756256,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510345137,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"SUBM","value":"1","grantedOn":1510345241,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510101869,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":39,"deletions":0},{"file":"docs/api/features/volumes.md","type":"MODIFIED","insertions":36,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":148,"deletions":-273},{"file":"lib/backends/sdc/index.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/backends/sdc/networks.js","type":"MODIFIED","insertions":249,"deletions":-3},{"file":"lib/backends/sdc/volumes.js","type":"ADDED","insertions":410,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/containers.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":50,"deletions":-12},{"file":"lib/endpoints/_ping.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/auth.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/build.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/ca.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/commit.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/containers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/events.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/exec.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/images.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/info.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/endpoints/version.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/volumes.js","type":"ADDED","insertions":294,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"lib/units.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/validate.js","type":"MODIFIED","insertions":170,"deletions":-2},{"file":"lib/volumes.js","type":"ADDED","insertions":55,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"test/integration/api-mount-nfs-shared-volume-as-docker-compose.test.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/integration/api-rename-used-nfs-shared-volume.test.js","type":"ADDED","insertions":229,"deletions":0},{"file":"test/integration/cli-commit.test.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"test/integration/cli-filters.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-image-rmi.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-labels.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/integration/cli-local-volumes.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/integration/cli-mount-nfs-volume-created-with-docker-create.test.js","type":"ADDED","insertions":144,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-duplicate-name.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-failure.test.js","type":"ADDED","insertions":154,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-create-size.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-delete-in-use.test.js","type":"ADDED","insertions":141,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-disabled.test.js","type":"ADDED","insertions":231,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-docker-880.test.js","type":"ADDED","insertions":307,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-filter-dangling.test.js","type":"ADDED","insertions":204,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mount-overrides-local-volume.test.js","type":"ADDED","insertions":131,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-mounting-mode.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes-networks.test.js","type":"ADDED","insertions":394,"deletions":0},{"file":"test/integration/cli-nfs-shared-volumes.test.js","type":"ADDED","insertions":514,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":49,"deletions":-5},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"test/lib/common.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/lib/volumes-api.js","type":"ADDED","insertions":88,"deletions":0},{"file":"test/lib/volumes-cli.js","type":"ADDED","insertions":216,"deletions":0},{"file":"test/lib/volumes.js","type":"ADDED","insertions":156,"deletions":0},{"file":"test/runtest.common","type":"MODIFIED","insertions":12,"deletions":-3}],"sizeInsertions":5225,"sizeDeletions":-342}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}]}