{"project":"joyent/illumos-joyent","branch":"master","id":"I415cf8a5eb8e0e24078e9823addd997910540da3","number":"6138","subject":"OS-7710 Need support for new Cascade Lake Instructions Reviewed by: Hans Rosenfeld \u003chans.rosenfeld@joyent.com\u003e Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Approved by: Dan McDonald \u003cdanmcd@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/6138","commitMessage":"OS-7710 Need support for new Cascade Lake Instructions\nReviewed by: Hans Rosenfeld \u003chans.rosenfeld@joyent.com\u003e\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nApproved by: Dan McDonald \u003cdanmcd@joyent.com\u003e\n","createdOn":1555632193,"lastUpdated":1555715162,"open":false,"status":"MERGED","comments":[{"timestamp":1555632193,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1555670607,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1555706770,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1555707204,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: -Code-Review\n\nWithdrawing for reasons of having read this first when I should\u0027ve read this second."},{"timestamp":1555707225,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1555707309,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1555707446,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Code-Review+1\n\nSince this one is likely to go back first..."},{"timestamp":1555707590,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Integration-Approval+1\n\nTesting for this, as reported on the bug, looked straightforward. And we have more ready supplies of Intel HW."},{"timestamp":1555715138,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1555715149,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1555715162,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"3","revision":"415cf8a5eb8e0e24078e9823addd997910540da3","parents":["dc2a4177cf7c52e616cda6ed9f21279440d7122c"],"ref":"refs/changes/38/6138/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1555715149,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555670607,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555707446,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555707590,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"SUBM","value":"1","grantedOn":1555715161,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/common/dis/i386/dis_tables.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/uts/common/sys/auxv_386.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":411,"sizeDeletions":-12},"patchSets":[{"number":"1","revision":"afaf66ba49be414f99cb72fb52bed7320b776424","parents":["4e3555feec20f8dd09df4f690379fd4b71aad5e8"],"ref":"refs/changes/38/6138/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1555632193,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555670607,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555707446,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555707590,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"comments":[{"file":"usr/src/uts/intel/sys/x86_archext.h","line":602,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Collides with AMD work."},{"file":"usr/src/uts/intel/sys/x86_archext.h","line":602,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Yes, whichever gets to the gate first will end up being rebased on top of the others. There are lots of conflicting changes here."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/common/dis/i386/dis_tables.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/uts/common/sys/auxv_386.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":411,"sizeDeletions":-12},{"number":"2","revision":"16b22bb9f9cd0ccd7e0f866a3d54074c953bcc5e","parents":["4e3555feec20f8dd09df4f690379fd4b71aad5e8"],"ref":"refs/changes/38/6138/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1555715138,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555670607,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555707446,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555707590,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/common/dis/i386/dis_tables.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/uts/common/sys/auxv_386.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":411,"sizeDeletions":-12},{"number":"3","revision":"415cf8a5eb8e0e24078e9823addd997910540da3","parents":["dc2a4177cf7c52e616cda6ed9f21279440d7122c"],"ref":"refs/changes/38/6138/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1555715149,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1555715161,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555670607,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555707446,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555707590,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/common/dis/i386/dis_tables.c","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"usr/src/common/elfcap/elfcap.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/common/elfcap/elfcap.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.out","type":"ADDED","insertions":52,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.avx512_vnni.s","type":"ADDED","insertions":137,"deletions":0},{"file":"usr/src/uts/common/sys/auxv_386.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":411,"sizeDeletions":-12}],"allReviewers":[{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}