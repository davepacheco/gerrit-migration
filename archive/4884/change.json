{"project":"joyent/illumos-joyent","branch":"master","id":"I838521e5c7ba073230373cf94e13eb9a7d4f30ab","number":"4884","subject":"OS-7263 need sysevent for zone_free Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e","owner":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"url":"https://cr.joyent.us/4884","commitMessage":"OS-7263 need sysevent for zone_free\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1537978144,"lastUpdated":1538001286,"open":false,"status":"MERGED","comments":[{"timestamp":1537978144,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 1."},{"timestamp":1537978555,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1537978630,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1537995609,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\nThis looks good to me, I think Patrick\u0027s suggestion on the zone.h comment is a good one."},{"timestamp":1537997452,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 2."},{"timestamp":1537998489,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1537999796,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1537999819,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2:\n\nTest notes updated in ticket, again.  This does seem to resolve \"vmadm stop\"\n issue."},{"timestamp":1538000638,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1538000752,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1538000825,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1538001286,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"4","revision":"6d2fb4205c9e899a2e533d0c7e36303a79bfd99b","parents":["af654c21a11a97e45c73f3edf621f6192de961df"],"ref":"refs/changes/84/4884/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1538000825,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537998489,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537999796,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1538000638,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1538001286,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/genunix/zone.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":23,"deletions":-10},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":29,"sizeDeletions":-13},"patchSets":[{"number":"1","revision":"40ac57f54300cbbc8d560ff9813408833fc89979","parents":["63aa05b1d45c06a69c5f517962d4aa24f1f532c3"],"ref":"refs/changes/84/4884/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1537978144,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/os/zone.c","line":2881,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Just make a forward declaration of the function rather than moving its implementation?"},{"file":"usr/src/uts/common/sys/zone.h","line":249,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"\"transient state for zone sysevent\"?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/genunix/zone.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":64,"deletions":-52},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":70,"sizeDeletions":-55},{"number":"2","revision":"838521e5c7ba073230373cf94e13eb9a7d4f30ab","parents":["63aa05b1d45c06a69c5f517962d4aa24f1f532c3"],"ref":"refs/changes/84/4884/2","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1537997452,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537998489,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537999796,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1538000638,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/genunix/zone.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":23,"deletions":-10},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":29,"sizeDeletions":-13},{"number":"3","revision":"44d89e3ea612d737fcabc061c7eaccb1b1cc9f6c","parents":["af654c21a11a97e45c73f3edf621f6192de961df"],"ref":"refs/changes/84/4884/3","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1538000752,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537998489,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537999796,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1538000638,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/genunix/zone.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":23,"deletions":-10},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":29,"sizeDeletions":-13},{"number":"4","revision":"6d2fb4205c9e899a2e533d0c7e36303a79bfd99b","parents":["af654c21a11a97e45c73f3edf621f6192de961df"],"ref":"refs/changes/84/4884/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1538000825,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537998489,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537999796,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1538000638,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1538001286,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/genunix/zone.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":23,"deletions":-10},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":29,"sizeDeletions":-13}],"allReviewers":[{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}]}