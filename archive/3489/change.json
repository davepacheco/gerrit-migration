{"project":"joyent/illumos-joyent","branch":"master","id":"Idb8da1c3372e95fc1a7c50de538e5fc00dcf39bf","number":"3489","subject":"OS-6677 update bhyve userland to FreeBSD 11.1 Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/3489","commitMessage":"OS-6677 update bhyve userland to FreeBSD 11.1\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1519711666,"lastUpdated":1519785754,"open":false,"status":"MERGED","comments":[{"timestamp":1519711666,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1519740219,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(7 comments)\n\nI went through all of the files, but since this is mainly the sync with FreeBSD, I am pretty sure most of the files should be left as-is. I just had a few copyright questions before I would +1."},{"timestamp":1519751654,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(12 comments)"},{"timestamp":1519761322,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1519761365,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(9 comments)\n\nI\u0027m not addressing Mike\u0027s copyright concerns as those were placed there per Pluribus\u0027 request during the initial import.\n\nSimilarly the cstyle changes are something we can reconcile once this beast is landed."},{"timestamp":1519763053,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1519780636,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)"},{"timestamp":1519784046,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1519784072,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1519784953,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\nThis still builds fine with the updates."},{"timestamp":1519785452,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1519785544,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\nThanks, jerry"},{"timestamp":1519785712,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1519785754,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"5","revision":"db8da1c3372e95fc1a7c50de538e5fc00dcf39bf","parents":["6475ea889e7ae22942ce424a36963ac90b02cef1"],"ref":"refs/changes/89/3489/5","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519785712,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519763053,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519780636,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519785452,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519785754,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":20,"deletions":-6},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/contrib/freebsd/dev/io/iodev.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/contrib/freebsd/dev/mii/mii.h","type":"ADDED","insertions":239,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/controller/xhcireg.h","type":"ADDED","insertions":224,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb.h","type":"ADDED","insertions":801,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_endian.h","type":"ADDED","insertions":121,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_freebsd.h","type":"ADDED","insertions":101,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usbdi.h","type":"ADDED","insertions":657,"deletions":0},{"file":"usr/contrib/freebsd/sys/ata.h","type":"MODIFIED","insertions":386,"deletions":-6},{"file":"usr/contrib/freebsd/sys/pciio.h","type":"ADDED","insertions":146,"deletions":0},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/Makefile.com","type":"MODIFIED","insertions":27,"deletions":-8},{"file":"usr/src/cmd/bhyve/acpi.c","type":"ADDED","insertions":1012,"deletions":0},{"file":"usr/src/cmd/bhyve/acpi.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ahci.h","type":"MODIFIED","insertions":21,"deletions":-3},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":112,"deletions":-108},{"file":"usr/src/cmd/bhyve/atkbdc.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-50},{"file":"usr/src/cmd/bhyve/bhyvegc.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/cmd/bhyve/bhyvegc.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":385,"deletions":-91},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":1,"deletions":-7},{"file":"usr/src/cmd/bhyve/block_if.c","type":"MODIFIED","insertions":335,"deletions":-90},{"file":"usr/src/cmd/bhyve/block_if.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/bhyve/bootrom.c","type":"ADDED","insertions":111,"deletions":0},{"file":"usr/src/cmd/bhyve/bootrom.h","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/bhyve/console.c","type":"MODIFIED","insertions":28,"deletions":-11},{"file":"usr/src/cmd/bhyve/console.h","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":19,"deletions":-2},{"file":"usr/src/cmd/bhyve/dbgport.c","type":"ADDED","insertions":175,"deletions":0},{"file":"usr/src/cmd/bhyve/dbgport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/fwctl.c","type":"ADDED","insertions":549,"deletions":0},{"file":"usr/src/cmd/bhyve/fwctl.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/cmd/bhyve/inout.c","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/cmd/bhyve/inout.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ioapic.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ioapic.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/mevent.c","type":"ADDED","insertions":478,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent.h","type":"ADDED","insertions":51,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent_test.c","type":"ADDED","insertions":256,"deletions":0},{"file":"usr/src/cmd/bhyve/mptbl.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mptbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":751,"deletions":-291},{"file":"usr/src/cmd/bhyve/pci_e82545.c","type":"ADDED","insertions":2413,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":81,"deletions":-71},{"file":"usr/src/cmd/bhyve/pci_emul.h","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"ADDED","insertions":424,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_hostbridge.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_irq.c","type":"MODIFIED","insertions":8,"deletions":-13},{"file":"usr/src/cmd/bhyve/pci_irq.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_lpc.c","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"usr/src/cmd/bhyve/pci_lpc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_passthru.c","type":"ADDED","insertions":932,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_uart.c","type":"ADDED","insertions":119,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":131,"deletions":-93},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":477,"deletions":-192},{"file":"usr/src/cmd/bhyve/pci_virtio_rnd.c","type":"ADDED","insertions":203,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.c","type":"ADDED","insertions":2834,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.h","type":"ADDED","insertions":353,"deletions":0},{"file":"usr/src/cmd/bhyve/pm.c","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"DELETED","insertions":0,"deletions":-217},{"file":"usr/src/cmd/bhyve/post.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":124,"deletions":-66},{"file":"usr/src/cmd/bhyve/ps2mouse.c","type":"MODIFIED","insertions":61,"deletions":-16},{"file":"usr/src/cmd/bhyve/ps2mouse.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":604,"deletions":-83},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/rtc.c","type":"MODIFIED","insertions":31,"deletions":-282},{"file":"usr/src/cmd/bhyve/rtc.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/smbiostbl.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/bhyve/smbiostbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/sockstream.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/cmd/bhyve/sockstream.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/spinup_ap.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/task_switch.c","type":"ADDED","insertions":939,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":237,"deletions":-127},{"file":"usr/src/cmd/bhyve/uart_emul.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/usb_emul.c","type":"ADDED","insertions":76,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_emul.h","type":"ADDED","insertions":156,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_mouse.c","type":"ADDED","insertions":800,"deletions":0},{"file":"usr/src/cmd/bhyve/vga.c","type":"MODIFIED","insertions":76,"deletions":-18},{"file":"usr/src/cmd/bhyve/vga.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/virtio.c","type":"MODIFIED","insertions":35,"deletions":-13},{"file":"usr/src/cmd/bhyve/virtio.h","type":"MODIFIED","insertions":7,"deletions":-18},{"file":"usr/src/cmd/bhyve/xmsr.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/xmsr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile","type":"DELETED","insertions":0,"deletions":-41},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"DELETED","insertions":0,"deletions":-51},{"file":"usr/src/cmd/bhyveload-uefi/amd64/Makefile","type":"DELETED","insertions":0,"deletions":-21},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"DELETED","insertions":0,"deletions":-191},{"file":"usr/src/cmd/bhyveload-uefi/i386/Makefile","type":"DELETED","insertions":0,"deletions":-18},{"file":"usr/src/cmd/mdb/intel/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/amd64/machine/atomic.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/iodev.h","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/net/ethernet.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":42,"deletions":0},{"file":"usr/src/compat/freebsd/sys/limits.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/socket.h","type":"ADDED","insertions":23,"deletions":0},{"file":"usr/src/compat/freebsd/unistd.h","type":"ADDED","insertions":23,"deletions":0}],"sizeInsertions":18673,"sizeDeletions":-2287},"patchSets":[{"number":"1","revision":"db483e2f4cd1b8797fe2bfc79b6c36a4668d7171","parents":["7859c1369f34e4ea328514c82b3579e7f3896a57"],"ref":"refs/changes/89/3489/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519711666,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","comments":[{"file":"exception_lists/cstyle","line":1424,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"file does not exist"},{"file":"exception_lists/cstyle","line":1424,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"We can circle back on these."},{"file":"exception_lists/cstyle","line":1457,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"file does not exist"},{"file":"exception_lists/cstyle","line":1464,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"file does not exist"},{"file":"usr/src/cmd/bhyve/Makefile.com","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/cmd/bhyve/Makefile.com","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/cmd/bhyve/bhyverun.c","line":36,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Upstream file does not have the CDDL.  We can add a copyright, but I don\u0027t think we can change the license."},{"file":"usr/src/cmd/bhyve/bhyverun.c","line":36,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This is what Pluribus wanted when the initial stuff was put back."},{"file":"usr/src/cmd/bhyve/bhyverun.c","line":38,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/cmd/bhyve/bhyverun.c","line":38,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/cmd/bhyve/bhyverun.h","line":36,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"another questionable relicensing"},{"file":"usr/src/cmd/bhyve/inout.h","line":36,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"another questionable relicensing"},{"file":"usr/src/cmd/bhyve/pci_emul.c","line":1798,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Blank line is not in upstream."},{"file":"usr/src/cmd/bhyve/pci_emul.c","line":1798,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","line":36,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"another questionable relicensing"},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","line":36,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"another questionable relicensing"},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","line":900,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"If dlpi_open() failed, won\u0027t this lead to sadness too?  Similar problems seem to exist with the error paths later in this function too.\n\nAlso, most other error paths don\u0027t call dlpi_close()."},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","line":900,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Yes it will be sad.  The work done here was enough to get virtio-net off the ground, but not make it robust.  If someone wants to revisit it, they can."},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","line":900,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"I\u0027m fine not fixing it now, but we should probably open a bug on it so that we don\u0027t forget it when it comes time to tidy things up."},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","line":1032,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Do we want to change \u0027notyet\u0027 to __FreeBSD__?"},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","line":1032,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Fixed here and above."},{"file":"usr/src/cmd/bhyve/uart_emul.c","line":37,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"This license doesn\u0027t exist upstream.  We don\u0027t own this code so we can\u0027t relicense, can we?"},{"file":"usr/src/cmd/bhyve/vga.c","line":3,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/cmd/bhyve/vga.c","line":3,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/compat/freebsd/amd64/machine/atomic.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/net/ethernet.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/sys/limits.h","line":13,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"joyent copyright?"},{"file":"usr/src/compat/freebsd/sys/param.h","line":22,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"why is this XXX?"},{"file":"usr/src/compat/freebsd/sys/param.h","line":22,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"No idea"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":16,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":20,"deletions":-6},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/contrib/freebsd/dev/io/iodev.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/contrib/freebsd/dev/mii/mii.h","type":"ADDED","insertions":239,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/controller/xhcireg.h","type":"ADDED","insertions":224,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb.h","type":"ADDED","insertions":801,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_endian.h","type":"ADDED","insertions":121,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_freebsd.h","type":"ADDED","insertions":101,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usbdi.h","type":"ADDED","insertions":657,"deletions":0},{"file":"usr/contrib/freebsd/sys/ata.h","type":"MODIFIED","insertions":386,"deletions":-6},{"file":"usr/contrib/freebsd/sys/pciio.h","type":"ADDED","insertions":146,"deletions":0},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/Makefile.com","type":"MODIFIED","insertions":26,"deletions":-8},{"file":"usr/src/cmd/bhyve/acpi.c","type":"ADDED","insertions":1012,"deletions":0},{"file":"usr/src/cmd/bhyve/acpi.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ahci.h","type":"MODIFIED","insertions":21,"deletions":-3},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":112,"deletions":-108},{"file":"usr/src/cmd/bhyve/atkbdc.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-50},{"file":"usr/src/cmd/bhyve/bhyvegc.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/cmd/bhyve/bhyvegc.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":384,"deletions":-91},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":1,"deletions":-7},{"file":"usr/src/cmd/bhyve/block_if.c","type":"MODIFIED","insertions":335,"deletions":-90},{"file":"usr/src/cmd/bhyve/block_if.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/bhyve/bootrom.c","type":"ADDED","insertions":111,"deletions":0},{"file":"usr/src/cmd/bhyve/bootrom.h","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/bhyve/console.c","type":"MODIFIED","insertions":28,"deletions":-11},{"file":"usr/src/cmd/bhyve/console.h","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":19,"deletions":-2},{"file":"usr/src/cmd/bhyve/dbgport.c","type":"ADDED","insertions":175,"deletions":0},{"file":"usr/src/cmd/bhyve/dbgport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/fwctl.c","type":"ADDED","insertions":549,"deletions":0},{"file":"usr/src/cmd/bhyve/fwctl.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/cmd/bhyve/inout.c","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/cmd/bhyve/inout.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ioapic.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ioapic.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/mevent.c","type":"ADDED","insertions":478,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent.h","type":"ADDED","insertions":51,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent_test.c","type":"ADDED","insertions":256,"deletions":0},{"file":"usr/src/cmd/bhyve/mptbl.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mptbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":751,"deletions":-291},{"file":"usr/src/cmd/bhyve/pci_e82545.c","type":"ADDED","insertions":2413,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":81,"deletions":-70},{"file":"usr/src/cmd/bhyve/pci_emul.h","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"ADDED","insertions":424,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_hostbridge.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_irq.c","type":"MODIFIED","insertions":8,"deletions":-13},{"file":"usr/src/cmd/bhyve/pci_irq.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_lpc.c","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"usr/src/cmd/bhyve/pci_lpc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_passthru.c","type":"ADDED","insertions":932,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_uart.c","type":"ADDED","insertions":119,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":131,"deletions":-93},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":476,"deletions":-191},{"file":"usr/src/cmd/bhyve/pci_virtio_rnd.c","type":"ADDED","insertions":203,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.c","type":"ADDED","insertions":2834,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.h","type":"ADDED","insertions":353,"deletions":0},{"file":"usr/src/cmd/bhyve/pm.c","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"DELETED","insertions":0,"deletions":-217},{"file":"usr/src/cmd/bhyve/post.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":124,"deletions":-66},{"file":"usr/src/cmd/bhyve/ps2mouse.c","type":"MODIFIED","insertions":61,"deletions":-16},{"file":"usr/src/cmd/bhyve/ps2mouse.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":604,"deletions":-83},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/rtc.c","type":"MODIFIED","insertions":31,"deletions":-282},{"file":"usr/src/cmd/bhyve/rtc.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/smbiostbl.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/bhyve/smbiostbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/sockstream.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/cmd/bhyve/sockstream.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/spinup_ap.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/task_switch.c","type":"ADDED","insertions":939,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":237,"deletions":-127},{"file":"usr/src/cmd/bhyve/uart_emul.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/usb_emul.c","type":"ADDED","insertions":76,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_emul.h","type":"ADDED","insertions":156,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_mouse.c","type":"ADDED","insertions":800,"deletions":0},{"file":"usr/src/cmd/bhyve/vga.c","type":"MODIFIED","insertions":72,"deletions":-18},{"file":"usr/src/cmd/bhyve/vga.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/virtio.c","type":"MODIFIED","insertions":35,"deletions":-13},{"file":"usr/src/cmd/bhyve/virtio.h","type":"MODIFIED","insertions":7,"deletions":-18},{"file":"usr/src/cmd/bhyve/xmsr.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/xmsr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile","type":"DELETED","insertions":0,"deletions":-41},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"DELETED","insertions":0,"deletions":-51},{"file":"usr/src/cmd/bhyveload-uefi/amd64/Makefile","type":"DELETED","insertions":0,"deletions":-21},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"DELETED","insertions":0,"deletions":-191},{"file":"usr/src/cmd/bhyveload-uefi/i386/Makefile","type":"DELETED","insertions":0,"deletions":-18},{"file":"usr/src/cmd/mdb/intel/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/amd64/machine/atomic.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/iodev.h","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/net/ethernet.h","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":42,"deletions":0},{"file":"usr/src/compat/freebsd/sys/limits.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/socket.h","type":"ADDED","insertions":23,"deletions":0},{"file":"usr/src/compat/freebsd/unistd.h","type":"ADDED","insertions":23,"deletions":0}],"sizeInsertions":18663,"sizeDeletions":-2285},{"number":"2","revision":"683427f20f4cd6ca9a658196e28db53a0b27764d","parents":["7859c1369f34e4ea328514c82b3579e7f3896a57"],"ref":"refs/changes/89/3489/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519761322,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519763053,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519780636,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":16,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":20,"deletions":-6},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/contrib/freebsd/dev/io/iodev.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/contrib/freebsd/dev/mii/mii.h","type":"ADDED","insertions":239,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/controller/xhcireg.h","type":"ADDED","insertions":224,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb.h","type":"ADDED","insertions":801,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_endian.h","type":"ADDED","insertions":121,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_freebsd.h","type":"ADDED","insertions":101,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usbdi.h","type":"ADDED","insertions":657,"deletions":0},{"file":"usr/contrib/freebsd/sys/ata.h","type":"MODIFIED","insertions":386,"deletions":-6},{"file":"usr/contrib/freebsd/sys/pciio.h","type":"ADDED","insertions":146,"deletions":0},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/Makefile.com","type":"MODIFIED","insertions":27,"deletions":-8},{"file":"usr/src/cmd/bhyve/acpi.c","type":"ADDED","insertions":1012,"deletions":0},{"file":"usr/src/cmd/bhyve/acpi.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ahci.h","type":"MODIFIED","insertions":21,"deletions":-3},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":112,"deletions":-108},{"file":"usr/src/cmd/bhyve/atkbdc.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-50},{"file":"usr/src/cmd/bhyve/bhyvegc.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/cmd/bhyve/bhyvegc.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":385,"deletions":-91},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":1,"deletions":-7},{"file":"usr/src/cmd/bhyve/block_if.c","type":"MODIFIED","insertions":335,"deletions":-90},{"file":"usr/src/cmd/bhyve/block_if.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/bhyve/bootrom.c","type":"ADDED","insertions":111,"deletions":0},{"file":"usr/src/cmd/bhyve/bootrom.h","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/bhyve/console.c","type":"MODIFIED","insertions":28,"deletions":-11},{"file":"usr/src/cmd/bhyve/console.h","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":19,"deletions":-2},{"file":"usr/src/cmd/bhyve/dbgport.c","type":"ADDED","insertions":175,"deletions":0},{"file":"usr/src/cmd/bhyve/dbgport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/fwctl.c","type":"ADDED","insertions":549,"deletions":0},{"file":"usr/src/cmd/bhyve/fwctl.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/cmd/bhyve/inout.c","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/cmd/bhyve/inout.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ioapic.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ioapic.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/mevent.c","type":"ADDED","insertions":478,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent.h","type":"ADDED","insertions":51,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent_test.c","type":"ADDED","insertions":256,"deletions":0},{"file":"usr/src/cmd/bhyve/mptbl.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mptbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":751,"deletions":-291},{"file":"usr/src/cmd/bhyve/pci_e82545.c","type":"ADDED","insertions":2413,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":81,"deletions":-71},{"file":"usr/src/cmd/bhyve/pci_emul.h","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"ADDED","insertions":424,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_hostbridge.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_irq.c","type":"MODIFIED","insertions":8,"deletions":-13},{"file":"usr/src/cmd/bhyve/pci_irq.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_lpc.c","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"usr/src/cmd/bhyve/pci_lpc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_passthru.c","type":"ADDED","insertions":932,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_uart.c","type":"ADDED","insertions":119,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":131,"deletions":-93},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":477,"deletions":-192},{"file":"usr/src/cmd/bhyve/pci_virtio_rnd.c","type":"ADDED","insertions":203,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.c","type":"ADDED","insertions":2834,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.h","type":"ADDED","insertions":353,"deletions":0},{"file":"usr/src/cmd/bhyve/pm.c","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"DELETED","insertions":0,"deletions":-217},{"file":"usr/src/cmd/bhyve/post.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":124,"deletions":-66},{"file":"usr/src/cmd/bhyve/ps2mouse.c","type":"MODIFIED","insertions":61,"deletions":-16},{"file":"usr/src/cmd/bhyve/ps2mouse.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":604,"deletions":-83},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/rtc.c","type":"MODIFIED","insertions":31,"deletions":-282},{"file":"usr/src/cmd/bhyve/rtc.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/smbiostbl.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/bhyve/smbiostbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/sockstream.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/cmd/bhyve/sockstream.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/spinup_ap.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/task_switch.c","type":"ADDED","insertions":939,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":237,"deletions":-127},{"file":"usr/src/cmd/bhyve/uart_emul.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/usb_emul.c","type":"ADDED","insertions":76,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_emul.h","type":"ADDED","insertions":156,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_mouse.c","type":"ADDED","insertions":800,"deletions":0},{"file":"usr/src/cmd/bhyve/vga.c","type":"MODIFIED","insertions":76,"deletions":-18},{"file":"usr/src/cmd/bhyve/vga.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/virtio.c","type":"MODIFIED","insertions":35,"deletions":-13},{"file":"usr/src/cmd/bhyve/virtio.h","type":"MODIFIED","insertions":7,"deletions":-18},{"file":"usr/src/cmd/bhyve/xmsr.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/xmsr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile","type":"DELETED","insertions":0,"deletions":-41},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"DELETED","insertions":0,"deletions":-51},{"file":"usr/src/cmd/bhyveload-uefi/amd64/Makefile","type":"DELETED","insertions":0,"deletions":-21},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"DELETED","insertions":0,"deletions":-191},{"file":"usr/src/cmd/bhyveload-uefi/i386/Makefile","type":"DELETED","insertions":0,"deletions":-18},{"file":"usr/src/cmd/mdb/intel/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/amd64/machine/atomic.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/iodev.h","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/net/ethernet.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":42,"deletions":0},{"file":"usr/src/compat/freebsd/sys/limits.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/socket.h","type":"ADDED","insertions":23,"deletions":0},{"file":"usr/src/compat/freebsd/unistd.h","type":"ADDED","insertions":23,"deletions":0}],"sizeInsertions":18673,"sizeDeletions":-2287},{"number":"3","revision":"88c97b16d371f4d4ee93081304d82d7461f2a0f9","parents":["7859c1369f34e4ea328514c82b3579e7f3896a57"],"ref":"refs/changes/89/3489/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519784046,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519763053,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519780636,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":20,"deletions":-6},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/contrib/freebsd/dev/io/iodev.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/contrib/freebsd/dev/mii/mii.h","type":"ADDED","insertions":239,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/controller/xhcireg.h","type":"ADDED","insertions":224,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb.h","type":"ADDED","insertions":801,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_endian.h","type":"ADDED","insertions":121,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_freebsd.h","type":"ADDED","insertions":101,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usbdi.h","type":"ADDED","insertions":657,"deletions":0},{"file":"usr/contrib/freebsd/sys/ata.h","type":"MODIFIED","insertions":386,"deletions":-6},{"file":"usr/contrib/freebsd/sys/pciio.h","type":"ADDED","insertions":146,"deletions":0},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/Makefile.com","type":"MODIFIED","insertions":27,"deletions":-8},{"file":"usr/src/cmd/bhyve/acpi.c","type":"ADDED","insertions":1012,"deletions":0},{"file":"usr/src/cmd/bhyve/acpi.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ahci.h","type":"MODIFIED","insertions":21,"deletions":-3},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":112,"deletions":-108},{"file":"usr/src/cmd/bhyve/atkbdc.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-50},{"file":"usr/src/cmd/bhyve/bhyvegc.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/cmd/bhyve/bhyvegc.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":385,"deletions":-91},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":1,"deletions":-7},{"file":"usr/src/cmd/bhyve/block_if.c","type":"MODIFIED","insertions":335,"deletions":-90},{"file":"usr/src/cmd/bhyve/block_if.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/bhyve/bootrom.c","type":"ADDED","insertions":111,"deletions":0},{"file":"usr/src/cmd/bhyve/bootrom.h","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/bhyve/console.c","type":"MODIFIED","insertions":28,"deletions":-11},{"file":"usr/src/cmd/bhyve/console.h","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":19,"deletions":-2},{"file":"usr/src/cmd/bhyve/dbgport.c","type":"ADDED","insertions":175,"deletions":0},{"file":"usr/src/cmd/bhyve/dbgport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/fwctl.c","type":"ADDED","insertions":549,"deletions":0},{"file":"usr/src/cmd/bhyve/fwctl.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/cmd/bhyve/inout.c","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/cmd/bhyve/inout.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ioapic.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ioapic.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/mevent.c","type":"ADDED","insertions":478,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent.h","type":"ADDED","insertions":51,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent_test.c","type":"ADDED","insertions":256,"deletions":0},{"file":"usr/src/cmd/bhyve/mptbl.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mptbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":751,"deletions":-291},{"file":"usr/src/cmd/bhyve/pci_e82545.c","type":"ADDED","insertions":2413,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":81,"deletions":-71},{"file":"usr/src/cmd/bhyve/pci_emul.h","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"ADDED","insertions":424,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_hostbridge.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_irq.c","type":"MODIFIED","insertions":8,"deletions":-13},{"file":"usr/src/cmd/bhyve/pci_irq.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_lpc.c","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"usr/src/cmd/bhyve/pci_lpc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_passthru.c","type":"ADDED","insertions":932,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_uart.c","type":"ADDED","insertions":119,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":131,"deletions":-93},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":477,"deletions":-192},{"file":"usr/src/cmd/bhyve/pci_virtio_rnd.c","type":"ADDED","insertions":203,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.c","type":"ADDED","insertions":2834,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.h","type":"ADDED","insertions":353,"deletions":0},{"file":"usr/src/cmd/bhyve/pm.c","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"DELETED","insertions":0,"deletions":-217},{"file":"usr/src/cmd/bhyve/post.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":124,"deletions":-66},{"file":"usr/src/cmd/bhyve/ps2mouse.c","type":"MODIFIED","insertions":61,"deletions":-16},{"file":"usr/src/cmd/bhyve/ps2mouse.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":604,"deletions":-83},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/rtc.c","type":"MODIFIED","insertions":31,"deletions":-282},{"file":"usr/src/cmd/bhyve/rtc.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/smbiostbl.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/bhyve/smbiostbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/sockstream.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/cmd/bhyve/sockstream.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/spinup_ap.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/task_switch.c","type":"ADDED","insertions":939,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":237,"deletions":-127},{"file":"usr/src/cmd/bhyve/uart_emul.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/usb_emul.c","type":"ADDED","insertions":76,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_emul.h","type":"ADDED","insertions":156,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_mouse.c","type":"ADDED","insertions":800,"deletions":0},{"file":"usr/src/cmd/bhyve/vga.c","type":"MODIFIED","insertions":76,"deletions":-18},{"file":"usr/src/cmd/bhyve/vga.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/virtio.c","type":"MODIFIED","insertions":35,"deletions":-13},{"file":"usr/src/cmd/bhyve/virtio.h","type":"MODIFIED","insertions":7,"deletions":-18},{"file":"usr/src/cmd/bhyve/xmsr.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/xmsr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile","type":"DELETED","insertions":0,"deletions":-41},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"DELETED","insertions":0,"deletions":-51},{"file":"usr/src/cmd/bhyveload-uefi/amd64/Makefile","type":"DELETED","insertions":0,"deletions":-21},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"DELETED","insertions":0,"deletions":-191},{"file":"usr/src/cmd/bhyveload-uefi/i386/Makefile","type":"DELETED","insertions":0,"deletions":-18},{"file":"usr/src/cmd/mdb/intel/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/amd64/machine/atomic.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/iodev.h","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/net/ethernet.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":42,"deletions":0},{"file":"usr/src/compat/freebsd/sys/limits.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/socket.h","type":"ADDED","insertions":23,"deletions":0},{"file":"usr/src/compat/freebsd/unistd.h","type":"ADDED","insertions":23,"deletions":0}],"sizeInsertions":18673,"sizeDeletions":-2287},{"number":"4","revision":"dc29faea0c7d5e7c552741fe75e2e7c3ac34a78a","parents":["6475ea889e7ae22942ce424a36963ac90b02cef1"],"ref":"refs/changes/89/3489/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519784072,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519763053,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519785452,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519780636,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":20,"deletions":-6},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/contrib/freebsd/dev/io/iodev.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/contrib/freebsd/dev/mii/mii.h","type":"ADDED","insertions":239,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/controller/xhcireg.h","type":"ADDED","insertions":224,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb.h","type":"ADDED","insertions":801,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_endian.h","type":"ADDED","insertions":121,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_freebsd.h","type":"ADDED","insertions":101,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usbdi.h","type":"ADDED","insertions":657,"deletions":0},{"file":"usr/contrib/freebsd/sys/ata.h","type":"MODIFIED","insertions":386,"deletions":-6},{"file":"usr/contrib/freebsd/sys/pciio.h","type":"ADDED","insertions":146,"deletions":0},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/Makefile.com","type":"MODIFIED","insertions":27,"deletions":-8},{"file":"usr/src/cmd/bhyve/acpi.c","type":"ADDED","insertions":1012,"deletions":0},{"file":"usr/src/cmd/bhyve/acpi.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ahci.h","type":"MODIFIED","insertions":21,"deletions":-3},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":112,"deletions":-108},{"file":"usr/src/cmd/bhyve/atkbdc.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-50},{"file":"usr/src/cmd/bhyve/bhyvegc.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/cmd/bhyve/bhyvegc.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":385,"deletions":-91},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":1,"deletions":-7},{"file":"usr/src/cmd/bhyve/block_if.c","type":"MODIFIED","insertions":335,"deletions":-90},{"file":"usr/src/cmd/bhyve/block_if.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/bhyve/bootrom.c","type":"ADDED","insertions":111,"deletions":0},{"file":"usr/src/cmd/bhyve/bootrom.h","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/bhyve/console.c","type":"MODIFIED","insertions":28,"deletions":-11},{"file":"usr/src/cmd/bhyve/console.h","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":19,"deletions":-2},{"file":"usr/src/cmd/bhyve/dbgport.c","type":"ADDED","insertions":175,"deletions":0},{"file":"usr/src/cmd/bhyve/dbgport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/fwctl.c","type":"ADDED","insertions":549,"deletions":0},{"file":"usr/src/cmd/bhyve/fwctl.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/cmd/bhyve/inout.c","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/cmd/bhyve/inout.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ioapic.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ioapic.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/mevent.c","type":"ADDED","insertions":478,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent.h","type":"ADDED","insertions":51,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent_test.c","type":"ADDED","insertions":256,"deletions":0},{"file":"usr/src/cmd/bhyve/mptbl.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mptbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":751,"deletions":-291},{"file":"usr/src/cmd/bhyve/pci_e82545.c","type":"ADDED","insertions":2413,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":81,"deletions":-71},{"file":"usr/src/cmd/bhyve/pci_emul.h","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"ADDED","insertions":424,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_hostbridge.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_irq.c","type":"MODIFIED","insertions":8,"deletions":-13},{"file":"usr/src/cmd/bhyve/pci_irq.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_lpc.c","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"usr/src/cmd/bhyve/pci_lpc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_passthru.c","type":"ADDED","insertions":932,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_uart.c","type":"ADDED","insertions":119,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":131,"deletions":-93},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":477,"deletions":-192},{"file":"usr/src/cmd/bhyve/pci_virtio_rnd.c","type":"ADDED","insertions":203,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.c","type":"ADDED","insertions":2834,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.h","type":"ADDED","insertions":353,"deletions":0},{"file":"usr/src/cmd/bhyve/pm.c","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"DELETED","insertions":0,"deletions":-217},{"file":"usr/src/cmd/bhyve/post.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":124,"deletions":-66},{"file":"usr/src/cmd/bhyve/ps2mouse.c","type":"MODIFIED","insertions":61,"deletions":-16},{"file":"usr/src/cmd/bhyve/ps2mouse.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":604,"deletions":-83},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/rtc.c","type":"MODIFIED","insertions":31,"deletions":-282},{"file":"usr/src/cmd/bhyve/rtc.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/smbiostbl.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/bhyve/smbiostbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/sockstream.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/cmd/bhyve/sockstream.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/spinup_ap.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/task_switch.c","type":"ADDED","insertions":939,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":237,"deletions":-127},{"file":"usr/src/cmd/bhyve/uart_emul.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/usb_emul.c","type":"ADDED","insertions":76,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_emul.h","type":"ADDED","insertions":156,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_mouse.c","type":"ADDED","insertions":800,"deletions":0},{"file":"usr/src/cmd/bhyve/vga.c","type":"MODIFIED","insertions":76,"deletions":-18},{"file":"usr/src/cmd/bhyve/vga.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/virtio.c","type":"MODIFIED","insertions":35,"deletions":-13},{"file":"usr/src/cmd/bhyve/virtio.h","type":"MODIFIED","insertions":7,"deletions":-18},{"file":"usr/src/cmd/bhyve/xmsr.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/xmsr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile","type":"DELETED","insertions":0,"deletions":-41},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"DELETED","insertions":0,"deletions":-51},{"file":"usr/src/cmd/bhyveload-uefi/amd64/Makefile","type":"DELETED","insertions":0,"deletions":-21},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"DELETED","insertions":0,"deletions":-191},{"file":"usr/src/cmd/bhyveload-uefi/i386/Makefile","type":"DELETED","insertions":0,"deletions":-18},{"file":"usr/src/cmd/mdb/intel/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/amd64/machine/atomic.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/iodev.h","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/net/ethernet.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":42,"deletions":0},{"file":"usr/src/compat/freebsd/sys/limits.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/socket.h","type":"ADDED","insertions":23,"deletions":0},{"file":"usr/src/compat/freebsd/unistd.h","type":"ADDED","insertions":23,"deletions":0}],"sizeInsertions":18673,"sizeDeletions":-2287},{"number":"5","revision":"db8da1c3372e95fc1a7c50de538e5fc00dcf39bf","parents":["6475ea889e7ae22942ce424a36963ac90b02cef1"],"ref":"refs/changes/89/3489/5","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519785712,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519763053,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519785452,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519785754,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519780636,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":20,"deletions":-6},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/contrib/freebsd/dev/io/iodev.h","type":"ADDED","insertions":44,"deletions":0},{"file":"usr/contrib/freebsd/dev/mii/mii.h","type":"ADDED","insertions":239,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/controller/xhcireg.h","type":"ADDED","insertions":224,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb.h","type":"ADDED","insertions":801,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_endian.h","type":"ADDED","insertions":121,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usb_freebsd.h","type":"ADDED","insertions":101,"deletions":0},{"file":"usr/contrib/freebsd/dev/usb/usbdi.h","type":"ADDED","insertions":657,"deletions":0},{"file":"usr/contrib/freebsd/sys/ata.h","type":"MODIFIED","insertions":386,"deletions":-6},{"file":"usr/contrib/freebsd/sys/pciio.h","type":"ADDED","insertions":146,"deletions":0},{"file":"usr/src/cmd/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/Makefile.com","type":"MODIFIED","insertions":27,"deletions":-8},{"file":"usr/src/cmd/bhyve/acpi.c","type":"ADDED","insertions":1012,"deletions":0},{"file":"usr/src/cmd/bhyve/acpi.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ahci.h","type":"MODIFIED","insertions":21,"deletions":-3},{"file":"usr/src/cmd/bhyve/atkbdc.c","type":"MODIFIED","insertions":112,"deletions":-108},{"file":"usr/src/cmd/bhyve/atkbdc.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-50},{"file":"usr/src/cmd/bhyve/bhyvegc.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/cmd/bhyve/bhyvegc.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/bhyverun.c","type":"MODIFIED","insertions":385,"deletions":-91},{"file":"usr/src/cmd/bhyve/bhyverun.h","type":"MODIFIED","insertions":1,"deletions":-7},{"file":"usr/src/cmd/bhyve/block_if.c","type":"MODIFIED","insertions":335,"deletions":-90},{"file":"usr/src/cmd/bhyve/block_if.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/bhyve/bootrom.c","type":"ADDED","insertions":111,"deletions":0},{"file":"usr/src/cmd/bhyve/bootrom.h","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/bhyve/console.c","type":"MODIFIED","insertions":28,"deletions":-11},{"file":"usr/src/cmd/bhyve/console.h","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/cmd/bhyve/consport.c","type":"MODIFIED","insertions":19,"deletions":-2},{"file":"usr/src/cmd/bhyve/dbgport.c","type":"ADDED","insertions":175,"deletions":0},{"file":"usr/src/cmd/bhyve/dbgport.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/fwctl.c","type":"ADDED","insertions":549,"deletions":0},{"file":"usr/src/cmd/bhyve/fwctl.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/cmd/bhyve/inout.c","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/cmd/bhyve/inout.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/ioapic.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ioapic.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mem.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/mevent.c","type":"ADDED","insertions":478,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent.h","type":"ADDED","insertions":51,"deletions":0},{"file":"usr/src/cmd/bhyve/mevent_test.c","type":"ADDED","insertions":256,"deletions":0},{"file":"usr/src/cmd/bhyve/mptbl.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/mptbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_ahci.c","type":"MODIFIED","insertions":751,"deletions":-291},{"file":"usr/src/cmd/bhyve/pci_e82545.c","type":"ADDED","insertions":2413,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_emul.c","type":"MODIFIED","insertions":81,"deletions":-71},{"file":"usr/src/cmd/bhyve/pci_emul.h","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_fbuf.c","type":"ADDED","insertions":424,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_hostbridge.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_irq.c","type":"MODIFIED","insertions":8,"deletions":-13},{"file":"usr/src/cmd/bhyve/pci_irq.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_lpc.c","type":"MODIFIED","insertions":26,"deletions":-9},{"file":"usr/src/cmd/bhyve/pci_lpc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/bhyve/pci_passthru.c","type":"ADDED","insertions":932,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_uart.c","type":"ADDED","insertions":119,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_block.c","type":"MODIFIED","insertions":131,"deletions":-93},{"file":"usr/src/cmd/bhyve/pci_virtio_net.c","type":"MODIFIED","insertions":477,"deletions":-192},{"file":"usr/src/cmd/bhyve/pci_virtio_rnd.c","type":"ADDED","insertions":203,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.c","type":"ADDED","insertions":2834,"deletions":0},{"file":"usr/src/cmd/bhyve/pci_xhci.h","type":"ADDED","insertions":353,"deletions":0},{"file":"usr/src/cmd/bhyve/pm.c","type":"MODIFIED","insertions":6,"deletions":-10},{"file":"usr/src/cmd/bhyve/pmtmr.c","type":"DELETED","insertions":0,"deletions":-217},{"file":"usr/src/cmd/bhyve/post.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/ps2kbd.c","type":"MODIFIED","insertions":124,"deletions":-66},{"file":"usr/src/cmd/bhyve/ps2mouse.c","type":"MODIFIED","insertions":61,"deletions":-16},{"file":"usr/src/cmd/bhyve/ps2mouse.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":604,"deletions":-83},{"file":"usr/src/cmd/bhyve/rfb.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/rtc.c","type":"MODIFIED","insertions":31,"deletions":-282},{"file":"usr/src/cmd/bhyve/rtc.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/smbiostbl.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/cmd/bhyve/smbiostbl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/sockstream.c","type":"ADDED","insertions":86,"deletions":0},{"file":"usr/src/cmd/bhyve/sockstream.h","type":"ADDED","insertions":33,"deletions":0},{"file":"usr/src/cmd/bhyve/spinup_ap.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/spinup_ap.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/task_switch.c","type":"ADDED","insertions":939,"deletions":0},{"file":"usr/src/cmd/bhyve/uart_emul.c","type":"MODIFIED","insertions":237,"deletions":-127},{"file":"usr/src/cmd/bhyve/uart_emul.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/usb_emul.c","type":"ADDED","insertions":76,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_emul.h","type":"ADDED","insertions":156,"deletions":0},{"file":"usr/src/cmd/bhyve/usb_mouse.c","type":"ADDED","insertions":800,"deletions":0},{"file":"usr/src/cmd/bhyve/vga.c","type":"MODIFIED","insertions":76,"deletions":-18},{"file":"usr/src/cmd/bhyve/vga.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyve/virtio.c","type":"MODIFIED","insertions":35,"deletions":-13},{"file":"usr/src/cmd/bhyve/virtio.h","type":"MODIFIED","insertions":7,"deletions":-18},{"file":"usr/src/cmd/bhyve/xmsr.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/bhyve/xmsr.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveload-uefi/Makefile","type":"DELETED","insertions":0,"deletions":-41},{"file":"usr/src/cmd/bhyveload-uefi/Makefile.com","type":"DELETED","insertions":0,"deletions":-51},{"file":"usr/src/cmd/bhyveload-uefi/amd64/Makefile","type":"DELETED","insertions":0,"deletions":-21},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"DELETED","insertions":0,"deletions":-191},{"file":"usr/src/cmd/bhyveload-uefi/i386/Makefile","type":"DELETED","insertions":0,"deletions":-18},{"file":"usr/src/cmd/mdb/intel/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/compat/freebsd/amd64/machine/atomic.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/amd64/machine/iodev.h","type":"ADDED","insertions":19,"deletions":0},{"file":"usr/src/compat/freebsd/net/ethernet.h","type":"MODIFIED","insertions":14,"deletions":0},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":42,"deletions":0},{"file":"usr/src/compat/freebsd/sys/limits.h","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/compat/freebsd/sys/param.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/compat/freebsd/sys/socket.h","type":"ADDED","insertions":23,"deletions":0},{"file":"usr/src/compat/freebsd/unistd.h","type":"ADDED","insertions":23,"deletions":0}],"sizeInsertions":18673,"sizeDeletions":-2287}],"allReviewers":[{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}