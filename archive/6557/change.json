{"project":"joyent/illumos-joyent","branch":"master","id":"I889cb868c7e6156ca106a6be4f909af385e8f6ef","number":"6557","subject":"OS-7839 pkcs11_softtoken C_DecryptFinal can fail with CKM_AES_CBC_PAD Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Approved by: Dan McDonald \u003cdanmcd","owner":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"url":"https://cr.joyent.us/6557","commitMessage":"OS-7839 pkcs11_softtoken C_DecryptFinal can fail with CKM_AES_CBC_PAD\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nApproved by: Dan McDonald \u003cdanmcd@joyent.com\u003e\n","createdOn":1562302284,"lastUpdated":1563478805,"open":false,"status":"MERGED","comments":[{"timestamp":1562302284,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 1."},{"timestamp":1562355159,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(7 comments)\n\nThis is my first time ever looking at this code and lack expertise in this area.  Another reviewer is needed."},{"timestamp":1562365625,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1:\n\n(7 comments)"},{"timestamp":1562365636,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 2."},{"timestamp":1562365918,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1563209687,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1563288404,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(7 comments)"},{"timestamp":1563302242,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2:\n\n(7 comments)"},{"timestamp":1563302246,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 3."},{"timestamp":1563389329,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1563392036,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1563392065,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 4."},{"timestamp":1563392098,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1563395108,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1563458124,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1563475306,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1\n\nThank you for the testing results in the bug report."},{"timestamp":1563478761,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1563478782,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1563478805,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jason King"}],"currentPatchSet":{"number":"6","revision":"889cb868c7e6156ca106a6be4f909af385e8f6ef","parents":["4ed8b08f5bd754c6e1389e918a3275f2a85ca4b0"],"ref":"refs/changes/57/6557/6","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1563478782,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563395108,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563458124,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"SUBM","value":"1","grantedOn":1563478805,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/common/crypto/modes/modes.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","type":"MODIFIED","insertions":435,"deletions":-188},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile.subdirs","type":"MODIFIED","insertions":12,"deletions":-25},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/Makefile","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.c","type":"ADDED","insertions":77,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.h","type":"ADDED","insertions":260,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ccm/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cmac/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ctr/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ecb/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/gcm/Makefile","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":828,"sizeDeletions":-215},"patchSets":[{"number":"1","revision":"1daeab1067b67c0bc7af4dcb44b84204f43bc24c","parents":["7b68e6271c0d65aaf13b11f96df43d8572db22fb"],"ref":"refs/changes/57/6557/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1562302284,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":352,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Is this change needed?  Surely the compiler will optimize away the subtraction, meaning that we trade a really cheap instruction (\u0026) for a really expensive one (%)."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":352,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"The change was just for clarity-since AES_BLOCK_LEN is 16 (i.e. power of two) the compiler will generate the same code:\n\n    soft_aes_encrypt+0x9b:  49 89 d1           movq   %rdx,%r9\n    soft_aes_encrypt+0x9e:  41 83 e1 0f        andl   $0xf,%r9d"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":470,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"case CKM_AES_CTR, then add a default that returns an error?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":470,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":501,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"static"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":501,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":529,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"enough output buffer space?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":529,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":581,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Should we verify that the remainder of the characters in block also equal pad_len?  pkcs7_decode() does."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":581,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":877,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":877,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1069,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"s"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1069,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/common/crypto/modes/modes.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","type":"MODIFIED","insertions":390,"deletions":-185},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile.subdirs","type":"MODIFIED","insertions":12,"deletions":-25},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/Makefile","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.c","type":"ADDED","insertions":77,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.h","type":"ADDED","insertions":260,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ccm/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cmac/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ctr/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ecb/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/gcm/Makefile","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":783,"sizeDeletions":-212},{"number":"2","revision":"6800a72d6184ba89c78e1afa7cf19f22ee4103cc","parents":["7b68e6271c0d65aaf13b11f96df43d8572db22fb"],"ref":"refs/changes/57/6557/2","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1562365636,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563209687,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"comments":[{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":459,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Is there a reason to drop this comment?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":459,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"I\u0027ll re-add similar text to the larger block comment at the start of the case block about soft_add_pkcs7_padding but leave out the CBC_PAD bit --  it turns out creating a CBC_PAD mode doesn\u0027t buy you much because of the required PKCS#11 behaviors.  That was the first attempt to fix this :)"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":552,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Is there any precedent for clamping a value like this?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":552,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"It\u0027s a consequence of the mechanism.  When decrypting, you\u0027ll first have as much output plaintext as input cipher text (it\u0027s a normal AES CBC decryption), then 1..AES_BLOCK_LEN bytes of padding are trimmed from the result, so a buffer sized to the input ciphertext will always be large enough to hold the output as well as the initial plaintext that still has the padding at the end."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":598,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"outbuf is already a uint8_t, why the \u0027\u0026\u0026 0xff\u0027?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":598,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Overly paranoid about integer promotions, though with both arguments being uint8_t, it shouldn\u0027t be needed.  I\u0027ll remove."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":622,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Should this be tied to \u0027speculate \u003d\u003d B_TRUE\u0027 with a VERIFY or something?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":622,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Yeah, not a bad idea."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":657,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why not change this to modulus, like above?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":657,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":869,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Can this be removed now?  (with the assigment/goto at L854-855 replaced with a return?)"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":869,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Yes."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1133,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"While addressing the other stuff I noticed this -- either this or the previous code is acceptable per PKCS#11, but this is more consistent with the other encrypt/decrypt code."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1164,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Is it not important to perform this bzero in the two \u0027goto done\u0027 bail-out cases above?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1164,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Yeah.  Fixed."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/common/crypto/modes/modes.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","type":"MODIFIED","insertions":427,"deletions":-185},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile.subdirs","type":"MODIFIED","insertions":12,"deletions":-25},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/Makefile","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.c","type":"ADDED","insertions":77,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.h","type":"ADDED","insertions":260,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ccm/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cmac/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ctr/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ecb/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/gcm/Makefile","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":820,"sizeDeletions":-212},{"number":"3","revision":"8169beb9fb07d6ad898e85eff2d5674034bdd003","parents":["7b68e6271c0d65aaf13b11f96df43d8572db22fb"],"ref":"refs/changes/57/6557/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1563302246,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":860,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why not just \u0027return (CKR_FUNCTION_FAILED);\u0027?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1165,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Could do this unconditionally in the line above, eliminating the call down on L1170 if you felt like it."},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1165,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"We would still want to zero the block after we\u0027ve saved off any partial plaintext that might be present (L1169), or did you mean something different?"},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","line":1165,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Sorry, I had the order mixed up in my head. Disregard."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/common/crypto/modes/modes.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","type":"MODIFIED","insertions":435,"deletions":-187},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile.subdirs","type":"MODIFIED","insertions":12,"deletions":-25},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/Makefile","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.c","type":"ADDED","insertions":77,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.h","type":"ADDED","insertions":260,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ccm/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cmac/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ctr/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ecb/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/gcm/Makefile","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":828,"sizeDeletions":-214},{"number":"4","revision":"500f1fad15b9b0c101aa321744d375aef994faeb","parents":["7b68e6271c0d65aaf13b11f96df43d8572db22fb"],"ref":"refs/changes/57/6557/4","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1563392065,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563395108,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563458124,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/common/crypto/modes/modes.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","type":"MODIFIED","insertions":435,"deletions":-188},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile.subdirs","type":"MODIFIED","insertions":12,"deletions":-25},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/Makefile","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.c","type":"ADDED","insertions":77,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.h","type":"ADDED","insertions":260,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ccm/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cmac/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ctr/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ecb/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/gcm/Makefile","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":828,"sizeDeletions":-215},{"number":"5","revision":"693fca27e7957536079603e7ea70f921eb470218","parents":["7b68e6271c0d65aaf13b11f96df43d8572db22fb"],"ref":"refs/changes/57/6557/5","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1563478761,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563395108,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563458124,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/common/crypto/modes/modes.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","type":"MODIFIED","insertions":435,"deletions":-188},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile.subdirs","type":"MODIFIED","insertions":12,"deletions":-25},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/Makefile","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.c","type":"ADDED","insertions":77,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.h","type":"ADDED","insertions":260,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ccm/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cmac/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ctr/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ecb/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/gcm/Makefile","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":828,"sizeDeletions":-215},{"number":"6","revision":"889cb868c7e6156ca106a6be4f909af385e8f6ef","parents":["4ed8b08f5bd754c6e1389e918a3275f2a85ca4b0"],"ref":"refs/changes/57/6557/6","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1563478782,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563395108,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1563478805,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1563475306,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1563458124,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/common/crypto/modes/modes.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/pkcs11/pkcs11_softtoken/common/softAESCrypt.c","type":"MODIFIED","insertions":435,"deletions":-188},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/crypto-tests/tests/modes/aes/Makefile.subdirs","type":"MODIFIED","insertions":12,"deletions":-25},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/Makefile","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.c","type":"ADDED","insertions":77,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cbc_pad/aes_cbc_pad.h","type":"ADDED","insertions":260,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ccm/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/cmac/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ctr/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/ecb/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/modes/aes/gcm/Makefile","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":828,"sizeDeletions":-215}],"allReviewers":[{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}]}