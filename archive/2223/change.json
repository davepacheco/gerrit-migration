{"project":"joyent/manta-muskie","branch":"master","id":"I697fa22fbae8bdf61025e16584f3668254cc06d9","number":"2223","subject":"MANTA-3350 Add query parameter to muskie that allows operators to delete upload directories and parts Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"url":"https://cr.joyent.us/2223","commitMessage":"MANTA-3350 Add query parameter to muskie that allows operators to delete upload directories and parts\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1500077542,"lastUpdated":1509128705,"open":false,"status":"MERGED","comments":[{"timestamp":1500077542,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 1."},{"timestamp":1500077570,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500327247,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 2."},{"timestamp":1500327285,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500398225,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 2:\n\nTesting notes are in the ticket."},{"timestamp":1500488916,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(8 comments)"},{"timestamp":1500498311,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1508637051,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 3."},{"timestamp":1508637089,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508637191,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 3:\n\n(10 comments)\n\nPatchset 3 addresses feedback from earlier reviews.\n\nI repeated the testing as documented in the ticket. As Trent pointed out, the tests were always using the default values, even if the environment vars specifying an alternate operator account were present. So I also verified that the correct operator was used for each run of the tests by looking at the muskie logs for the test requests."},{"timestamp":1508638035,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 4."},{"timestamp":1508638065,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508638065,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 3:\n\nPatchset 4 is a non-trivial rebase that fixed merge conflicts in README.md and package.json."},{"timestamp":1508773438,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1508883597,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1508884931,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1\n\n(3 comments)\n\nLGTM (modulo a possible missing change to del.test.js?)."},{"timestamp":1508971069,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 6."},{"timestamp":1508971096,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508972085,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6:\n\n(5 comments)\n\nPatchset 6 addresses the most recent feedback.\n\nI have repeated my testing as described in the ticket (and patchset 3 testing)."},{"timestamp":1508973335,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1509040215,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6:\n\nTrent, when you have a moment (and assuming you\u0027re happy with the changes and testing), would you mind re-adding your +1s? Thanks!"},{"timestamp":1509083782,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1509116785,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 7: Published edit on patch set 6."},{"timestamp":1509116810,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1509118349,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1509118356,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1509125153,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1509128396,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1509128676,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1509128705,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jordan Hendricks"}],"currentPatchSet":{"number":"8","revision":"697fa22fbae8bdf61025e16584f3668254cc06d9","parents":["a612da71491efd1e926b986741f30f2f2055b685"],"ref":"refs/changes/23/2223/8","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1509128676,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509118349,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509125153,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509128396,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1509128396,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1509128705,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":31,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":377,"deletions":0},{"file":"test/mpu/helper.js","type":"MODIFIED","insertions":71,"deletions":-48}],"sizeInsertions":565,"sizeDeletions":-84},"patchSets":[{"number":"1","revision":"1f18e8afe70bfb109a7e7c0c00123b4566c82663","parents":["5612dacc607713e3f55a7aa431e832b315193a79"],"ref":"refs/changes/23/2223/1","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1500077542,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500077570,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":29,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":214,"deletions":0}],"sizeInsertions":314,"sizeDeletions":-29},{"number":"2","revision":"93ab5fbd35c0bf4837b84f4a1cfd73bad247a6c6","parents":["5612dacc607713e3f55a7aa431e832b315193a79"],"ref":"refs/changes/23/2223/2","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1500327247,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500327285,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Can you put this on one line, maybe by truncating with \"...\", letting it exceed 80 columns, or shortening the synopsis?"},{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"README.md","line":46,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think it might be easier to just require these variables be set and then add them to the table below."},{"file":"README.md","line":46,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I was trying not to force setting additional env variables on people running the tests. That said, I can still add them to the table."},{"file":"lib/server.js","line":627,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Might be nice (for logging) to have a route \"name\" for this."},{"file":"lib/server.js","line":627,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"lib/server.js","line":645,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Might be nice (for logging) to have a route \"name\" for this."},{"file":"lib/server.js","line":645,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"lib/uploads/del.js","line":36,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Can we call this parameter something more explicit and related to this functionality, like \"allowMpuDeletes\"?  I think what the client is communicating is that it knows this is an MPU delete, and that\u0027s not usually allowed, but in this case it should be."},{"file":"lib/uploads/del.js","line":36,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"lib/uploads/del.js","line":39,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"What\u0027s the response body for this? Is it a JSON body similar to other Muskie error responses?"},{"file":"lib/uploads/del.js","line":39,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I believe so. Inspecting the error returned to `mrm` using the node step debugger, I see:\n\n body: \n   { code: \u0027MethodNotAllowedError\u0027,\n     message: \u0027\u0027 }\n\nI think maybe what you\u0027re getting at is that I should make this a proper MuskieError with a message. Is that right? (It seems reasonable to.)"},{"file":"test/mpu/del.test.js","line":37,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"That\u0027s backwards. The envvar will never get used."},{"file":"test/mpu/del.test.js","line":37,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: I\u0027d have used \"MUSKIETEST_\" or similar as the envvar prefix to indicate this is config for these tests."},{"file":"test/mpu/del.test.js","line":37,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Yikes, thanks for pointing that out!"},{"file":"test/mpu/del.test.js","line":37,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"test/mpu/del.test.js","line":37,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Still looks backwards."},{"file":"test/mpu/del.test.js","line":37,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"test/mpu/del.test.js","line":39,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"backwards as well"},{"file":"test/mpu/del.test.js","line":39,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"test/mpu/del.test.js","line":39,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Still looks backwards."},{"file":"test/mpu/del.test.js","line":39,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"test/mpu/del.test.js","line":59,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: (This could totally be done in a separate change if someone is so inclined.)  I\u0027d have though that `manta.createClient` would support finding a key file in ~/.ssh on its own, given a keyId. IOW, that would have allowed the configuration to be: \"provide MUSKIETEST_OPERATOR_USER\" and \"MUSKIETEST_OPERATOR_KEY_ID\" (more like regular node-manta config envvars). However, I have no real reason to do this other than \"more like regular node-manta config\"."},{"file":"test/mpu/del.test.js","line":59,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It would definitely be nice if you could, e.g., use a key that was stored inside an agent.  It\u0027s been pretty annoying to deal with consumers that don\u0027t support an agent or even a key with a non-standard path.  (That said, I think the muskie test suite is already one of those consumers, and at least this change allows you to specify an alternate path.)\n\nI don\u0027t really understand how these interfaces work or what the options are.  Maybe Alex has an idea for streamlining this?"},{"file":"test/mpu/del.test.js","line":87,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhaps would have been cleaner to have a operatorClient in mpu/helper.js instead of replacing `self.client` for some tests? I assume that would have been a much more invasive change to the test suite."},{"file":"test/mpu/del.test.js","line":87,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Seems like a good idea. Done."},{"file":"test/mpu/del.test.js","line":87,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\"Done\", but I don\u0027t see the change here. Didn\u0027t get pushed?"},{"file":"test/mpu/del.test.js","line":87,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Sorry, it looks like a few things were on a different branch in my local development setup. I believe patchset 6 is all up-to-date."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"lib/server.js","type":"MODIFIED","insertions":29,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":285,"deletions":0}],"sizeInsertions":395,"sizeDeletions":-33},{"number":"3","revision":"48a021f5107604841b789c89d56b288af1974745","parents":["5612dacc607713e3f55a7aa431e832b315193a79"],"ref":"refs/changes/23/2223/3","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1508637051,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508637089,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"README.md","line":83,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"These don\u0027t match the names in step 3 above.\n\nIf these are indeed optional, we probably want to mark that (since the note above this says they should all be set properly).  Is the note about MANTA_KEY_ID referring to a key in $HOME/.ssh/id_rsa still accurate?"},{"file":"README.md","line":83,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Fixed. The usage MANTA_KEY_ID is not affected by this change."},{"file":"test/mpu/helper.js","line":213,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Presumably this shared a lot with a createClient in test/helper.js?  Is it worth commonizing any of it (e.g., default values for connect timeout, agent, url, etc.)"},{"file":"test/mpu/helper.js","line":213,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I\u0027m inclined not to in this case, at least for this change. In an ideal world, I don\u0027t think we would require the user to navigate setting up all of these test accounts, as it is something the test could try to do itself. Since commonizing the client creation would only commonize a few options that I don\u0027t think we want to change very often anyway, I would prefer to punt that for now."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":11,"deletions":-4},{"file":"lib/server.js","type":"MODIFIED","insertions":31,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":377,"deletions":0},{"file":"test/mpu/helper.js","type":"MODIFIED","insertions":71,"deletions":-48}],"sizeInsertions":562,"sizeDeletions":-81},{"number":"4","revision":"f13c37a209b6d2780c2603bf35b4aa3af2c4c524","parents":["a612da71491efd1e926b986741f30f2f2055b685"],"ref":"refs/changes/23/2223/4","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1508638035,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508638065,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":29,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":285,"deletions":0}],"sizeInsertions":398,"sizeDeletions":-36},{"number":"5","revision":"4485ef564c2f70b629b1f930e8e113f7f9fe32a8","parents":["a612da71491efd1e926b986741f30f2f2055b685"],"ref":"refs/changes/23/2223/5","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1508773438,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508638065,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508884931,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508884931,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":29,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":285,"deletions":0}],"sizeInsertions":398,"sizeDeletions":-36},{"number":"6","revision":"fc39ddd4142c1c62a8791ac36e79ac1dd0ac2e22","parents":["a612da71491efd1e926b986741f30f2f2055b685"],"ref":"refs/changes/23/2223/6","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1508971069,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508973335,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508971096,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/mpu/helper.js","line":52,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"The README.md calls this `MUSKIETEST_OPERATOR_KEY`"},{"file":"test/mpu/helper.js","line":52,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":31,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":377,"deletions":0},{"file":"test/mpu/helper.js","type":"MODIFIED","insertions":71,"deletions":-48}],"sizeInsertions":565,"sizeDeletions":-84},{"number":"7","revision":"6525290f97c88116978b524f856652e7f480b231","parents":["a612da71491efd1e926b986741f30f2f2055b685"],"ref":"refs/changes/23/2223/7","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1509116785,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509125153,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509118349,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509128396,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1509128396,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":31,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":377,"deletions":0},{"file":"test/mpu/helper.js","type":"MODIFIED","insertions":71,"deletions":-48}],"sizeInsertions":565,"sizeDeletions":-84},{"number":"8","revision":"697fa22fbae8bdf61025e16584f3668254cc06d9","parents":["a612da71491efd1e926b986741f30f2f2055b685"],"ref":"refs/changes/23/2223/8","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1509128676,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509125153,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1509118349,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509128396,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1509128396,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1509128705,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":31,"deletions":-26},{"file":"lib/uploads/del.js","type":"ADDED","insertions":67,"deletions":0},{"file":"lib/uploads/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/mpu/del.test.js","type":"ADDED","insertions":377,"deletions":0},{"file":"test/mpu/helper.js","type":"MODIFIED","insertions":71,"deletions":-48}],"sizeInsertions":565,"sizeDeletions":-84}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}]}