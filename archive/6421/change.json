{"project":"joyent/boray","branch":"master","id":"Iffa1699da13978cf74e6f4ebd06bed7c7859c359","number":"6421","subject":"MANTA-4330 Boray Reports Error When Trying to Create a Bucket that Exists Already, Causing Connection Close","owner":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"url":"https://cr.joyent.us/6421","commitMessage":"MANTA-4330 Boray Reports Error When Trying to Create a Bucket that Exists Already, Causing Connection Close\n","createdOn":1560275810,"lastUpdated":1560454906,"open":false,"status":"MERGED","comments":[{"timestamp":1560275810,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 1."},{"timestamp":1560275812,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit a2c60f06b73e1a0dcfdc71bb02c4432a763a0cc0\n    \n    MANTA-4330 Boray Reports Error When Trying to Create a Bucket that Exists Already, Causing Connection Close"},{"timestamp":1560275814,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/boray.xml\n cargo check\n gmake: cargo: Command not found\n gmake: *** [deps/eng/tools/mk/Makefile.targ:269: check-rust] Error 127"},{"timestamp":1560276004,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 2."},{"timestamp":1560276006,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit dec80432b9898e3eae2a0a8b680d774187ae0771\n    \n    MANTA-4330 Boray Reports Error When Trying to Create a Bucket that Exists Already, Causing Connection Close"},{"timestamp":1560276008,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/boray.xml\n cargo check\n gmake: cargo: Command not found\n gmake: *** [deps/eng/tools/mk/Makefile.targ:269: check-rust] Error 127"},{"timestamp":1560283492,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 3."},{"timestamp":1560283494,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 54ceb03d955c4b0ac05773246c9c47e192a3fb26\n    \n    MANTA-4330 Boray Reports Error When Trying to Create a Bucket that Exists Already, Causing Connection Close"},{"timestamp":1560283497,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/boray.xml\n cargo check\n gmake: cargo: Command not found\n gmake: *** [deps/eng/tools/mk/Makefile.targ:269: check-rust] Error 127"},{"timestamp":1560453991,"reviewer":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"message":"Patch Set 3: Code-Review+1\n\nThis looks good to me! The tests pass on my machine:\n\n...\nJun 13 14:45:50.892 INFO Found idle connection for backend Oe8lwGq+/Ap4ymk+CmdXxJpo5tk\u003d, build-id: 0.1.0\ntest verify_rpc_handlers ... ok\n\ntest result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out"},{"timestamp":1560454873,"reviewer":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1560454906,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kelly McLaughlin"}],"currentPatchSet":{"number":"3","revision":"ffa1699da13978cf74e6f4ebd06bed7c7859c359","parents":["0e4764d2fc1a26e515de37200a8876d45d766bda"],"ref":"refs/changes/21/6421/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1560283492,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1560283497,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560453991,"by":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560454873,"by":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}},{"type":"SUBM","value":"1","grantedOn":1560454906,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/bucket.rs","type":"MODIFIED","insertions":12,"deletions":-39},{"file":"src/error.rs","type":"ADDED","insertions":53,"deletions":0},{"file":"src/lib.rs","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/object.rs","type":"MODIFIED","insertions":8,"deletions":-20},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":26,"deletions":-22}],"sizeInsertions":100,"sizeDeletions":-81},"patchSets":[{"number":"1","revision":"7b827ccd7e492f6b13e8275ca5fcc89ff625f4c4","parents":["0e4764d2fc1a26e515de37200a8876d45d766bda"],"ref":"refs/changes/21/6421/1","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1560275810,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1560275814,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/bucket.rs","type":"MODIFIED","insertions":35,"deletions":-34},{"file":"src/lib.rs","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/object.rs","type":"MODIFIED","insertions":6,"deletions":-20},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":19,"deletions":-15}],"sizeInsertions":61,"sizeDeletions":-69},{"number":"2","revision":"1ed5d194cb7dd26a254f84a931b8e4362041b5b6","parents":["0e4764d2fc1a26e515de37200a8876d45d766bda"],"ref":"refs/changes/21/6421/2","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1560276004,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1560276008,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/bucket.rs","type":"MODIFIED","insertions":35,"deletions":-34},{"file":"src/error.rs","type":"ADDED","insertions":53,"deletions":0},{"file":"src/lib.rs","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/object.rs","type":"MODIFIED","insertions":6,"deletions":-20},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":19,"deletions":-15}],"sizeInsertions":114,"sizeDeletions":-69},{"number":"3","revision":"ffa1699da13978cf74e6f4ebd06bed7c7859c359","parents":["0e4764d2fc1a26e515de37200a8876d45d766bda"],"ref":"refs/changes/21/6421/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1560283492,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1560283497,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1560454906,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560453991,"by":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560454873,"by":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/bucket.rs","type":"MODIFIED","insertions":12,"deletions":-39},{"file":"src/error.rs","type":"ADDED","insertions":53,"deletions":0},{"file":"src/lib.rs","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/object.rs","type":"MODIFIED","insertions":8,"deletions":-20},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":26,"deletions":-22}],"sizeInsertions":100,"sizeDeletions":-81}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}]}