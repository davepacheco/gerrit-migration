{"project":"joyent/sdc-papi","branch":"master","id":"I1aed1e2d5a641603c6a37bb96873418f339bf60e","number":"2032","subject":"PAPI-141 Upgrade to Moray client v3 Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/2032","commitMessage":"PAPI-141 Upgrade to Moray client v3\nReviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1496422855,"lastUpdated":1496837834,"open":false,"status":"MERGED","comments":[{"timestamp":1496422855,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1496422861,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit ee60f65778bf52c44635875900177f2075ae7c9f\n    \n    PAPI-141 Upgrade to Moray client v3"},{"timestamp":1496422881,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496422971,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nWondering if we should bump API version since the move to new node moray means returning new types of error messages into the places we\u0027re not catching them and sending our own."},{"timestamp":1496763227,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nMarsell, mind to take a quick look at this one?. All tests passing so far."},{"timestamp":1496828548,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\n(2 comments)"},{"timestamp":1496835098,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2."},{"timestamp":1496835104,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 210a0c8d726cebd83e99a73f209633eee4a8e448\n    \n    PAPI-141 Upgrade to Moray client v3"},{"timestamp":1496835129,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496835142,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\n(2 comments)\n\nDone with suggested changes Marsell. Mind to +1\u0027it again, please?"},{"timestamp":1496837104,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1496837834,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"2","revision":"1aed1e2d5a641603c6a37bb96873418f339bf60e","parents":["30bcc2ce58ba5b2b27ca16fa33dc56704f865803"],"ref":"refs/changes/32/2032/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1496835098,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496835129,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496837104,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496837104,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1496837834,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"etc/config.test.json","type":"MODIFIED","insertions":0,"deletions":-6},{"file":"lib/backend.js","type":"MODIFIED","insertions":9,"deletions":-19},{"file":"lib/papi.js","type":"MODIFIED","insertions":20,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"sapi_manifests/papi/template","type":"MODIFIED","insertions":3,"deletions":-6},{"file":"server.js","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"test/api.test.js","type":"MODIFIED","insertions":8,"deletions":-39}],"sizeInsertions":44,"sizeDeletions":-89},"patchSets":[{"number":"1","revision":"f4e5e6facaf92ace6241a9aa19767668952a7793","parents":["30bcc2ce58ba5b2b27ca16fa33dc56704f865803"],"ref":"refs/changes/32/2032/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1496422855,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496422881,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496828548,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496828548,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"lib/backend.js","line":213,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Based on the VError docs, this fragment might not be needed?"},{"file":"lib/backend.js","line":213,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Indeed, neither the \"return\" at each side of an if/else. Removed both"},{"file":"lib/papi.js","line":305,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Ditto."},{"file":"lib/papi.js","line":305,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"etc/config.test.json","type":"MODIFIED","insertions":0,"deletions":-6},{"file":"lib/backend.js","type":"MODIFIED","insertions":8,"deletions":-17},{"file":"lib/papi.js","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"sapi_manifests/papi/template","type":"MODIFIED","insertions":3,"deletions":-6},{"file":"server.js","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"test/api.test.js","type":"MODIFIED","insertions":8,"deletions":-39}],"sizeInsertions":37,"sizeDeletions":-83},{"number":"2","revision":"1aed1e2d5a641603c6a37bb96873418f339bf60e","parents":["30bcc2ce58ba5b2b27ca16fa33dc56704f865803"],"ref":"refs/changes/32/2032/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1496835098,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496835129,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1496837834,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496837104,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496837104,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"etc/config.test.json","type":"MODIFIED","insertions":0,"deletions":-6},{"file":"lib/backend.js","type":"MODIFIED","insertions":9,"deletions":-19},{"file":"lib/papi.js","type":"MODIFIED","insertions":20,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"sapi_manifests/papi/template","type":"MODIFIED","insertions":3,"deletions":-6},{"file":"server.js","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"test/api.test.js","type":"MODIFIED","insertions":8,"deletions":-39}],"sizeInsertions":44,"sizeDeletions":-89}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}