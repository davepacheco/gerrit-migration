From a6ab1f1af8ba49eb288114ea0c741d495f758c0f Mon Sep 17 00:00:00 2001
From: dboldyrev <Arc3111@gmail.com>
Date: Tue, 20 Sep 2016 11:45:30 +0300
Subject: [PATCH] ADMINUI-2334 UI doesn't show errors returned from tags API
 calls

---
 www/js/components/pages/vm/index.jsx | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

diff --git a/www/js/components/pages/vm/index.jsx b/www/js/components/pages/vm/index.jsx
index 4da6618d..bc8d0b72 100644
--- a/www/js/components/pages/vm/index.jsx
+++ b/www/js/components/pages/vm/index.jsx
@@ -569,7 +569,20 @@ var VMPage = React.createClass({
                 });
             }
         }
-        vm.updateTags(data, function (job, err) {
+        vm.updateTags(data, function (job, error) {
+            if (error) {
+                var message = error.message || error;
+                if (error.errors) {
+                    var tagsError = error.errors.find(function (errorObject) {
+                        return errorObject.field === 'tags';
+                    });
+                    message = tagsError && tagsError.message || message;
+                }
+                adminui.vent.trigger('notification', {
+                    level: 'error',
+                    message: message
+                });
+            }
             if (job) {
                 self.setState({currentJob: job});
                 job.on('finished', function () {
-- 
2.21.0

