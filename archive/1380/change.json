{"project":"joyent/manta-scripts","branch":"master","id":"Id5eefb85b4ed19bba8dc8ccb227e62457712d8c0","number":"1380","subject":"MANTA-3134 manta zone setup scripts: manta_enable_config_agent needs to ensure config-agent restarts on a re-run","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/1380","commitMessage":"MANTA-3134 manta zone setup scripts: manta_enable_config_agent needs to ensure config-agent restarts on a re-run\n","createdOn":1485903511,"lastUpdated":1486774167,"open":true,"status":"NEW","comments":[{"timestamp":1485903511,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1485903512,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 9b5d717d4d9741e7409a604deba7fe0c53c8ba64\n    \n    ensure config-agent restarts during manta zone setup"},{"timestamp":1485903641,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1485905778,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nTesting notes so far: This worked to enable reviving a storage zone that was stuck in this state in the nightly-2 manta standup today. I\u0027ve not yet tested this change for standing up new Manta zone instances."},{"timestamp":1486774167,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(1 comment)"}],"currentPatchSet":{"number":"2","revision":"d5eefb85b4ed19bba8dc8ccb227e62457712d8c0","parents":["99c31b5ecc12968f36f72790050e230e0619f2f8"],"ref":"refs/changes/80/1380/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1485903641,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","comments":[{"file":"services.sh","line":128,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Is the reason we don\u0027t use \"restart\" here because we want to wait for it?  In that case, we might want to use \"-t\" (temporary) in case something goes wrong in the meantime (which admittedly isn\u0027t likely)."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"services.sh","type":"MODIFIED","insertions":12,"deletions":-2}],"sizeInsertions":12,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"ecf10ced232559d2acf8c2c1aec6bb28582b752b","parents":["99c31b5ecc12968f36f72790050e230e0619f2f8"],"ref":"refs/changes/80/1380/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1485903511,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"services.sh","type":"MODIFIED","insertions":12,"deletions":-2}],"sizeInsertions":12,"sizeDeletions":-2},{"number":"2","revision":"d5eefb85b4ed19bba8dc8ccb227e62457712d8c0","parents":["99c31b5ecc12968f36f72790050e230e0619f2f8"],"ref":"refs/changes/80/1380/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1485903641,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","comments":[{"file":"services.sh","line":128,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Is the reason we don\u0027t use \"restart\" here because we want to wait for it?  In that case, we might want to use \"-t\" (temporary) in case something goes wrong in the meantime (which admittedly isn\u0027t likely)."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"services.sh","type":"MODIFIED","insertions":12,"deletions":-2}],"sizeInsertions":12,"sizeDeletions":-2}],"allReviewers":[{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}]}