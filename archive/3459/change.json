{"project":"joyent/node-triton","branch":"master","id":"Ie6f5bda358003d362c45714e2d295abd65a93eda","number":"3459","subject":"TRITON-19 Triton equivalent to AWS\u0027 termination protection Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"url":"https://cr.joyent.us/3459","commitMessage":"TRITON-19 Triton equivalent to AWS\u0027 termination protection\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1519391854,"lastUpdated":1520992317,"open":false,"status":"MERGED","comments":[{"timestamp":1519391854,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 1."},{"timestamp":1519686071,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(8 comments)"},{"timestamp":1519720140,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 2."},{"timestamp":1519720623,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1519751290,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1519759354,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nmarsell,\nCan you fix the make check failure first?"},{"timestamp":1519787268,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 3."},{"timestamp":1519787297,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520276528,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 3:\n\nping? :)"},{"timestamp":1520506518,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1520506549,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1520538401,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\n(4 comments)\n\nJust a few nits. Othewrwise looks good. Sorry for the delay in reviewing."},{"timestamp":1520602987,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 5."},{"timestamp":1520603018,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520897270,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1520897308,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5: -Integration-Approval\n\nMarsell,\n\nOh, can you add a CHANGES.md entry for this please?"},{"timestamp":1520902837,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 6."},{"timestamp":1520902869,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520959828,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1520975034,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1520975853,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 7."},{"timestamp":1520975886,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520977997,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1520978557,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1520981477,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1520983322,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 8."},{"timestamp":1520983352,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520987558,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1"},{"timestamp":1520992309,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 9: Commit message was updated."},{"timestamp":1520992317,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Marsell Kukuljevic"}],"currentPatchSet":{"number":"9","revision":"8e6cf271210ddf2d2704682b74df4fd934ea283d","parents":["002171ea067fc76541ea5f384c8e697900e3987f"],"ref":"refs/changes/59/3459/9","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520992309,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520983352,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520987558,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520987558,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1520992317,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-fwrules.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-snapshots.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":642,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"0c2bb97ae93785be5234be8aaea95e39de65f5b7","parents":["26b97b5bedd64dbce51cf470af3c8fdff3cda57c"],"ref":"refs/changes/59/3459/1","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1519391854,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","comments":[{"file":"lib/cloudapi2.js","line":1027,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"change this to include \"Machine\" per Q on TRITON-19 to include \"Machine\" in these endpoint names."},{"file":"lib/cloudapi2.js","line":1038,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Ditto."},{"file":"lib/cloudapi2.js","line":1259,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"copy paste typo"},{"file":"lib/do_instance/do_create.js","line":560,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Let\u0027s use a hyphen instead of underscore, please."},{"file":"lib/do_instance/do_list.js","line":157,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Good!\nNeed to do the same in lib/do_fwrule/do_instances.js"},{"file":"test/integration/cli-deletion-protection.test.js","line":172,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhaps have a test showing that attempt to delete the instance with deletion-protection on *fails* with the expected error code string?"},{"file":"test/integration/cli-deletion-protection.test.js","line":178,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Doesn\u0027t this fail with the correct ordering?"},{"file":"test/integration/cli-deletion-protection.test.js","line":178,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Sorry, don\u0027t follow. It works?"},{"file":"test/integration/helpers.js","line":465,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I\u0027d prefer `extraFlags` style."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":179,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":616,"sizeDeletions":-3},{"number":"2","revision":"a8206480dfe2a83f3f079d2b4848102ff629a227","parents":["26b97b5bedd64dbce51cf470af3c8fdff3cda57c"],"ref":"refs/changes/59/3459/2","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1519720140,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1519751290,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/integration/cli-deletion-protection.test.js","line":85,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":190,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":628,"sizeDeletions":-3},{"number":"3","revision":"f41d6ea55e514d980504131d179f78e9589eab6b","parents":["39635cd0a2f943fe4a7f216887a90fbe83e38d18"],"ref":"refs/changes/59/3459/3","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1519787268,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519787297,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":629,"sizeDeletions":-3},{"number":"4","revision":"d42c899a726180eecbae23d0a84c630f5337727b","parents":["002171ea067fc76541ea5f384c8e697900e3987f"],"ref":"refs/changes/59/3459/4","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520506518,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519787297,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/do_fwrule/do_instances.js","line":167,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Add mention of \"P\" here."},{"file":"lib/do_fwrule/do_instances.js","line":167,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Add mention of \u0027P\u0027 here."},{"file":"test/integration/helpers.js","line":376,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"There are only a handful of callers of this function. Let\u0027s get them all to pass in an `opts` object rather than having two call signatures to this method."},{"file":"test/integration/helpers.js","line":377,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhaps add a `assert.blah` for the opts.extraFlags to act as self-docs for supported options.\n\nnit: Can we make `extraFlags` and *array of strings*? Then it is up to this function to do any argv-to-cmd quoting if necessary."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":629,"sizeDeletions":-3},{"number":"5","revision":"c8e019e8f05c103803e29c00e391d4358cf55628","parents":["002171ea067fc76541ea5f384c8e697900e3987f"],"ref":"refs/changes/59/3459/5","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520602987,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520603018,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520897270,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-fwrules.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-snapshots.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":634,"sizeDeletions":-6},{"number":"6","revision":"e7fe36a693cc0b885a17807744771d74ed4f726f","parents":["002171ea067fc76541ea5f384c8e697900e3987f"],"ref":"refs/changes/59/3459/6","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520902837,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520902869,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"CHANGES.md","line":9,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"You mixed up your tickets. This one (TRITON-19) is about deletion protection."},{"file":"CHANGES.md","line":9,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"head -\u003e desk\n\nOh, man."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-fwrules.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-snapshots.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":639,"sizeDeletions":-6},{"number":"7","revision":"0aba1811976d3a637c5b8e1c7e0b9863e2326e3f","parents":["002171ea067fc76541ea5f384c8e697900e3987f"],"ref":"refs/changes/59/3459/7","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520975853,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520975886,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520977997,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520977997,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"CHANGES.md","line":15,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Cool. Is there a semver version that could be added here?\n/me looks at the commits\nIt looks like not."},{"file":"CHANGES.md","line":15,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"8.7.0 is a reasonable proxy. Add that?"},{"file":"CHANGES.md","line":15,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Sure, that would be good!   A customer using cloudapi can only see the semver version, not the build date, so this helps."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-fwrules.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-snapshots.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":642,"sizeDeletions":-6},{"number":"8","revision":"e6f5bda358003d362c45714e2d295abd65a93eda","parents":["002171ea067fc76541ea5f384c8e697900e3987f"],"ref":"refs/changes/59/3459/8","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520983322,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520983352,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520987558,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520987558,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-fwrules.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-snapshots.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":642,"sizeDeletions":-6},{"number":"9","revision":"8e6cf271210ddf2d2704682b74df4fd934ea283d","parents":["002171ea067fc76541ea5f384c8e697900e3987f"],"ref":"refs/changes/59/3459/9","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520992309,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520983352,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520987558,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520987558,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1520992317,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/do_fwrule/do_instances.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/do_create.js","type":"MODIFIED","insertions":9,"deletions":0},{"file":"lib/do_instance/do_disable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_enable_deletion_protection.js","type":"ADDED","insertions":125,"deletions":0},{"file":"lib/do_instance/do_list.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":86,"deletions":0},{"file":"test/integration/cli-deletion-protection.test.js","type":"ADDED","insertions":191,"deletions":0},{"file":"test/integration/cli-fwrules.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-snapshots.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":642,"sizeDeletions":-6}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}]}