{"project":"joyent/illumos-joyent","branch":"master","id":"Ie58cbadf52334f540974293063eec8df9cb5a0da","number":"4789","subject":"OS-6847 vxlan header allocation should think about mblk chains Reviewed by: Jason King \u003cjbk@joyent.com\u003e Reviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e Approved by: Dan McDonald \u003cdanmcd@joyent.com\u003e","owner":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"url":"https://cr.joyent.us/4789","commitMessage":"OS-6847 vxlan header allocation should think about mblk chains\nReviewed by: Jason King \u003cjbk@joyent.com\u003e\nReviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\nApproved by: Dan McDonald \u003cdanmcd@joyent.com\u003e\n","createdOn":1536170839,"lastUpdated":1536345136,"open":false,"status":"MERGED","comments":[{"timestamp":1536170839,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Uploaded patch set 1."},{"timestamp":1536172424,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1536174679,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1536181134,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1:\n\nNOTE:  This has been somewhat battle-tested in the VPC branch for a while.  It has not yet been tested solely in master.  I hope to have master-branch+this testing done soon enough."},{"timestamp":1536186080,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1536264030,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1:\n\nNOTE:  Testing has shown that while the code is correct, it does not, by itself, decrease allocb() calls.  Upper layers might need to get better hints about packet-header lengths."},{"timestamp":1536344963,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1536345095,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2:\n\nSince this code was written by Robert, reviewed by two others, and tested by me, I\u0027m going to IA-this."},{"timestamp":1536345107,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1536345126,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1536345136,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Dan McDonald"}],"currentPatchSet":{"number":"3","revision":"e58cbadf52334f540974293063eec8df9cb5a0da","parents":["fce7145e2a75d0f563af602902e193473a789f7b"],"ref":"refs/changes/89/4789/3","uploader":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"createdOn":1536345107,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536172424,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536174679,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536186080,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536345126,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"SUBM","value":"1","grantedOn":1536345135,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/io/overlay/overlay.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/overlay/plugins/overlay_vxlan.c","type":"MODIFIED","insertions":35,"deletions":-13}],"sizeInsertions":36,"sizeDeletions":-14},"patchSets":[{"number":"1","revision":"7d019c396037eb24ef65cc58575943ebe58c44ad","parents":["f7fc84d7ec84cad6dd772f5bf0ccf1f267e31d48"],"ref":"refs/changes/89/4789/1","uploader":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"createdOn":1536170839,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536172424,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536186080,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536174679,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/overlay/overlay.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/overlay/plugins/overlay_vxlan.c","type":"MODIFIED","insertions":35,"deletions":-13}],"sizeInsertions":36,"sizeDeletions":-14},{"number":"2","revision":"50791394a46da363bef2f2adce9a132c1159ad1a","parents":["fce7145e2a75d0f563af602902e193473a789f7b"],"ref":"refs/changes/89/4789/2","uploader":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"createdOn":1536344963,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536172424,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536186080,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536174679,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/overlay/overlay.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/overlay/plugins/overlay_vxlan.c","type":"MODIFIED","insertions":35,"deletions":-13}],"sizeInsertions":36,"sizeDeletions":-14},{"number":"3","revision":"e58cbadf52334f540974293063eec8df9cb5a0da","parents":["fce7145e2a75d0f563af602902e193473a789f7b"],"ref":"refs/changes/89/4789/3","uploader":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"createdOn":1536345107,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536172424,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536186080,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536174679,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536345126,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"SUBM","value":"1","grantedOn":1536345135,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/io/overlay/overlay.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/overlay/plugins/overlay_vxlan.c","type":"MODIFIED","insertions":35,"deletions":-13}],"sizeInsertions":36,"sizeDeletions":-14}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}]}