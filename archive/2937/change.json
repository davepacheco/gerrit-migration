{"project":"joyent/sdc-booter","branch":"master","id":"I8f7e8a387fe364e6eefada939a4008c8ba2e6647","number":"2937","subject":"NET-381 use triton-origin for booter/dhcpd TRITON-13 service configure.sh scripts are of inconsistent strictness NET-380 dhcpd service is only accidenlty enabled Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"url":"https://cr.joyent.us/2937","commitMessage":"NET-381 use triton-origin for booter/dhcpd\nTRITON-13 service configure.sh scripts are of inconsistent strictness\nNET-380 dhcpd service is only accidenlty enabled\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1510348902,"lastUpdated":1512056187,"open":false,"status":"MERGED","comments":[{"timestamp":1510348902,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 1."},{"timestamp":1510348927,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1511461040,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(1 comment)\n\nWonderful! Just a nit:"},{"timestamp":1511461336,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1: Code-Review-1\n\nActually, this line in sdc-booter/Makefile needs to change to select the appropriate sdcnode build for the new origin image:\n\n    NODE_PREBUILT_IMAGE\u003dde411e86-548d-11e4-a4b7-3bb60478632a\n\nchange it to something like:\n\n    # Allow building on other than image sdc-minimal-multiarch-lts@15.4.1.\n    NODE_PREBUILT_IMAGE\u003d18b094b0-eb01-11e5-80c1-175dac7ddf02\n\nThere is a README for sdcnode build images here: https://download.joyent.com/pub/build/sdcnode/README.html\n\nThe real authority is the spec file describing all the sdcnode builds: \nhttps://github.com/joyent/sdcnode/blob/master/nodeconfigs.json"},{"timestamp":1511817213,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 2."},{"timestamp":1511817237,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1511884133,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 3."},{"timestamp":1511884159,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1511982243,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1512056174,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1512056187,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Chris Burroughs"}],"currentPatchSet":{"number":"4","revision":"f0634763aefa77f80d34f555de9bf3d8a40ddc50","parents":["554cb97172454939e905fcc4d50e4b078eb3d19c"],"ref":"refs/changes/37/2937/4","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512056174,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1511884159,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1511982243,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1511982243,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1512056187,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"boot/configure.sh","type":"MODIFIED","insertions":6,"deletions":-7}],"sizeInsertions":8,"sizeDeletions":-9},"patchSets":[{"number":"1","revision":"e3b645467ad19fe0ed381c9cb5b14c0345bb598f","parents":["554cb97172454939e905fcc4d50e4b078eb3d19c"],"ref":"refs/changes/37/2937/1","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1510348902,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510348927,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1511461336,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"boot/configure.sh","line":22,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"What about just dropping this? This line from the manifest says that it should be enabled by default:\n\n    \u003cinstance name\u003d\"default\" enabled\u003d\"true\" /\u003e"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"boot/configure.sh","type":"MODIFIED","insertions":6,"deletions":-4}],"sizeInsertions":6,"sizeDeletions":-4},{"number":"2","revision":"7372fbad5c676267d12064b642f4d1558c3307b9","parents":["554cb97172454939e905fcc4d50e4b078eb3d19c"],"ref":"refs/changes/37/2937/2","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1511817213,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1511817237,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1511461336,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":6,"deletions":-7}],"sizeInsertions":7,"sizeDeletions":-8},{"number":"3","revision":"8f7e8a387fe364e6eefada939a4008c8ba2e6647","parents":["554cb97172454939e905fcc4d50e4b078eb3d19c"],"ref":"refs/changes/37/2937/3","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1511884133,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1511884159,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1511982243,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1511982243,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"boot/configure.sh","type":"MODIFIED","insertions":6,"deletions":-7}],"sizeInsertions":8,"sizeDeletions":-9},{"number":"4","revision":"f0634763aefa77f80d34f555de9bf3d8a40ddc50","parents":["554cb97172454939e905fcc4d50e4b078eb3d19c"],"ref":"refs/changes/37/2937/4","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512056174,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1511884159,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1511982243,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1511982243,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1512056187,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"boot/configure.sh","type":"MODIFIED","insertions":6,"deletions":-7}],"sizeInsertions":8,"sizeDeletions":-9}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}]}