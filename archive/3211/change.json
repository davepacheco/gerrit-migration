{"project":"joyent/sdc-docker","branch":"master","id":"I2544c87638bc08a470aa78a7bdbffed056c28277","number":"3211","subject":"DOCKER-1140 Handle CNAPI error indicating docker cp\u0027ing is not supported on a stopped container Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e","owner":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"url":"https://cr.joyent.us/3211","commitMessage":"DOCKER-1140 Handle CNAPI error indicating docker cp\u0027ing is not supported on a stopped container\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1515794501,"lastUpdated":1517611772,"open":false,"status":"MERGED","comments":[{"timestamp":1515794501,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 1."},{"timestamp":1515794502,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit ddc0a45dec3f523eade247a45f9197d96bedf2b0\n    \n    wire up not supported error"},{"timestamp":1515794534,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(2 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1516926962,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1516926964,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 9d2b55f2a2e38f4fdf81f7ae140e06d4f2978cab\n    \n    wire up not supported error"},{"timestamp":1516926979,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 3."},{"timestamp":1516926981,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 966db78f137edea44515ef122017cd53f292ddd7\n    \n    bump package version"},{"timestamp":1516926997,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n(2 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1516927014,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n(2 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1516927238,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 4."},{"timestamp":1516927239,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 57aea7c31254301eae3a7b18681506ec36fb8a96\n    \n    fix make check"},{"timestamp":1516927273,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516927412,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 5."},{"timestamp":1516927416,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit d0f02554ec8e3b428a6cba25b90dae8d97eb4d2f\n    \n    remove debug logging"},{"timestamp":1516927448,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517449954,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5: Code-Review+1\n\n(2 comments)"},{"timestamp":1517599807,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1517599928,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 6."},{"timestamp":1517599929,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 98ac6ffa2acc8a8debd5b0b1d6c63710e5ed5dd2\n    \n    apply joshw\u0027d feedback"},{"timestamp":1517599980,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517611541,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1\n\n+4"},{"timestamp":1517611772,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Orlando Vazquez"}],"currentPatchSet":{"number":"6","revision":"2544c87638bc08a470aa78a7bdbffed056c28277","parents":["a9a2db9d1d978150709f00204552e73a8f1d9f8c"],"ref":"refs/changes/11/3211/6","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1517599928,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517599980,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517611541,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517611541,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1517611772,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":21,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":22,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"dcd38cd0d2cfa62e23f2274bf04fa4e54387c6a8","parents":["26629c6f6e85ce4660112ade5fcc7b8f59e4d6af"],"ref":"refs/changes/11/3211/1","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1515794501,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1515794534,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/errors.js","line":573,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"lib/errors.js","line":652,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper continuation"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":22,"sizeDeletions":0},{"number":"2","revision":"47e6629f5ec7cd37c65b58e7aeb203cb477fe878","parents":["a9a2db9d1d978150709f00204552e73a8f1d9f8c"],"ref":"refs/changes/11/3211/2","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1516926962,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1515794534,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/errors.js","line":573,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"lib/errors.js","line":678,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper continuation"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":22,"sizeDeletions":0},{"number":"3","revision":"7e45c61e27a8e36da1cb19e652e2584f0c08e166","parents":["a9a2db9d1d978150709f00204552e73a8f1d9f8c"],"ref":"refs/changes/11/3211/3","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1516926979,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1516927014,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/errors.js","line":573,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"lib/errors.js","line":678,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"improper continuation"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":21,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":23,"sizeDeletions":-1},{"number":"4","revision":"3750a5cdb96f68f246079a961f8c01442d9f221f","parents":["a9a2db9d1d978150709f00204552e73a8f1d9f8c"],"ref":"refs/changes/11/3211/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1516927238,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516927273,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/sdc/containers.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":21,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":23,"sizeDeletions":-1},{"number":"5","revision":"f9cce1507e30b48e6ea12b9db41e64c6e97aaed3","parents":["a9a2db9d1d978150709f00204552e73a8f1d9f8c"],"ref":"refs/changes/11/3211/5","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1516927412,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516927448,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517449954,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"lib/errors.js","line":8,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"YIKES!"},{"file":"lib/errors.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/errors.js","line":679,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"nit: I wonder about using \"SmartOS platform version\"?\n\nAlternatively: I wonder about wording this so that it\u0027s a little more generic, but actionable. For example:\n\n    This container must be running in order to use `docker cp`.\n\n¯\\_(ツ)_/¯"},{"file":"lib/errors.js","line":679,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":21,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":22,"sizeDeletions":-1},{"number":"6","revision":"2544c87638bc08a470aa78a7bdbffed056c28277","parents":["a9a2db9d1d978150709f00204552e73a8f1d9f8c"],"ref":"refs/changes/11/3211/6","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1517599928,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517599980,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517611541,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517611541,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1517611772,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":21,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":22,"sizeDeletions":-2}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}]}