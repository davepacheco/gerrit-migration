{"project":"joyent/sdc-wf-client","branch":"master","id":"I109b303f5617b5ac2cbc55c7862b4226c8ba0882","number":"1153","subject":"WORKFLOW-215 error when creating jobs: \"j.workflow\" is required Reviewed by: Richard Kiene \u003crichard.kiene@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/1153","commitMessage":"WORKFLOW-215 error when creating jobs: \"j.workflow\" is required\nReviewed by: Richard Kiene \u003crichard.kiene@joyent.com\u003e\n","createdOn":1482327374,"lastUpdated":1482421580,"open":false,"status":"MERGED","comments":[{"timestamp":1482327374,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1482327413,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482418274,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"Patch Set 1:\n\n(1 comment)\n\nAs long as we\u0027re not marking WORKFLOW-215 as resolved, this seems like a good start. Once the discussion around Line 439 in wf-client.js is complete I\u0027m happy to +1 for CR and IA."},{"timestamp":1482419446,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2."},{"timestamp":1482419470,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482419530,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nOK, removed the attempt to self health and just let it fail early for now.\n\nI\u0027m OK leaving the issue as open and adding dependent issues to update wf-client into the projects using it"},{"timestamp":1482420032,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\nLGTM"},{"timestamp":1482421580,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"2","revision":"109b303f5617b5ac2cbc55c7862b4226c8ba0882","parents":["f498b46e7624875d47ac5c94683a6c04bc2f6001"],"ref":"refs/changes/53/1153/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1482419446,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482419470,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482420032,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482420032,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"SUBM","value":"1","grantedOn":1482421580,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/wf-client.js","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":29,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"b94fa5188f5fd5a0e69b5d62607ebeb021b9ef0c","parents":["f498b46e7624875d47ac5c94683a6c04bc2f6001"],"ref":"refs/changes/53/1153/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1482327374,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482327413,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/wf-client.js","line":439,"reviewer":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},"message":"I\u0027m a bit concerned about trying to self heal here. I think my preference would be to error loudly and force investigation. If we let it self heal it is possible the actual problem will be ignored."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/wf-client.js","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-7},{"number":"2","revision":"109b303f5617b5ac2cbc55c7862b4226c8ba0882","parents":["f498b46e7624875d47ac5c94683a6c04bc2f6001"],"ref":"refs/changes/53/1153/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1482419446,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482419470,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482420032,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482420032,"by":{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}},{"type":"SUBM","value":"1","grantedOn":1482421580,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/wf-client.js","type":"MODIFIED","insertions":22,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":29,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}