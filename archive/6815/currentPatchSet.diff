From 6b526537522b46683db7b05b9beea1a32d3a6bec Mon Sep 17 00:00:00 2001
From: John Levon <john.levon@joyent.com>
Date: Tue, 20 Aug 2019 12:08:21 +0000
Subject: [PATCH] temporary null.h change

---
 usr/src/uts/common/sys/null.h | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

diff --git a/usr/src/uts/common/sys/null.h b/usr/src/uts/common/sys/null.h
index 251dcfc994..4009d3eaaf 100644
--- a/usr/src/uts/common/sys/null.h
+++ b/usr/src/uts/common/sys/null.h
@@ -22,11 +22,9 @@
 
 /*
  * POSIX.1-2008 requires that the NULL macro be cast to type void *.
- * Historically, this has not been done, so we only enable this in a
- * POSIX.1-2008 compilation environment.
  */
 
-#if defined(_XPG7) && !defined(__cplusplus)
+#if !defined(__cplusplus)
 #define	NULL	((void *)0)
 #else
 
@@ -36,7 +34,7 @@
  * C++11 onwards.
  */
 
-#if defined(__cplusplus) && __cplusplus >= 201103L
+#if __cplusplus >= 201103L
 #define	NULL	nullptr
 #else
 #if defined(_LP64)
@@ -45,7 +43,7 @@
 #define	NULL	0
 #endif	/* _LP64 */
 #endif	/* C++11 */
-#endif	/* _XPG7 */
+#endif	/* !__cplusplus */
 
 #endif	/* NULL */
 
-- 
2.21.0

