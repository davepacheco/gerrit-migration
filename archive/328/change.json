{"project":"joyent/illumos-joyent","branch":"master","id":"I0c8abfcb7a94e2016322218587cc80b4bd710642","number":"328","subject":"OS-4716 lxbrand native system(3C) broken Reviewed by: jerry.jelinek@joyent.com Reviewed by: patrick.mooney@joyent.com","owner":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"url":"https://cr.joyent.us/328","commitMessage":"OS-4716 lxbrand native system(3C) broken\nReviewed by: jerry.jelinek@joyent.com\nReviewed by: patrick.mooney@joyent.com\n","createdOn":1471881607,"lastUpdated":1471968863,"open":false,"status":"MERGED","comments":[{"timestamp":1471881607,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 1."},{"timestamp":1471886897,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1\n\nDon\u0027t forget to add a Joyent copyright"},{"timestamp":1471889901,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)\n\n+1 to jerry\u0027s comment.  git-pbchk should catch that sort of thing"},{"timestamp":1471892296,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 2."},{"timestamp":1471893268,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1471907973,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1471966578,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1471966663,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1471967335,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 4:\n\nTest for lx:\n\n[root@c66-lx ~]# /native/usr/sbin/dtrace -wqn \u0027tick-1s { system(\"date\"); }\u0027\nSat Aug 20 15:03:59 UTC 2016\nSat Aug 20 15:04:00 UTC 2016\nSat Aug 20 15:04:01 UTC 2016\n\nTest for chroot to /native on lx:\n\n[root@c66-lx ~]# chroot /native bash\nbash-4.3# /usr/sbin/dtrace -wqn \u0027tick-1s { system(\"date\"); }\u0027\nAugust 20, 2016 03:04:17 PM GMT\nAugust 20, 2016 03:04:18 PM GMT\nAugust 20, 2016 03:04:19 PM GMT\n\nTest for native:\n\n[root@testsos ~]# dtrace -wqn \u0027tick-1s { system(\"date\"); }\u0027\nAugust 20, 2016 03:03:47 PM UTC\nAugust 20, 2016 03:03:48 PM UTC\nAugust 20, 2016 03:03:49 PM UTC"},{"timestamp":1471968562,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1471968863,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Ryan Zezeski"}],"currentPatchSet":{"number":"4","revision":"0c8abfcb7a94e2016322218587cc80b4bd710642","parents":["7d7135b2b1824ef59ff15bd50e46e84601cb94be"],"ref":"refs/changes/28/328/4","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1471966578,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471893268,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471966663,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1471968562,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1471968863,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/libc/port/stdio/system.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"1ce91ba7a6c4b7fbc0da0a7f9d4e4fd9b52d3d1f","parents":["d0de416eba4efacef1c1fc99a50645dfe855b4e0"],"ref":"refs/changes/28/328/1","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1471881607,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471886897,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471889901,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":"usr/src/lib/libc/port/stdio/system.c","line":138,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Style nit: I would keep the ternary unbroken across lines if doing so doesn\u0027t cause other fit issues."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libc/port/stdio/system.c","type":"MODIFIED","insertions":9,"deletions":-1}],"sizeInsertions":9,"sizeDeletions":-1},{"number":"2","revision":"d393789ddee02af635f1abf1fb622ecfcbc5ff73","parents":["d0de416eba4efacef1c1fc99a50645dfe855b4e0"],"ref":"refs/changes/28/328/2","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1471892296,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471893268,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/libc/port/stdio/system.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-1},{"number":"3","revision":"f4078730456df18fe478b51e37fe8965e2b1a22b","parents":["407b42750155d7261ed7a0b45c412ae6167f4029"],"ref":"refs/changes/28/328/3","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1471907973,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471893268,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/libc/port/stdio/system.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-1},{"number":"4","revision":"0c8abfcb7a94e2016322218587cc80b4bd710642","parents":["7d7135b2b1824ef59ff15bd50e46e84601cb94be"],"ref":"refs/changes/28/328/4","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1471966578,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471893268,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1471968562,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471966663,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1471968863,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/libc/port/stdio/system.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-1}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}]}