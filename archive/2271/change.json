{"project":"joyent/manta-scripts","branch":"master","id":"I264dbeaaf6c38de41f2591d8772ec648e15638aa","number":"2271","subject":"MANTA-3357 manta-scripts update script repos.sh no longer works with modern git Reviewed by: Kody A Kantor \u003ckody.kantor@gmail.com\u003e Approved by: Kody A Kantor \u003ckody.kantor@gmail.com\u003e","owner":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"url":"https://cr.joyent.us/2271","commitMessage":"MANTA-3357 manta-scripts update script repos.sh no longer works with modern git\nReviewed by: Kody A Kantor \u003ckody.kantor@gmail.com\u003e\nApproved by: Kody A Kantor \u003ckody.kantor@gmail.com\u003e\n","createdOn":1500928973,"lastUpdated":1505157926,"open":false,"status":"MERGED","comments":[{"timestamp":1500928973,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Uploaded patch set 1."},{"timestamp":1500928974,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit ef66b6619c80733fea5c76105074d79030b55d18\n    \n    MANTA-3357 manta-scripts update script no longer works with git"},{"timestamp":1505153194,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1505154371,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1505155038,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 2: Published edit on patch set 1."},{"timestamp":1505156233,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1505157135,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1505157480,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Uploaded patch set 3."},{"timestamp":1505157780,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Uploaded patch set 4."},{"timestamp":1505157781,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 449d61d45ec6d62c1019f418d2b3c6f8a0e0f857\n    \n    Remove origin/master from git pull according to review comments"},{"timestamp":1505157892,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1505157926,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jared Morrow"}],"currentPatchSet":{"number":"5","revision":"264dbeaaf6c38de41f2591d8772ec648e15638aa","parents":["4b86dd132d68cb177f066a83d90b8fdc9ac2cde9"],"ref":"refs/changes/71/2271/5","uploader":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"createdOn":1505157892,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505156233,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505157135,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"SUBM","value":"1","grantedOn":1505157926,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"update/repos.sh","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":4,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"c85909455c4d3c1860f8b01cb4dd7114a56ad3b3","parents":["4b86dd132d68cb177f066a83d90b8fdc9ac2cde9"],"ref":"refs/changes/71/2271/1","uploader":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"createdOn":1500928973,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"REWORK","comments":[{"file":"update/repos.sh","line":77,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Is this the equivalent of what the old `git submodule` command did?"},{"file":"update/repos.sh","line":77,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Yes, this is equivalent behavior to what the old command did.  It just uses the slightly newer syntax."},{"file":"update/repos.sh","line":87,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Isn\u0027t it possible that the user changed the origin or the upstream branch?  Is there any reason not let git use the default values here."},{"file":"update/repos.sh","line":87,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"I just tried both ways, and both worked.  I now can\u0027t remember why I changed this in the first place, so I\u0027ll make it go back to the original behavior."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"update/repos.sh","type":"MODIFIED","insertions":5,"deletions":-3}],"sizeInsertions":5,"sizeDeletions":-3},{"number":"2","revision":"10b76a603cf479a020fc069ebf6b6eb715e17ec4","parents":["4b86dd132d68cb177f066a83d90b8fdc9ac2cde9"],"ref":"refs/changes/71/2271/2","uploader":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"createdOn":1505155038,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505156233,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505157135,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"update/repos.sh","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":4,"sizeDeletions":-2},{"number":"3","revision":"41cf089f6079a3a2d564a2f76456a4d436deb780","parents":["4b86dd132d68cb177f066a83d90b8fdc9ac2cde9"],"ref":"refs/changes/71/2271/3","uploader":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"createdOn":1505157480,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"update/repos.sh","type":"MODIFIED","insertions":5,"deletions":-3}],"sizeInsertions":5,"sizeDeletions":-3},{"number":"4","revision":"c80f4cecc9ca2df4da934853d0838f70c3781736","parents":["4b86dd132d68cb177f066a83d90b8fdc9ac2cde9"],"ref":"refs/changes/71/2271/4","uploader":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"createdOn":1505157780,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505156233,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505157135,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"update/repos.sh","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":4,"sizeDeletions":-2},{"number":"5","revision":"264dbeaaf6c38de41f2591d8772ec648e15638aa","parents":["4b86dd132d68cb177f066a83d90b8fdc9ac2cde9"],"ref":"refs/changes/71/2271/5","uploader":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"createdOn":1505157892,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505156233,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505157135,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"SUBM","value":"1","grantedOn":1505157926,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"update/repos.sh","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":4,"sizeDeletions":-2}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}]}