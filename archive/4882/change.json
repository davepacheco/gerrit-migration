{"project":"joyent/illumos-joyent","branch":"master","id":"Ib267fa2867fd98d2f8864fd82efc8ad4b2276f39","number":"4882","subject":"OS-7200 would like thread name API OS-7205 bhyve makefile uses wrong linker flags Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: Jason King \u003cjason.king@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Patrick Mo","owner":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"url":"https://cr.joyent.us/4882","commitMessage":"OS-7200 would like thread name API\nOS-7205 bhyve makefile uses wrong linker flags\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: Jason King \u003cjason.king@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1537961114,"lastUpdated":1539360941,"open":false,"status":"MERGED","comments":[{"timestamp":1537961114,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 1."},{"timestamp":1537961519,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nThis is a re-run of the previous integration, with a couple of additional fixes:\n\n - man pages now listed in manifest\n - test now listed in the runfile"},{"timestamp":1537979869,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)\n\nWith the earlier provision that since I wrote part of this code, it wouldn\u0027t be proper to rely solely on my +1."},{"timestamp":1538046201,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 2."},{"timestamp":1538046300,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1538055706,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1538313413,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1538514882,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 3."},{"timestamp":1538515027,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1538515467,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1538515560,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1538526437,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(16 comments)\n\nA few nits, but it looks good for the most part."},{"timestamp":1538590411,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\n(14 comments)"},{"timestamp":1538590498,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 4."},{"timestamp":1539009900,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 5."},{"timestamp":1539009953,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\npatchset 5 is just a rebase for a small Makefile conflict"},{"timestamp":1539284608,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5:\n\n(1 comment)\n\nI looked over the main differences and seems reasonable."},{"timestamp":1539284658,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1539286510,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1539286596,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1539299370,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1539344355,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1539357878,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1539359393,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7: Patch Set 6 was rebased"},{"timestamp":1539359724,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1539360941,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by John Levon"}],"currentPatchSet":{"number":"8","revision":"b267fa2867fd98d2f8864fd82efc8ad4b2276f39","parents":["789cf136e86bd7243b6ffd90333a23ba74b898e3"],"ref":"refs/changes/82/4882/8","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539359724,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539284658,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539286596,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539299370,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1539357878,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1539360941,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":91,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":2060,"sizeDeletions":-385},"patchSets":[{"number":"1","revision":"ec31db05c77049ec87e2b401f5cf1700febdfd20","parents":["dee777b5a3880de62b42997fe61524f95dcc16db"],"ref":"refs/changes/82/4882/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1537961114,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537979869,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"comments":[{"file":"usr/src/cmd/nscd/nscd_getentctx.c","line":35,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Purely optional, since nscd is using Solaris threads, we could go ahead and use the thr_setname() variants to avoid needing to bring in pthread.h -- I didn\u0027t do this since I originally was only adding pthread_{get,set}name_np(), so that was the only way."},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","line":35,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":85,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":2064,"sizeDeletions":-380},{"number":"2","revision":"d71e605780b888fd58a5457622e87ff185a75228","parents":["b61fd5c4275d4217d988bff5e892675d3431c138"],"ref":"refs/changes/82/4882/2","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1538046201,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538055706,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"comments":[{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","line":1856,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"s/tick-n/threadname/"},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","line":1856,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":85,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":2064,"sizeDeletions":-384},{"number":"3","revision":"ff55c26c32ee1be2fabd84904c14ccfa810c3e6d","parents":["1f6101e0488d5d4aff07f6da56980c87fc92e790"],"ref":"refs/changes/82/4882/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1538514882,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1538515560,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"comments":[{"file":"usr/src/cmd/nscd/cache.c","line":2198,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"use \u0027me\u0027?"},{"file":"usr/src/cmd/nscd/cache.c","line":2198,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/ps/ps.c","line":1774,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"brand root prefix?"},{"file":"usr/src/cmd/ps/ps.c","line":1774,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","line":27,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why the gap?"},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","line":27,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","line":31,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Combine into one?"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","line":31,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","line":29,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"combine?"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","line":29,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","line":29,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"combine?"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","line":29,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","line":29,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"combine?"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","line":29,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","line":29,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"combine?"},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","line":29,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/cmd/svc/startd/graph.c","line":27,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I think we\u0027ve just updated in place for these"},{"file":"usr/src/cmd/svc/startd/graph.c","line":27,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","line":1502,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"keeping this abnormal(?) continuation style here?"},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","line":1502,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"cstyle isn\u0027t complaining, and this isn\u0027t the only thing in this file, so inclined to leave"},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","line":495,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Bound this with strnlen()?"},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","line":495,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I\u0027m going to leave this as is"},{"file":"usr/src/lib/libc/port/threads/thr.c","line":2433,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Do we need the brand root prefixing here?"},{"file":"usr/src/lib/libc/port/threads/thr.c","line":2433,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/lib/libc/port/threads/thr.c","line":2469,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Ditto, Re: brand root prefix"},{"file":"usr/src/lib/libc/port/threads/thr.c","line":2469,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"usr/src/lib/libproc/common/Plwpregs.c","line":28,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Avoid reorder?"},{"file":"usr/src/lib/libproc/common/mapfile-vers","line":25,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Avoid reorder?"},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","line":462,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why the comma?  Also, would an explicit bzero() be more in keeping with convention?"},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","line":462,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"To me the trailing comma makes it obvious that we intended the whole thing to be zeroed. I don\u0027t see what bzero() would buy us here, so inclined to leave as is."},{"file":"usr/src/uts/i86pc/io/viona/viona.c","line":411,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"did something go goofy w/ a rebase to pull this in?"},{"file":"usr/src/uts/i86pc/io/viona/viona.c","line":411,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"yes, it\u0027s just a rebase"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":85,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":4,"deletions":0}],"sizeInsertions":2064,"sizeDeletions":-384},{"number":"4","revision":"1423228875d757c51a297c0478c929192c27b534","parents":["1f6101e0488d5d4aff07f6da56980c87fc92e790"],"ref":"refs/changes/82/4882/4","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1538590498,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":91,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":2059,"sizeDeletions":-385},{"number":"5","revision":"63927f2658bb5cef9b36c22887a02864af050f32","parents":["6dfc9cdf26a31c05ac54748aa413187e43a0a214"],"ref":"refs/changes/82/4882/5","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539009900,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539284658,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539299370,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539286596,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"comments":[{"file":"usr/src/lib/libc/port/threads/thr.c","line":2422,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I guess the assumption is that the caller just has to make sure that bufsize is large enough since there\u0027s nothing that can overflow it? I guess this was equally true previously, just seems a bit riskier in the function form in the future."},{"file":"usr/src/lib/libc/port/threads/thr.c","line":2422,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"That\u0027s right. I think it\u0027s private enough that it should be OK (and of course this is old code), also there is nothing user-controllable in this string, which would have made me significantly more paranoid. If we had a *decent* string lib we could have done strlcat_printf() or similar."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":91,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":2060,"sizeDeletions":-385},{"number":"6","revision":"edbd5085d2aea6c206a391521507761d623aab16","parents":["245c5e733cb4161ea3ba9f516ee25b41621cb81c"],"ref":"refs/changes/82/4882/6","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539344355,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539284658,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539299370,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1539357878,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539286596,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":91,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":2060,"sizeDeletions":-385},{"number":"7","revision":"4e7794b79a219968cdc569f90f58bf38d08bdf93","parents":["789cf136e86bd7243b6ffd90333a23ba74b898e3"],"ref":"refs/changes/82/4882/7","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539359393,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539284658,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539299370,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1539357878,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539286596,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":91,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":2060,"sizeDeletions":-385},{"number":"8","revision":"b267fa2867fd98d2f8864fd82efc8ad4b2276f39","parents":["789cf136e86bd7243b6ffd90333a23ba74b898e3"],"ref":"refs/changes/82/4882/8","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539359724,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539284658,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539299370,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1539357878,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539286596,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"SUBM","value":"1","grantedOn":1539360941,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/cmd/bhyve/rfb.c","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/cmd/cmd-inet/lib/ipmgmtd/ipmgmt_persist.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/dtrace/test/tst/common/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.c","type":"ADDED","insertions":99,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/common/threadname/tst.threadname.d","type":"ADDED","insertions":26,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_change.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_discovery.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/ldapcachemgr/cachemgr_getldap.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_proc.c","type":"MODIFIED","insertions":22,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/findstack.c","type":"MODIFIED","insertions":20,"deletions":-8},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.c","type":"MODIFIED","insertions":118,"deletions":-119},{"file":"usr/src/cmd/mdb/common/modules/genunix/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/nscd/cache.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_frontend.c","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"usr/src/cmd/nscd/nscd_getentctx.c","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"usr/src/cmd/nscd/nscd_selfcred.c","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/cmd/nscd/nscd_smfmonitor.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/prstat/Makefile.com","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/prstat/prstat.c","type":"MODIFIED","insertions":89,"deletions":-51},{"file":"usr/src/cmd/prstat/prstat.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/prstat/prutil.c","type":"MODIFIED","insertions":73,"deletions":-3},{"file":"usr/src/cmd/prstat/prutil.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/ps/ps.c","type":"MODIFIED","insertions":37,"deletions":-12},{"file":"usr/src/cmd/ptools/pstack/pstack.c","type":"MODIFIED","insertions":51,"deletions":-15},{"file":"usr/src/cmd/sgs/elfdump/common/corenote.c","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/elfdump.msg","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_layout_obj.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/gen_struct_layout.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout.h","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_amd64.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_i386.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparc.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/elfdump/common/struct_layout_sparcv9.c","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/cmd/sgs/libconv/common/corenote.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/cmd/sgs/libconv/common/corenote.msg","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/svc/startd/graph.c","type":"MODIFIED","insertions":12,"deletions":-2},{"file":"usr/src/cmd/svc/startd/method.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/svc/startd/restarter.c","type":"MODIFIED","insertions":13,"deletions":-3},{"file":"usr/src/cmd/svc/startd/wait.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/compat/freebsd/pthread_np.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/head/pthread.h","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/head/thread.h","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/lib/brand/bhyve/zone/platform.xml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/libc/inc/thr_uberdata.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libc/port/mapfile-vers","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libc/port/threads/pthr_attr.c","type":"MODIFIED","insertions":56,"deletions":-5},{"file":"usr/src/lib/libc/port/threads/pthread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/libc/port/threads/thr.c","type":"MODIFIED","insertions":91,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/lib/libfakekernel/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libproc/common/Pcontrol.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libproc/common/Pcore.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/lib/libproc/common/Pgcore.c","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"usr/src/lib/libproc/common/Plwpregs.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/common/libproc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libproc/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/man/man1/ps.1","type":"MODIFIED","insertions":22,"deletions":-11},{"file":"usr/src/man/man1m/prstat.1m","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/man/man3c/Makefile","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/man/man3c/pthread_attr_getname_np.3c","type":"ADDED","insertions":105,"deletions":0},{"file":"usr/src/man/man3c/pthread_getname_np.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3c/thr_getname.3c","type":"ADDED","insertions":124,"deletions":0},{"file":"usr/src/man/man3lib/libproc.3lib","type":"MODIFIED","insertions":30,"deletions":-30},{"file":"usr/src/man/man3proc/Makefile","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/man/man3proc/Plwp_getname.3proc","type":"ADDED","insertions":94,"deletions":0},{"file":"usr/src/man/man4/proc.4","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/pkg/manifests/system-dtrace-tests.mf","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3c.inc","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/pkg/manifests/system-library.man3proc.inc","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-test-libctest.mf","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/pkg/manifests/system-test-ostest.mf","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"usr/src/test/libc-tests/runfiles/default.run","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/test/libc-tests/tests/threads/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/test/libc-tests/tests/threads/thread_name.c","type":"ADDED","insertions":278,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_prctl.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":28,"deletions":-1},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":22,"deletions":-3},{"file":"usr/src/uts/common/exec/elf/elf_notes.c","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prdata.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/fs/proc/prvnops.c","type":"MODIFIED","insertions":99,"deletions":-12},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/sys/elf.h","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/procfs.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":2060,"sizeDeletions":-385}],"allReviewers":[{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}