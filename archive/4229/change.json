{"project":"joyent/node-cueball","branch":"master","id":"I09f6a09beb4e8b51e0f9e95da15f3d24a7e76720","number":"4229","subject":"joyent/node-cueball#141 Track failure events that occur in Cueball Reviewed by: Jan Wyszynski \u003cjan.wyszynski@joyent.com\u003e Approved by: Jan Wyszynski \u003cjan.wyszynski@joyent.com\u003e","owner":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"url":"https://cr.joyent.us/4229","commitMessage":"joyent/node-cueball#141 Track failure events that occur in Cueball\nReviewed by: Jan Wyszynski \u003cjan.wyszynski@joyent.com\u003e\nApproved by: Jan Wyszynski \u003cjan.wyszynski@joyent.com\u003e\n","createdOn":1529044066,"lastUpdated":1529615234,"open":false,"status":"MERGED","comments":[{"timestamp":1529044066,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 1."},{"timestamp":1529044126,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1529044409,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 2."},{"timestamp":1529044468,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1529045994,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 3."},{"timestamp":1529046053,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1529074536,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\n(5 comments)"},{"timestamp":1529095220,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 4."},{"timestamp":1529095281,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1529335719,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4: Code-Review+1\n\n(1 comment)"},{"timestamp":1529337718,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1529339159,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1529343076,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1529343141,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1529343460,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1529354778,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 6."},{"timestamp":1529354839,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1529359046,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 6:\n\n(4 comments)"},{"timestamp":1529359858,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 6:\n\n(4 comments)"},{"timestamp":1529364291,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 7."},{"timestamp":1529364351,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1529367674,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 7:\n\nAlso, as of the latest patch set, cueball unit tests continue to succeed as well as manta-adm deployed binder images built on these changes in cueball."},{"timestamp":1529600564,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 7: Code-Review+1\n\nThis looks good to me, thanks for adding the comment about the static array of events tracked with node-artedi."},{"timestamp":1529600857,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 7:\n\nI think for IA it\u0027d be good to test these changes with a component that isn\u0027t binder. Something in the datapath would be good -- Moray might be a good candidate with the recent integration of MORAY-418, which introduces cueball for Postgres connection pooling."},{"timestamp":1529604753,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 7:\n\n\u003e I think for IA it\u0027d be good to test these changes with a component\n \u003e that isn\u0027t binder. Something in the datapath would be good -- Moray\n \u003e might be a good candidate with the recent integration of MORAY-418,\n \u003e which introduces cueball for Postgres connection pooling.\n\nI think that makes a lot of sense.  I\u0027ll give it a spin on Moray."},{"timestamp":1529612896,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 7:\n\nI\u0027ve tested with Moray.  It requires a change where Moray passes down its collector to cueball.  This can happen in lib/pg.js.  After that, I forced a connection failure between moray and postgres simply by taking down every postgres instance that I had running.  This was sufficient for recording cueball failure-related event metrics.  So while we know that it works now, I\u0027m not in favor of adding the change to Moray to take advantage of cueball metrics as part of this ticket. My preference would be to perform that wiring on a per-component basis and track each of those individually with their own ticket."},{"timestamp":1529613600,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1529613897,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 8: Integration-Approval+1\n\nLooks good to me. Thanks for doing that additional testing!"},{"timestamp":1529614635,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Uploaded patch set 9: Commit message was updated."},{"timestamp":1529614776,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 9:\n\n\u003e Looks good to me. Thanks for doing that additional testing!\n\nAnd thank you for your high level of attention to detail."},{"timestamp":1529615234,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Bogart"}],"currentPatchSet":{"number":"9","revision":"09f6a09beb4e8b51e0f9e95da15f3d24a7e76720","parents":["b8275ba2c9f2cec20930728929d125b1af503c58"],"ref":"refs/changes/29/4229/9","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529614635,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529364351,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529600564,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1529613897,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}},{"type":"SUBM","value":"1","grantedOn":1529615234,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/pool.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/set.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/utils.js","type":"MODIFIED","insertions":75,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":94,"sizeDeletions":-8},"patchSets":[{"number":"1","revision":"d90e054d64b1390d4758d31c7d92735f02e21e10","parents":["db868f356fb206c9725653c2ab8419510a18f1c5"],"ref":"refs/changes/29/4229/1","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529044066,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529044126,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/agent.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/pool.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/set.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/utils.js","type":"MODIFIED","insertions":46,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":56,"sizeDeletions":-1},{"number":"2","revision":"0e2b13da388992d2c347f2fe4785f4250df44d16","parents":["db868f356fb206c9725653c2ab8419510a18f1c5"],"ref":"refs/changes/29/4229/2","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529044409,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529044468,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/agent.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/pool.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/set.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/utils.js","type":"MODIFIED","insertions":46,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-1},{"number":"3","revision":"c6332cd52afa7ccb7f7970b7cf058781720fd56b","parents":["db868f356fb206c9725653c2ab8419510a18f1c5"],"ref":"refs/changes/29/4229/3","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529045994,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529046053,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"It looks like cueball changes usually have a node-cueball GitHub issue."},{"file":"lib/set.js","line":6,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Could update the copyright (same for other files as well)"},{"file":"lib/utils.js","line":376,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Maybe we could create a label here to indicate these are from cueball. Something like { \u0027component\u0027: \u0027cueball\u0027 }? I vaguely recall us doing something similar in another library, but I can\u0027t recall which that is now."},{"file":"lib/utils.js","line":383,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"s/ae/ea/"},{"file":"lib/utils.js","line":398,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"mod_assert[.object]?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/pool.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/set.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/utils.js","type":"MODIFIED","insertions":46,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":62,"sizeDeletions":-4},{"number":"4","revision":"893842786c173f08d2235ab992b7232714c597ff","parents":["db868f356fb206c9725653c2ab8419510a18f1c5"],"ref":"refs/changes/29/4229/4","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529095220,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529095281,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529335719,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"lib/utils.js","line":28,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"I\u0027m wondering now if in the longer term we\u0027ll want to count more than just error events using the same counter.\n\nLike maybe we\u0027ll have metrics for all of the cueball events (rebalance, resolver state changes, pool/set state changes, etc.). If that\u0027s the case, maybe we could have a metric named \u0027cueball_events\u0027 with a label called \u0027event\u0027 or something. The \u0027event\u0027 label could take the values \u0027error,\u0027 \u0027rebalance,\u0027 \u0027state_changed,\u0027 etc.\n\nI guess this is a long-winded way of asking what you think about naming this metric \u0027cueball_events.\u0027 Then we could include labels that specify the type of event (\u0027error\u0027 for this case) and type-specific data like the actual error (e.g. \u0027retries-exhausted\u0027)."},{"file":"lib/utils.js","line":28,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"I had thought about that myself along the way.  I just wasn\u0027t sure if something like that would fly with you given that we\u0027re tracking these things on a per-pool basis already.  At any rate, assuming that it\u0027s not too much information, I agree with you.  For the time being, what would you think about the following?:\n\n1. Renaming that counter to \u0027cueball_events\u0027 like you suggested\n2. Adding an additional label to categorize the nature of the cueball event.  I\u0027d do this on behalf of the caller inside of `updateErrorMetrics()\u0027.\n3. Within `updateErrorMetrics\u0027, I\u0027d make sure that the event is only one of \u0027n\u0027 possible kinds of failure events and if it\u0027s not, just bail."},{"file":"lib/utils.js","line":28,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"This sounds good. Now that you mention it, I wonder if we can do something to help identify events for individual pools. Maybe the metric cardinality is too large to make that work though (like Muskie, which has a connection to all of the storage nodes)."},{"file":"lib/utils.js","line":28,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Currently, the uuid of the connection set or connection pool is included as one of the labels which will allow us to correlate certain events with their respective set or pool.  Truth be told, the muskie situation that you mentioned was the motivation for it."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/pool.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/set.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/utils.js","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":67,"sizeDeletions":-8},{"number":"5","revision":"68819c6b33471a6f7445199500892fbc16a27178","parents":["b8275ba2c9f2cec20930728929d125b1af503c58"],"ref":"refs/changes/29/4229/5","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529343076,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529095281,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529335719,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/pool.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/set.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/utils.js","type":"MODIFIED","insertions":48,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":67,"sizeDeletions":-8},{"number":"6","revision":"0783fb8e6a19681724d5436f00e558a9f0e0dd19","parents":["b8275ba2c9f2cec20930728929d125b1af503c58"],"ref":"refs/changes/29/4229/6","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529354778,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529354839,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/utils.js","line":30,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Prior to this change, one could call _incrCounter with any string as the first argument and have it be tracked in an internal dictionary. That\u0027s still true, but now, in order for an event identified by a string to be exported via artedi, it needs to be in this array. \n\nCould be have a comment somewhere explaining this situation given that it\u0027s a bit of a departure from the previous \u0027track-by-default\u0027 nature of _incrCounter. Perhaps it could be a comment above the method itself."},{"file":"lib/utils.js","line":30,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"That\u0027s reasonable.  I will add something both above this table as well as at the site of the method itself."},{"file":"lib/utils.js","line":387,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Do we need a variable here? If it\u0027s there for clarify I\u0027m fine with it, but there is already the \u0027labels\u0027 keys to identify things."},{"file":"lib/utils.js","line":387,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"I guess it depends on what clarity means to you.  I did because the OCD in me didn\u0027t want the call to create the collector to span more than one line.  Whatever the best practice in this situation is, I want to follow it, even if it means changing what I\u0027ve done.  You tell me?"},{"file":"lib/utils.js","line":406,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"It\u0027s common for a variable like this to be an error object in a lot of other parts of our codebase. Could we either rename it or add a comment explaining what the inputs are here?\n\nIt might also be good to know that the uuid points to a cueball connection{set,pool} that managers the collector in the first argument."},{"file":"lib/utils.js","line":406,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Sure, how does `errStr\u0027 sound?"},{"file":"lib/utils.js","line":411,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"This is nitty, but assert-plus can also assert that something is a uuid specifically: mod_assert.uuid(uuid, \u0027uuid\u0027). I\u0027m fine either way."},{"file":"lib/utils.js","line":411,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Works for me.  I\u0027ll do that."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/pool.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/set.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/utils.js","type":"MODIFIED","insertions":63,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":82,"sizeDeletions":-8},{"number":"7","revision":"af25790a33f59d77a79a3a567d3d53e687ead434","parents":["b8275ba2c9f2cec20930728929d125b1af503c58"],"ref":"refs/changes/29/4229/7","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529364291,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529364351,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529600564,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/pool.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/set.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/utils.js","type":"MODIFIED","insertions":75,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":94,"sizeDeletions":-8},{"number":"8","revision":"1905611d3c02e7d4b1ef19e68c73c515b27e81ab","parents":["b8275ba2c9f2cec20930728929d125b1af503c58"],"ref":"refs/changes/29/4229/8","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529613600,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529364351,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529600564,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1529613897,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/pool.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/set.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/utils.js","type":"MODIFIED","insertions":75,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":94,"sizeDeletions":-8},{"number":"9","revision":"09f6a09beb4e8b51e0f9e95da15f3d24a7e76720","parents":["b8275ba2c9f2cec20930728929d125b1af503c58"],"ref":"refs/changes/29/4229/9","uploader":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"createdOn":1529614635,"author":{"name":"Robert Bogart","email":"robert.bogart@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529364351,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529600564,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1529613897,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}},{"type":"SUBM","value":"1","grantedOn":1529615234,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"README.adoc","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/pool.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/set.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/utils.js","type":"MODIFIED","insertions":75,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":94,"sizeDeletions":-8}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}]}