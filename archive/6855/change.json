{"project":"joyent/manta-remora","branch":"master","id":"Ibdf78343f55613e7162fd4b1abaeb542474c9d7c","number":"6855","subject":"MANTA-4513 add metadata updater threadpool MANTA-4470 add thread to rebalancer zone to query agent for completed assignments and process them MANTA-4521 rebalancer zone should use batched database updates MANTA-4532 clean up warning in picker.rs Reviewed ","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/6855","commitMessage":"MANTA-4513 add metadata updater threadpool\nMANTA-4470 add thread to rebalancer zone to query agent for completed assignments and process them\nMANTA-4521 rebalancer zone should use batched database updates\nMANTA-4532 clean up warning in picker.rs\nReviewed by: Robert Bogart \u003cRobert.bogart@joyent.com\u003e\nApproved by: Robert Bogart \u003cRobert.bogart@joyent.com\u003e\n","createdOn":1567179921,"lastUpdated":1568160258,"open":false,"status":"MERGED","comments":[{"timestamp":1567179921,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1567180015,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n     Checking libsqlite3-sys v0.15.0\n    Compiling diesel-derive-enum v0.4.4 (https://github.com/adwhit/diesel-derive-enum.git#3316c02b)\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567192950,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2."},{"timestamp":1567193042,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n\"make check\" exited with status 2\n\n     Checking cookie v0.11.1\n    Compiling tempdir v0.3.7\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567205830,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 2:\n\n(3 comments)\n\nI don\u0027t have too much for now.  I see that there is some dead code as well as code that is commented out, so I didn\u0027t review that stuff.  Right now, I have more questions to make sure I understand so far.  might be a good idea to hop on a call on Monday to just verbally walk me through some of this if you have time."},{"timestamp":1567427743,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 1:\n\n(2 comments)\n\nThanks for the comments.  Yes, there is still more work to do here, but I wanted to throw this up so you could start to get familiar with the change."},{"timestamp":1567540664,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3."},{"timestamp":1567540771,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n\"make check\" exited with status 2\n\n \n    Compiling syn v0.15.44\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567542237,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4."},{"timestamp":1567542335,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n\"make check\" exited with status 2\n\n \n     Checking base64 v0.10.1\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567628263,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 5."},{"timestamp":1567628364,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing-1\n\n\"make check\" exited with status 2\n\n    Compiling tempdir v0.3.7\n error: aborting due to previous error\n \n    Compiling syn v0.15.44\n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567629011,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 6."},{"timestamp":1567629066,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 7."},{"timestamp":1567629113,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing-1\n\n\"make check\" exited with status 2\n\n     Checking want v0.2.0\n error: aborting due to previous error\n \n     Checking slog-scope v4.1.2\n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567629176,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing-1\n\n\"make check\" exited with status 2\n\n error: error reading Clippy\u0027s configuration file `/home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/typenum-1.11.2/clippy.toml`: unknown field `cognitive-complexity-threshold`, expected one of `blacklisted-names`, `cyclomatic-complexity-threshold`, `doc-valid-idents`, `too-many-arguments-threshold`, `type-complexity-threshold`, `single-char-binding-names-threshold`, `too-large-for-stack`, `enum-variant-name-threshold`, `enum-variant-size-threshold`, `verbose-bit-mask-threshold`, `literal-representation-threshold`, `trivial-copy-size-limit`, `third-party`\n \n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567694568,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 8."},{"timestamp":1567694675,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing-1\n\n\"make check\" exited with status 2\n\n \n     Checking mio v0.6.19\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567714475,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 8:\n\n(18 comments)"},{"timestamp":1567714548,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 9."},{"timestamp":1567714648,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing-1\n\n\"make check\" exited with status 2\n\n     Checking num-integer v0.1.41\n     Checking num-traits v0.1.43\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1567783407,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 10."},{"timestamp":1567783421,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 8:\n\n(17 comments)"},{"timestamp":1567783508,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing-1\n\n\"make check\" exited with status 2\n\n    Compiling mime_guess v2.0.1\n     Checking mime v0.3.13\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1568058216,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 11."},{"timestamp":1568058351,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing-1\n\n\"make check\" exited with status 2\n\n     Checking slog-scope v4.1.2\n     Checking openssl-sys v0.9.49\n error: aborting due to previous error\n \n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1568060939,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 11:\n\n(4 comments)"},{"timestamp":1568141573,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 12."},{"timestamp":1568141604,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 10:\n\n(4 comments)\n\nI also ran \u0027cargo fmt\u0027 so there will be some cosmetic only changes in this PS as well."},{"timestamp":1568141658,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12: CI-Testing-1\n\n\"make check\" exited with status 2\n\n     Checking want v0.2.0\n error: aborting due to previous error\n \n    Compiling pulldown-cmark v0.2.0\n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1568152900,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1568159958,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 13."},{"timestamp":1568160052,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13: CI-Testing-1\n\n\"make check\" exited with status 2\n\n error: aborting due to previous error\n \n     Checking cookie v0.11.1\n    Compiling tempdir v0.3.7\n error: Could not compile `typenum`.\n warning: build failed, waiting for other jobs to finish...\n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:3:5\n   |\n 3 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n  --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:6:5\n   |\n 6 | use std::convert::TryInto;\n   |     ^^^^^^^^^^^^^^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1124:52\n      |\n 1124 |         let bytes: [u8; 4] \u003d self.b.dict[pos..end].try_into().unwrap();\n      |                                                    ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n     --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/deflate/core.rs:1133:56\n      |\n 1133 |         let bytes: [u8; 8] \u003d self.b.dict[pos..pos + 8].try_into().unwrap();\n      |                                                        ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:342:44\n     |\n 342 |         let two_bytes \u003d iter.as_ref()[..2].try_into().unwrap();\n     |                                            ^^^^^^^^\n \n error[E0658]: use of unstable library feature \u0027try_from\u0027 (see issue #33417)\n    --\u003e /home/build/.cargo/registry/src/github.com-1ecc6299db9ec823/miniz_oxide-0.3.2/src/inflate/core.rs:357:54\n     |\n 357 |         let four_bytes: [u8; 4] \u003d iter.as_ref()[..4].try_into().unwrap();\n     |                                                      ^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `miniz_oxide`.\n warning: build failed, waiting for other jobs to finish...\n error: build failed\n gmake: *** [Makefile:12: check] Error 101"},{"timestamp":1568160082,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 13: Code-Review+1 Integration-Approval+1"},{"timestamp":1568160197,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 14: Commit message was updated."},{"timestamp":1568160258,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"14","revision":"bdf78343f55613e7162fd4b1abaeb542474c9d7c","parents":["3027d582770be210833c190add75152b03a78c79"],"ref":"refs/changes/55/6855/14","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1568160197,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1568160052,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568160082,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568160082,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"SUBM","value":"1","grantedOn":1568160258,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"src/agent.rs","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":833,"deletions":-328},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":24,"deletions":-7},{"file":"src/picker.rs","type":"MODIFIED","insertions":4,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":16,"deletions":-3}],"sizeInsertions":905,"sizeDeletions":-365},"patchSets":[{"number":"1","revision":"97fa39e18a3cd5c1f3eee1063e51366f3d575def","parents":["eb3e362d83b76a4d64b2065b2816e6533b0ec581"],"ref":"refs/changes/55/6855/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567179921,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567180015,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/jobs/evacuate.rs","line":668,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Passing the uuid of the metadata update to the broker looks the most appealing to me right now, but I\u0027m still wrapping my head around this."},{"file":"src/jobs/evacuate.rs","line":668,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"The trouble is that I need the destination shark data in order to update the metadata of the evacuate objects (and the dest shark is not part of the EvacuateObject).  Initially I wanted the EvacuateObject to be decoupled from the assignment / destination shark.  But I am starting to rethink that..."},{"file":"src/jobs/evacuate.rs","line":1180,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Is this related to the same thing that was discussed on 664-670?  If so, I\u0027m in favor of just passing the uuid."},{"file":"src/jobs/evacuate.rs","line":1199,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Maybe.  For testing purposes, I bet we\u0027d want to sleep less than we would for a situation in the field on the basis that assignments in real life will be much bigger."},{"file":"src/jobs/evacuate.rs","line":1199,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Yeah, this only impacts the frequency of calls between the rebalancer zone and the agents, and on failure the size of the data passed to and fro is fairly small.  So a smaller delay is probably ok. \n\nAlso, it might be interesting to include the time it takes to query the agents in this timeout.  i.e. if it takes 19 seconds to query all the agents then we only sleep for 1 second.  If it takes 21s then we don\u0027t sleep at all."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/error.rs","type":"MODIFIED","insertions":9,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":465,"deletions":-57},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":506,"sizeDeletions":-71},{"number":"2","revision":"e923235b7379e265e68c645bab3d101ab7d7d3f4","parents":["eb3e362d83b76a4d64b2065b2816e6533b0ec581"],"ref":"refs/changes/55/6855/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567192950,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567193042,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/error.rs","type":"MODIFIED","insertions":9,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":506,"deletions":-93},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":547,"sizeDeletions":-107},{"number":"3","revision":"33ff02cedb7ef7363d8b374f45a768d767a7ac65","parents":["eb3e362d83b76a4d64b2065b2816e6533b0ec581"],"ref":"refs/changes/55/6855/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567540664,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567540771,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/agent.rs","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":661,"deletions":-281},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":718,"sizeDeletions":-297},{"number":"4","revision":"87ee086d65c72fcc6d961868444a903d766a604f","parents":["eb3e362d83b76a4d64b2065b2816e6533b0ec581"],"ref":"refs/changes/55/6855/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567542237,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567542335,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/agent.rs","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":658,"deletions":-281},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":14,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":715,"sizeDeletions":-297},{"number":"5","revision":"c9e3c1c60551a4f01fc6fa86ea5a518f470e6f31","parents":["eb3e362d83b76a4d64b2065b2816e6533b0ec581"],"ref":"refs/changes/55/6855/5","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567628263,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567628364,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/agent.rs","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":739,"deletions":-294},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":15,"deletions":-7},{"file":"src/picker.rs","type":"MODIFIED","insertions":5,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":800,"sizeDeletions":-319},{"number":"6","revision":"5ba72441d4b325df2abdb6dee7f04a23e5d3f88f","parents":["39d8316f2521b2810609ce7e8e2def8585ad05bc"],"ref":"refs/changes/55/6855/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567629011,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567629113,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/agent.rs","type":"MODIFIED","insertions":5,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":739,"deletions":-294},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":5,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":789,"sizeDeletions":-316},{"number":"7","revision":"1d39441ee6636facde66981dee72c3ca18ebebb5","parents":["39d8316f2521b2810609ce7e8e2def8585ad05bc"],"ref":"refs/changes/55/6855/7","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567629066,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567629176,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/agent.rs","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":739,"deletions":-294},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":5,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":788,"sizeDeletions":-316},{"number":"8","revision":"508670feaff671dcc3a4c08e41fb727d1b32cd8b","parents":["39d8316f2521b2810609ce7e8e2def8585ad05bc"],"ref":"refs/changes/55/6855/8","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567694568,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567694675,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/jobs/evacuate.rs","line":436,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"rename"},{"file":"src/jobs/evacuate.rs","line":482,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Is this the first time an assignment is inserted into the hash?"},{"file":"src/jobs/evacuate.rs","line":482,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":490,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Consider change to expect()"},{"file":"src/jobs/evacuate.rs","line":490,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":503,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Instead of cloning assignment here, copy the manta_storage_id and total_size at the top of the function."},{"file":"src/jobs/evacuate.rs","line":503,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":518,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Add comment about how this could happen.  i.e. in the event that the picker has given us a new list of sharks that do not include this one.\n\nThis is rare, and doesn\u0027t necessarily mean that the assignment will fail."},{"file":"src/jobs/evacuate.rs","line":518,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":524,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"TODO: Consider dropping the tasks from the assignment to save memory."},{"file":"src/jobs/evacuate.rs","line":524,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":525,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Does this still need to return assignment?"},{"file":"src/jobs/evacuate.rs","line":525,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"No"},{"file":"src/jobs/evacuate.rs","line":530,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"space before {"},{"file":"src/jobs/evacuate.rs","line":530,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":547,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Add status code to error."},{"file":"src/jobs/evacuate.rs","line":547,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":671,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"TODO: How to handle assignment in wrong state.\n\npanic for now."},{"file":"src/jobs/evacuate.rs","line":671,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":690,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"change to post processing?"},{"file":"src/jobs/evacuate.rs","line":690,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"AgentComplete"},{"file":"src/jobs/evacuate.rs","line":713,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"remove"},{"file":"src/jobs/evacuate.rs","line":713,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":892,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Make Assignment::new(dest_shark, max_size)"},{"file":"src/jobs/evacuate.rs","line":892,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":1191,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"double check for race."},{"file":"src/jobs/evacuate.rs","line":1191,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":1227,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Note that we don\u0027t want to hold the lock around all the HTTP gets that will ensue."},{"file":"src/jobs/evacuate.rs","line":1227,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":1257,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"async await candidate."},{"file":"src/jobs/evacuate.rs","line":1257,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":1329,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Only want objects in the postprocessing state"},{"file":"src/jobs/evacuate.rs","line":1329,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":1347,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"fix comment to note that this does not affect the DB copy of the object."},{"file":"src/jobs/evacuate.rs","line":1347,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":4,"deletions":-5},{"file":"src/agent.rs","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":726,"deletions":-296},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":5,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":18,"deletions":-3}],"sizeInsertions":775,"sizeDeletions":-318},{"number":"9","revision":"d61e0a5f9111b1aba2931c89cb391aaf58c0e7b5","parents":["39d8316f2521b2810609ce7e8e2def8585ad05bc"],"ref":"refs/changes/55/6855/9","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567714548,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567714648,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"src/agent.rs","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":726,"deletions":-296},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":5,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":16,"deletions":-3}],"sizeInsertions":774,"sizeDeletions":-319},{"number":"10","revision":"4c365c0b4c3bc2a68d006962cf9dda094ae1087b","parents":["39d8316f2521b2810609ce7e8e2def8585ad05bc"],"ref":"refs/changes/55/6855/10","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1567783407,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1567783508,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/jobs/evacuate.rs","line":701,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Don\u0027t need the apostrophe.  I don\u0027t think you need tine next word (in) either."},{"file":"src/jobs/evacuate.rs","line":701,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"src/jobs/evacuate.rs","line":1046,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Is it possible to actually end up with an assignment that has an empty task list?"},{"file":"src/jobs/evacuate.rs","line":1046,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Yes, I added the following comment:\n                // The assignment could be empty if the last object received\n                // from sharkspotter can\u0027t be rebalanced to the destination\n                // shark (e.g. not enough space, object already on\n                // destination shark, etc).  Such objects would be skipped\n                // and be reconsidered when we rescan skipped objects in the\n                // local DB after sharkspotter has completed."},{"file":"src/jobs/evacuate.rs","line":1229,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"I think you can achieve the same thing with:\n\nlet assignment \u003d {\n    let a \u003d job_action.assignments.read().expect(\"assignments\");\n    a.clone()\n};\n\nIn general, my preference is to avoid situations where I need to explicitly call drop()."},{"file":"src/jobs/evacuate.rs","line":1229,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Great idea, I found an even more concise way to do it.\n\n                let assignments \u003d job_action.assignments\n                    .read()\n                    .expect(\"assignments read lock\")\n                    .clone();"},{"file":"src/jobs/evacuate.rs","line":1337,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"The convention that I have observed in a lot of other places in this file is that a given function will acquire the lock on the connection and then hold it for the duration, implicitly letting it go at the end.  I would at least consider doing that here so that you don\u0027t have to explicitly drop the lock and also, it looks like other db operations have their own function.  My hope in isolating out the db interaction / connection locking code is to (someday) maybe make it easier to have a single function that handles the locking and just takes a function or closure or something as an argument where locking the connection is not necessary."},{"file":"src/jobs/evacuate.rs","line":1337,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done.  Good call."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"src/agent.rs","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":759,"deletions":-321},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":23,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":5,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":16,"deletions":-3}],"sizeInsertions":822,"sizeDeletions":-344},{"number":"11","revision":"2bbf0b3dc3624843d62bd4fc18521e2106c26c6b","parents":["39d8316f2521b2810609ce7e8e2def8585ad05bc"],"ref":"refs/changes/55/6855/11","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1568058216,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1568058351,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"src/agent.rs","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":758,"deletions":-321},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":23,"deletions":-6},{"file":"src/picker.rs","type":"MODIFIED","insertions":5,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":16,"deletions":-3}],"sizeInsertions":821,"sizeDeletions":-344},{"number":"12","revision":"183c5a2a7f047f304cac9b169f86823d348e8d0d","parents":["3027d582770be210833c190add75152b03a78c79"],"ref":"refs/changes/55/6855/12","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1568141573,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1568141658,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568152900,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"src/agent.rs","type":"MODIFIED","insertions":17,"deletions":-13},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":833,"deletions":-328},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":24,"deletions":-7},{"file":"src/picker.rs","type":"MODIFIED","insertions":4,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":16,"deletions":-3}],"sizeInsertions":909,"sizeDeletions":-365},{"number":"13","revision":"a749e18cd4fab27f7f5993ac91c0e6d7c12cbb16","parents":["3027d582770be210833c190add75152b03a78c79"],"ref":"refs/changes/55/6855/13","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1568159958,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1568160052,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568160082,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568160082,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"src/agent.rs","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":833,"deletions":-328},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":24,"deletions":-7},{"file":"src/picker.rs","type":"MODIFIED","insertions":4,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":16,"deletions":-3}],"sizeInsertions":905,"sizeDeletions":-365},{"number":"14","revision":"bdf78343f55613e7162fd4b1abaeb542474c9d7c","parents":["3027d582770be210833c190add75152b03a78c79"],"ref":"refs/changes/55/6855/14","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1568160197,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1568160052,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1568160258,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568160082,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568160082,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"src/agent.rs","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"src/error.rs","type":"MODIFIED","insertions":10,"deletions":0},{"file":"src/jobs/evacuate.rs","type":"MODIFIED","insertions":833,"deletions":-328},{"file":"src/jobs/mod.rs","type":"MODIFIED","insertions":24,"deletions":-7},{"file":"src/picker.rs","type":"MODIFIED","insertions":4,"deletions":-8},{"file":"src/util.rs","type":"MODIFIED","insertions":16,"deletions":-3}],"sizeInsertions":905,"sizeDeletions":-365}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}]}