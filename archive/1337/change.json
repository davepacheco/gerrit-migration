{"project":"joyent/manta-mako","branch":"master","topic":"mako-mpu","id":"I58535bbe0dacd766e5156207377a898bad75b760","number":"1337","subject":"MANTA-3114 mako MPU commit support MANTA-3117 nginx should link against libumem MANTA-3118 mako worker count should be a sapi property MANTA-3119 mako needs CONTRIBUTING.md MANTA-3120 make clean should actually clean everything Reviewed by: Patrick Mooney","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/1337","commitMessage":"MANTA-3114 mako MPU commit support\nMANTA-3117 nginx should link against libumem\nMANTA-3118 mako worker count should be a sapi property\nMANTA-3119 mako needs CONTRIBUTING.md\nMANTA-3120 make clean should actually clean everything\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: Cody Mello \u003ccody.mello@joyent.com\u003e\nApproved by: David Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1485373900,"lastUpdated":1486074238,"open":false,"status":"MERGED","comments":[{"timestamp":1485373900,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1485373914,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Topic set to mako-mpu"},{"timestamp":1485373951,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485373980,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\nNote for reviewers, the current nginx submodule contained in here is incorrect; however, it will be updated before this goes back, once the changes in https://cr.joyent.us/#/c/1336/ have been merged."},{"timestamp":1485825442,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Code-Review+1\n\n(16 comments)"},{"timestamp":1485825503,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1485904971,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(16 comments)\n\nIn general I\u0027ve changed all of the t.test(false, ...) to just be t.fatal(message)."},{"timestamp":1485904999,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1485905035,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485905128,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1485905853,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3."},{"timestamp":1485905877,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1485905883,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485994635,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4."},{"timestamp":1485994667,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486018367,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1486065491,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1486065496,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: Integration-Approval-1"},{"timestamp":1486065498,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: -Integration-Approval"},{"timestamp":1486065938,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1486066273,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4:\n\n(2 comments)"},{"timestamp":1486072125,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 5."},{"timestamp":1486072166,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486072219,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5:\n\nNote, the submodule is now properly pointed at the current release tag.\n\nTo test these changes (both the nginx specific changes and our own), I\u0027ve down the following:\n\n* Augmented the mako test suite to cover MPU validation, large MPUs, correct removal of files after MPU commit, simultaneous racing commits, and subsequent commits worked\n* Specifically tested large offset streaming PUTs both via tests and via curl in different ways, which sends us down different nginx test paths\n* Verified that we were properly using the large file aware symbols in the built version of nginx\n* Left the tests running in a loop overnight and verified that once they were killed, there we did not leak any temporary files, file descriptors, have the nginx process grow beyond a reasonable amount of fragmentation, and verified that umem didn\u0027t find any leaks (though a large amount of the allocations are found on a per-request structures, so umem may not find things)\n* Went through the error / access logs and verified that there were no errors beyond our own logging of bad requests\n* Built images and verified that the SAPI manifests correctly were translated and successfully started nginx\n* Worked with Jordan to verify that this worked against muskie and worked against the actual nginx code paths that manta uses\n* Executed the alternate port and host aspects (via environment variables) of the test suite"},{"timestamp":1486072365,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1486072366,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1486074075,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Integration-Approval+1"},{"timestamp":1486074232,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1486074238,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"6","revision":"58535bbe0dacd766e5156207377a898bad75b760","parents":["f5842466af736ab7efffdf97e7134355e71f866c"],"ref":"refs/changes/37/1337/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1486074232,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486072166,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486072365,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486072366,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486074075,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1486074238,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":14,"deletions":0},{"file":"CONTRIBUTING.md","type":"ADDED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"README.md","type":"MODIFIED","insertions":34,"deletions":-18},{"file":"deps/nginx","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"sapi_manifests/mako/template","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/api.test.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"test/common.js","type":"ADDED","insertions":113,"deletions":0},{"file":"test/mpu-concur.test.js","type":"ADDED","insertions":185,"deletions":0},{"file":"test/mpu-large.test.js","type":"ADDED","insertions":115,"deletions":0},{"file":"test/mpu-validation.test.js","type":"ADDED","insertions":534,"deletions":0},{"file":"test/mpu.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"tools/mk/Makefile.nginx.defs","type":"MODIFIED","insertions":7,"deletions":-57},{"file":"tools/mk/Makefile.nginx.targ","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"tools/ngx_symcheck","type":"ADDED","insertions":67,"deletions":0}],"sizeInsertions":1436,"sizeDeletions":-90},"patchSets":[{"number":"1","revision":"973d71428ef3e138425e5f71538882ce0f59624c","parents":["f5842466af736ab7efffdf97e7134355e71f866c"],"ref":"refs/changes/37/1337/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1485373900,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485825442,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485373951,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":".gitmodules","line":6,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Probably not what we want."},{"file":".gitmodules","line":6,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Yes, as I noted in my notes to reviewers this was going to be incorrect until after https://cr.joyent.us/#/c/1336/ landed."},{"file":"Makefile","line":90,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I think this should be \u0027test/*.test.js\u0027 instead, so that only test files get run."},{"file":"Makefile","line":90,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"Makefile","line":102,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"trailing space"},{"file":"Makefile","line":102,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"Makefile","line":104,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"trailing tab"},{"file":"Makefile","line":104,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"README.md","line":47,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Need another \u0027)\u0027 to close the opening \u0027(\u0027."},{"file":"README.md","line":47,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"README.md","line":48,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Switch these to imperative tense like the nginx readme?"},{"file":"README.md","line":48,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"package.json","line":29,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Yikes"},{"file":"package.json","line":29,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is the node used for the internal commands in the repo. I agree it\u0027s not great, but also not something we\u0027re really changing / touching at this time."},{"file":"test/common.test.js","line":0,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Since this file is not a test but supporting functions, I think it should be renamed to \u0027common.js\u0027 so that it doesn\u0027t end up being run by the Makefile (and to indicate that it\u0027s not tests but helpers)."},{"file":"test/common.test.js","line":0,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-large.test.js","line":12,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"s/tahn/than/"},{"file":"test/mpu-large.test.js","line":12,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-large.test.js","line":16,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"s/correclty/correctly/"},{"file":"test/mpu-large.test.js","line":16,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-large.test.js","line":109,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You can use t.fail() here, instead."},{"file":"test/mpu-large.test.js","line":109,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Sorry, meant to update this one to also say t.ifError() would be better."},{"file":"test/mpu-large.test.js","line":109,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-validation.test.js","line":26,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"remove \"the\""},{"file":"test/mpu-validation.test.js","line":26,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-validation.test.js","line":35,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"s/roughly/are roughly/"},{"file":"test/mpu-validation.test.js","line":35,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-validation.test.js","line":175,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I would recommend using t.ifError(err, ...) here, so that you can see the error if it happens."},{"file":"test/mpu-validation.test.js","line":175,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-validation.test.js","line":199,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"t.ifError()"},{"file":"test/mpu-validation.test.js","line":199,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-validation.test.js","line":208,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"s/missing/required/"},{"file":"test/mpu-validation.test.js","line":208,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu-validation.test.js","line":240,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"t.ifError()"},{"file":"test/mpu-validation.test.js","line":240,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu.test.js","line":52,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"t.ifError() here and elsewhere in the file."},{"file":"test/mpu.test.js","line":52,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"test/mpu.test.js","line":52,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Or how about t.fail() instead?"},{"file":"test/mpu.test.js","line":52,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"They were all changed to t.fail."},{"file":"tools/ngx_symcheck","line":44,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You could also use `fgrep -q $sym`."},{"file":"tools/ngx_symcheck","line":44,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unfortunately that doesn\u0027t actually work as fgrep pread, matches the string pread64."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"CONTRIBUTING.md","type":"ADDED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"README.md","type":"MODIFIED","insertions":33,"deletions":-17},{"file":"deps/nginx","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"sapi_manifests/mako/template","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/api.test.js","type":"MODIFIED","insertions":19,"deletions":0},{"file":"test/common.test.js","type":"ADDED","insertions":113,"deletions":0},{"file":"test/mpu-large.test.js","type":"ADDED","insertions":115,"deletions":0},{"file":"test/mpu-validation.test.js","type":"ADDED","insertions":534,"deletions":0},{"file":"test/mpu.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"tools/mk/Makefile.nginx.defs","type":"MODIFIED","insertions":7,"deletions":-57},{"file":"tools/mk/Makefile.nginx.targ","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"tools/ngx_symcheck","type":"ADDED","insertions":67,"deletions":0}],"sizeInsertions":1239,"sizeDeletions":-89},{"number":"2","revision":"298b15dc99c4d963d7792df2653d7d874406a90c","parents":["f5842466af736ab7efffdf97e7134355e71f866c"],"ref":"refs/changes/37/1337/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1485904999,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485905035,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"CONTRIBUTING.md","type":"ADDED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"README.md","type":"MODIFIED","insertions":33,"deletions":-17},{"file":"deps/nginx","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"sapi_manifests/mako/template","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/api.test.js","type":"MODIFIED","insertions":19,"deletions":0},{"file":"test/common.js","type":"ADDED","insertions":113,"deletions":0},{"file":"test/mpu-large.test.js","type":"ADDED","insertions":115,"deletions":0},{"file":"test/mpu-validation.test.js","type":"ADDED","insertions":534,"deletions":0},{"file":"test/mpu.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"tools/mk/Makefile.nginx.defs","type":"MODIFIED","insertions":7,"deletions":-57},{"file":"tools/mk/Makefile.nginx.targ","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"tools/ngx_symcheck","type":"ADDED","insertions":67,"deletions":0}],"sizeInsertions":1239,"sizeDeletions":-89},{"number":"3","revision":"cf5f40672c4c5521093c18df00350cb44fc0a3df","parents":["f5842466af736ab7efffdf97e7134355e71f866c"],"ref":"refs/changes/37/1337/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1485905853,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485905883,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"CONTRIBUTING.md","type":"ADDED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":18,"deletions":-9},{"file":"README.md","type":"MODIFIED","insertions":33,"deletions":-17},{"file":"deps/nginx","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"sapi_manifests/mako/template","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/api.test.js","type":"MODIFIED","insertions":19,"deletions":0},{"file":"test/common.js","type":"ADDED","insertions":113,"deletions":0},{"file":"test/mpu-large.test.js","type":"ADDED","insertions":115,"deletions":0},{"file":"test/mpu-validation.test.js","type":"ADDED","insertions":534,"deletions":0},{"file":"test/mpu.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"tools/mk/Makefile.nginx.defs","type":"MODIFIED","insertions":7,"deletions":-57},{"file":"tools/mk/Makefile.nginx.targ","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"tools/ngx_symcheck","type":"ADDED","insertions":67,"deletions":0}],"sizeInsertions":1239,"sizeDeletions":-89},{"number":"4","revision":"5172a5824ca4db2b37283e20b8500154652294f6","parents":["f5842466af736ab7efffdf97e7134355e71f866c"],"ref":"refs/changes/37/1337/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1485994635,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486018367,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485994667,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486065938,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":".gitmodules","line":6,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I\u0027m not sure you want to commit this with the file:// uri here"},{"file":"sapi_manifests/mako/template","line":20,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Yay"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"CONTRIBUTING.md","type":"ADDED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"README.md","type":"MODIFIED","insertions":33,"deletions":-17},{"file":"deps/nginx","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"sapi_manifests/mako/template","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/api.test.js","type":"MODIFIED","insertions":19,"deletions":0},{"file":"test/common.js","type":"ADDED","insertions":113,"deletions":0},{"file":"test/mpu-concur.test.js","type":"ADDED","insertions":185,"deletions":0},{"file":"test/mpu-large.test.js","type":"ADDED","insertions":115,"deletions":0},{"file":"test/mpu-validation.test.js","type":"ADDED","insertions":534,"deletions":0},{"file":"test/mpu.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"tools/mk/Makefile.nginx.defs","type":"MODIFIED","insertions":7,"deletions":-57},{"file":"tools/mk/Makefile.nginx.targ","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"tools/ngx_symcheck","type":"ADDED","insertions":67,"deletions":0}],"sizeInsertions":1435,"sizeDeletions":-89},{"number":"5","revision":"41feecd6ebd6ddbaa57a1ce1d3f82cefb81ccbf2","parents":["f5842466af736ab7efffdf97e7134355e71f866c"],"ref":"refs/changes/37/1337/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1486072125,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486074075,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486072365,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486072166,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486072366,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"CONTRIBUTING.md","type":"ADDED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"README.md","type":"MODIFIED","insertions":34,"deletions":-18},{"file":"deps/nginx","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"sapi_manifests/mako/template","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/api.test.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"test/common.js","type":"ADDED","insertions":113,"deletions":0},{"file":"test/mpu-concur.test.js","type":"ADDED","insertions":185,"deletions":0},{"file":"test/mpu-large.test.js","type":"ADDED","insertions":115,"deletions":0},{"file":"test/mpu-validation.test.js","type":"ADDED","insertions":534,"deletions":0},{"file":"test/mpu.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"tools/mk/Makefile.nginx.defs","type":"MODIFIED","insertions":7,"deletions":-57},{"file":"tools/mk/Makefile.nginx.targ","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"tools/ngx_symcheck","type":"ADDED","insertions":67,"deletions":0}],"sizeInsertions":1436,"sizeDeletions":-90},{"number":"6","revision":"58535bbe0dacd766e5156207377a898bad75b760","parents":["f5842466af736ab7efffdf97e7134355e71f866c"],"ref":"refs/changes/37/1337/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1486074232,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486074075,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1486074238,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486072365,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486072166,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486072366,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":14,"deletions":0},{"file":"CONTRIBUTING.md","type":"ADDED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"README.md","type":"MODIFIED","insertions":34,"deletions":-18},{"file":"deps/nginx","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"sapi_manifests/mako/template","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/api.test.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"test/common.js","type":"ADDED","insertions":113,"deletions":0},{"file":"test/mpu-concur.test.js","type":"ADDED","insertions":185,"deletions":0},{"file":"test/mpu-large.test.js","type":"ADDED","insertions":115,"deletions":0},{"file":"test/mpu-validation.test.js","type":"ADDED","insertions":534,"deletions":0},{"file":"test/mpu.test.js","type":"ADDED","insertions":281,"deletions":0},{"file":"tools/mk/Makefile.nginx.defs","type":"MODIFIED","insertions":7,"deletions":-57},{"file":"tools/mk/Makefile.nginx.targ","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"tools/ngx_symcheck","type":"ADDED","insertions":67,"deletions":0}],"sizeInsertions":1436,"sizeDeletions":-90}],"allReviewers":[{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}