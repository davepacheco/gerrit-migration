{"project":"joyent/moray-test-suite","branch":"master","topic":"MORAY-403","id":"I0fb11f6f5360178ef386d916e402574badb35824","number":"2316","subject":"MORAY-403 UpdateObjects generates bad SQL for non-boolean/number/string values MORAY-406 PutObject with a null field rarely does what you expect Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/2316","commitMessage":"MORAY-403 UpdateObjects generates bad SQL for non-boolean/number/string values\nMORAY-406 PutObject with a null field rarely does what you expect\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\n","createdOn":1501628215,"lastUpdated":1504655952,"open":false,"status":"MERGED","comments":[{"timestamp":1501628215,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1501628218,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1501628277,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1501628328,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1501628551,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to MORAY-403"},{"timestamp":1504648747,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2:\n\nLooks pretty good... can we add a FindObjects on one of the array type fields you\u0027ve added, though? And an UpdateObjects keyed on one? Could be done as a separate bug if you want."},{"timestamp":1504649230,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2: Code-Review+1\n\nIgnore my last comment, sorry. (private chat discussion cleared it up)"},{"timestamp":1504650461,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1504650471,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1504650861,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1504655878,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1504655952,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"3","revision":"0fb11f6f5360178ef386d916e402574badb35824","parents":["ed77491b11f5264c97e3296d863399145b300f0e"],"ref":"refs/changes/16/2316/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1504650461,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504650471,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504650861,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1504655878,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1504655952,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"test/objects.test.js","type":"MODIFIED","insertions":264,"deletions":-7}],"sizeInsertions":264,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"c91fb24d21f15d36b172583b93f41dd6a7d8e3ba","parents":["33d1d8165bb9f57586287225f5b5028f9b84d72c"],"ref":"refs/changes/16/2316/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1501628215,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1501628218,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/objects.test.js","line":1534,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: v5"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"test/objects.test.js","type":"MODIFIED","insertions":265,"deletions":-7}],"sizeInsertions":265,"sizeDeletions":-7},{"number":"2","revision":"35dd5a29c09cb1816848ddb96f8bf7fe5c7b991f","parents":["33d1d8165bb9f57586287225f5b5028f9b84d72c"],"ref":"refs/changes/16/2316/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1501628277,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504649230,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501628328,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"test/objects.test.js","type":"MODIFIED","insertions":264,"deletions":-7}],"sizeInsertions":264,"sizeDeletions":-7},{"number":"3","revision":"0fb11f6f5360178ef386d916e402574badb35824","parents":["ed77491b11f5264c97e3296d863399145b300f0e"],"ref":"refs/changes/16/2316/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1504650461,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"SUBM","value":"1","grantedOn":1504655952,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504650861,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1504655878,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504650471,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"test/objects.test.js","type":"MODIFIED","insertions":264,"deletions":-7}],"sizeInsertions":264,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}