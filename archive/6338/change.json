{"project":"joyent/sdc-papi","branch":"master","id":"I0ac1ba03af0a2cb57fde97dbfd54721a8f6c2b5f","number":"6338","subject":"TRITON-1681 PAPI should use node-eslint-plugin-joyent for linting Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/6338","commitMessage":"TRITON-1681 PAPI should use node-eslint-plugin-joyent for linting\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1558466693,"lastUpdated":1559743389,"open":false,"status":"MERGED","comments":[{"timestamp":1558466693,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1558466699,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit ccd14ebd80b7667df0f4a43116325cdac57a93b2\n    \n    TRITON-1681 PAPI should use node-eslint-plugin-joyent for linting"},{"timestamp":1558466700,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/papi.xml\n ESLINT_VER\u003d$(/tmp/repo/build/node/bin/node -e \u0027console.log(require(\"./package.json\").devDependencies[\"eslint\"] || \"\")\u0027) \u0026\u0026 \\\n     ESLINT_JOY_VER\u003d$(/tmp/repo/build/node/bin/node -e \u0027console.log(require(\"./package.json\").devDependencies[\"eslint-plugin-joyent\"] || \"\")\u0027) \u0026\u0026 \\\n     [[ -n $ESLINT_VER \u0026\u0026 -n $ESLINT_JOY_VER ]] \u0026\u0026 \\\n     PATH\u003d/tmp/repo/build/node/bin:/opt/local/sbin:/opt/local/bin:/usr/gnu/bin:/usr/bin:/usr/sbin:/bin:/sbin:/home/build/javascriptlint/build/install:/home/build/jsstyle /tmp/repo/build/node/bin/node /tmp/repo/build/node/bin/npm install --no-save eslint@$ESLINT_VER eslint-plugin-joyent@$ESLINT_JOY_VER \u0026\u0026 \\\n     touch node_modules/.bin/eslint\n ld.so.1: node: fatal: relocation error: file /tmp/repo/build/node/bin/node: symbol _ZTTNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEE: referenced symbol not found\n /bin/sh: line 1: 818494: Killed\n deps/eng/tools/mk/Makefile.deps:71: recipe for target \u0027node_modules/.bin/eslint\u0027 failed\n gmake: *** [node_modules/.bin/eslint] Killed"},{"timestamp":1559580793,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1559580797,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 70a5601707c3cb6d52e624c368636a614866439c\n    \n    TRITON-1681 PAPI should use node-eslint-plugin-joyent for linting"},{"timestamp":1559580801,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/papi.xml\n ESLINT_VER\u003d$(/tmp/repo/build/node/bin/node -e \u0027console.log(require(\"./package.json\").devDependencies[\"eslint\"] || \"\")\u0027) \u0026\u0026 \\\n     ESLINT_JOY_VER\u003d$(/tmp/repo/build/node/bin/node -e \u0027console.log(require(\"./package.json\").devDependencies[\"eslint-plugin-joyent\"] || \"\")\u0027) \u0026\u0026 \\\n     [[ -n $ESLINT_VER \u0026\u0026 -n $ESLINT_JOY_VER ]] \u0026\u0026 \\\n     PATH\u003d/tmp/repo/build/node/bin:/opt/local/sbin:/opt/local/bin:/usr/gnu/bin:/usr/bin:/usr/sbin:/bin:/sbin:/home/build/javascriptlint/build/install:/home/build/jsstyle /tmp/repo/build/node/bin/node /tmp/repo/build/node/bin/npm install --no-save eslint@$ESLINT_VER eslint-plugin-joyent@$ESLINT_JOY_VER \u0026\u0026 \\\n     touch node_modules/.bin/eslint\n ld.so.1: node: fatal: relocation error: file /tmp/repo/build/node/bin/node: symbol _ZTTNSt7__cxx1118basic_stringstreamIcSt11char_traitsIcESaIcEEE: referenced symbol not found\n /bin/sh: line 1: 4214: Killed\n deps/eng/tools/mk/Makefile.deps:71: recipe for target \u0027node_modules/.bin/eslint\u0027 failed\n gmake: *** [node_modules/.bin/eslint] Killed"},{"timestamp":1559584543,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3."},{"timestamp":1559584547,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 1699130633d6093e85add64db4151e2a0b5b12e9\n    \n    TRITON-1681 PAPI should use node-eslint-plugin-joyent for linting"},{"timestamp":1559584572,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1559659496,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3:\n\nHey Orlando! This is just linter changes. Mind to take a look? Tests are passing with the changes so far."},{"timestamp":1559681327,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1559743379,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1559743389,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"4","revision":"0ac1ba03af0a2cb57fde97dbfd54721a8f6c2b5f","parents":["f003733538afdd7440c55926bca754966da1ccba"],"ref":"refs/changes/38/6338/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1559743379,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559584572,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559681327,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559681327,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1559743389,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".eslintrc","type":"ADDED","insertions":46,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/backend.js","type":"MODIFIED","insertions":44,"deletions":-33},{"file":"lib/migrations/migration-001-remove-stale-attributes.js","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"lib/papi.js","type":"MODIFIED","insertions":189,"deletions":-115},{"file":"lib/tools.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/validations.js","type":"MODIFIED","insertions":37,"deletions":-32},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"server.js","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":343,"sizeDeletions":-202},"patchSets":[{"number":"1","revision":"950704fa122a1959af4c67c427f881d6a3ab3282","parents":["196e0c13f8926a3c8e4aaa15d8669742a3a5384a"],"ref":"refs/changes/38/6338/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1558466693,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1558466700,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".eslintrc","type":"ADDED","insertions":46,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/backend.js","type":"MODIFIED","insertions":44,"deletions":-33},{"file":"lib/migrations/migration-001-remove-stale-attributes.js","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"lib/papi.js","type":"MODIFIED","insertions":189,"deletions":-115},{"file":"lib/tools.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/validations.js","type":"MODIFIED","insertions":37,"deletions":-32},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"server.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":342,"sizeDeletions":-201},{"number":"2","revision":"b7c636ddddb8b724e1a9f6458f7249e3711bc80d","parents":["f003733538afdd7440c55926bca754966da1ccba"],"ref":"refs/changes/38/6338/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1559580793,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1558466700,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".eslintrc","type":"ADDED","insertions":46,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/backend.js","type":"MODIFIED","insertions":44,"deletions":-33},{"file":"lib/migrations/migration-001-remove-stale-attributes.js","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"lib/papi.js","type":"MODIFIED","insertions":189,"deletions":-115},{"file":"lib/tools.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/validations.js","type":"MODIFIED","insertions":37,"deletions":-32},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"server.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":342,"sizeDeletions":-201},{"number":"3","revision":"5abdfa4ec5c69dc5a1c4410195d3cba7799c8455","parents":["f003733538afdd7440c55926bca754966da1ccba"],"ref":"refs/changes/38/6338/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1559584543,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559584572,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559681327,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559681327,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".eslintrc","type":"ADDED","insertions":46,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/backend.js","type":"MODIFIED","insertions":44,"deletions":-33},{"file":"lib/migrations/migration-001-remove-stale-attributes.js","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"lib/papi.js","type":"MODIFIED","insertions":189,"deletions":-115},{"file":"lib/tools.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/validations.js","type":"MODIFIED","insertions":37,"deletions":-32},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"server.js","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":343,"sizeDeletions":-202},{"number":"4","revision":"0ac1ba03af0a2cb57fde97dbfd54721a8f6c2b5f","parents":["f003733538afdd7440c55926bca754966da1ccba"],"ref":"refs/changes/38/6338/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1559743379,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559584572,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1559743389,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559681327,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559681327,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".eslintrc","type":"ADDED","insertions":46,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/backend.js","type":"MODIFIED","insertions":44,"deletions":-33},{"file":"lib/migrations/migration-001-remove-stale-attributes.js","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"lib/papi.js","type":"MODIFIED","insertions":189,"deletions":-115},{"file":"lib/tools.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/validations.js","type":"MODIFIED","insertions":37,"deletions":-32},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"server.js","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":343,"sizeDeletions":-202}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}