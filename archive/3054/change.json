{"project":"joyent/illumos-joyent","branch":"master","id":"Ia52dd1de494223aa5cbd41a0f9caa61a31da59cf","number":"3054","subject":"OS-6496 Add platform-specific topo maps for the Joyent J310x platform Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e","owner":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"url":"https://cr.joyent.us/3054","commitMessage":"OS-6496 Add platform-specific topo maps for the Joyent J310x platform\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\n","createdOn":1512528936,"lastUpdated":1513206009,"open":false,"status":"MERGED","comments":[{"timestamp":1512528936,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 1."},{"timestamp":1512587834,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(1 comment)\n\nCan you describe how the new topo maps are found and loaded for these systems? Is it the case that because we have an hc-topology.xml entry for these that topo will end up finding the entries and that\u0027s why we no longer need the entries in the legacy-hc-topology?\n\nAlso, we\u0027re going to need to update out top-level manifest (the file in the root of illumos-joyent called manifest) to make sure that we\u0027re shipping these files as we ultimately don\u0027t end up leveraging the IPS manifests in our build today."},{"timestamp":1512597142,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 2."},{"timestamp":1512597990,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 2:\n\n(1 comment)\n\nI updated the top-level manifest file and resolved the whitespace issues.  I also made an additional change to the chassis propmap to address an xmllint error (the DTD specifies that facility elements have to come before propgroup elements).\n\nWRT to how topo maps are found and loaded, the logic lives in topo_search_path().  But in a nutshell, it searches for map files in the following order:\n\n/usr/platform/\u003carch\u003e/lib/fm/topo/maps/\u003cplatform\u003e-\u003cscheme\u003e-topology.xml\n\n/usr/platform/\u003carch\u003e/lib/fm/topo/maps/\u003carch\u003e-\u003cscheme\u003e-topology.xml\n\nSo on our SMCI boxes, it will look for one of the following (depending on what product id topo got from smbios)\n\n/usr/platform/i86pc/lib/fm/topo/maps/SSG-2028R-ACR24L-hc-topology.xml\n/usr/platform/i86pc/lib/fm/topo/maps/Joyent-Compute-Platform-3101-hc-topology.xml\n/usr/platform/i86pc/lib/fm/topo/maps/Joyent-Compute-Platform-3102-hc-topology.xml\n\nand if that\u0027s not found, it will look for:\n\n/usr/platform/i86pc/lib/fm/topo/maps/i86pc-hc-topology.xml\n\ni86pc-hc-topology.xml loads the x86pi module, which checks if the platform is PRMS compliant, which is won\u0027t be, at which point it will load i86pc-legacy-hc-topology.xml."},{"timestamp":1512601314,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1512695391,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1512783160,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1512787671,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 5."},{"timestamp":1512787965,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 6."},{"timestamp":1512788220,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 6:\n\n(2 comments)\n\nSo, the makefile was creating symlinks, but the install target was then creating copies rather than symlinks in the proto area.  I ended up having to make some additional makefile tweaks to ensure that what got installed in the proto area were actually symlinks.  After I got that working, I fixed the top-level manifest file and the IPS manifest and did an incremental build to make sure nothing complained.\n\nI also added the generated SSG-2028R-ACR24L-disk-hc-topology.xml file to .gitignore."},{"timestamp":1513022516,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6:\n\n(2 comments)"},{"timestamp":1513027520,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 7."},{"timestamp":1513027619,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 7:\n\n(2 comments)\n\nMakefile comments addressed."},{"timestamp":1513031705,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1513202830,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1513203309,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 8."},{"timestamp":1513203489,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 8:\n\n(1 comment)\n\nwhitespace issue fixed"},{"timestamp":1513203644,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 8: Integration-Approval+1"},{"timestamp":1513204334,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1513204743,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 9: Commit message was updated."},{"timestamp":1513205847,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 10: Commit message was updated."},{"timestamp":1513205991,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 11: Patch Set 10 was rebased."},{"timestamp":1513206009,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rob Johnston"}],"currentPatchSet":{"number":"11","revision":"a52dd1de494223aa5cbd41a0f9caa61a31da59cf","parents":["7ff9b8c219fc6754caba481e5482c33ec6161010"],"ref":"refs/changes/54/3054/11","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1513205991,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513203644,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513204334,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1513206009,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":26,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":179,"sizeDeletions":-25},"patchSets":[{"number":"1","revision":"ad42b8e34cc5e7363fa6977b65b8d66deed30073","parents":["01237f2faf8394725d08c50b8ea0dc43d40c0051"],"ref":"refs/changes/54/3054/1","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512528936,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","line":59,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should we clean up these trailing whitespace errors?"},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","line":59,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":22,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":169,"sizeDeletions":-24},{"number":"2","revision":"3456ef21170c563d6c44469648ef3ac8db487a1c","parents":["169b99d0c43809ccb5e7eb15603f34a76048141f"],"ref":"refs/changes/54/3054/2","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512597142,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","comments":[{"file":"manifest","line":10208,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I noticed that these are being created as symlinks in the proto area. Is there a reason that we\u0027re shipping them as files here rather than symlinks?"},{"file":"manifest","line":10208,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Fixed, though the there was a bit more to it.  I\u0027ll explain more when I post the feedback"},{"file":"manifest","line":10211,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Clean up trailing spaces?"},{"file":"manifest","line":10211,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":22,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-25},{"number":"3","revision":"5bd112ef893bd719f5b056a7328a6580f140d58a","parents":["3e13895873a9c9d7007f44e4b327bdcc8b13e254"],"ref":"refs/changes/54/3054/3","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512695391,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":22,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-25},{"number":"4","revision":"ce957f3cbb8682092411629cf79579aa42740099","parents":["286b477ba63c93addd67a07ffd02179397d987b9"],"ref":"refs/changes/54/3054/4","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512783160,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":22,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":174,"sizeDeletions":-25},{"number":"5","revision":"1780c9e2d7556f24f1ddbf8f4fead49fe1de0262","parents":["286b477ba63c93addd67a07ffd02179397d987b9"],"ref":"refs/changes/54/3054/5","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512787671,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"DELETED","insertions":0,"deletions":-43},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"ADDED","insertions":66,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":219,"sizeDeletions":-63},{"number":"6","revision":"fb96149384c9d4da1a513ee5ead7d45301c6f684","parents":["286b477ba63c93addd67a07ffd02179397d987b9"],"ref":"refs/changes/54/3054/6","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1512787965,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","line":54,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should this be an install of ROOTJOYENTMAPS? As we want it to target the files that are actually delivered into the proto area?"},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","line":54,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","line":65,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is this creating a symlink between the protoarea and the build directory or is actually creating the symlink in the proto area?"},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","line":65,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"It\u0027s creating the symlink in the proto area, only."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"DELETED","insertions":0,"deletions":-43},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"ADDED","insertions":66,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":219,"sizeDeletions":-63},{"number":"7","revision":"db8aac69c79b8d6111641826bc567ea17822de0a","parents":["286b477ba63c93addd67a07ffd02179397d987b9"],"ref":"refs/changes/54/3054/7","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1513027520,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513031705,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","line":56,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"It would probably be best if these lines were indented with spaces like all of the others?  They seem to have a hard tab at the moment."},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","line":56,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":26,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":179,"sizeDeletions":-25},{"number":"8","revision":"090bbdcb04ce71ac70a5aaf3c2978ab4d9e483a9","parents":["2d753234c9a97d21cf9acb73e0b121c9334f2656"],"ref":"refs/changes/54/3054/8","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1513203309,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513204334,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513203644,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":26,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":179,"sizeDeletions":-25},{"number":"9","revision":"0e47883b36698ac07208fbe3bc7fc8c625ec58b9","parents":["ea0a25e06aa8bfa87e6fb833939a4112723911ca"],"ref":"refs/changes/54/3054/9","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1513204743,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513204334,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513203644,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":26,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":179,"sizeDeletions":-25},{"number":"10","revision":"39c9bbcdfdec013043c01c4c462940fcf445b5c0","parents":["ea0a25e06aa8bfa87e6fb833939a4112723911ca"],"ref":"refs/changes/54/3054/10","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1513205847,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513204334,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513203644,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":26,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":179,"sizeDeletions":-25},{"number":"11","revision":"a52dd1de494223aa5cbd41a0f9caa61a31da59cf","parents":["7ff9b8c219fc6754caba481e5482c33ec6161010"],"ref":"refs/changes/54/3054/11","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1513205991,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513204334,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513203644,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1513206009,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Makefile","type":"RENAMED","insertions":26,"deletions":-5},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-chassis-hc-topology.xml","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-disk-hc-topology.xmlgenksh","fileOld":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-3101/Joyent-Compute-Platform-3101-disk-hc-topology.xmlgenksh","type":"RENAMED","insertions":0,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"ADDED","insertions":90,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":0,"deletions":-17},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":14,"deletions":-1}],"sizeInsertions":179,"sizeDeletions":-25}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}]}