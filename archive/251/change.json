{"project":"joyent/mountain-gorilla","branch":"master","id":"I9a6fa44773c7acfc55a983237f5db9d4ca10dc9a","number":"251","subject":"RELENG-703 clean out headnode builds in Manta per RFD 47","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/251","commitMessage":"RELENG-703 clean out headnode builds in Manta per RFD 47\n","createdOn":1470680433,"lastUpdated":1470700789,"open":false,"status":"MERGED","comments":[{"timestamp":1470680433,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1470681126,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1470689008,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1470689097,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1470689325,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(3 comments)\n\nI didn\u0027t look too closely at the shell code, and none of this feedback is that critical."},{"timestamp":1470689371,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1470694676,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 5."},{"timestamp":1470694802,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1470699521,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1470700786,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5: Integration-Approval+1"},{"timestamp":1470700789,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"5","revision":"9a6fa44773c7acfc55a983237f5db9d4ca10dc9a","parents":["a1e8369704ba86bd3bc08320ae4265f8e8ab474f"],"ref":"refs/changes/51/251/5","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1470694676,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470699521,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470700786,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1470700789,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/purge-mg-builds","type":"ADDED","insertions":348,"deletions":0}],"sizeInsertions":348,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"9de3c66ea23242ef045a7b7aa1708e5d6746bd63","parents":["d0c41a08fba482cd0fe79acc93e1dacd7be74025"],"ref":"refs/changes/51/251/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1470680433,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/purge-mg-builds","type":"ADDED","insertions":341,"deletions":0}],"sizeInsertions":341,"sizeDeletions":0},{"number":"2","revision":"e55a739f7370f9c6a77214813cd5d05219bd6aa5","parents":["d0c41a08fba482cd0fe79acc93e1dacd7be74025"],"ref":"refs/changes/51/251/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1470681126,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","comments":[{"file":"tools/purge-mg-builds","line":68,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Can you explain what this value is, exactly?  I think it\u0027s a mapping from build name to the number of days\u0027 builds to keep.  Is that right?"},{"file":"tools/purge-mg-builds","line":68,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Yes. Added in patchset 5."},{"file":"tools/purge-mg-builds","line":72,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"What\u0027s with the \": 365\" on these lines?  These aren\u0027t present in the mapping, right?  I think you may want to change \"explicit\" to \"deliberate\"."},{"file":"tools/purge-mg-builds","line":72,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Done in patchset 5."},{"file":"tools/purge-mg-builds","line":275,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Does this work with OS X Date, GNU date, and illumos date?  (I don\u0027t think it needs to, but I\u0027ve found that they often do different things with the same flags, and it\u0027s worthwhile to add a guard for it if someone does try to use it on OS X or something.)"},{"file":"tools/purge-mg-builds","line":275,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"It only worked on OS X Date. I gave up trying to find a compat way with `date`, and have switched to a node one-liner in patchset 5."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/purge-mg-builds","type":"ADDED","insertions":341,"deletions":0}],"sizeInsertions":341,"sizeDeletions":0},{"number":"3","revision":"70cd8e570ec67d786f6e23f4d81989beae0a0934","parents":["d0c41a08fba482cd0fe79acc93e1dacd7be74025"],"ref":"refs/changes/51/251/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1470689008,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/purge-mg-builds","type":"ADDED","insertions":341,"deletions":0}],"sizeInsertions":341,"sizeDeletions":0},{"number":"4","revision":"daddf15aa0ca16dd2f1dcd65104c4c90ee1c5c6c","parents":["a1e8369704ba86bd3bc08320ae4265f8e8ab474f"],"ref":"refs/changes/51/251/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1470689097,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470689371,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/purge-mg-builds","type":"ADDED","insertions":341,"deletions":0}],"sizeInsertions":341,"sizeDeletions":0},{"number":"5","revision":"9a6fa44773c7acfc55a983237f5db9d4ca10dc9a","parents":["a1e8369704ba86bd3bc08320ae4265f8e8ab474f"],"ref":"refs/changes/51/251/5","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1470694676,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470699521,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470700786,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1470700789,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/purge-mg-builds","type":"ADDED","insertions":348,"deletions":0}],"sizeInsertions":348,"sizeDeletions":0}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}