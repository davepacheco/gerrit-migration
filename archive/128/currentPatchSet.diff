From 0f3759c7b47a0b91bd075355299b9936dd9a9823 Mon Sep 17 00:00:00 2001
From: Alex Wilson <alex.wilson@joyent.com>
Date: Thu, 21 Jul 2016 16:15:30 -0700
Subject: [PATCH] joyent/node-sshpk#7 Reorganize test assets into "assets"
 subdir Reviewed by: Cody Mello <cody.mello@joyent.com>

---
 test/{ => assets}/id_dsa            |  0
 test/{ => assets}/id_dsa2           |  0
 test/{ => assets}/id_dsa3           |  0
 test/{ => assets}/id_ecdsa          |  0
 test/{ => assets}/id_ecdsa2         |  0
 test/{ => assets}/id_ecdsa3         |  0
 test/{ => assets}/id_ecdsa_exp      |  0
 test/{ => assets}/id_ed25519        |  0
 test/{ => assets}/id_ed25519.pub    |  0
 test/{ => assets}/id_ed255192       |  0
 test/{ => assets}/id_rsa            |  0
 test/{ => assets}/id_rsa2           |  0
 test/{ => assets}/id_rsa_o          |  0
 test/{ => assets}/oakley_pubkey.pem |  0
 test/{ => assets}/secp224r1_key.pem |  0
 test/dhe.js                         | 18 ++++++++++--------
 test/dhe_compat.js                  | 18 ++++++++++--------
 test/openssl-cmd.js                 |  2 +-
 test/private-key.js                 |  2 +-
 test/signature.js                   |  2 +-
 20 files changed, 23 insertions(+), 19 deletions(-)
 rename test/{ => assets}/id_dsa (100%)
 rename test/{ => assets}/id_dsa2 (100%)
 rename test/{ => assets}/id_dsa3 (100%)
 rename test/{ => assets}/id_ecdsa (100%)
 rename test/{ => assets}/id_ecdsa2 (100%)
 rename test/{ => assets}/id_ecdsa3 (100%)
 rename test/{ => assets}/id_ecdsa_exp (100%)
 rename test/{ => assets}/id_ed25519 (100%)
 rename test/{ => assets}/id_ed25519.pub (100%)
 rename test/{ => assets}/id_ed255192 (100%)
 rename test/{ => assets}/id_rsa (100%)
 rename test/{ => assets}/id_rsa2 (100%)
 rename test/{ => assets}/id_rsa_o (100%)
 rename test/{ => assets}/oakley_pubkey.pem (100%)
 rename test/{ => assets}/secp224r1_key.pem (100%)

diff --git a/test/id_dsa b/test/assets/id_dsa
similarity index 100%
rename from test/id_dsa
rename to test/assets/id_dsa
diff --git a/test/id_dsa2 b/test/assets/id_dsa2
similarity index 100%
rename from test/id_dsa2
rename to test/assets/id_dsa2
diff --git a/test/id_dsa3 b/test/assets/id_dsa3
similarity index 100%
rename from test/id_dsa3
rename to test/assets/id_dsa3
diff --git a/test/id_ecdsa b/test/assets/id_ecdsa
similarity index 100%
rename from test/id_ecdsa
rename to test/assets/id_ecdsa
diff --git a/test/id_ecdsa2 b/test/assets/id_ecdsa2
similarity index 100%
rename from test/id_ecdsa2
rename to test/assets/id_ecdsa2
diff --git a/test/id_ecdsa3 b/test/assets/id_ecdsa3
similarity index 100%
rename from test/id_ecdsa3
rename to test/assets/id_ecdsa3
diff --git a/test/id_ecdsa_exp b/test/assets/id_ecdsa_exp
similarity index 100%
rename from test/id_ecdsa_exp
rename to test/assets/id_ecdsa_exp
diff --git a/test/id_ed25519 b/test/assets/id_ed25519
similarity index 100%
rename from test/id_ed25519
rename to test/assets/id_ed25519
diff --git a/test/id_ed25519.pub b/test/assets/id_ed25519.pub
similarity index 100%
rename from test/id_ed25519.pub
rename to test/assets/id_ed25519.pub
diff --git a/test/id_ed255192 b/test/assets/id_ed255192
similarity index 100%
rename from test/id_ed255192
rename to test/assets/id_ed255192
diff --git a/test/id_rsa b/test/assets/id_rsa
similarity index 100%
rename from test/id_rsa
rename to test/assets/id_rsa
diff --git a/test/id_rsa2 b/test/assets/id_rsa2
similarity index 100%
rename from test/id_rsa2
rename to test/assets/id_rsa2
diff --git a/test/id_rsa_o b/test/assets/id_rsa_o
similarity index 100%
rename from test/id_rsa_o
rename to test/assets/id_rsa_o
diff --git a/test/oakley_pubkey.pem b/test/assets/oakley_pubkey.pem
similarity index 100%
rename from test/oakley_pubkey.pem
rename to test/assets/oakley_pubkey.pem
diff --git a/test/secp224r1_key.pem b/test/assets/secp224r1_key.pem
similarity index 100%
rename from test/secp224r1_key.pem
rename to test/assets/secp224r1_key.pem
diff --git a/test/dhe.js b/test/dhe.js
index dd03156..44f81fd 100644
--- a/test/dhe.js
+++ b/test/dhe.js
@@ -12,22 +12,24 @@ var ED_KEY, ED2_KEY, EC_KEY, EC2_KEY, ECOUT_KEY, DS_KEY, DS2_KEY, DSOUT_KEY;
 var C_KEY, C2_KEY;
 var C_SSH;
 
+var testDir = path.join(__dirname, 'assets');
+
 test('setup', function (t) {
-	var k = fs.readFileSync(path.join(__dirname, 'id_ed25519'));
+	var k = fs.readFileSync(path.join(testDir, 'id_ed25519'));
 	ED_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ed255192'));
+	k = fs.readFileSync(path.join(testDir, 'id_ed255192'));
 	ED2_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ecdsa2'));
+	k = fs.readFileSync(path.join(testDir, 'id_ecdsa2'));
 	EC_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ecdsa3'));
+	k = fs.readFileSync(path.join(testDir, 'id_ecdsa3'));
 	EC2_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ecdsa'));
+	k = fs.readFileSync(path.join(testDir, 'id_ecdsa'));
 	ECOUT_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_dsa2'));
+	k = fs.readFileSync(path.join(testDir, 'id_dsa2'));
 	DS_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_dsa3'));
+	k = fs.readFileSync(path.join(testDir, 'id_dsa3'));
 	DS2_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_dsa'));
+	k = fs.readFileSync(path.join(testDir, 'id_dsa'));
 	DSOUT_KEY = sshpk.parsePrivateKey(k);
 	t.end();
 });
diff --git a/test/dhe_compat.js b/test/dhe_compat.js
index e2db2b0..398b542 100644
--- a/test/dhe_compat.js
+++ b/test/dhe_compat.js
@@ -17,6 +17,8 @@ var ED_KEY, ED2_KEY, EC_KEY, EC2_KEY, ECOUT_KEY, DS_KEY, DS2_KEY, DSOUT_KEY;
 var C_KEY, C2_KEY;
 var C_SSH;
 
+var testDir = path.join(__dirname, 'assets');
+
 var sandbox;
 
 test('set up sandbox', function (t) {
@@ -32,21 +34,21 @@ test('set up sandbox', function (t) {
 });
 
 test('setup', function (t) {
-	var k = fs.readFileSync(path.join(__dirname, 'id_ed25519'));
+	var k = fs.readFileSync(path.join(testDir, 'id_ed25519'));
 	ED_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ed255192'));
+	k = fs.readFileSync(path.join(testDir, 'id_ed255192'));
 	ED2_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ecdsa2'));
+	k = fs.readFileSync(path.join(testDir, 'id_ecdsa2'));
 	EC_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ecdsa3'));
+	k = fs.readFileSync(path.join(testDir, 'id_ecdsa3'));
 	EC2_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_ecdsa'));
+	k = fs.readFileSync(path.join(testDir, 'id_ecdsa'));
 	ECOUT_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_dsa2'));
+	k = fs.readFileSync(path.join(testDir, 'id_dsa2'));
 	DS_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_dsa3'));
+	k = fs.readFileSync(path.join(testDir, 'id_dsa3'));
 	DS2_KEY = sshpk.parsePrivateKey(k);
-	k = fs.readFileSync(path.join(__dirname, 'id_dsa'));
+	k = fs.readFileSync(path.join(testDir, 'id_dsa'));
 	DSOUT_KEY = sshpk.parsePrivateKey(k);
 	t.end();
 });
diff --git a/test/openssl-cmd.js b/test/openssl-cmd.js
index c14294f..f3f3a36 100644
--- a/test/openssl-cmd.js
+++ b/test/openssl-cmd.js
@@ -6,7 +6,7 @@ var path = require('path');
 var fs = require('fs');
 var temp = require('temp');
 
-var testDir = __dirname;
+var testDir = path.join(__dirname, 'assets');
 
 var spawn = require('child_process').spawn;
 
diff --git a/test/private-key.js b/test/private-key.js
index 0b1a754..6ab5834 100644
--- a/test/private-key.js
+++ b/test/private-key.js
@@ -5,7 +5,7 @@ var sshpk = require('../lib/index');
 var path = require('path');
 var fs = require('fs');
 
-var testDir = __dirname;
+var testDir = path.join(__dirname, 'assets');
 
 var ID_RSA_FP = sshpk.parseFingerprint(
     'SHA256:tT5wcGMJkBzNu+OoJYEgDCwIcDAIFCUahAmuTT4qC3s');
diff --git a/test/signature.js b/test/signature.js
index 2ae2baf..eff2d60 100644
--- a/test/signature.js
+++ b/test/signature.js
@@ -7,7 +7,7 @@ var fs = require('fs');
 var path = require('path');
 var crypto = require('crypto');
 
-var testDir = __dirname;
+var testDir = path.join(__dirname, 'assets');
 
 var RSA_PEM = fs.readFileSync(path.join(testDir, 'id_rsa'));
 var DSA_PEM = fs.readFileSync(path.join(testDir, 'id_dsa'));
-- 
2.21.0

