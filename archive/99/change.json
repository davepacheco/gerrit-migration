{"project":"joyent/sdcadm","branch":"master","id":"Iae70eb1382c3c613c83d1f51500440b1e932494c","number":"99","subject":"TOOLS-1487 sdcadm improve function for handling circular references Reviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e Reviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/99","commitMessage":"TOOLS-1487 sdcadm improve function for handling circular references\nReviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e\nReviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\n","createdOn":1468923257,"lastUpdated":1472220309,"open":false,"status":"MERGED","comments":[{"timestamp":1468923257,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1468923406,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nJosh, mind to take a quick look before I push to master? This pretty much is the result of a CR made by Trent and described into TOOLS-1487. If everything looks good to you I\u0027ll push to master and move forward"},{"timestamp":1468923575,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1468993766,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1469001896,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3."},{"timestamp":1469001899,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1469086996,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 3: Code-Review+1\n\nCode looks good.  How did you exercise it to test?"},{"timestamp":1469101255,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1469113194,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 5."},{"timestamp":1469113333,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5:\n\n\u003e Code looks good.  How did you exercise it to test?\n\nAfter thinking a little bit about it, I\u0027ve decided to give up on my initial idea for testing: just create an object which will throw a Type error exception when being saved to history.\n\nInstead, I think it has more sense to just test the function we\u0027re rewriting isolated and move it into lib/common.js, since it looks like the better way to test a singular function out of sdcadm w/o the need of instantiate the sdcadm command itself. Thoughts?"},{"timestamp":1469134707,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 5:\n\nIs it possible that the workarounds added in TOOLS-1405 should be removed, now that this safe printing thing is done?  (Specifically, stop deleting \"urce_amqp\" and \"urce_urconn\" from the logged object).  If so, presumably it will be as simple to test as disabling \"ur\" and verifying that history is correctly saved."},{"timestamp":1469175483,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5:\n\n\u003e Is it possible that the workarounds added in TOOLS-1405 should be\n \u003e removed, now that this safe printing thing is done?  (Specifically,\n \u003e stop deleting \"urce_amqp\" and \"urce_urconn\" from the logged\n \u003e object).  If so, presumably it will be as simple to test as\n \u003e disabling \"ur\" and verifying that history is correctly saved.\n\nSure. This same issue or a new one?"},{"timestamp":1469574376,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470050194,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1470050232,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6:\n\n\"make check\" passed ok"},{"timestamp":1470050445,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1470050480,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1470135976,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 8."},{"timestamp":1470136017,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470137790,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 8:\n\n\u003e Is it possible that the workarounds added in TOOLS-1405 should be\n \u003e removed, now that this safe printing thing is done?  (Specifically,\n \u003e stop deleting \"urce_amqp\" and \"urce_urconn\" from the logged\n \u003e object).  If so, presumably it will be as simple to test as\n \u003e disabling \"ur\" and verifying that history is correctly saved.\n\nSuccessfully tested locally and in staging1 with the change you suggested already applied (TOOLS-1487-20160802T111014Z-g5c60b45). Waiting for your approval now"},{"timestamp":1470465313,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 9: Patch Set 8 was rebased."},{"timestamp":1470465344,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9:\n\n\"make check\" passed ok"},{"timestamp":1471467626,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 9: Code-Review+1\n\n(3 comments)"},{"timestamp":1471516124,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 10: Patch Set 9 was rebased."},{"timestamp":1471516163,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1471516419,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 11."},{"timestamp":1471516449,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1471516475,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 9:\n\n(3 comments)\n\nDone with everything but the relative path thing. Shall we copy sdcadm/lib dir into /var/tmp/sdcadmtests?"},{"timestamp":1472149233,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 9:\n\n(1 comment)"},{"timestamp":1472152355,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 12: Patch Set 11 was rebased."},{"timestamp":1472152406,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12:\n\n\"make check\" passed ok"},{"timestamp":1472153544,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 12: Code-Review+1 Integration-Approval+1"},{"timestamp":1472220309,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"12","revision":"ae70eb1382c3c613c83d1f51500440b1e932494c","parents":["0f4f6995d7e51f0f6cb17f1fcbe60efd8c684f36"],"ref":"refs/changes/99/99/12","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1472152355,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1471516449,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1472153544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1472153544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1472220309,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-23},{"file":"lib/ur.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":57,"sizeDeletions":-36},"patchSets":[{"number":"1","revision":"f1de2ea8a36b69ec39b00b7758a26564a1a1091c","parents":["0b6367a90e59810500faa0352f44d28f9f9fb6fb"],"ref":"refs/changes/99/99/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1468923257,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-8}],"sizeInsertions":4,"sizeDeletions":-8},{"number":"2","revision":"d00f8dcb8c322ada07c5738b7573302335ed77a6","parents":["0b6367a90e59810500faa0352f44d28f9f9fb6fb"],"ref":"refs/changes/99/99/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1468923575,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","comments":[{"file":"lib/history.js","line":34,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Is \"i\" now unused?"},{"file":"lib/history.js","line":34,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done. Correct, unused. Cleaning up!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-8}],"sizeInsertions":4,"sizeDeletions":-8},{"number":"3","revision":"3c6dad723139d6de3b0ce8e15b799690f2ecb4f0","parents":["0b6367a90e59810500faa0352f44d28f9f9fb6fb"],"ref":"refs/changes/99/99/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1469001896,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469086996,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-9}],"sizeInsertions":4,"sizeDeletions":-9},{"number":"4","revision":"a5fbe28a1c3c397681e3e90eefc177b552eafe18","parents":["b6a75087b6602152fc900399e87153eba79995b0"],"ref":"refs/changes/99/99/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1469101255,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469086996,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-9}],"sizeInsertions":4,"sizeDeletions":-9},{"number":"5","revision":"8514e09b63618376621589371ba7134f7740d92a","parents":["b6a75087b6602152fc900399e87153eba79995b0"],"ref":"refs/changes/99/99/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1469113194,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469574376,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-24},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-25},{"number":"6","revision":"872c34802a229ce308315d809cfbebf4094ebb2f","parents":["7b1e650bfb9eef950535ac9ea25e1deb5cfaddd1"],"ref":"refs/changes/99/99/6","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1470050194,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469574376,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-24},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-25},{"number":"7","revision":"2343faa559bad104e7c66e8b7970fff8a1291626","parents":["fde3068854da34d1bf54ac00daab0dbd4d62c66c"],"ref":"refs/changes/99/99/7","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1470050445,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469574376,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-24},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-25},{"number":"8","revision":"5c60b45d0af5bd8f3a7151bfacfe43c56af09ecf","parents":["fde3068854da34d1bf54ac00daab0dbd4d62c66c"],"ref":"refs/changes/99/99/8","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1470135976,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470136017,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-24},{"file":"lib/ur.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":57,"sizeDeletions":-37},{"number":"9","revision":"28b0df508e4b83f8511e8b8971de93d9d0563773","parents":["f8833f98d7131670c77da8355257a7cca017c6ea"],"ref":"refs/changes/99/99/9","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1470465313,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470136017,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471467626,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"lib/common.js","line":1594,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: it is \u0027stringify\u0027 (lowercase) :)"},{"file":"lib/common.js","line":1594,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/history.js","line":26,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: there was an intended pattern of having a blank line separating local imports from 3rd-party or core-node imports."},{"file":"lib/history.js","line":26,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/common.test.js","line":12,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I\u0027d prefer that to use a relative path:\n\nvar common \u003d require(\u0027../lib/common.js\u0027);"},{"file":"test/common.test.js","line":12,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"That\u0027s not possible, since we\u0027re running sdcadm tests from \"/var/tmp/sdcadmtests\" dir, and we\u0027re copying just the test directory, node_modules and node itself there. Worth modifying the way we run tests and copy the lib directory also into the tests dir?"},{"file":"test/common.test.js","line":12,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Yes, I think it would be worth modifying that to copy the full /opt/smartdc/sdcadm dir to a /var/tmp/... dir for testing (e.g. /var/tmp/sdcadm-testing or whatever). If that is difficult though, please push back on that."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-24},{"file":"lib/ur.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":57,"sizeDeletions":-37},{"number":"10","revision":"3608dbe3d0b6941c29930e1a09199fe0e4572f9c","parents":["b834aca07d6f4eb5aac08cb9ae65c002d78f0a06"],"ref":"refs/changes/99/99/10","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1471516124,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470136017,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471467626,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-24},{"file":"lib/ur.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":57,"sizeDeletions":-37},{"number":"11","revision":"342471e07f894747da69e26a45080bb50ab1d349","parents":["b834aca07d6f4eb5aac08cb9ae65c002d78f0a06"],"ref":"refs/changes/99/99/11","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1471516419,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1471516449,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-23},{"file":"lib/ur.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":57,"sizeDeletions":-36},{"number":"12","revision":"ae70eb1382c3c613c83d1f51500440b1e932494c","parents":["0f4f6995d7e51f0f6cb17f1fcbe60efd8c684f36"],"ref":"refs/changes/99/99/12","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1472152355,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1471516449,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1472153544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1472153544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1472220309,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":20,"deletions":-1},{"file":"lib/history.js","type":"MODIFIED","insertions":4,"deletions":-23},{"file":"lib/ur.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/common.test.js","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":57,"sizeDeletions":-36}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}