commit 0a8883d96540a9bce0e3791fa612f1569231dba1 (refs/changes/04/1204/3)
Author: Brian Bennett <brian.bennett@joyent.com>
Date:   2017-01-07T03:03:23+00:00 (2 years, 9 months ago)
    
    NET-368 NAPI resolvers should not be shuffled for booting CNs
    Reviewed by: Cody Mello <melloc@joyent.com>
    Reviewed by: Richard Kiene <richard.kiene@joyent.com>

diff --git a/lib/bootparams.js b/lib/bootparams.js
index 33c619f..47e01ba 100644
--- a/lib/bootparams.js
+++ b/lib/bootparams.js
@@ -97,24 +97,6 @@ function getFromCache(opts, callback) {
 }
 
 
-/**
- * Shuffle the contents of the array based on the Fisher-Yates or Knuth shuffle.
- */
-function shuffle(array) {
-    var m = array.length, t, i;
-
-    while (m) {
-        i = Math.floor(Math.random() * m--);
-        t = array[m];
-        array[m] = array[i];
-        array[i] = t;
-    }
-
-    return array;
-}
-
-
-
 // --- Exported functions
 
 
@@ -321,7 +303,7 @@ function getBootParams(opts, callback) {
 
         params.ip = bootNic.ip;
         params.netmask = bootNic.netmask;
-        params.resolvers = shuffle(bootNic.resolvers);
+        params.resolvers = bootNic.resolvers;
 
         // Allow kernel_args from CNAPI to override the nic tag values, but
         // dutifully complain about it
