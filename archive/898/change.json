{"project":"joyent/illumos-joyent","branch":"master","id":"Ib103d868ed7f2b4de2da80722eeda3aaf6b95ae6","number":"898","subject":"OS-5738 increase timers allowed per-process Reviewed by: Ryan Zezeski \u003crpz@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/898","commitMessage":"OS-5738 increase timers allowed per-process\nReviewed by: Ryan Zezeski \u003crpz@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1479162791,"lastUpdated":1479319403,"open":false,"status":"MERGED","comments":[{"timestamp":1479162791,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1479165202,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(5 comments)"},{"timestamp":1479166372,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 1:\n\n(5 comments)"},{"timestamp":1479175451,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1479176108,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(10 comments)"},{"timestamp":1479222303,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1479228802,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1479232882,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 2:\n\n(6 comments)"},{"timestamp":1479235718,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3."},{"timestamp":1479235727,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(5 comments)"},{"timestamp":1479236000,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1479237156,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1479248350,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4."},{"timestamp":1479248515,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1479249175,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\nBryan approved changing the timer limit from 2*NCPU to 4*NCPU.  I\u0027ll continue under the presumption that Jerry is OK with that mine update."},{"timestamp":1479253491,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1479259427,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 5."},{"timestamp":1479259516,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5:\n\nAs if my earlier haste was an omen, I found a few other problems with how the test was setup.  I ran the whole thing through a fresh build/test cycle after that.  (Although not via the test-runner, which seems busted already)"},{"timestamp":1479300733,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1479310644,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 6."},{"timestamp":1479310819,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1479315302,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1479317130,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1"},{"timestamp":1479319403,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"6","revision":"b103d868ed7f2b4de2da80722eeda3aaf6b95ae6","parents":["289e41bc2a2b4d5d99886bea0534b96ace98d833"],"ref":"refs/changes/98/898/6","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1479310644,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479315302,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479317130,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479317130,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}},{"type":"SUBM","value":"1","grantedOn":1479319403,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/tests/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/timer/Makefile","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","type":"ADDED","insertions":83,"deletions":0},{"file":"usr/src/uts/common/os/timer.c","type":"MODIFIED","insertions":137,"deletions":-46},{"file":"usr/src/uts/common/sys/proc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/sysconfig.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/sys/timer.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/syscall/sysconfig.c","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":293,"sizeDeletions":-53},"patchSets":[{"number":"1","revision":"35567ccd12dc831e8e1bebae8cdcac0c61e7c0ae","parents":["01e5b2318bd46ccafc1634fa45623f5dcccfc412"],"ref":"refs/changes/98/898/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1479162791,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/os/timer.c","line":268,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"s/now/how/"},{"file":"usr/src/uts/common/os/timer.c","line":268,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"s/now/how/"},{"file":"usr/src/uts/common/os/timer.c","line":268,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":268,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":269,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Also, maybe worth expanding this comment to note that you\u0027re handling this being initialized in /etc/system."},{"file":"usr/src/uts/common/os/timer.c","line":269,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"I assume \"it\" is timer_max? Could you replace \"it\" with timer_max, because the way this reads I think \"it\" refers to NCPU."},{"file":"usr/src/uts/common/os/timer.c","line":269,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":269,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":488,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"use uint_t here and elsewhere?"},{"file":"usr/src/uts/common/os/timer.c","line":488,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Sure."},{"file":"usr/src/uts/common/os/timer.c","line":544,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Instantiate?"},{"file":"usr/src/uts/common/os/timer.c","line":544,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":561,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"As long as all code that iterates over timers always iterates over them all and doesn\u0027t break/exit on the first NULL. Which I\u0027m assuming is true. Although, playing devil\u0027s advocate, a future change might not honor this rule. It\u0027s probably fine as-is, but just though I\u0027d make the point."},{"file":"usr/src/uts/common/os/timer.c","line":561,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why would breaking on a NULL be unacceptable?  Once an acceptable p_itimer size has been chosen, the whole search is performed under p_lock.  p_lock isn\u0027t dropped until the time slot has either been populated or discarded."},{"file":"usr/src/uts/common/os/timer.c","line":561,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Yea, I was thinking of the case where code assumes the array is never sparse, but then I realized it\u0027s always been sparse. Strike my original comment."},{"file":"usr/src/uts/common/os/timer.c","line":564,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"know is"},{"file":"usr/src/uts/common/os/timer.c","line":564,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":767,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"prepted?"},{"file":"usr/src/uts/common/os/timer.c","line":767,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"s/prepted/prepped/\n\nadd a period"},{"file":"usr/src/uts/common/os/timer.c","line":767,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":767,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/Makefile","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","type":"ADDED","insertions":83,"deletions":0},{"file":"usr/src/uts/common/os/timer.c","type":"MODIFIED","insertions":140,"deletions":-46},{"file":"usr/src/uts/common/sys/proc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/sysconfig.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/sys/timer.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/syscall/sysconfig.c","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":295,"sizeDeletions":-52},{"number":"2","revision":"69564a72b2b7e11dffd027dd02c7073315119887","parents":["01e5b2318bd46ccafc1634fa45623f5dcccfc412"],"ref":"refs/changes/98/898/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1479175451,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479222303,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"comments":[{"file":"usr/src/uts/common/os/timer.c","line":500,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Not sure why you need this variable."},{"file":"usr/src/uts/common/os/timer.c","line":500,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":568,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"I don\u0027t see why itp needs to be set here. It\u0027s not used after this for anything."},{"file":"usr/src/uts/common/os/timer.c","line":568,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"timer_alloc originally populated the itp slot.  Now that it\u0027s not longer the case, these can be removed.\n\nFixed."},{"file":"usr/src/uts/common/os/timer.c","line":575,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"I don\u0027t see why itp needs to be set here."},{"file":"usr/src/uts/common/os/timer.c","line":575,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":927,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"In other places you use uint_t."},{"file":"usr/src/uts/common/os/timer.c","line":927,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":971,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"In other places you use uint_t."},{"file":"usr/src/uts/common/os/timer.c","line":971,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/os/timer.c","line":1006,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"In other places you use uint_t."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/Makefile","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","type":"ADDED","insertions":83,"deletions":0},{"file":"usr/src/uts/common/os/timer.c","type":"MODIFIED","insertions":141,"deletions":-46},{"file":"usr/src/uts/common/sys/proc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/sysconfig.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/sys/timer.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/syscall/sysconfig.c","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":296,"sizeDeletions":-52},{"number":"3","revision":"e108d22c685ddd626bcf009e95506f043dbd0c58","parents":["0014059c42c8416c5989ff40d38f7e914e5985cf"],"ref":"refs/changes/98/898/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1479235718,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479237156,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479237156,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479236000,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/Makefile","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","type":"ADDED","insertions":83,"deletions":0},{"file":"usr/src/uts/common/os/timer.c","type":"MODIFIED","insertions":137,"deletions":-46},{"file":"usr/src/uts/common/sys/proc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/sysconfig.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/sys/timer.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/syscall/sysconfig.c","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":292,"sizeDeletions":-52},{"number":"4","revision":"10aa05f041f8a53742c36019b1d498234ba171d7","parents":["31047669e3f3d1dcd6f9421034e92b6490cd793c"],"ref":"refs/changes/98/898/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1479248350,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479253491,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479248515,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479248515,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/Makefile","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","type":"ADDED","insertions":83,"deletions":0},{"file":"usr/src/uts/common/os/timer.c","type":"MODIFIED","insertions":137,"deletions":-46},{"file":"usr/src/uts/common/sys/proc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/sysconfig.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/sys/timer.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/syscall/sysconfig.c","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":292,"sizeDeletions":-52},{"number":"5","revision":"b2d617f2118dfd640d6d56b5895dc204aac4747d","parents":["31047669e3f3d1dcd6f9421034e92b6490cd793c"],"ref":"refs/changes/98/898/5","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1479259427,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","line":53,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"can you fix this comment too"},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","line":53,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/tests/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/timer/Makefile","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","type":"ADDED","insertions":83,"deletions":0},{"file":"usr/src/uts/common/os/timer.c","type":"MODIFIED","insertions":137,"deletions":-46},{"file":"usr/src/uts/common/sys/proc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/sysconfig.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/sys/timer.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/syscall/sysconfig.c","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":293,"sizeDeletions":-53},{"number":"6","revision":"b103d868ed7f2b4de2da80722eeda3aaf6b95ae6","parents":["289e41bc2a2b4d5d99886bea0534b96ace98d833"],"ref":"refs/changes/98/898/6","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1479310644,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479315302,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1479319403,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1479317130,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1479317130,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/test/os-tests/runfiles/default.run","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/test/os-tests/tests/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/test/os-tests/tests/timer/Makefile","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/test/os-tests/tests/timer/timer_limit.c","type":"ADDED","insertions":83,"deletions":0},{"file":"usr/src/uts/common/os/timer.c","type":"MODIFIED","insertions":137,"deletions":-46},{"file":"usr/src/uts/common/sys/proc.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/sysconfig.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/sys/timer.h","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/syscall/sysconfig.c","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":293,"sizeDeletions":-53}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}