{"project":"joyent/sdcadm","branch":"master","topic":"lullaby-phase2","id":"I4bacf5f7690d1bc31f878b456d6d9d3122cf3dac","number":"5547","subject":"TRITON-1151 convert sdcadm to engbld framework Reviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e Approved by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/5547","commitMessage":"TRITON-1151 convert sdcadm to engbld framework\nReviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e\nApproved by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e\n","createdOn":1549625359,"lastUpdated":1551189583,"open":false,"status":"MERGED","comments":[{"timestamp":1549625359,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1549625366,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 903038edd28b8159ca71bfecd6dbfe0ea3eca7a2\n    \n    TRITON-1151 convert sdcadm to engbld framework"},{"timestamp":1549626976,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Topic set to lullaby-phase2"},{"timestamp":1550140551,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1550140558,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 534f89fd0d156e04d4dc76938125c07809a6ea85\n    \n    TRITON-1151 convert sdcadm to engbld framework"},{"timestamp":1550252933,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1550252941,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 7579c78b6e0135d96eae92cb5fe6f58c7e52d263\n    \n    TRITON-1151 convert sdcadm to engbld framework"},{"timestamp":1550502116,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3:\n\nI\u0027d say we need to add some fixes for stuff generating shar files:\n\n        mkdir -p /tmp/sdcadm/bits/sdcadm\n        cp \\\n                /tmp/sdcadm/build/sdcadm--20190218T093826Z-g8dd3075.sh \\\n                /tmp/sdcadm/build/sdcadm--20190218T093826Z-g8dd3075.imgmanifest \\\n                /tmp/sdcadm/bits/sdcadm/\n        mkdir -p /tmp/sdcadm/bits/sdcadm\n        mkdir -p /tmp/buildimage-sdcadm--20190218T093826Z-g8dd3075\n        cd /tmp/buildimage-sdcadm--20190218T093826Z-g8dd3075 ; \\\n        /tmp/sdcadm/deps/eng/tools/buildimage-extract-pkg.sh\n        Error: buildimage-extract-pkg: Unknown archive file\n        deps/eng/tools/mk/Makefile.targ:430: recipe for target \u0027buildimage\u0027 failed\n        make: *** [buildimage] Error 1\n\n\nThe error is likely due to the fact that sdcadm doesn\u0027t generate a tar file:\n\n\n        [root@jenkins-agent-multiarch-15 /tmp/sdcadm]# ls -alh /tmp/sdcadm/bits/sdcadm/\n        total 90M\n        drwxr-xr-x 2 root root  724 feb.  18 09:39 .\n        drwxr-xr-x 3 root root  180 feb.  18 09:32 ..\n        -rw-r--r-- 1 root root  130 feb.  18 09:39 build-environment\n        -rw-r--r-- 1 root root   27 feb.  18 09:39 latest-build-stamp\n        -rw-r--r-- 1 root root 128K feb.  18 09:39 npm-ls.json\n        -rw-r--r-- 1 root root  416 feb.  18 09:32 sdcadm--20190218T092954Z-g8dd3075.imgmanifest\n        -rw-r--r-- 1 root root  45M feb.  18 09:32 sdcadm--20190218T092954Z-g8dd3075.sh\n        -rw-r--r-- 1 root root  416 feb.  18 09:39 sdcadm--20190218T093826Z-g8dd3075.imgmanifest\n        -rw-r--r-- 1 root root  45M feb.  18 09:39 sdcadm--20190218T093826Z-g8dd3075.sh\n\n\nOther than that, the generated files are fine"},{"timestamp":1550502584,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\n\u003e I\u0027d say we need to add some fixes for stuff generating shar files:\n \u003e \n \u003e mkdir -p /tmp/sdcadm/bits/sdcadm\n \u003e cp \\\n \u003e /tmp/sdcadm/build/sdcadm--20190218T093826Z-g8dd3075.sh \\\n \u003e /tmp/sdcadm/build/sdcadm--20190218T093826Z-g8dd3075.imgmanifest \\\n \u003e /tmp/sdcadm/bits/sdcadm/\n \u003e mkdir -p /tmp/sdcadm/bits/sdcadm\n \u003e mkdir -p /tmp/buildimage-sdcadm--20190218T093826Z-g8dd3075\n \u003e cd /tmp/buildimage-sdcadm--20190218T093826Z-g8dd3075 ; \\\n \u003e /tmp/sdcadm/deps/eng/tools/buildimage-extract-pkg.sh\n \u003e Error: buildimage-extract-pkg: Unknown archive file\n \u003e deps/eng/tools/mk/Makefile.targ:430: recipe for target \u0027buildimage\u0027\n \u003e failed\n \u003e make: *** [buildimage] Error 1\n \u003e \n \u003e \n \u003e The error is likely due to the fact that sdcadm doesn\u0027t generate a\n \u003e tar file:\n\nGood point. This is pilot error we should be able to catch.\n\nIn this case, the Makefile isn\u0027t setting ENGBLD_USE_BUILDIMAGE,\nand so isn\u0027t expecting to be able to assemble a zfs image, but\nwe\u0027re not doing anything to prevent the user from trying to\ncreate one. We should actually have the buildimage\ntarget bail out immediately rather than blunder on.\n\nWe use that mechanism elsewhere to require buildimage to be a\ndependency of bits-upload for componets that do require a zfs\nimage, for example: \n\nhttps://github.com/joyent/eng/blob/master/tools/mk/Makefile.defs#L142\n\nI\u0027ll file a bug to improve the buildimage target so that it bails out\nearlier with a useful error message if ENGBLD_USE_BUILDIMAGE isn\u0027t\nset."},{"timestamp":1550502673,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\n(I should have said) In this case, the build for this component is just\n\n$ make all release publish bits-upload"},{"timestamp":1550502762,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\n\u003e (I should have said) In this case, the build for this component is\n \u003e just\n \u003e \n \u003e $ make all release publish bits-upload\n\nSounds good. Build itself is fine so, go merge it and fill that aside bug you mentioned before :-)"},{"timestamp":1550503566,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\n\u003e \u003e (I should have said) In this case, the build for this component\n \u003e is\n \u003e \u003e just\n \u003e \u003e\n \u003e \u003e $ make all release publish bits-upload\n \u003e \n \u003e Sounds good. Build itself is fine so, go merge it and fill that\n \u003e aside bug you mentioned before :-)\n\nYep, filed TOOLS-2181"},{"timestamp":1550676671,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 4."},{"timestamp":1550676678,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 1e062b39b8cc3c7720ef0795bd59d8cd78fba17d\n    \n    TRITON-1151 convert sdcadm to engbld framework"},{"timestamp":1550676827,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 4:\n\n\u003e New commits:\n \u003e \n \u003e commit 1e062b39b8cc3c7720ef0795bd59d8cd78fba17d\n \u003e \n \u003e TRITON-1151 convert sdcadm to engbld framework\n\nThis was just me rebasing from grr. I\u0027ll see if gerrit\u0027s \u0027rebase\u0027 button works better on other components - apologies for the noise."},{"timestamp":1550751667,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1550763198,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 5."},{"timestamp":1550763204,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 4539b843214e3edbd9f5a517b2dd319554ff0b63\n    \n    TRITON-1151 convert sdcadm to engbld framework"},{"timestamp":1550764100,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1550850268,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1550952263,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 7: Patch Set 6 was rebased"},{"timestamp":1551189583,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"}],"currentPatchSet":{"number":"7","revision":"51eba8be6a85f93ff4cb6bb38dd6a26ad698764f","parents":["171d2e517b9b3b87172fe799a2526247216c58df"],"ref":"refs/changes/47/5547/7","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1550952263,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1551189583,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-12},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":16,"sizeDeletions":-976},"patchSets":[{"number":"1","revision":"522b5cc69b5689225380f642053f26d85da6856d","parents":["d594d57e62cd961ec8a7135fae0eb8cab6664ab8"],"ref":"refs/changes/47/5547/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1549625359,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":18,"sizeDeletions":-974},{"number":"2","revision":"fa719f23b92db188ab644a5f88d4d479ab056910","parents":["ec34800530de8c90fbd4d0b82c3b08f6ef3cd6c3"],"ref":"refs/changes/47/5547/2","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1550140551,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":18,"sizeDeletions":-974},{"number":"3","revision":"8dd3075e4e634e031e9fe94ef4499e9603ba9117","parents":["6ea926065eaf4914203daa09a5945c9aefb06be5"],"ref":"refs/changes/47/5547/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1550252933,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550502762,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550502762,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":18,"sizeDeletions":-974},{"number":"4","revision":"0118c8884ab1a299c42e02a625235802a438613f","parents":["51b61bf7ca16ce0dbd1b04a87908d30f7e72b83b"],"ref":"refs/changes/47/5547/4","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1550676671,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550751667,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550751667,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":18,"sizeDeletions":-974},{"number":"5","revision":"4bacf5f7690d1bc31f878b456d6d9d3122cf3dac","parents":["51b61bf7ca16ce0dbd1b04a87908d30f7e72b83b"],"ref":"refs/changes/47/5547/5","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1550763198,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-12},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":16,"sizeDeletions":-976},{"number":"6","revision":"1329d9f2c7e63c066468d12b273bc55efd76c796","parents":["9113500d9cfe5a1238e68ba66aee45ee190dd009"],"ref":"refs/changes/47/5547/6","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1550850268,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-12},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":16,"sizeDeletions":-976},{"number":"7","revision":"51eba8be6a85f93ff4cb6bb38dd6a26ad698764f","parents":["171d2e517b9b3b87172fe799a2526247216c58df"],"ref":"refs/changes/47/5547/7","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1550952263,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550764100,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1551189583,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-12},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/mk-shar","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/mk/Makefile.defs","type":"DELETED","insertions":0,"deletions":-51},{"file":"tools/mk/Makefile.deps","type":"DELETED","insertions":0,"deletions":-88},{"file":"tools/mk/Makefile.node.defs","type":"DELETED","insertions":0,"deletions":-104},{"file":"tools/mk/Makefile.node.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.node_deps.defs","type":"DELETED","insertions":0,"deletions":-43},{"file":"tools/mk/Makefile.node_deps.targ","type":"DELETED","insertions":0,"deletions":-24},{"file":"tools/mk/Makefile.node_prebuilt.defs","type":"DELETED","insertions":0,"deletions":-153},{"file":"tools/mk/Makefile.node_prebuilt.targ","type":"DELETED","insertions":0,"deletions":-42},{"file":"tools/mk/Makefile.smf.defs","type":"DELETED","insertions":0,"deletions":-40},{"file":"tools/mk/Makefile.smf.targ","type":"DELETED","insertions":0,"deletions":-29},{"file":"tools/mk/Makefile.targ","type":"DELETED","insertions":0,"deletions":-346}],"sizeInsertions":16,"sizeDeletions":-976}],"allReviewers":[{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}