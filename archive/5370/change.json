{"project":"joyent/sdc-napi","branch":"master","id":"I4c4201fb80364b17addd33e2ad2c8292258fa796","number":"5370","subject":"TRITON-629 NAPI gets stuck in nightly-1 with a \"Server is still initializing\" error Reviewed by: Rui Loura \u003crui@joyent.com\u003e Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/5370","commitMessage":"TRITON-629 NAPI gets stuck in nightly-1 with a \"Server is still initializing\" error\nReviewed by: Rui Loura \u003crui@joyent.com\u003e\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1547602555,"lastUpdated":1559067688,"open":false,"status":"MERGED","comments":[{"timestamp":1547602555,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1547602618,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1558386752,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1558386824,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1558461464,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1558461523,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1558472494,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 3: Code-Review+1\n\n(1 comment)"},{"timestamp":1558473254,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1558473282,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1558473312,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1558554872,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1558650580,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\n(2 comments)\n\nLooks good, thanks for taking this. Just a couple nits."},{"timestamp":1559062459,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5."},{"timestamp":1559062482,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1559062557,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1559066141,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1559067622,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6: Commit message was updated."},{"timestamp":1559067632,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 7: Patch Set 6 was rebased"},{"timestamp":1559067684,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"},{"timestamp":1559067688,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"7","revision":"7ec9f8048c1c85d92f7109eb9ee9b88eb0b9cce6","parents":["3dc2972cf394ee6a480679198590e7319e7c2861"],"ref":"refs/changes/70/5370/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1559067632,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559062557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1559067684,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":8,"deletions":-4},{"file":"lib/napi.js","type":"MODIFIED","insertions":32,"deletions":-15},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":45,"sizeDeletions":-24},"patchSets":[{"number":"1","revision":"4346e71f255840d5232e76d08a3659a97a391537","parents":["fc9aa79a0ca975527db0ef7f3421ef83cce14184"],"ref":"refs/changes/70/5370/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1547602555,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547602618,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/napi.js","type":"MODIFIED","insertions":33,"deletions":-12}],"sizeInsertions":40,"sizeDeletions":-15},{"number":"2","revision":"7a4897c35b62f33641121301020556f11862152a","parents":["fc9aa79a0ca975527db0ef7f3421ef83cce14184"],"ref":"refs/changes/70/5370/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1558386752,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558386824,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/napi.js","type":"MODIFIED","insertions":31,"deletions":-14},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-4}],"sizeInsertions":42,"sizeDeletions":-21},{"number":"3","revision":"d874f5a2c468ca2404ce38783b4b9a89e33dae7d","parents":["a59ab36777bae22fe7fdc5b4f0337e1ab1c15629"],"ref":"refs/changes/70/5370/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1558461464,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558461523,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1558472494,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"comments":[{"file":"package.json","line":4,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"worth a patch level version bump?"},{"file":"package.json","line":4,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/napi.js","type":"MODIFIED","insertions":31,"deletions":-14},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-4}],"sizeInsertions":42,"sizeDeletions":-21},{"number":"4","revision":"b4369302ef62ac7f1f87a68f9d02477495c1422d","parents":["a59ab36777bae22fe7fdc5b4f0337e1ab1c15629"],"ref":"refs/changes/70/5370/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1558473254,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558473312,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1558554872,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"comments":[{"file":"lib/migrate.js","line":8,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: copyright year"},{"file":"lib/migrate.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"package.json","line":27,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I thought the plan was to use locked versions of immediate deps (granted that doesn\u0027t handle transitive deps until we add package-lock.json) in our top-level component repos?"},{"file":"package.json","line":27,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"lib/napi.js","type":"MODIFIED","insertions":31,"deletions":-14},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":43,"sizeDeletions":-22},{"number":"5","revision":"4c4201fb80364b17addd33e2ad2c8292258fa796","parents":["a59ab36777bae22fe7fdc5b4f0337e1ab1c15629"],"ref":"refs/changes/70/5370/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1559062459,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559062557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":8,"deletions":-4},{"file":"lib/napi.js","type":"MODIFIED","insertions":32,"deletions":-15},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":45,"sizeDeletions":-24},{"number":"6","revision":"60583ec1a0980de7e17a8e5b1816495fb2ba0df0","parents":["a59ab36777bae22fe7fdc5b4f0337e1ab1c15629"],"ref":"refs/changes/70/5370/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1559067622,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559062557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":8,"deletions":-4},{"file":"lib/napi.js","type":"MODIFIED","insertions":32,"deletions":-15},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":45,"sizeDeletions":-24},{"number":"7","revision":"7ec9f8048c1c85d92f7109eb9ee9b88eb0b9cce6","parents":["3dc2972cf394ee6a480679198590e7319e7c2861"],"ref":"refs/changes/70/5370/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1559067632,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1559067684,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559062557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1559066141,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/migrate.js","type":"MODIFIED","insertions":8,"deletions":-4},{"file":"lib/napi.js","type":"MODIFIED","insertions":32,"deletions":-15},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":45,"sizeDeletions":-24}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}