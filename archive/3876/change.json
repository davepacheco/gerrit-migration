{"project":"joyent/illumos-joyent","branch":"master","id":"I2265b0c4ffbee1d94e4982442386e29f4bdaea9e","number":"3876","subject":"OS-6907 vmm_stat initialization not run, causing 0-length allocation Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"url":"https://cr.joyent.us/3876","commitMessage":"OS-6907 vmm_stat initialization not run, causing 0-length allocation\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1524748760,"lastUpdated":1525874239,"open":false,"status":"MERGED","comments":[{"timestamp":1524748760,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 1."},{"timestamp":1524750973,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nThis isn\u0027t including the stats in vlapic.c or vmm.c"},{"timestamp":1524751133,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1524752556,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1524861952,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\nThis looks fine to me.  Alternatively, we could disable most of the stats stuff until we wire up a kstat-savvy version.  I don\u0027t see why it would pay to jump through hoops to make SYSINIT work rather than defining an enum of stats and keeping it up-to-date when we sync from upstream"},{"timestamp":1524864244,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nIf we don\u0027t care about the other stats, it\u0027s fine by me, but we should have an explicit comment on that."},{"timestamp":1525081647,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 2."},{"timestamp":1525082077,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1:\n\nMaking SYSINIT work wasn\u0027t all that hard. I agree that we want to kstatify this and then we\u0027ll probably do away with the SYSINITs, but for now it\u0027ll just work."},{"timestamp":1525082175,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 3."},{"timestamp":1525083281,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1525083461,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1525092476,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1525095889,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1525248800,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 4."},{"timestamp":1525250672,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 4:\n\n(2 comments)"},{"timestamp":1525268604,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1525269472,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1525270393,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1525376023,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\n(2 comments)"},{"timestamp":1525432339,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 5: Patch Set 4 was rebased"},{"timestamp":1525433377,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 6."},{"timestamp":1525434108,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1525434328,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1525438933,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1525797221,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1525870936,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 7: Patch Set 6 was rebased"},{"timestamp":1525871800,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1525874210,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 9: Patch Set 8 was rebased"},{"timestamp":1525874239,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Hans Rosenfeld"}],"currentPatchSet":{"number":"9","revision":"2139ceaceb15b2ac9e5998c2fbd0601416fa233b","parents":["c94fcb2b120b468bb7758d8d85fbc65b925ca6f5"],"ref":"refs/changes/76/3876/9","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525874210,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525434328,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525438933,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525797221,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1525874239,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":54,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"92468a45a788494c00a649fb9cc0ac392e6c2f17","parents":["a4e24f29df7daf277f3f81dde72ca89efb7f5ade"],"ref":"refs/changes/76/3876/1","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1524748760,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","line":29,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"If you keep changes here, copyright?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","line":174,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Given this is specific to us, couldn\u0027t it be local to vmm_sol_dev.c (also see my other comment)"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","line":176,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"There are other callers of VMM_STAT() in places other than above.  Would it be better to fix the SYSINIT macro so that it works more like it does on FreeBSD?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":34,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Copyright?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.c","type":"MODIFIED","insertions":28,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":8,"deletions":0}],"sizeInsertions":37,"sizeDeletions":0},{"number":"2","revision":"75a899e83f09557c05faa8e003cc1fa92b2134c5","parents":["a4e24f29df7daf277f3f81dde72ca89efb7f5ade"],"ref":"refs/changes/76/3876/2","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525081647,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":40,"sizeDeletions":-4},{"number":"3","revision":"9cefa53e4221f187d53b6d7249c6e7dfa4e5ffbb","parents":["a4e24f29df7daf277f3f81dde72ca89efb7f5ade"],"ref":"refs/changes/76/3876/3","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525082175,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/contrib/freebsd/sys/linker_set.h","line":83,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This diff isn\u0027t in up-stream in the first place, so can you now just remove the other clause and the ifdefs?"},{"file":"usr/contrib/freebsd/sys/linker_set.h","line":83,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"The other clause is still needed for user space."},{"file":"usr/contrib/freebsd/sys/linker_set.h","line":83,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"If this stays, need a copyright update."},{"file":"usr/contrib/freebsd/sys/linker_set.h","line":83,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"We didn\u0027t add any copyrights to the contrib code, and I\u0027m not sure I want to start doing so."},{"file":"usr/contrib/freebsd/sys/linker_set.h","line":83,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Yeah, we\u0027ve left it copyright free as the things in \u0027contrib\u0027 are meant to be exact copies if at all possible."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":39,"sizeDeletions":-4},{"number":"4","revision":"f6d9945dcb69ed7067084fbd174359d7444dcfc8","parents":["a4e24f29df7daf277f3f81dde72ca89efb7f5ade"],"ref":"refs/changes/76/3876/4","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525248800,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":44,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Even if we\u0027re planning to upstream this, I think this needs an ifdef FreeBSD wrapping?"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":44,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I think FreeBSD also would want this change. Right now they get away with it because their VM_MAXCPU is lower, but if they ever want to raise it they\u0027ll run into the same issue and likely want the same fix."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":44,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Sure, that\u0027s why I said \"even if\". Patrick was at least partly tracking our changes with ifdefs even for upstreamable bits. Perhaps he\u0027s not any more."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":44,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I thought we do this only when we intentionally deviate from FreeBSD with illumos-specific code that we can\u0027t upstream. I\u0027ll ask Patrick for clarification."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":44,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"With one exception (OS-6829, because it was intended for upstreaming ASAP), I\u0027ve kept any delta from upstream wrapped in ifdefs."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","line":44,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","line":214,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"ditto"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":46,"sizeDeletions":-7},{"number":"5","revision":"9cc436868c68cda73a0fefbbf92b484996caed7e","parents":["624992b648e131c68d64b4480f51b375daf9f94f"],"ref":"refs/changes/76/3876/5","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525432339,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":46,"sizeDeletions":-7},{"number":"6","revision":"b622959d049d20ea030a78b242fd1b6795053547","parents":["624992b648e131c68d64b4480f51b375daf9f94f"],"ref":"refs/changes/76/3876/6","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525433377,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525438933,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525434328,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525797221,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":54,"sizeDeletions":-6},{"number":"7","revision":"20695d7505829a13147ab8efe11628867f89a202","parents":["db9746572d6692af88b9f55827fcb63f1bcb3c46"],"ref":"refs/changes/76/3876/7","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525870936,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525438933,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525434328,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525797221,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":54,"sizeDeletions":-6},{"number":"8","revision":"2265b0c4ffbee1d94e4982442386e29f4bdaea9e","parents":["db9746572d6692af88b9f55827fcb63f1bcb3c46"],"ref":"refs/changes/76/3876/8","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525871800,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525438933,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525434328,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525797221,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":54,"sizeDeletions":-6},{"number":"9","revision":"2139ceaceb15b2ac9e5998c2fbd0601416fa233b","parents":["c94fcb2b120b468bb7758d8d85fbc65b925ca6f5"],"ref":"refs/changes/76/3876/9","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1525874210,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1525874239,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525438933,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525434328,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525797221,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/compat/freebsd/sys/kernel.h","type":"MODIFIED","insertions":17,"deletions":-2},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/io/vmm/vmm_stat.h","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_dev.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":54,"sizeDeletions":-6}],"allReviewers":[{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}]}