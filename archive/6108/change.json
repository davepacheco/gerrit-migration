{"project":"joyent/sdc-cloudapi","branch":"master","id":"I9d589e04360b902eb1e4f342160a94372735fcff","number":"6108","subject":"TRITON-1403 drop cloudapi \"test mode\" (aka config.test, CLOUDAPI_TEST_MODE) Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/6108","commitMessage":"TRITON-1403 drop cloudapi \"test mode\" (aka config.test, CLOUDAPI_TEST_MODE)\nReviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1555099430,"lastUpdated":1555361237,"open":false,"status":"MERGED","comments":[{"timestamp":1555099430,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1555099432,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit b67adc74ab2e0b295655803690fb789521499592\n    \n    first stab"},{"timestamp":1555099472,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1555099622,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1555099624,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit cb816e7a73f244eee4052ce0e90274813bf3eb95\n    \n    copyright updates and one missing \u0027config.test\u0027 usage"},{"timestamp":1555099663,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1555099895,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1555113543,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1555113545,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 34973b79969045a7c5db10047b112fba0e9e62d8\n    \n    drop now unused \u0027server_uuid\u0027 on test CreateMachine calls; not necessary now that we have \u0027sdcadm post-setup dev-headnode-prov\u0027 for headnode usage\n    \n    commit 9746ae50c16b1b7cdab18993c24c01da24280682\n    \n    slight improvement to test assert messages for keys test\n    \n    commit 26de86a1e8d3f70ca06e8a0edec5ee8d5b933abe\n    \n    verbump for drop of test mode"},{"timestamp":1555113577,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1555113865,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 4."},{"timestamp":1555113867,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit f7a719b45b274d34bf8044bcd7a8a2a68a083e14\n    \n    fix \u0027make check\u0027"},{"timestamp":1555113883,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\nMarsell, this is ready to review now. Thanks."},{"timestamp":1555113904,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1555276495,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 4: Code-Review+1\n\n(1 comment)"},{"timestamp":1555287012,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1555287044,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 4:\n\nnightly1 was busy, so didn\u0027t have a chance to test it there. COAL looks good."},{"timestamp":1555303485,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1555361195,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1555361237,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"5","revision":"9d589e04360b902eb1e4f342160a94372735fcff","parents":["f7d4a3a66f325c7d5731393a9be816c53b96ac77"],"ref":"refs/changes/08/6108/5","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555361195,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555113904,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555276495,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555287012,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1555361237,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":1,"deletions":-6},{"file":"lib/machines.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/tests.js","type":"DELETED","insertions":0,"deletions":-46},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":12,"deletions":-19},{"file":"test/common.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/keys.test.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"test/machines.70.test.js","type":"MODIFIED","insertions":2,"deletions":-18},{"file":"test/machines.71.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/machines.72.test.js","type":"MODIFIED","insertions":2,"deletions":-15},{"file":"test/machines.73.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":1,"deletions":-12},{"file":"test/machines.94.test.js","type":"MODIFIED","insertions":12,"deletions":-38},{"file":"test/machines.test.js","type":"MODIFIED","insertions":9,"deletions":-31},{"file":"test/nics.test.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/runtests","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"test/tests.test.js","type":"DELETED","insertions":0,"deletions":-65}],"sizeInsertions":59,"sizeDeletions":-314},"patchSets":[{"number":"1","revision":"a557e13f51dad5de754b67f036a0e25832fdca1f","parents":["f7d4a3a66f325c7d5731393a9be816c53b96ac77"],"ref":"refs/changes/08/6108/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555099430,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555099472,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"lib/machines.js","type":"MODIFIED","insertions":0,"deletions":-14},{"file":"lib/tests.js","type":"DELETED","insertions":0,"deletions":-46},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":12,"deletions":-19},{"file":"test/runtests","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"test/tests.test.js","type":"DELETED","insertions":0,"deletions":-65}],"sizeInsertions":12,"sizeDeletions":-153},{"number":"2","revision":"3459b5b0f98ab7e353f359942bb77af1319c98ce","parents":["f7d4a3a66f325c7d5731393a9be816c53b96ac77"],"ref":"refs/changes/08/6108/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555099622,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555099663,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555099895,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":1,"deletions":-6},{"file":"lib/machines.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/tests.js","type":"DELETED","insertions":0,"deletions":-46},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":12,"deletions":-19},{"file":"test/common.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/runtests","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"test/tests.test.js","type":"DELETED","insertions":0,"deletions":-65}],"sizeInsertions":16,"sizeDeletions":-159},{"number":"3","revision":"7e2a7ddf9021671bb25f1bd2933f65f5824a3f1f","parents":["f7d4a3a66f325c7d5731393a9be816c53b96ac77"],"ref":"refs/changes/08/6108/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555113543,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1555113577,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/machines.test.js","line":1208,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: missing semicolon"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":1,"deletions":-6},{"file":"lib/machines.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/tests.js","type":"DELETED","insertions":0,"deletions":-46},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":12,"deletions":-19},{"file":"test/common.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/keys.test.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"test/machines.70.test.js","type":"MODIFIED","insertions":2,"deletions":-18},{"file":"test/machines.71.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/machines.72.test.js","type":"MODIFIED","insertions":2,"deletions":-15},{"file":"test/machines.73.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":1,"deletions":-12},{"file":"test/machines.94.test.js","type":"MODIFIED","insertions":12,"deletions":-38},{"file":"test/machines.test.js","type":"MODIFIED","insertions":9,"deletions":-31},{"file":"test/nics.test.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/runtests","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"test/tests.test.js","type":"DELETED","insertions":0,"deletions":-65}],"sizeInsertions":59,"sizeDeletions":-314},{"number":"4","revision":"35c16c811a40a4ef9129a3eb1649c8bc20f22307","parents":["f7d4a3a66f325c7d5731393a9be816c53b96ac77"],"ref":"refs/changes/08/6108/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555113865,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555113904,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555276495,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555287012,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"sapi_manifests/cloudapi/template","line":163,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"What does this mean?"},{"file":"sapi_manifests/cloudapi/template","line":163,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I don\u0027t recall off-hand. I just moved this section down to have a stable end section of the JSON object to not have to cope with trailing comma issues.\n\n... found it: https://github.com/mustache/mustache/issues/129\nIt just resolves to each array value in the `CLOUDAPI_BLEEDING_EDGE_FEATURES` array of strings."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":1,"deletions":-6},{"file":"lib/machines.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/tests.js","type":"DELETED","insertions":0,"deletions":-46},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":12,"deletions":-19},{"file":"test/common.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/keys.test.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"test/machines.70.test.js","type":"MODIFIED","insertions":2,"deletions":-18},{"file":"test/machines.71.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/machines.72.test.js","type":"MODIFIED","insertions":2,"deletions":-15},{"file":"test/machines.73.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":1,"deletions":-12},{"file":"test/machines.94.test.js","type":"MODIFIED","insertions":12,"deletions":-38},{"file":"test/machines.test.js","type":"MODIFIED","insertions":9,"deletions":-31},{"file":"test/nics.test.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/runtests","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"test/tests.test.js","type":"DELETED","insertions":0,"deletions":-65}],"sizeInsertions":59,"sizeDeletions":-314},{"number":"5","revision":"9d589e04360b902eb1e4f342160a94372735fcff","parents":["f7d4a3a66f325c7d5731393a9be816c53b96ac77"],"ref":"refs/changes/08/6108/5","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1555361195,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1555113904,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1555361237,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555276495,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1555287012,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":1,"deletions":-6},{"file":"lib/machines.js","type":"MODIFIED","insertions":1,"deletions":-15},{"file":"lib/tests.js","type":"DELETED","insertions":0,"deletions":-46},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":12,"deletions":-19},{"file":"test/common.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/keys.test.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"test/machines.70.test.js","type":"MODIFIED","insertions":2,"deletions":-18},{"file":"test/machines.71.test.js","type":"MODIFIED","insertions":3,"deletions":-17},{"file":"test/machines.72.test.js","type":"MODIFIED","insertions":2,"deletions":-15},{"file":"test/machines.73.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/machines.80.test.js","type":"MODIFIED","insertions":1,"deletions":-12},{"file":"test/machines.94.test.js","type":"MODIFIED","insertions":12,"deletions":-38},{"file":"test/machines.test.js","type":"MODIFIED","insertions":9,"deletions":-31},{"file":"test/nics.test.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/runtests","type":"MODIFIED","insertions":1,"deletions":-5},{"file":"test/tests.test.js","type":"DELETED","insertions":0,"deletions":-65}],"sizeInsertions":59,"sizeDeletions":-314}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}