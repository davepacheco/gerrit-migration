From 34b28dc72cf989d1a29d4b61000c695be3d2de73 Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Wed, 4 Apr 2018 13:31:34 -0700
Subject: [PATCH] TRITON-306 remove SAPI's uncaughtException restify handler
 Reviewed by: Josh Wilsdon <josh@wilsdon.ca> Approved by: Josh Wilsdon
 <josh@wilsdon.ca>

---
 lib/server/sapi.js | 14 --------------
 1 file changed, 14 deletions(-)

diff --git a/lib/server/sapi.js b/lib/server/sapi.js
index 8247fd4..7e15415 100644
--- a/lib/server/sapi.js
+++ b/lib/server/sapi.js
@@ -198,20 +198,6 @@ function createServer(options) {
 
     endpoints.attachTo(server, options.model);
 
-    server.on('uncaughtException', function (req, res, route, err) {
-        req.log.error({
-            req: req,
-            res: res,
-            route: route,
-            err: err
-        }, 'uncaught exception');
-        if (!res.headersSent) {
-            req.log.error('sending error response from uncaught ' +
-                'exception');
-            res.send(err);
-        }
-    });
-
     return (server);
 }
 
-- 
2.21.0

