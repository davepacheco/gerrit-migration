From 1be5f873e4bfb4502e9bea2a4e8519b278922073 Mon Sep 17 00:00:00 2001
From: Orlando Vazquez <ovazquez@gmail.com>
Date: Fri, 1 Dec 2017 02:13:59 -0800
Subject: [PATCH] CNAPI-728 Error when updating Nic tags of new east-3b servers

---
 lib/endpoints/nics.js               | 1 -
 lib/workflows/server-update-nics.js | 9 ++-------
 2 files changed, 2 insertions(+), 8 deletions(-)

diff --git a/lib/endpoints/nics.js b/lib/endpoints/nics.js
index 518f389..ee2ada1 100644
--- a/lib/endpoints/nics.js
+++ b/lib/endpoints/nics.js
@@ -84,7 +84,6 @@ Nic.update = function handlerNicUpdate(req, res, next) {
     var wfParams = {
         nic_action: action,
         nics: req.params.nics,
-        server: server,
         server_uuid: uuid,
         target: uuid,
         origin: req.params.origin,
diff --git a/lib/workflows/server-update-nics.js b/lib/workflows/server-update-nics.js
index 96546bc..f136d75 100644
--- a/lib/workflows/server-update-nics.js
+++ b/lib/workflows/server-update-nics.js
@@ -5,7 +5,7 @@
  */
 
 /*
- * Copyright (c) 2014, Joyent, Inc.
+ * Copyright (c) 2017, Joyent, Inc.
  */
 
 /*
@@ -20,7 +20,7 @@
  * - Workflow refreshes sysinfo to get the updated tags
  */
 
-var VERSION = '1.0.0';
+var VERSION = '1.0.1';
 
 var cnapiCommon = require('wf-shared').cnapi;
 var napiCommon = require('wf-shared').napi;
@@ -32,11 +32,6 @@ function validateParams(job, callback) {
         return;
     }
 
-    if (!job.params.server) {
-        callback(new Error('Must specify server'));
-        return;
-    }
-
     callback(null, 'All parameters OK!');
 }
 
-- 
2.21.0

