{"project":"joyent/sdc-napi","branch":"master","id":"Idb188c8f27d295bb03d4d2786ffaf3dd3a8b5827","number":"1369","subject":"NAPI-373 Generate less garbage and periodically log memory usage Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Alex Wilson \u003calex.wilson@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/1369","commitMessage":"NAPI-373 Generate less garbage and periodically log memory usage\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1485803499,"lastUpdated":1493417848,"open":false,"status":"MERGED","comments":[{"timestamp":1485803499,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1485812519,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493163552,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1493163643,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1493164749,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1493164816,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493167936,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1493168009,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493168912,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1493247492,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1493247564,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1493414335,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1493417724,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1493417836,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1493417848,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"7","revision":"db188c8f27d295bb03d4d2786ffaf3dd3a8b5827","parents":["d0f3e734eecd6a9d90a31f3585bb05943bee59b3"],"ref":"refs/changes/69/1369/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1493417836,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493168009,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493168912,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1493417724,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1493417848,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":77,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":88,"sizeDeletions":-9},"patchSets":[{"number":"1","revision":"88aecc21f49cb4546351e51e3bcd53a4c855f190","parents":["48f52e7a269a9d2340df83581777a3a5c9d52801"],"ref":"refs/changes/69/1369/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1485803499,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485812519,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":80,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":90,"sizeDeletions":-8},{"number":"2","revision":"711ae09d8a108fd83cb9377f7a5a7b797429ebb2","parents":["ad55ff896857f0d895b628d8fdc2b9d8970c0339"],"ref":"refs/changes/69/1369/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1493163552,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485812519,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":80,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":90,"sizeDeletions":-8},{"number":"3","revision":"64d1a8389650782e5fdabebe71b6201d3347bb83","parents":["ad55ff896857f0d895b628d8fdc2b9d8970c0339"],"ref":"refs/changes/69/1369/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1493164749,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493164816,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":80,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":90,"sizeDeletions":-8},{"number":"4","revision":"d28afb2e01c00d1e5b83574074d19a976a0508c0","parents":["ad55ff896857f0d895b628d8fdc2b9d8970c0339"],"ref":"refs/changes/69/1369/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1493167936,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493168912,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493168009,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":77,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":88,"sizeDeletions":-9},{"number":"5","revision":"2a795c4aa2263b88c90491270c3a42de8ff503a5","parents":["d0f3e734eecd6a9d90a31f3585bb05943bee59b3"],"ref":"refs/changes/69/1369/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1493247492,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493168912,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493168009,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":77,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":88,"sizeDeletions":-9},{"number":"6","revision":"2e24d92b329228d823dffdcdee0372b3415a49b9","parents":["d0f3e734eecd6a9d90a31f3585bb05943bee59b3"],"ref":"refs/changes/69/1369/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1493414335,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493168912,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1493417724,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493168009,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":77,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":88,"sizeDeletions":-9},{"number":"7","revision":"db188c8f27d295bb03d4d2786ffaf3dd3a8b5827","parents":["d0f3e734eecd6a9d90a31f3585bb05943bee59b3"],"ref":"refs/changes/69/1369/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1493417836,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1493417848,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493168912,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1493417724,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493168009,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/index.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/endpoints/manage.js","type":"ADDED","insertions":77,"deletions":0},{"file":"lib/napi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sbin/napid","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":88,"sizeDeletions":-9}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}