{"project":"joyent/muppet","branch":"master","id":"I978f989b20e08c9db3a05fe58e92b20088f991bc","number":"2331","subject":"MANTA-3364 \u0027Loadbalancer has no backends\u0027 probe is missing tooling to actually run Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Reviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e Approved by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e","owner":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"url":"https://cr.joyent.us/2331","commitMessage":"MANTA-3364 \u0027Loadbalancer has no backends\u0027 probe is missing tooling to actually run\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nReviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e\nApproved by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e\n","createdOn":1501792773,"lastUpdated":1516656224,"open":false,"status":"MERGED","comments":[{"timestamp":1501792773,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 1."},{"timestamp":1501792802,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1501792992,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1501793410,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(1 comment)\n\nThanks for taking this on!  The package.json change looks fine.  The proof will be in the testing.  I wonder if this will uncover other issues with the probe."},{"timestamp":1502323312,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1505925911,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1505925946,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1509580618,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4: Code-Review+1\n\nJust a question on the test plan: if you cause the probes to fire by enabling the ipf rule, and then you leave that for a few minutes, and then fix the underlying condition, then wait for a while and then look at the probe, you should see that the alarm has several events, that the first event is after the time when you introduced the condition, and the last event is _before_ you removed the problem.\n\nDoes that make sense?"},{"timestamp":1511219168,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1511286711,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 5:\n\n\u003e Just a question on the test plan: if you cause the probes to fire\n \u003e by enabling the ipf rule, and then you leave that for a few\n \u003e minutes, and then fix the underlying condition, then wait for a\n \u003e while and then look at the probe, you should see that the alarm has\n \u003e several events, that the first event is after the time when you\n \u003e introduced the condition, and the last event is _before_ you\n \u003e removed the problem.\n \u003e \n \u003e Does that make sense?\n\nI did not note the timestamps of the events at the time. I\u0027ll re-run and add more info to the ticket."},{"timestamp":1516318030,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1516656016,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1516656042,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6:\n\n\"make check\" passed ok"},{"timestamp":1516656072,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1516656224,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Kordas"}],"currentPatchSet":{"number":"7","revision":"978f989b20e08c9db3a05fe58e92b20088f991bc","parents":["723d4bf71957586591a2adf15f701b8f052f1d34"],"ref":"refs/changes/31/2331/7","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1516656072,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509580618,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"SUBM","value":"1","grantedOn":1516656224,"by":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"4ebae3030644da88e6f2fac6cea2482876666688","parents":["8b2217407ea169da6c73489352e9583d5272e6f5"],"ref":"refs/changes/31/2331/1","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1501792773,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},{"number":"2","revision":"7f524c60006af9c3d79bebaaf343808399c10490","parents":["8b2217407ea169da6c73489352e9583d5272e6f5"],"ref":"refs/changes/31/2331/2","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1501792992,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This isn\u0027t quite the right format.  See https://github.com/joyent/eng/blob/master/docs/index.md#commit-comments.  (I think there\u0027s a better explanation in https://github.com/joyent/rfd/blob/master/rfd/0104/README.md#commit-messages, but that\u0027s not approved yet.)  You don\u0027t have to add the reviewed-by and approved-by lines til that\u0027s done, though."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},{"number":"3","revision":"de41cb0a1e227c5daeda07aa6fdd9a46430022b2","parents":["8b2217407ea169da6c73489352e9583d5272e6f5"],"ref":"refs/changes/31/2331/3","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1502323312,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},{"number":"4","revision":"fd5fe4a8482cbc4467cabf29e70f8efe74cbb89f","parents":["66b2bf12d7e8eaedc12693bc877cbfe80d4ba054"],"ref":"refs/changes/31/2331/4","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1505925911,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509580618,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},{"number":"5","revision":"1094e147160112f0725132a43dad9b07a83da65f","parents":["66b2bf12d7e8eaedc12693bc877cbfe80d4ba054"],"ref":"refs/changes/31/2331/5","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1511219168,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509580618,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},{"number":"6","revision":"42b49f7945f73d29485fcd180641104af56d031f","parents":["723d4bf71957586591a2adf15f701b8f052f1d34"],"ref":"refs/changes/31/2331/6","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1516656016,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509580618,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},{"number":"7","revision":"978f989b20e08c9db3a05fe58e92b20088f991bc","parents":["723d4bf71957586591a2adf15f701b8f052f1d34"],"ref":"refs/changes/31/2331/7","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1516656072,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1509580618,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501792802,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1516318030,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"SUBM","value":"1","grantedOn":1516656224,"by":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}]}