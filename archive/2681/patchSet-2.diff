From b4ef74618df78927cfe273d50a66589d9bbc1374 Mon Sep 17 00:00:00 2001
From: Patrick Mooney <pmooney@pfmooney.com>
Date: Thu, 28 Sep 2017 19:05:42 +0000
Subject: [PATCH] OS-6323 want stack-clash mitigation [fix missing parens]

---
 usr/src/uts/common/vm/vm_as.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/usr/src/uts/common/vm/vm_as.c b/usr/src/uts/common/vm/vm_as.c
index 502fb8f386..a9e4cc917b 100644
--- a/usr/src/uts/common/vm/vm_as.c
+++ b/usr/src/uts/common/vm/vm_as.c
@@ -2330,7 +2330,7 @@ retry:
 		}
 
 		for (seg = AS_SEGFIRST(as); seg; seg = AS_SEGNEXT(as, seg)) {
-			if (seg->s_flags & S_HOLE != 0) {
+			if ((seg->s_flags & S_HOLE) != 0) {
 				continue;
 			}
 			error = SEGOP_LOCKOP(seg, seg->s_base,
@@ -2362,7 +2362,7 @@ retry:
 		mutex_exit(&as->a_contents);
 
 		for (seg = AS_SEGFIRST(as); seg; seg = AS_SEGNEXT(as, seg)) {
-			if (seg->s_flags & S_HOLE != 0) {
+			if ((seg->s_flags & S_HOLE) != 0) {
 				continue;
 			}
 			error = SEGOP_LOCKOP(seg, seg->s_base,
-- 
2.21.0

