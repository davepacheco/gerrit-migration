{"project":"joyent/illumos-joyent","branch":"master","id":"If7586076ad61bc93f2e388c1e2a87b4508db5f14","number":"1510","subject":"OS-5965 lxbrand move memcntl wrappers to IKE Reviewed by: Ryan Zezeski \u003crpz@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/1510","commitMessage":"OS-5965 lxbrand move memcntl wrappers to IKE\nReviewed by: Ryan Zezeski \u003crpz@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1487176817,"lastUpdated":1489082115,"open":false,"status":"MERGED","comments":[{"timestamp":1487176817,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1487183606,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1487206313,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 1:\n\n(2 comments)\n\nIn linux, if addr + len \u003c addr for mlock then it will return EINVAL. If addr + len \u003d\u003d addr then it will return 0 and do nothing (assuming I\u0027m reading the linux code correctly).\n\n\nhttp://lxr.free-electrons.com/source/mm/mlock.c#L700\n\nhttp://lxr.free-electrons.com/source/mm/mlock.c#L587\n\nhttp://lxr.free-electrons.com/source/mm/gup.c#L1067\n\n\nSince we are calling native memcntl we will return ENOMEM if addr + len \u003c\u003d addr. I think madvise might have this behavior on Linux too.\n\n\nAt the end of the day I\u0027m not sure we really need to care but thought I\u0027d mention it. I\u0027ll leave it up to you if you want to try to emulate this behavior exactly or just leave it as is."},{"timestamp":1487206841,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 1:\n\n\u003e  I think madvise might have this behavior on Linux too.\n \nJust to clarify, I mean that I think both mlock and madvise return EINVAL when addr + len \u003c addr but the madvise man page didn\u0027t leave me confident and I didn\u0027t bother reading the linux madvise code. I guess I could write a test but it\u0027s 6pm and dinner is calling."},{"timestamp":1487972152,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(3 comments)\n\nrpz: I\u0027ll look into those address calculations which Linux performs and perhaps update the new logic here."},{"timestamp":1488230240,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1488230346,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3."},{"timestamp":1488230906,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2:\n\n(1 comment)\n\nThis looks good to me. I just had one question."},{"timestamp":1488232842,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1488233032,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1488233043,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1488234275,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1488458872,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1488487971,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1488488121,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1488829066,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5:\n\nI\u0027m waiting to merge this until I add some cases to our lx-test repo."},{"timestamp":1489023446,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 6."},{"timestamp":1489023522,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6:\n\nI wrote up some tests for verifying the error conditions which were scrutinized earlier in review.  During that process, I did find some behavior that diverged from Real Linux, and adjusted logic accordingly.  The tests now pass on LX and Linux: https://github.com/joyent/lx-tests/blob/master/src/memcntl.c"},{"timestamp":1489064771,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1489074797,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 7."},{"timestamp":1489074826,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1489075173,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1489077915,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1489078864,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1489082115,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"7","revision":"f7586076ad61bc93f2e388c1e2a87b4508db5f14","parents":["4bf1e8d0480d67d96be483c14b8024c5ecebd235"],"ref":"refs/changes/10/1510/7","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1489074797,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489075173,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489077915,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489078864,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1489082115,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":233,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":270,"sizeDeletions":-186},"patchSets":[{"number":"1","revision":"e160d5becf4d0b0255a029faee2a05a5ab7085e5","parents":["6c69e138c04837b5fda933f5f84aba56db942854"],"ref":"refs/changes/10/1510/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1487176817,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":13,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Where does the 2009 Sun copyright come from? The mem.c file you pulled this code from has 2006."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":13,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Copied from the wrong place while I was transcribing things.  Fixed."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":153,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Is there a specific reason you\u0027re not simply checking the return value from memcntl here?"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":153,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"I also don\u0027t get the point of the lwp_errno dance -- unless it\u0027s just to save a variable or make it clear that memcntl is setting errno."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":153,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Fixed."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":180,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"missing \u0027we\u0027"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":180,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"missing \u0027is\u0027"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":180,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Fixed"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":15,"deletions":-15},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":1,"deletions":-8},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":15,"deletions":-15},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":186,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":228,"sizeDeletions":-191},{"number":"2","revision":"81e5592df474900c66ad29336b3295d224d88d20","parents":["f7b7abfa6104a9c74789db9692c2fc269644b2eb"],"ref":"refs/changes/10/1510/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1488230240,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":64,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Since this pattern is repeated several times, do you you think it would be beneficial to make this into a little utility function or is it not worth it?"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":64,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I was tempted, but if you look closely, the error handling differs slightly in a few places. It seemed simpler to just leave it."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":64,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Yes, I saw that. Thanks, for clarifying."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":226,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":263,"sizeDeletions":-186},{"number":"3","revision":"fde3eb4c4c0a68f81fcbd778e49c09d0d4d68aba","parents":["f7b7abfa6104a9c74789db9692c2fc269644b2eb"],"ref":"refs/changes/10/1510/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1488230346,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488233043,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1488458872,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488234275,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":226,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":263,"sizeDeletions":-186},{"number":"4","revision":"28c5afe1f2455b6f65e9112580389ff10338f094","parents":["8a54bd0389ef62c7f6b917788261216b299285eb"],"ref":"refs/changes/10/1510/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1488487971,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488233043,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1488458872,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488234275,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":226,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":263,"sizeDeletions":-186},{"number":"5","revision":"b725e9ba5b56ee844be8917cfd386d6f94ca36cf","parents":["8a54bd0389ef62c7f6b917788261216b299285eb"],"ref":"refs/changes/10/1510/5","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1488488121,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488233043,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1488458872,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1488234275,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":226,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":263,"sizeDeletions":-186},{"number":"6","revision":"db064df2b346783c1fd8ccdf6310845ed2cf4573","parents":["b21f2a94883bbb690b5bd91e0ae55ab5348e5c12"],"ref":"refs/changes/10/1510/6","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1489023446,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":214,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"add \"no\""},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","line":214,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Fixed."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":233,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":270,"sizeDeletions":-186},{"number":"7","revision":"f7586076ad61bc93f2e388c1e2a87b4508db5f14","parents":["4bf1e8d0480d67d96be483c14b8024c5ecebd235"],"ref":"refs/changes/10/1510/7","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1489074797,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489075173,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489078864,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1489082115,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489077915,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/lx_brand.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/lib/brand/lx/lx_brand/common/mem.c","type":"MODIFIED","insertions":1,"deletions":-151},{"file":"usr/src/lib/brand/lx/lx_brand/sys/lx_syscall.h","type":"MODIFIED","insertions":0,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_mem.c","type":"ADDED","insertions":233,"deletions":0},{"file":"usr/src/uts/intel/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":270,"sizeDeletions":-186}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}