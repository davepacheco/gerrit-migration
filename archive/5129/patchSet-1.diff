From a00303c5a6c1aa6976fbfe9a0bbd1b36e45f5bdd Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Fri, 23 Nov 2018 12:16:54 -0800
Subject: [PATCH] MANTA-4030 many images using node 0.10 or 0.12 broken by
 transitive lru-cache@4.1.4 dep

---
 package.json | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/package.json b/package.json
index 8cc2e00..b6ab988 100644
--- a/package.json
+++ b/package.json
@@ -5,6 +5,8 @@
         "author": "Joyent (joyent.com)",
         "private": true,
         "main": "./lib/index.js",
+        "// lru-cache": "attempting to pin version while satisfying transitive deps, because lru-cache@4.1.4 includes yallist@3 which breaks node --abort-on-uncaught-exception with node <v4",
+        "// kang": "elevate the libmanta->moray->fast->kang dep, so the top-level lru-cache@4.1.3 can be used by kang's restify dep, without being blocked by libmanta's lru-cache@2 dep",
         "dependencies": {
                 "assert-plus": "0.1.2",
                 "big.js": "2.0.0",
@@ -13,7 +15,9 @@
                 "carrier": "0.1.10",
                 "ipaddr.js": "0.1.1",
                 "jsprim": "0.5.0",
+                "kang": "1.2.0",
                 "libmanta": "git+ssh://git@github.com:joyent/node-libmanta.git#master",
+                "lru-cache": "4.1.3",
                 "marlin": "git+ssh://git@github.com:joyent/manta-marlin.git#master",
                 "manta": "git+ssh://git@github.com:joyent/node-manta.git#master",
                 "manta-compute-bin": "git+ssh://git@github.com:joyent/manta-compute-bin.git#master",
-- 
2.21.0

