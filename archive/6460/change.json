{"project":"joyent/rust-illumos-priv","branch":"master","id":"Iced277a396cc1bd17cc0d819f2c46977e9b9c5f9","number":"6460","subject":"TRITON-1760 Want a way for cfwlogd to drop privileges Reviewed by: Rui \u003crui@joyent.com\u003e Reviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e Approved by: Dave Eddy \u003cdave.eddy@joyent.com\u003e","owner":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"url":"https://cr.joyent.us/6460","commitMessage":"TRITON-1760 Want a way for cfwlogd to drop privileges\nReviewed by: Rui \u003crui@joyent.com\u003e\nReviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e\nApproved by: Dave Eddy \u003cdave.eddy@joyent.com\u003e\n","createdOn":1560876497,"lastUpdated":1561059872,"open":false,"status":"MERGED","comments":[{"timestamp":1560876497,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 1."},{"timestamp":1560877500,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1560878174,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 3."},{"timestamp":1560879876,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 4."},{"timestamp":1560888066,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 5."},{"timestamp":1560888492,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n cargo check\n     Checking illumos-priv v0.1.0 (/tmp/repo)\n error[E0658]: imports can only refer to extern crate names passed with `--extern` on stable channel (see issue #53130)\n   --\u003e src/lib.rs:43:9\n    |\n 41 | mod privileges;\n    | --------------- not an extern crate passed with `--extern`\n 42 | \n 43 | pub use privileges::Privilege;\n    |         ^^^^^^^^^^\n    |\n note: this import refers to the module defined here\n   --\u003e src/lib.rs:41:1\n    |\n 41 | mod privileges;\n    | ^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `illumos-priv`.\n \n To learn more, run the command again with --verbose.\n gmake: *** [deps/eng/tools/mk/Makefile.targ:287: check-rust] Error 101"},{"timestamp":1560889338,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 6."},{"timestamp":1560889343,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560988295,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 7."},{"timestamp":1560988300,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1561055226,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1561057860,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1\n\nlooks awesome!"},{"timestamp":1561059848,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1561059872,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Michael Zeller"}],"currentPatchSet":{"number":"8","revision":"ced277a396cc1bd17cc0d819f2c46977e9b9c5f9","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/8","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1561059848,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560988300,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561055226,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561057860,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561057860,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1561059872,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"ADDED","insertions":3,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":329,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":615,"deletions":0}],"sizeInsertions":1458,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"a0feb42b7abd14e088361717c7e6078acc1c05ca","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/1","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1560876497,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":306,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":613,"deletions":0}],"sizeInsertions":1422,"sizeDeletions":0},{"number":"2","revision":"eafaecbe741659cae33ad3f8c640293c5b84a88c","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/2","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1560877500,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"NO_CODE_CHANGE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":306,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":613,"deletions":0}],"sizeInsertions":1422,"sizeDeletions":0},{"number":"3","revision":"c8c85d40c9acd965851fdc30606d3b995844aa61","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/3","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1560878174,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"ADDED","insertions":3,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":306,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":613,"deletions":0}],"sizeInsertions":1426,"sizeDeletions":0},{"number":"4","revision":"844b0ddc821a4a8de4c5d223e792ac6fad087abf","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/4","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1560879876,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"ADDED","insertions":3,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":306,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":613,"deletions":0}],"sizeInsertions":1433,"sizeDeletions":0},{"number":"5","revision":"d29fa380bc75b2be79fedc65d249f98e103d0af9","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/5","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1560888066,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1560888492,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"ADDED","insertions":3,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":328,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":613,"deletions":0}],"sizeInsertions":1455,"sizeDeletions":0},{"number":"6","revision":"957bb1a9865b44a230e4c58526fb7a3d0c03c966","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/6","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1560889338,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560889343,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"ADDED","insertions":3,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":329,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":613,"deletions":0}],"sizeInsertions":1456,"sizeDeletions":0},{"number":"7","revision":"c312d70f372d5b54bf414efd15a64a221e92b9da","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/7","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1560988295,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560988300,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561057860,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561057860,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561055226,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"ADDED","insertions":3,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":329,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":615,"deletions":0}],"sizeInsertions":1458,"sizeDeletions":0},{"number":"8","revision":"ced277a396cc1bd17cc0d819f2c46977e9b9c5f9","parents":["eda976c75e6336aee8d5a53fd08d27b4e8a73827"],"ref":"refs/changes/60/6460/8","uploader":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"createdOn":1561059848,"author":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560988300,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561057860,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561057860,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1561059872,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561055226,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":10,"deletions":0},{"file":".gitmodules","type":"ADDED","insertions":3,"deletions":0},{"file":"Cargo.toml","type":"ADDED","insertions":16,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":373,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"ADDED","insertions":22,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"examples/fork-exec.rs","type":"ADDED","insertions":17,"deletions":0},{"file":"examples/member.rs","type":"ADDED","insertions":19,"deletions":0},{"file":"src/ffi.rs","type":"ADDED","insertions":46,"deletions":0},{"file":"src/lib.rs","type":"ADDED","insertions":329,"deletions":0},{"file":"src/privileges.rs","type":"ADDED","insertions":615,"deletions":0}],"sizeInsertions":1458,"sizeDeletions":0}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}]}