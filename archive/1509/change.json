{"project":"joyent/sdc-napi","branch":"master","id":"I2a7181607537589b0c0152ac22c409454a81c3b7","number":"1509","subject":"NAPI-326 \u0027free\u0027 and \u0027unassign\u0027 IP need their usages untangled Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Approved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"url":"https://cr.joyent.us/1509","commitMessage":"NAPI-326 \u0027free\u0027 and \u0027unassign\u0027 IP need their usages untangled\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1487123912,"lastUpdated":1522701355,"open":false,"status":"MERGED","comments":[{"timestamp":1487123912,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 1."},{"timestamp":1487123979,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(2 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1487124185,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 2."},{"timestamp":1487124362,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493320311,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1493320394,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1495066800,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3:\n\n(4 comments)"},{"timestamp":1521676849,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 4."},{"timestamp":1521676909,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1521677293,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 5."},{"timestamp":1521677356,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1521677393,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 5:\n\n(4 comments)"},{"timestamp":1522434561,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5:\n\n(1 comment)\n\nThese changes look good, but you accidentally reverted all of the submodules to earlier commits."},{"timestamp":1522444854,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 6."},{"timestamp":1522444915,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1522445033,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Uploaded patch set 7."},{"timestamp":1522445093,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1522700855,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 8: Commit message was updated."},{"timestamp":1522701282,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1"},{"timestamp":1522701355,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Nick Zivkovic"}],"currentPatchSet":{"number":"8","revision":"093d1bbfb744bf685c722652afc1be2118b211f2","parents":["2d38182f1e13c246cb164ea517b6503aaec97b7f"],"ref":"refs/changes/09/1509/8","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1522700855,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522445093,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522701282,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1522701282,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1522701355,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":44,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"f4a9603079a79d9402dd8792520eb3f5869b4dc6","parents":["83042619074c48e7603954283f609fd4ecad63aa"],"ref":"refs/changes/09/1509/1","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1487123912,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1487123979,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/unit/ips.test.js","line":694,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"\u0027obj\u0027 is defined but never used"},{"file":"test/unit/ips.test.js","line":697,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Line 697 exceeds the maximum line length of 80"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":17,"deletions":-4},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":21,"deletions":-1}],"sizeInsertions":42,"sizeDeletions":-6},{"number":"2","revision":"30bb0dc44073a9716e01ae82e11e98798c35a44b","parents":["83042619074c48e7603954283f609fd4ecad63aa"],"ref":"refs/changes/09/1509/2","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1487124185,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487124362,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/models/ip/index.js","line":381,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Can you make this validatedParams instead?"},{"file":"lib/models/ip/index.js","line":381,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Done"},{"file":"test/unit/ips.test.js","line":699,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Remove \"return\"."},{"file":"test/unit/ips.test.js","line":699,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Done"},{"file":"test/unit/ips.test.js","line":720,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Can you make this:\n\nif (h.ifErr(t, err2, \u0027updateIP() error\u0027)) {\n    t.end();\n    return;\n}"},{"file":"test/unit/ips.test.js","line":720,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":17,"deletions":-4},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":22,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-6},{"number":"3","revision":"a22baafb4a189ea371e3bfa5510013a308e531d4","parents":["d0f3e734eecd6a9d90a31f3585bb05943bee59b3"],"ref":"refs/changes/09/1509/3","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1493320311,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487124362,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/endpoints/networks/ips.js","line":114,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Can you update jsprim to 1.4.0, and make this and the \"unassign\" test use mod_jsprim.hasKey() instead?"},{"file":"lib/endpoints/networks/ips.js","line":114,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":17,"deletions":-4},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":22,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-6},{"number":"4","revision":"6755ccf66f4d63873360528b2912ea5a6f7b35ca","parents":["2d38182f1e13c246cb164ea517b6503aaec97b7f"],"ref":"refs/changes/09/1509/4","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1521676849,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521676909,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/javascriptlint","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/sdc-scripts","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":47,"sizeDeletions":-9},{"number":"5","revision":"f5fd978b65fded3cf3b47ce62fa7318e1bae3d0f","parents":["2d38182f1e13c246cb164ea517b6503aaec97b7f"],"ref":"refs/changes/09/1509/5","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1521677293,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521677356,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/util/constants.js","line":167,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"How about:\n\n    free and unassign cannot both be set to \"true\""}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/javascriptlint","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/sdc-scripts","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":47,"sizeDeletions":-9},{"number":"6","revision":"83e8c85bd66f54f8dd3dfc6e152cc8b31d9bcdbb","parents":["2d38182f1e13c246cb164ea517b6503aaec97b7f"],"ref":"refs/changes/09/1509/6","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1522444854,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522444915,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":44,"sizeDeletions":-6},{"number":"7","revision":"2a7181607537589b0c0152ac22c409454a81c3b7","parents":["2d38182f1e13c246cb164ea517b6503aaec97b7f"],"ref":"refs/changes/09/1509/7","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1522445033,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522445093,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":44,"sizeDeletions":-6},{"number":"8","revision":"093d1bbfb744bf685c722652afc1be2118b211f2","parents":["2d38182f1e13c246cb164ea517b6503aaec97b7f"],"ref":"refs/changes/09/1509/8","uploader":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"createdOn":1522700855,"author":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522701282,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1522701282,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522445093,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1522701355,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/networks/ips.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/ip/index.js","type":"MODIFIED","insertions":18,"deletions":-5},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":21,"deletions":0}],"sizeInsertions":44,"sizeDeletions":-6}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}]}