{"project":"joyent/sdc-cloudapi","branch":"master","id":"I6f533b3b8dbb581f2be0a47f37fecd6e91fdc88a","number":"6450","subject":"TRITON-1736 Add relevant error message when creating more than 8 disks in Flexible Disk instance Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Approved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/6450","commitMessage":"TRITON-1736 Add relevant error message when creating more than 8 disks in Flexible Disk instance\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nApproved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\n","createdOn":1560784842,"lastUpdated":1561017187,"open":false,"status":"MERGED","comments":[{"timestamp":1560784842,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1560784848,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 340d9167d41433fcf60e5275d36b629acadfc1ae\n    \n    TRITON-1736 Add relevant error message when creating more than 8 disks in Flexible Disk instance"},{"timestamp":1560784898,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560785014,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\n(1 comment)\n\nI\u0027m abandoning https://cr.joyent.us/#/c/6445/ b/c we decided to go for CloudAPI as the place for this error message, instead of node-triton.\n\nSome test notes into the JIRA issue"},{"timestamp":1560885411,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1560952489,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2."},{"timestamp":1560952494,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 5e3b0ebea77a2f1799782b0725797086adddaf98\n    \n    TRITON-1736 Add relevant error message when creating more than 8 disks in Flexible Disk instance"},{"timestamp":1560952540,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560952543,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\n(1 comment)\n\nThanks for the warn Mike!"},{"timestamp":1560953561,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)"},{"timestamp":1560953830,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1560954027,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1561017187,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"3","revision":"6f533b3b8dbb581f2be0a47f37fecd6e91fdc88a","parents":["db48a87b50d152ad0e2834661fa56be7f0725704"],"ref":"refs/changes/50/6450/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1560954027,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560952540,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560953561,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560953830,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1561017187,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/disks.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/machines.js","type":"MODIFIED","insertions":5,"deletions":-3}],"sizeInsertions":14,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"bca67fba453f683f57783c4a3bac9aebac123dc7","parents":["db48a87b50d152ad0e2834661fa56be7f0725704"],"ref":"refs/changes/50/6450/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1560784842,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560784898,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/machines.js","line":62,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"I know this, and many others, should probably go into a different shared location, like \"CloudAPI.constants\" so we don\u0027t need to re-redefine constants everywhere. Anyway, that change is huge enough to be its own issue and to happen after the WIP to make CloudAPI use ESLint"},{"file":"lib/machines.js","line":62,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Yeah, I spent a bit of time looking at that while reviewing this and I didn\u0027t see a solution that looked proper and straight-forward.  Having the constant named the same rather than \"8\" is a step in the right direction."},{"file":"lib/machines.js","line":484,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"MAX_ALLOWED_VM_DISKS"},{"file":"lib/machines.js","line":484,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Geez! got distracted with the error message wording  and forgot to replace the interesting thing. Thanks!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/disks.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/machines.js","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":13,"sizeDeletions":-5},{"number":"2","revision":"deb99830090f1e0f04362319de244b6c74ed3e40","parents":["db48a87b50d152ad0e2834661fa56be7f0725704"],"ref":"refs/changes/50/6450/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1560952489,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560952540,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560953561,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560953830,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/disks.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/machines.js","type":"MODIFIED","insertions":5,"deletions":-3}],"sizeInsertions":14,"sizeDeletions":-6},{"number":"3","revision":"6f533b3b8dbb581f2be0a47f37fecd6e91fdc88a","parents":["db48a87b50d152ad0e2834661fa56be7f0725704"],"ref":"refs/changes/50/6450/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1560954027,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560952540,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1561017187,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560953561,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560953830,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/disks.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/machines.js","type":"MODIFIED","insertions":5,"deletions":-3}],"sizeInsertions":14,"sizeDeletions":-6}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}