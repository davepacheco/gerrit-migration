{"project":"joyent/manta-muskie","branch":"master","id":"Ia40bacdfacd95b593479a5e9496b5b90febf80d0","number":"3880","subject":"MANTA-3523 make muskie monitoring tests optional, improve port wrangling","owner":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"url":"https://cr.joyent.us/3880","commitMessage":"MANTA-3523 make muskie monitoring tests optional, improve port wrangling\n","createdOn":1524771633,"lastUpdated":1546452774,"open":true,"status":"NEW","comments":[{"timestamp":1524771633,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 1."},{"timestamp":1524771745,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 1:\n\nDo the artedi dependency update and jsstyle update merit a separate JIRA ticket?"},{"timestamp":1524776556,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\n\u003e Do the artedi dependency update and jsstyle update merit a separate\n \u003e JIRA ticket?\n\nMaybe they do since the git commit messages presumably won\u0027t include any details about those changes just so we have some historical record of why they were changed. Though I think it\u0027s also probably not a huge deal to forego that as well."},{"timestamp":1524777023,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1524866260,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525300999,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1546452774,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"1","revision":"a40bacdfacd95b593479a5e9496b5b90febf80d0","parents":["b0bff3202f25949a529a19e5c982e040d0505350"],"ref":"refs/changes/80/3880/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1524771633,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524866260,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/monitoring.test.js","line":41,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"What about an explicit escape hatch as well in case someone runs into this? For https://cr.joyent.us/#/c/2917/ I allowed for test skipping by checking an environment variable so maybe we could make the check on whether to run the tests here be \u0027If there is a port and also if SKIP_MONITOR_TESTS is not set\u0027."},{"file":"test/monitoring.test.js","line":48,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Do the tests sprint to stderr or stdout? Should we have the \"skip\" message print to a different output stream than the test output does?\n\n(Also, fwiw, this method is what I did for skipping MPU tests in the node-manta test suite. Not saying it\u0027s the best option, but it is at the least not without precedent in other repositories.)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/monitoring.test.js","type":"MODIFIED","insertions":41,"deletions":-5}],"sizeInsertions":44,"sizeDeletions":-8},"patchSets":[{"number":"1","revision":"a40bacdfacd95b593479a5e9496b5b90febf80d0","parents":["b0bff3202f25949a529a19e5c982e040d0505350"],"ref":"refs/changes/80/3880/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1524771633,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524866260,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/monitoring.test.js","line":41,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"What about an explicit escape hatch as well in case someone runs into this? For https://cr.joyent.us/#/c/2917/ I allowed for test skipping by checking an environment variable so maybe we could make the check on whether to run the tests here be \u0027If there is a port and also if SKIP_MONITOR_TESTS is not set\u0027."},{"file":"test/monitoring.test.js","line":48,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Do the tests sprint to stderr or stdout? Should we have the \"skip\" message print to a different output stream than the test output does?\n\n(Also, fwiw, this method is what I did for skipping MPU tests in the node-manta test suite. Not saying it\u0027s the best option, but it is at the least not without precedent in other repositories.)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/monitoring.test.js","type":"MODIFIED","insertions":41,"deletions":-5}],"sizeInsertions":44,"sizeDeletions":-8}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}]}