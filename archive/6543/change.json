{"project":"joyent/sdc-napi","branch":"master","id":"I5a6f5402e2ab3c75215a26d1bb43f27002c6ebed","number":"6543","subject":"TRITON-1793 Add more fabrics permission tests Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/6543","commitMessage":"TRITON-1793 Add more fabrics permission tests\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1562128282,"lastUpdated":1567539218,"open":false,"status":"MERGED","comments":[{"timestamp":1562128282,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1562128352,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/test/integration/nics.test.js\n /tmp/repo/test/integration/fabrics.test.js\n /tmp/repo/test/integration/network-owner.test.js\n /tmp/repo/test/integration/fabrics-invalid.test.js\n /tmp/repo/test/integration/regression-NET-281.test.js\n /tmp/repo/test/integration/network-overlap.test.js\n /tmp/repo/test/integration/helpers.js\n /tmp/repo/test/integration/ips.test.js\n /tmp/repo/test/integration/networks.test.js\n /tmp/repo/test/integration/network-pools.test.js\n /tmp/repo/test/integration/provision.test.js\n /tmp/repo/test/integration/zz-delete-test-networks.test.js\n /tmp/repo/test/unit/util-alloc.test.js\n /tmp/repo/test/unit/longs.test.js\n /tmp/repo/test/unit/util-intersect.test.js\n /tmp/repo/test/unit/nics-list.test.js\n /tmp/repo/test/unit/networks-list.test.js\n /tmp/repo/test/unit/network-pools.test.js\n /tmp/repo/test/unit/run.js\n /tmp/repo/test/unit/networks-subnet-alloc.test.js\n /tmp/repo/test/unit/util-ip.test.js\n /tmp/repo/test/unit/aggregations.test.js\n /tmp/repo/test/unit/networks.test.js\n /tmp/repo/test/unit/available-subnet-stream.test.js\n /tmp/repo/test/unit/helpers.js\n /tmp/repo/test/unit/nics.test.js\n /tmp/repo/test/unit/ips.test.js\n /tmp/repo/test/unit/migration-1.2.0-networks.test.js\n /tmp/repo/test/unit/network-owner.test.js\n /tmp/repo/test/unit/fabrics.test.js\n /tmp/repo/test/unit/nic-tags.test.js\n /tmp/repo/test/unit/util-oui.test.js\n /tmp/repo/test/unit/search-ips.test.js\n /tmp/repo/test/unit/changefeed.test.js\n /tmp/repo/test/unit/etags.test.js\n /tmp/repo/bin/ip2num\n /tmp/repo/bin/num2ip\n /tmp/repo/bin/mac2num\n /tmp/repo/bin/num2mac\n json --validate -f package.json\n json --validate -f config.json.sample\n deps/jsstyle/jsstyle -o indent\u003d2,doxygen,unparenthesized-return\u003d0,strict-indent\u003dtrue server.js lib/napictl.js lib/migratectl.js lib/init.js lib/napi.js lib/config.js lib/util/autoalloc.js lib/util/ip.js lib/util/errors.js lib/util/oui.js lib/util/common.js lib/util/validate.js lib/util/intersect.js lib/util/subnet-streams.js lib/util/constants.js lib/migrate.js lib/models/network-pool.js lib/models/nic-tag.js lib/models/fabric.js lib/models/nic/obj.js lib/models/nic/list.js lib/models/nic/provision.js lib/models/nic/common.js lib/models/nic/index.js lib/models/nic/update.js lib/models/nic/create.js lib/models/nic/del.js lib/models/nic/get.js lib/models/nic/bucket.js lib/models/aggregation.js lib/models/ip/common.js lib/models/ip/index.js lib/models/ip/provision.js lib/models/vlan.js lib/models/index.js lib/models/network.js lib/apis/moray.js lib/endpoints/aggregations.js lib/endpoints/manage.js lib/endpoints/ping.js lib/endpoints/nics.js lib/endpoints/fabrics/common.js lib/endpoints/fabrics/vlans.js lib/endpoints/fabrics/networks.js lib/endpoints/search.js lib/endpoints/network-pools.js lib/endpoints/nic-tags.js lib/endpoints/networks/common.js lib/endpoints/networks/nics.js lib/endpoints/networks/ips.js lib/endpoints/networks/index.js lib/endpoints/index.js test/lib/net.js test/lib/common.js test/lib/portolan.js test/lib/vlan.js test/lib/moray.js test/lib/log.js test/lib/pool.js test/lib/config.js test/lib/aggr.js test/lib/err.js test/lib/migration.js test/lib/ip.js test/lib/client.js test/lib/nic-tag.js test/lib/mock-wf.js test/lib/nic.js test/lib/server.js test/lib/fabric-net.js test/lib/fabrics.js test/integration/nic-tags.test.js test/integration/aggregations.test.js test/integration/nics.test.js test/integration/fabrics.test.js test/integration/network-owner.test.js test/integration/fabrics-invalid.test.js test/integration/regression-NET-281.test.js test/integration/network-overlap.test.js test/integration/helpers.js test/integration/ips.test.js test/integration/networks.test.js test/integration/network-pools.test.js test/integration/provision.test.js test/integration/zz-delete-test-networks.test.js test/unit/util-alloc.test.js test/unit/longs.test.js test/unit/util-intersect.test.js test/unit/nics-list.test.js test/unit/networks-list.test.js test/unit/network-pools.test.js test/unit/run.js test/unit/networks-subnet-alloc.test.js test/unit/util-ip.test.js test/unit/aggregations.test.js test/unit/networks.test.js test/unit/available-subnet-stream.test.js test/unit/helpers.js test/unit/nics.test.js test/unit/ips.test.js test/unit/migration-1.2.0-networks.test.js test/unit/network-owner.test.js test/unit/fabrics.test.js test/unit/nic-tags.test.js test/unit/util-oui.test.js test/unit/search-ips.test.js test/unit/changefeed.test.js test/unit/etags.test.js bin/ip2num bin/num2ip bin/mac2num bin/num2mac\n bash -n sbin/napid\n bash -n bin/napictl\n /tmp/repo/build/node/bin/node deps/eng/tools/bashstyle sbin/napid\n /tmp/repo/build/node/bin/node deps/eng/tools/bashstyle bin/napictl\n deps/eng/tools/check-copyright -q\n error: test/integration/fabrics.test.js: copyright not in RFD 164 form, \u0027 * Copyright 2018, Joyent, Inc.\u0027 does not match /Copyright [0-9]{4} Joyent, Inc\\.$/\n gmake: *** [deps/eng/tools/mk/Makefile.targ:292: check-copyright] Error 1"},{"timestamp":1562128485,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1562128554,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1567538809,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1567539130,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1567539137,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1567539148,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"},{"timestamp":1567539218,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"4","revision":"408f76d0fc12969b5d0bdf38e017b344e71aa85d","parents":["6ae787ed63c418ec2c09c82a4b1e0ff6b3949488"],"ref":"refs/changes/43/6543/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1567539137,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1562128554,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1567539148,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":43,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"52b81f13cad26047dfcd5d0e3381fb6963610e91","parents":["d80c2f54d8e1350c213752f125c26cae5dff692f"],"ref":"refs/changes/43/6543/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1562128282,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1562128352,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":42,"deletions":0}],"sizeInsertions":42,"sizeDeletions":0},{"number":"2","revision":"5a6f5402e2ab3c75215a26d1bb43f27002c6ebed","parents":["d80c2f54d8e1350c213752f125c26cae5dff692f"],"ref":"refs/changes/43/6543/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1562128485,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1562128554,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":43,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-1},{"number":"3","revision":"8a84b7248aac75a083fa3d01f99f1e6fa0e06c53","parents":["d80c2f54d8e1350c213752f125c26cae5dff692f"],"ref":"refs/changes/43/6543/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1567539130,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1562128554,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":43,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-1},{"number":"4","revision":"408f76d0fc12969b5d0bdf38e017b344e71aa85d","parents":["6ae787ed63c418ec2c09c82a4b1e0ff6b3949488"],"ref":"refs/changes/43/6543/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1567539137,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1567539148,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1562128554,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567538809,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":43,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}