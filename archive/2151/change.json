{"project":"joyent/manta-mako","branch":"master","id":"I31b31aa96bcef61ed89ac85a5538f1289ffe2c83","number":"2151","subject":"MANTA-3325: Improve the performance of mako_gc","owner":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"url":"https://cr.joyent.us/2151","commitMessage":"MANTA-3325: Improve the performance of mako_gc\n\nI missed my goal of knocking this out over the course of two episodes\nof Dinosaur Train this afternoon, but was close enough to declare\nsuccess at a round of Effectiveness Golf.  I\u0027m not wild about the\nstructure but it\u0027s a close approximation of the shell script that was\nthere previously and the log lines/output should be compatible.  The\nDeleteObject calls should be concurrent, too, but I\u0027m leaving that as an\nexercise for the reader.\n\nAlso left as an exercise to the reader is testing this.  It compiles.\nThis is far from how I\u0027d suggest or condone writing a Go CLI app,\nbut it\u0027s a start and certainly going to be more productive than\nseeing mako_gc rewritten in C.\n\nHanded off to Kelly McLaughlin for experimentation and/or to take across\nthe finish line.\n","createdOn":1498358176,"lastUpdated":1538696317,"open":false,"status":"ABANDONED","comments":[{"timestamp":1498358176,"reviewer":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"message":"Uploaded patch set 1."},{"timestamp":1498358201,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1498362778,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1:\n\nFor the sake of at least my own sanity, I\u0027d love it if we could keep the editorial comments on the relative merits of Go and C out of things like this."},{"timestamp":1498512545,"reviewer":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"message":"Uploaded patch set 2."},{"timestamp":1498512570,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1538696317,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Abandoned"}],"currentPatchSet":{"number":"2","revision":"31b31aa96bcef61ed89ac85a5538f1289ffe2c83","parents":["34098908ca98dde826da021ec0806c2203fe8310"],"ref":"refs/changes/51/2151/2","uploader":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"createdOn":1498512545,"author":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1498512570,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":23,"deletions":0},{"file":"bin/.gitignore","type":"ADDED","insertions":1,"deletions":0},{"file":"bin/mako_gc.go","type":"ADDED","insertions":612,"deletions":0}],"sizeInsertions":613,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"66b1ad159e745c3a8bd96c1c288ffec86930882c","parents":["34098908ca98dde826da021ec0806c2203fe8310"],"ref":"refs/changes/51/2151/1","uploader":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"createdOn":1498358176,"author":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1498358201,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":20,"deletions":0},{"file":"bin/.gitignore","type":"ADDED","insertions":1,"deletions":0},{"file":"bin/mako_gc.go","type":"ADDED","insertions":619,"deletions":0}],"sizeInsertions":620,"sizeDeletions":0},{"number":"2","revision":"31b31aa96bcef61ed89ac85a5538f1289ffe2c83","parents":["34098908ca98dde826da021ec0806c2203fe8310"],"ref":"refs/changes/51/2151/2","uploader":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"createdOn":1498512545,"author":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1498512570,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":23,"deletions":0},{"file":"bin/.gitignore","type":"ADDED","insertions":1,"deletions":0},{"file":"bin/mako_gc.go","type":"ADDED","insertions":612,"deletions":0}],"sizeInsertions":613,"sizeDeletions":0}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"James Nugent","email":"james@joyent.com","username":"jen20"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},{"name":"Joyent Automation","username":"joyent-automation"}]}