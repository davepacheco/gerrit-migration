{"project":"joyent/smartos-live","branch":"master","id":"I240ccbcefb7ae4d839f3979107c6baa77a4c14d0","number":"3589","subject":"OS-6669 create bhyve brand OS-6683 need to adjust default bootrom handling for OS-6416 Reviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e Reviewed by: Josh Wilsdon \u003cjosh.wilsdon@joyent.com\u003e Approved by: Josh Wilsdon \u003cjosh.wilsdon@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/3589","commitMessage":"OS-6669 create bhyve brand\nOS-6683 need to adjust default bootrom handling for OS-6416\nReviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e\nReviewed by: Josh Wilsdon \u003cjosh.wilsdon@joyent.com\u003e\nApproved by: Josh Wilsdon \u003cjosh.wilsdon@joyent.com\u003e\n","createdOn":1520880154,"lastUpdated":1521048154,"open":false,"status":"MERGED","comments":[{"timestamp":1520880154,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1520880201,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1520886775,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(20 comments)"},{"timestamp":1520902433,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1520960124,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1520970653,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 2."},{"timestamp":1520970680,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(22 comments)"},{"timestamp":1520970699,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1521045333,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2: Code-Review+1\n\ncode itself looks good to me."},{"timestamp":1521046817,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2:\n\nTesting:  Since this code has been used extensively for many weeks, my testing focused on ensuring that various common operations still worked.  Those include:\n\n- Reboot into a PI with round 2 bits.  Verify that that zones that were previously booted were booted and those that were previously not booted were not booted.\n- `vmadm stop \u003cbhyve-uuid\u003e` fails as expected (must use -f)\n- `vmadm stop -f \u003cbhyve-uuid\u003e` succeeds\n- `vmadm destroy \u003crunning-bhyve-uuid\u003e` succeeds\n- `vmadm destroy \u003chalted-bhyve-uuid\u003e` succeeds\n- `vmadm create -f $jsonfile` succeeds and seems to have configured zone properly\n- newly installed zone boots as expected"},{"timestamp":1521047896,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\nlgtm. Onward!"},{"timestamp":1521047934,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1521047990,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1521048147,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1521048154,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"4","revision":"48cb3c49e1a9c4cf204a59bed8312b0096f6209e","parents":["17986eceb70278269b31155b575bde4640173463"],"ref":"refs/changes/89/3589/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1521048147,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520970699,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521045333,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1521048153,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/vm/lib/metadata/agent.js","type":"MODIFIED","insertions":20,"deletions":-18},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":110,"deletions":-45},{"file":"src/vm/node_modules/expander.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":155,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":42,"deletions":-32},{"file":"src/vm/sbin/vmdf.js","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":343,"sizeDeletions":-108},"patchSets":[{"number":"1","revision":"f22df1a743a5318f82d743afc16f3eacd73dd792","parents":["fc8b9ac29c03a7603a35f393713d1441046a6ccc"],"ref":"refs/changes/89/3589/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1520880154,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520880201,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/node_modules/VM.js","line":302,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"I still don\u0027t know if we need anything here for bhyve.  If other reviewers think nothing is needed, the comment can be deleted."},{"file":"src/vm/node_modules/VM.js","line":302,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"I suspect when OS-6721 is done we might have something. But since the info command isn\u0027t supported on bhyve, it seems fine to not add anything for now."},{"file":"src/vm/node_modules/VM.js","line":302,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/VM.js","line":6100,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"This comment can be deleted.  See OS-6717."},{"file":"src/vm/node_modules/VM.js","line":6100,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/VM.js","line":11880,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Delete"},{"file":"src/vm/node_modules/VM.js","line":11880,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/VM.js","line":12026,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Comment only mentions KVM"},{"file":"src/vm/node_modules/VM.js","line":12026,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/VM.js","line":12030,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"nit: make the kvm_load_fields and bhyve_load_fields variables above an object keyed off of the brand name.\n\n\n var virt_load_fields \u003d {\n   kvm: [\n     \u0027foo\u0027,\n     ...\n   ],\n   bhyve: [\n     \u0027bar\u0027,\n     ...\n   ]\n };\n ...\n fields: virt_load_fields[vmobj.brand]\n\n\nThis way you won\u0027t need to check `vmobj.brand \u003d\u003d\u003d \u0027kvm\u0027` specifically."},{"file":"src/vm/node_modules/VM.js","line":12030,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/expander.js","line":24,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"2018"},{"file":"src/vm/node_modules/expander.js","line":24,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"ok, and below"},{"file":"src/vm/node_modules/proptable.js","line":39,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Remove XXX-mg"},{"file":"src/vm/node_modules/proptable.js","line":39,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":262,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Still think it should be deleted."},{"file":"src/vm/node_modules/proptable.js","line":262,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":434,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Unused by brand, delete."},{"file":"src/vm/node_modules/proptable.js","line":434,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":1090,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete comment"},{"file":"src/vm/node_modules/proptable.js","line":1090,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"actually, nic_driver isn\u0027t used by the brand either. Deleting the comment and code."},{"file":"src/vm/node_modules/proptable.js","line":1475,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Delete, qemu opts not relevant to bhyve"},{"file":"src/vm/node_modules/proptable.js","line":1475,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":1485,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Delete, qemu opts not relevant to bhyve"},{"file":"src/vm/node_modules/proptable.js","line":1485,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":1616,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete comment"},{"file":"src/vm/node_modules/proptable.js","line":1616,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":1685,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete comment"},{"file":"src/vm/node_modules/proptable.js","line":1685,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":1774,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete, not supported with bhyve brand"},{"file":"src/vm/node_modules/proptable.js","line":1774,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":1836,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete, not supported by bhyve brand"},{"file":"src/vm/node_modules/proptable.js","line":1848,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete, not supported by bhyve brand"},{"file":"src/vm/node_modules/proptable.js","line":1870,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"remove comment"},{"file":"src/vm/node_modules/proptable.js","line":1870,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":1881,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"remove comment"},{"file":"src/vm/node_modules/proptable.js","line":1881,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":2105,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete comment"},{"file":"src/vm/node_modules/proptable.js","line":2105,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/node_modules/proptable.js","line":2115,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete comment"},{"file":"src/vm/node_modules/proptable.js","line":2115,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/sbin/vmadmd.js","line":214,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"delete comment"},{"file":"src/vm/sbin/vmadmd.js","line":214,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/sbin/vmadmd.js","line":926,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Other reviewers need to chime in here."},{"file":"src/vm/sbin/vmadmd.js","line":926,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"I don\u0027t think we need to change this comment for bhyve. Bhyve behaves more like any other non-KVM brand as far as vmadmd is concerned."},{"file":"src/vm/sbin/vmadmd.js","line":926,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"},{"file":"src/vm/sbin/vmdf.js","line":9,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"2018"},{"file":"src/vm/sbin/vmdf.js","line":9,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":15,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/vm/lib/metadata/agent.js","type":"MODIFIED","insertions":20,"deletions":-18},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":86,"deletions":-14},{"file":"src/vm/node_modules/expander.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":175,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":47,"deletions":-32},{"file":"src/vm/sbin/vmdf.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":341,"sizeDeletions":-74},{"number":"2","revision":"240ccbcefb7ae4d839f3979107c6baa77a4c14d0","parents":["fc8b9ac29c03a7603a35f393713d1441046a6ccc"],"ref":"refs/changes/89/3589/2","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1520970653,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520970699,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521045333,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":15,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/vm/lib/metadata/agent.js","type":"MODIFIED","insertions":20,"deletions":-18},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":110,"deletions":-45},{"file":"src/vm/node_modules/expander.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":155,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":42,"deletions":-32},{"file":"src/vm/sbin/vmdf.js","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":343,"sizeDeletions":-108},{"number":"3","revision":"23fea34d014a7aafe1bc9516041bc71f668cf779","parents":["17986eceb70278269b31155b575bde4640173463"],"ref":"refs/changes/89/3589/3","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1521047934,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520970699,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521045333,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":15,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/vm/lib/metadata/agent.js","type":"MODIFIED","insertions":20,"deletions":-18},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":110,"deletions":-45},{"file":"src/vm/node_modules/expander.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":155,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":42,"deletions":-32},{"file":"src/vm/sbin/vmdf.js","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":343,"sizeDeletions":-108},{"number":"4","revision":"48cb3c49e1a9c4cf204a59bed8312b0096f6209e","parents":["17986eceb70278269b31155b575bde4640173463"],"ref":"refs/changes/89/3589/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1521048147,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1520970699,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521047896,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521045333,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1521048153,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"src/vm/lib/metadata/agent.js","type":"MODIFIED","insertions":20,"deletions":-18},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":110,"deletions":-45},{"file":"src/vm/node_modules/expander.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":155,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":42,"deletions":-32},{"file":"src/vm/sbin/vmdf.js","type":"MODIFIED","insertions":3,"deletions":-3}],"sizeInsertions":343,"sizeDeletions":-108}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}]}