{"project":"joyent/node-moray-filter","branch":"master","topic":"MORAY-364","id":"I40b716191e2a8099d082b2dbe48b87ddfe180c87","number":"549","subject":"MORAY-364 Want a better filter parser for Moray Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: David Pacheco \u003cdap@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/549","commitMessage":"MORAY-364 Want a better filter parser for Moray\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: David Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1475186478,"lastUpdated":1475529512,"open":false,"status":"MERGED","comments":[{"timestamp":1475186478,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1475186510,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(6 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1475186587,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1475186633,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475187037,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to MORAY-364"},{"timestamp":1475249053,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)"},{"timestamp":1475512352,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1475512417,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1475512452,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1475513040,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1475528985,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4:\n\nI took Cody\u0027s image with the new Moray (image 2250eafa-898b-11e6-b965-dbd45c4f16a2, which is image \"manta-moray\" version \"moray-filter-20161003T165825Z-gc042504\" and installed that in my test Manta.  I successfully ran the Muskie test suite and the Marlin test suite and sanity-checked that mlogin and minnow both appear to work."},{"timestamp":1475529380,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4:\n\nIn addition to the tests that came from node-ldap-filter, and the tests that I added here, I also ran a Moray with these changes and ran against it:\n\n- A COAL standup\n- The Moray test suite\n- The nightly tests"},{"timestamp":1475529407,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1475529440,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1475529512,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"5","revision":"0622e291726ec04b381aa5130e533b7264441ebc","parents":["daa5a5d5d11c73582275cc75aa9f3ff839b1ab06"],"ref":"refs/changes/49/549/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1475529440,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475513040,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475529407,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1475529512,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":23,"deletions":-4},{"file":"lib/helpers.js","type":"MODIFIED","insertions":16,"deletions":-11},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/approx.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/eq.test.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"test/ge.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/le.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/parse.test.js","type":"MODIFIED","insertions":192,"deletions":-54},{"file":"test/presence.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/substr.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":308,"sizeDeletions":-96},"patchSets":[{"number":"1","revision":"a01e49f00965e7f8fbcb66689200e2c819a93fdd","parents":["daa5a5d5d11c73582275cc75aa9f3ff839b1ab06"],"ref":"refs/changes/49/549/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1475186478,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1475186510,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/parse.test.js","line":488,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"},{"file":"test/parse.test.js","line":489,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"},{"file":"test/parse.test.js","line":518,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"},{"file":"test/parse.test.js","line":519,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"},{"file":"test/parse.test.js","line":520,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"},{"file":"test/parse.test.js","line":521,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":23,"deletions":-4},{"file":"lib/helpers.js","type":"MODIFIED","insertions":16,"deletions":-11},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/approx.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/eq.test.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"test/ge.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/le.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/parse.test.js","type":"MODIFIED","insertions":184,"deletions":-54},{"file":"test/presence.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/substr.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":300,"sizeDeletions":-96},{"number":"2","revision":"3ae0aaf710f827196203fd0037c28a96dc344894","parents":["daa5a5d5d11c73582275cc75aa9f3ff839b1ab06"],"ref":"refs/changes/49/549/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1475186587,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475186633,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475249053,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":"lib/index.js","line":40,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"The naming of \u0027end\u0027 vs. \u0027start\u0027 and \u0027len\u0027 seems a little confusing in this context.  Perhaps something like \u0027pos\u0027 or \u0027cur\u0027 would be better?"},{"file":"lib/index.js","line":40,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":23,"deletions":-4},{"file":"lib/helpers.js","type":"MODIFIED","insertions":16,"deletions":-11},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/approx.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/eq.test.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"test/ge.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/le.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/parse.test.js","type":"MODIFIED","insertions":192,"deletions":-54},{"file":"test/presence.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/substr.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":308,"sizeDeletions":-96},{"number":"3","revision":"40b716191e2a8099d082b2dbe48b87ddfe180c87","parents":["daa5a5d5d11c73582275cc75aa9f3ff839b1ab06"],"ref":"refs/changes/49/549/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1475512352,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":23,"deletions":-4},{"file":"lib/helpers.js","type":"MODIFIED","insertions":16,"deletions":-11},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/approx.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/eq.test.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"test/ge.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/le.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/parse.test.js","type":"MODIFIED","insertions":192,"deletions":-54},{"file":"test/presence.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/substr.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":308,"sizeDeletions":-96},{"number":"4","revision":"83bdb599c5a11adaf205281b72944dce6be1ed2b","parents":["daa5a5d5d11c73582275cc75aa9f3ff839b1ab06"],"ref":"refs/changes/49/549/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1475512452,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475529407,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475513040,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":23,"deletions":-4},{"file":"lib/helpers.js","type":"MODIFIED","insertions":16,"deletions":-11},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/approx.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/eq.test.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"test/ge.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/le.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/parse.test.js","type":"MODIFIED","insertions":192,"deletions":-54},{"file":"test/presence.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/substr.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":308,"sizeDeletions":-96},{"number":"5","revision":"0622e291726ec04b381aa5130e533b7264441ebc","parents":["daa5a5d5d11c73582275cc75aa9f3ff839b1ab06"],"ref":"refs/changes/49/549/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1475529440,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475529407,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1475529512,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475513040,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":23,"deletions":-4},{"file":"lib/helpers.js","type":"MODIFIED","insertions":16,"deletions":-11},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/approx.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/eq.test.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"test/ge.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/le.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/parse.test.js","type":"MODIFIED","insertions":192,"deletions":-54},{"file":"test/presence.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/substr.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":308,"sizeDeletions":-96}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}