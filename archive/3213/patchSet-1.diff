commit 17c8d5c6e9fba703205de1ba04a664f8b45c2dfd (refs/changes/13/3213/1)
Author: Julien Gilli <julien.gilli@joyent.com>
Date:   2018-01-12T14:33:11-08:00 (1 year, 9 months ago)
    
    TRITON-49 vms.changefeed.test.js throwing error makes whole VMAPI tests suite abort

diff --git a/test/vms.changefeed.test.js b/test/vms.changefeed.test.js
index dbf688c..789e9bd 100644
--- a/test/vms.changefeed.test.js
+++ b/test/vms.changefeed.test.js
@@ -97,7 +97,7 @@ function waitForValue(url, key, value, callback) {
             times++;
 
             if (times === TIMEOUT) {
-                throw new Error('Timeout waiting on ' + url);
+                callback(new Error('Timeout waiting on ' + url));
             } else {
                 setTimeout(function () {
                     waitForValue(url, key, value, callback);
