{"project":"joyent/illumos-joyent","branch":"master","topic":"TRITON-1353","id":"Iec3c223079569f3bf2f752e57e59fc95cd053f70","number":"6023","subject":"OS-7662 need a way to disable SMT Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"url":"https://cr.joyent.us/6023","commitMessage":"OS-7662 need a way to disable SMT\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1553718667,"lastUpdated":1557940517,"open":false,"status":"MERGED","comments":[{"timestamp":1553718667,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 1."},{"timestamp":1553718669,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 38ef22d152412517f8d1586bcc928194faf85737\n    \n    m"},{"timestamp":1553718680,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Topic set to TRITON-1353"},{"timestamp":1556277747,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 2."},{"timestamp":1556277752,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 90409b84c336ffd27dadd4da10dd2e92230c667a\n    \n    m\n    \n    commit abb50c4b486a1d5eed481e104dd875cca93f822d\n    \n    m\n    \n    commit 4240326fdb783469413e79f902880ff7f6715b0a\n    \n    m\n    \n    commit d6c9562245d802e67064ff0aee57723754c0d7b9\n    \n    m\n    \n    commit 861560bd7c311789958ee01b9401e8303cc889ea\n    \n    m\n    \n    commit 5eb127eda7a2898ebdfba219d5f12a2c34effad3\n    \n    m"},{"timestamp":1556628758,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 3."},{"timestamp":1556628765,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit a55b845d3d474a4be18484ec3b7447929876b762\n    \n    m\n    \n    commit 6cb9229fe0f07df023c4e66a1b558610663db0ce\n    \n    m\n    \n    commit 8ffcc6bff2d3887e6f4b292badb913d5aa050f3f\n    \n    m\n    \n    commit 511daf8d4e931d8f26e71c262b37588fc8158e4f\n    \n    m\n    \n    commit b51ce1c3cea7e8bc55f15d613b71c32d884db73f\n    \n    m\n    \n    commit 63acb67f162f901c056222827ed7e80de6d0a4f2\n    \n    m\n    \n    commit 8b088e87d78cfb68f79c83fa49dd30e8e0a9cebc\n    \n    m\n    \n    commit c2ca5549a7f04e074ef3cbf463711dccfb693517\n    \n    m"},{"timestamp":1556709658,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 4."},{"timestamp":1556709669,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit b489433e69c861c5677e09ff820e692b1024cfc4\n    \n    m\n    \n    commit 33348681da05ece066c39ea435c501e0a2b2738c\n    \n    m"},{"timestamp":1556710789,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 5."},{"timestamp":1556710806,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 2c0ecb5e6785a270d087801737bd0eb59ec1ecec\n    \n    m"},{"timestamp":1556722080,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 6."},{"timestamp":1556722094,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 759a8bbfd4ebc79a4a0750a288c33b283a08449d\n    \n    m\n    \n    commit 99c30c5851b08c009ad64739304ca794fc4eaf77\n    \n    m"},{"timestamp":1556732774,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 7."},{"timestamp":1556732790,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 0cc9fe7c950be411b725edf1c1a89df3bee0e1d7\n    \n    m\n    \n    commit b68a8fc57d82e5367ccb61aedecc1ef7bdb94eb4\n    \n    m\n    \n    commit 098f2c41cb655d14bbc7ca2db4270778f390b89a\n    \n    m\n    \n    commit 6fa60f3423a51a2fa77c5843c84aa289c4b81a3f\n    \n    m\n    \n    commit 8ee1c6d2718b0b8aee7fd5f5253cc6c6df9357ab\n    \n    m\n    \n    commit eff3bc37492a965eba162304b24515550ab7a340\n    \n    m\n    \n    commit a3feadcf3b67d8b14415a1716412d0df9bf9582a\n    \n    m\n    \n    commit 815ab31ac7899f740666eb23bd934444aef4f9a5\n    \n    m\n    \n    commit 91d777426cf142c1fdc70be8541921f8f9295652\n    \n    m\n    \n    commit 2dd10b2d18ec13c970f92cf84e96055c2a9d5a99\n    \n    m\n    \n    commit bd6e064c6528d8afcfe21cc64fa556af8846969c\n    \n    m\n    \n    commit 6639e3195c76191adec996c1e98f287437e4a662\n    \n    m\n    \n    commit 99f54066c1404d3273ba2b19a2f7872745751d09\n    \n    m"},{"timestamp":1556909119,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 7:\n\n(8 comments)\n\nThanks this looks pretty good all in all. I have a few minor questions and notes."},{"timestamp":1556909792,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7:\n\n(3 comments)"},{"timestamp":1556910193,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 7:\n\n(6 comments)"},{"timestamp":1556914601,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7:\n\n(5 comments)"},{"timestamp":1557237305,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 8."},{"timestamp":1557237331,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit af4f50f2349c804f81dd03d26ec309a8e22c1dbb\n    \n    m\n    \n    commit dcf0605b79b35c5329d621c093843ac06b0dce15\n    \n    mass rename"},{"timestamp":1557244545,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 9."},{"timestamp":1557244678,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 9:\n\nNew commits:\n    \n    commit d9650ac818456fb3a2ed4a333d36e50ba8d75787\n    \n    m\n    \n    commit dc1a03cabc139624e9bb135dd87f705d475287ba\n    \n    m\n    \n    commit b4240e3d86ddbf2de34d1cbdbfc6197b3d09b2ac\n    \n    m"},{"timestamp":1557250726,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 9:\n\n(2 comments)\n\nI\u0027m still going through this, but I wanted to get my question about the new option out in case you want to update."},{"timestamp":1557252321,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 9:\n\n(1 comment)"},{"timestamp":1557252660,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 10."},{"timestamp":1557252716,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 10:\n\nNew commits:\n    \n    commit 1600c58b1b8d79673fb327ff647acafb35563c38\n    \n    m\n    \n    commit 0efae6cd3628e52d8cac5df382cfbfca4b725986\n    \n    m"},{"timestamp":1557363011,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 10:\n\n(2 comments)"},{"timestamp":1557393202,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 10:\n\n(1 comment)"},{"timestamp":1557393205,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 11."},{"timestamp":1557393237,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 11:\n\nNew commits:\n    \n    commit 543ed15726df93ae8c1efe83ba77fead1f42827d\n    \n    m"},{"timestamp":1557421784,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 11: Code-Review+1"},{"timestamp":1557490606,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 11: Code-Review+1"},{"timestamp":1557516758,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 11: Code-Review+1"},{"timestamp":1557860036,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 12."},{"timestamp":1557860039,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 12:\n\nNew commits:\n    \n    commit 1685486c4e1479ed28166eac077b78159a804b20\n    \n    m\n    \n    commit 10c66db255c61e347a67f1e91ec99a5f585b91fb\n    \n    m\n    \n    commit c1c0cb5eb5a9d45c1547d613382b5b099e19d572\n    \n    m\n    \n    commit 84b93c8edb4bb1b55e9f0b8411f6cb5261f93133\n    \n    m\n    \n    commit b71842c66920b9f2c33533e7193c840d2d852c37\n    \n    m\n    \n    commit 14a2aa31a58d5cfc461b622e749145991d22f649\n    \n    m\n    \n    commit 09f1cae391e6fa1a54d028c492d2219df766dec6\n    \n    m\n    \n    commit f88de5a983b6f9306d7b481aeb57227f91d9794e\n    \n    m\n    \n    commit 04460653a9b6a473bbd02b6cfba261ccbff254a1\n    \n    mass rename\n    \n    commit 27f624ca121b103c4fca3320526d4513bfa3e026\n    \n    m\n    \n    commit eddb1638f79bb5a00a88f8d2d548874cce56d65f\n    \n    m\n    \n    commit 976c63c444fc7c91c86ab8c0e0caca41300a4345\n    \n    m\n    \n    commit 203b92193852b1cd263ec845a82998d7f7e52811\n    \n    m\n    \n    commit 6d0a2bdf59eb2b3ba473e76052920f24f1be7b6e\n    \n    m\n    \n    commit 357e77ada0940c8da8f28a7eb7c378184bb986c9\n    \n    m\n    \n    commit 308ee2233808603d12e07adb4126185fc3e20e50\n    \n    m\n    \n    commit 052f7ca4834b0cb386036ccd91452c818bcb6216\n    \n    m\n    \n    commit 18e96d10c7c4563f9548130767dd17075ab5b6a7\n    \n    m\n    \n    commit 3155b7cf8e3362d8979399aec267a8bc8b95e7b8\n    \n    m\n    \n    commit 0138f889dd487b6bed7824d429d389969d4c73c3\n    \n    m\n    \n    commit e83794ec26b4ba11ddf843c513599053450db1d8\n    \n    m\n    \n    commit f400a82d0c6c69efd15d6cfef10c11c8d8d68b8c\n    \n    m"},{"timestamp":1557860164,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 12:\n\nHad to merge in with MDS - all in cpuid.c"},{"timestamp":1557860426,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1557863286,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 12: Integration-Approval+1"},{"timestamp":1557863587,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 13: Commit message was updated."},{"timestamp":1557864316,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 13: Code-Review+1"},{"timestamp":1557864493,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 14: Commit message was updated."},{"timestamp":1557864541,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 15: Commit message was updated."},{"timestamp":1557866763,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 15: Code-Review+1"},{"timestamp":1557867824,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 16: Commit message was updated."},{"timestamp":1557920674,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 17: Patch Set 16 was rebased"},{"timestamp":1557940517,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by John Levon"}],"currentPatchSet":{"number":"17","revision":"d980e527387fd27a9f615306897c215e07c5df8b","parents":["6853053741569b9547e774ed1593c3a260801c7f"],"ref":"refs/changes/23/6023/17","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557920674,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557860426,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863286,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557864316,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557866763,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1557940517,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1536,"sizeDeletions":-979},"patchSets":[{"number":"1","revision":"aae619339c50347faeb65c66dc8f33ae109920a6","parents":["e741beb43b44dc9de3b96bc2e4a00502c0f11c76"],"ref":"refs/changes/23/6023/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1553718667,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":98,"deletions":-15},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":69,"deletions":-55},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":21,"deletions":-20},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":33,"deletions":-7},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/os/ht.c","type":"MODIFIED","insertions":203,"deletions":-57},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/os/arch_kdi.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/intel/sys/archsystm.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/intel/sys/bootconf.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":572,"sizeDeletions":-192},{"number":"2","revision":"0e3b1eef4f45d8437cb8a829053184dd1f6907e5","parents":["486e689913103fa372f7e2c3e054b2bd602546c4"],"ref":"refs/changes/23/6023/2","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1556277747,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":161,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":30,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":76,"deletions":-29},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":65,"deletions":-55},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":21,"deletions":-20},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":33,"deletions":-7},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/os/ht.c","type":"MODIFIED","insertions":205,"deletions":-57},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/os/arch_kdi.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":771,"sizeDeletions":-238},{"number":"3","revision":"49744e88691ec93cd8b9403f1a368c978914affc","parents":["bf8dac9e8354f44dafe2bdafd63da3ae842a1e69"],"ref":"refs/changes/23/6023/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1556628758,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":161,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":30,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":33,"deletions":-7},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/os/ht.c","type":"MODIFIED","insertions":205,"deletions":-57},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/os/arch_kdi.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":753,"sizeDeletions":-225},{"number":"4","revision":"0309e20dec4d13a4648f5aa2f88342418e3971d9","parents":["bf8dac9e8354f44dafe2bdafd63da3ae842a1e69"],"ref":"refs/changes/23/6023/4","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1556709658,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":161,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":30,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/os/subr.c","type":"MODIFIED","insertions":33,"deletions":-15},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":33,"deletions":-7},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/os/ht.c","type":"MODIFIED","insertions":214,"deletions":-57},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/os/arch_kdi.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":795,"sizeDeletions":-240},{"number":"5","revision":"ee813e322d219ae0a29835f92ad805fbef60ab8a","parents":["bf8dac9e8354f44dafe2bdafd63da3ae842a1e69"],"ref":"refs/changes/23/6023/5","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1556710789,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":161,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":30,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":22,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/os/subr.c","type":"MODIFIED","insertions":33,"deletions":-15},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":33,"deletions":-7},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/os/ht.c","type":"MODIFIED","insertions":214,"deletions":-57},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/os/arch_kdi.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":812,"sizeDeletions":-243},{"number":"6","revision":"263207829a25af439317223807d3c4123f09be7c","parents":["bf8dac9e8354f44dafe2bdafd63da3ae842a1e69"],"ref":"refs/changes/23/6023/6","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1556722080,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":37,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":161,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":30,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/os/subr.c","type":"MODIFIED","insertions":33,"deletions":-15},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/os/ht.c","type":"MODIFIED","insertions":214,"deletions":-57},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":806,"sizeDeletions":-242},{"number":"7","revision":"40d732a6054019cd68144417b3028b2e632df7a0","parents":["45d2f6a617bfe6c46ea2f779e3898b5518163af7"],"ref":"refs/changes/23/6023/7","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1556732774,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","line":1389,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: any reason to keep this trailing whitespace around?"},{"file":"usr/src/cmd/psradm/psradm.c","line":269,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"If we\u0027re treating this as a boolean_t, should we change it to a boolean_t?"},{"file":"usr/src/cmd/psradm/psradm.c","line":277,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why is it illegal to use the force option?"},{"file":"usr/src/cmd/psradm/psradm.c","line":277,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I could probably plumb this through if you think it\u0027s important?"},{"file":"usr/src/cmd/psradm/psradm.c","line":277,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"It just wasn\u0027t clear to me why that was the case. I don\u0027t know that it needs to be, it was just a bit surprising, that\u0027s all."},{"file":"usr/src/cmd/psrinfo/psrinfo.c","line":119,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Any reason for these not to be unsigned?"},{"file":"usr/src/cmd/psrinfo/psrinfo.c","line":477,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I didn\u0027t notice a corresponding di_fini(). Should we?"},{"file":"usr/src/cmd/psrinfo/psrinfo.c","line":511,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should count be unsigned?"},{"file":"usr/src/man/man1m/psradm.1m","line":60,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is in the opposite order of what\u0027s described above. Probably we should indicate that this is -H disables hyper-threading and -a is doing it for everyone. I\u0027m not sure that there\u0027s a case where we\u0027d ever do it for both CPUs, but it seems worth mentioning and phrasing it that way so the use of -a elsewhere ins\u0027t as confusing."},{"file":"usr/src/man/man1m/psradm.1m","line":60,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"perhaps clearer to s/CPU core/logical CPU/?"},{"file":"usr/src/man/man1m/psradm.1m","line":60,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I think \u0027core\u0027 is clearer. The nomenclature\u0027s a nightmare in this area, but we never define \u0027logical\u0027 in this man page, and that could easily be taken to mean SMT-thread in my eyes."},{"file":"usr/src/man/man1m/psradm.1m","line":62,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"again, perhaps s/CPU/logical CPU/?"},{"file":"usr/src/man/man1m/psradm.1m","line":62,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"In psrinfo, they\u0027re called \u0027virtual processors\u0027 but I don\u0027t find that very clear. Honestly, we could do with a total overhaul of the CPU-related man pages to define a set of terms and stick  to them. But I don\u0027t quite fancy that right now. In *this* manpage, the previous term is \u0027processor\u0027 but that\u0027s particular unhelpful. How about \"only one SMT thread\" ?"},{"file":"usr/src/man/man1m/psradm.1m","line":131,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Overall question: do we want to refer to it as simultaneous multi-threading in the documentation, so it\u0027s not Intel specific?"},{"file":"usr/src/man/man1m/psradm.1m","line":131,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Ugh, that\u0027s a good question. I think smt is a better reference for sure. Giant search and replace coming up :)"},{"file":"usr/src/uts/common/os/cpu.c","line":1295,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I thought it was only an error if the CPU was disabled and forced wasn\u0027t passed in the psradm manual page."},{"file":"usr/src/uts/common/os/cpu.c","line":1295,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"The DISABLED-\u003eOFFLINE transition isn\u0027t valid, it has to go through online first."},{"file":"usr/src/uts/common/sys/processor.h","line":122,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Is there a sensible way to document loose relationship between this and CPU_CURRENT/CPU_BEST to avoid conflict if future sentinels are added?  Perhaps make this CPU_ALL_SIBLINGS to avoid the other P_* naming that is commonplace in this area?"},{"file":"usr/src/uts/common/sys/processor.h","line":122,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"CPU_ seems at least as ambiguous. Any other ideas?\n\nI\u0027m not sure what you mean by CPU_CURRENT/BEST, they\u0027re not related to p_online(2)."},{"file":"usr/src/uts/i86pc/os/ht.c","line":757,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"How relevant is the last part of this comment to the failure case?  It seems a little bit out of place."},{"file":"usr/src/uts/i86pc/os/ht.c","line":757,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I can rework this to clarify that\u0027s why we\u0027re going to panic()."},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","line":690,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is the reason that we don\u0027t need to do something similar in poweron_vcpu() because the system will ask the main cpu code to set the state which will change the flags and therefore adjust the value above?"},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","line":690,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"That\u0027s right. It\u0027s entirely possible at this point, in fact, that we\u0027re already !CPU_ENABLE, but I didn\u0027t have much energy to figure this out for Xen."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":37,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":161,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":30,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/os/ht.c","type":"MODIFIED","insertions":214,"deletions":-57},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":773,"sizeDeletions":-227},{"number":"8","revision":"7a04967f6ae808789c09ad2567350d1d2c020e28","parents":["45d2f6a617bfe6c46ea2f779e3898b5518163af7"],"ref":"refs/changes/23/6023/8","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557237305,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":771,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1504,"sizeDeletions":-953},{"number":"9","revision":"ab2f3db35992553108f2ccd29cc0981e8db00b55","parents":["45d2f6a617bfe6c46ea2f779e3898b5518163af7"],"ref":"refs/changes/23/6023/9","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557244545,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/psradm/psradm.c","line":243,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"\u0027H\u0027 made sense when we called this hyperthreading, but maybe the new option should be \u0027S\u0027 to match the new terminology?"},{"file":"usr/src/cmd/psradm/psradm.c","line":243,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Ugh, I was thinking -S was taken, but that\u0027s psrinfo. Will fix."},{"file":"usr/src/man/man1m/psradm.1m","line":60,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"same question about option being \u0027S\u0027"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":771,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1525,"sizeDeletions":-974},{"number":"10","revision":"07a15cbc655616a360cb6b1fafd87f9c20b11f9b","parents":["45d2f6a617bfe6c46ea2f779e3898b5518163af7"],"ref":"refs/changes/23/6023/10","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557252660,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/psradm/psradm.c","line":43,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is a C99-ism. If you\u0027re going to do this, please ensure that this is built with c99 and not getting by on the fact that GNU 89 has compatibility with it."},{"file":"usr/src/cmd/psradm/psradm.c","line":43,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1528,"sizeDeletions":-974},{"number":"11","revision":"e7b6bdf689fe7237fdba92f02c7694898a6a1b64","parents":["45d2f6a617bfe6c46ea2f779e3898b5518163af7"],"ref":"refs/changes/23/6023/11","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557393205,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557421784,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557490606,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557516758,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1532,"sizeDeletions":-976},{"number":"12","revision":"154a35d715bee860a9304d2c35562fbf8425313c","parents":["a129b6ac948a795e06506944867eb18a238526d1"],"ref":"refs/changes/23/6023/12","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557860036,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557860426,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863286,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1536,"sizeDeletions":-979},{"number":"13","revision":"e5e2b2ac28835a99e3887081bfafe99a47ce4183","parents":["a129b6ac948a795e06506944867eb18a238526d1"],"ref":"refs/changes/23/6023/13","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557863587,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557864316,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557860426,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863286,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1536,"sizeDeletions":-979},{"number":"14","revision":"351b29a45b41924de3ee11c7d1efc1c05291563c","parents":["a129b6ac948a795e06506944867eb18a238526d1"],"ref":"refs/changes/23/6023/14","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557864493,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557864316,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557860426,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863286,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1536,"sizeDeletions":-979},{"number":"15","revision":"3fa44f7d914a5088832add3c8900fa2522bff761","parents":["a129b6ac948a795e06506944867eb18a238526d1"],"ref":"refs/changes/23/6023/15","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557864541,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557864316,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557860426,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863286,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557866763,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1536,"sizeDeletions":-979},{"number":"16","revision":"ec3c223079569f3bf2f752e57e59fc95cd053f70","parents":["a129b6ac948a795e06506944867eb18a238526d1"],"ref":"refs/changes/23/6023/16","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557867824,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557864316,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557860426,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863286,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557866763,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1536,"sizeDeletions":-979},{"number":"17","revision":"d980e527387fd27a9f615306897c215e07c5df8b","parents":["6853053741569b9547e774ed1593c3a260801c7f"],"ref":"refs/changes/23/6023/17","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1557920674,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557864316,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557860426,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863286,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557866763,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1557940517,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":15,"deletions":-14},{"file":"usr/src/cmd/cpc/common/cpustat.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/cpumem-retire/cma_cpu.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/mdb/common/modules/dtrace/dtrace.c","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/mdb/common/modules/genunix/genunix.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/cmd/picl/plugins/common/devtree/picldevtree.c","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/cmd/psradm/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/cmd/psradm/psradm.c","type":"MODIFIED","insertions":38,"deletions":-5},{"file":"usr/src/cmd/psrinfo/Makefile","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"usr/src/cmd/psrinfo/psrinfo.c","type":"MODIFIED","insertions":163,"deletions":-16},{"file":"usr/src/man/man1m/psradm.1m","type":"MODIFIED","insertions":31,"deletions":-8},{"file":"usr/src/man/man1m/psrinfo.1m","type":"MODIFIED","insertions":77,"deletions":-36},{"file":"usr/src/man/man2/p_online.2","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/cpr/cpr_main.c","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/uts/common/cpr/cpr_misc.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/common/disp/disp.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/common/disp/thread.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/zvol.c","type":"MODIFIED","insertions":14,"deletions":-14},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/uts/common/os/cpu.c","type":"MODIFIED","insertions":50,"deletions":-40},{"file":"usr/src/uts/common/os/lgrp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/os/main.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/os/pool_pset.c","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"usr/src/uts/common/sys/cpuvar.h","type":"MODIFIED","insertions":13,"deletions":-12},{"file":"usr/src/uts/common/sys/processor.h","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/sys/thread.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/syscall/p_online.c","type":"MODIFIED","insertions":31,"deletions":-7},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86pc/io/apix/apix_intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/io/apix/apix_utils.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/dr/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/i86pc/io/pcplusmp/apic.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/os/cpuid.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/uts/i86pc/os/ht.c","type":"DELETED","insertions":0,"deletions":-613},{"file":"usr/src/uts/i86pc/os/intr.c","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"usr/src/uts/i86pc/os/mlsetup.c","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/i86pc/os/smt.c","type":"ADDED","insertions":774,"deletions":0},{"file":"usr/src/uts/i86pc/sys/Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/sys/ht.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"usr/src/uts/i86pc/sys/machcpuvar.h","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/uts/i86pc/sys/smt.h","type":"ADDED","insertions":54,"deletions":0},{"file":"usr/src/uts/i86xpv/Makefile.files","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/i86xpv/os/mp_xen.c","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/ia32/ml/swtch.s","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/sun4/os/intr.c","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/sun4/os/mp_startup.c","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sun4/sys/ht.h","type":"DELETED","insertions":0,"deletions":-38},{"file":"usr/src/uts/sun4/sys/smt.h","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/sun4u/io/sbd_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/ngdr/io/dr_cpu.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/sun4u/starcat/io/drmach.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/sun4v/io/dr_cpu.c","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"usr/src/uts/sun4v/sys/Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":1536,"sizeDeletions":-979}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}