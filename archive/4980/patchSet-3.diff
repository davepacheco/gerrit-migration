commit 28987d741317a9b884cb695a4f4948e33957c495 (refs/changes/80/4980/3)
Author: Alex Wilson <alex.wilson@joyent.com>
Date:   2018-10-22T21:36:20+00:00 (12 months ago)
    
    TRITON-880 want ufds to store and understand Yubikey attestation certs
    Reviewed by: Cody Peter Mello <cody.mello@joyent.com>
    Approved by: Cody Peter Mello <cody.mello@joyent.com>

diff --git a/lib/index.js b/lib/index.js
index 0da4102..6aa585b 100644
--- a/lib/index.js
+++ b/lib/index.js
@@ -1193,6 +1193,10 @@ UFDS.prototype.addKey = function addKey(user, key, account, cb) {
             name: key.name || pkey.comment || fingerprint,
             objectclass: 'sdckey'
         };
+        if (key.attestation) {
+            assert.arrayOfString(key.attestation, 'key.attestation');
+            entry.attestation = key.attestation;
+        }
 
         // We are searching keys by fingerprint or name before allowing
         // addition of a new one with same fingerprint or name:
diff --git a/package.json b/package.json
index 85d9c94..90bca89 100644
--- a/package.json
+++ b/package.json
@@ -2,7 +2,7 @@
   "name": "ufds",
   "author": "Joyent (joyent.com)",
   "description": "SmartDataCenter UFDS Client API",
-  "version": "1.3.0",
+  "version": "1.4.0",
   "homepage": "https://github.com/joyent/sdc",
   "repository": {
     "type": "git",
