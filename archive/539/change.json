{"project":"joyent/illumos-joyent","branch":"master","id":"I3f7d4e09079e21a24d40a46950fd6e5a4d284836","number":"539","subject":"OS-5682 limit number of per-process userspace segments Reviewed by: Ryan Zezeski \u003crpz@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Bryan Cantrill \u003cbryan@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/539","commitMessage":"OS-5682 limit number of per-process userspace segments\nReviewed by: Ryan Zezeski \u003crpz@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Bryan Cantrill \u003cbryan@joyent.com\u003e\n","createdOn":1475099329,"lastUpdated":1475507160,"open":false,"status":"MERGED","comments":[{"timestamp":1475099329,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1475102802,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1475104061,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1475163005,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 1:\n\nYou\u0027ll also want to remove the mmap_24-1 entry from pts_ignorelist."},{"timestamp":1475163381,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1475163409,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1475165662,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1475166201,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1475280247,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1475506334,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1475507079,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1475507160,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"4","revision":"3f7d4e09079e21a24d40a46950fd6e5a4d284836","parents":["47c6cb613e8a83891175f5f557440c0f075f1937"],"ref":"refs/changes/39/539/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1475507079,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475165662,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475166201,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475280247,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"SUBM","value":"1","grantedOn":1475507160,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/vm/vm_as.c","type":"MODIFIED","insertions":23,"deletions":-6}],"sizeInsertions":30,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"efc70be1017c4e91992a404cecf36099f3c36f08","parents":["0d8d327976256ceec1508e87226f56ba1f239c58"],"ref":"refs/changes/39/539/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1475099329,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/vm/vm_as.c","line":24,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Nothing to add beyond Ryan\u0027s comment and update copyright date."},{"file":"usr/src/uts/common/vm/vm_as.c","line":24,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/common/vm/vm_as.c","line":1731,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"It looks like we use avl_numnodes() throughout the rest of the kernel: we should use it here too."},{"file":"usr/src/uts/common/vm/vm_as.c","line":1731,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/vm/vm_as.c","type":"MODIFIED","insertions":22,"deletions":-5}],"sizeInsertions":29,"sizeDeletions":-5},{"number":"2","revision":"33df4438cea4bc2cb1f529c2c7f64e576d3dbc29","parents":["459894ba5d4c18fb80a6c1fbc78cd9a45c835e26"],"ref":"refs/changes/39/539/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1475163381,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475280247,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475165662,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475166201,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/vm/vm_as.c","type":"MODIFIED","insertions":23,"deletions":-6}],"sizeInsertions":30,"sizeDeletions":-6},{"number":"3","revision":"bf671d01d2567e7add851ad94863a8dc924aaf1d","parents":["47c6cb613e8a83891175f5f557440c0f075f1937"],"ref":"refs/changes/39/539/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1475506334,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475280247,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475165662,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475166201,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/vm/vm_as.c","type":"MODIFIED","insertions":23,"deletions":-6}],"sizeInsertions":30,"sizeDeletions":-6},{"number":"4","revision":"3f7d4e09079e21a24d40a46950fd6e5a4d284836","parents":["47c6cb613e8a83891175f5f557440c0f075f1937"],"ref":"refs/changes/39/539/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1475507079,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475280247,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475165662,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1475507160,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475166201,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/common/sys/zone.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/vm/vm_as.c","type":"MODIFIED","insertions":23,"deletions":-6}],"sizeInsertions":30,"sizeDeletions":-6}],"allReviewers":[{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}