{"project":"joyent/moray-test-suite","branch":"master","topic":"MORAY-347","id":"I115aab4812e15cc664469a81bd389b0ebe8a02ec","number":"123","subject":"MORAY-347 moray testing process could be improved, documented Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e","owner":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"url":"https://cr.joyent.us/123","commitMessage":"MORAY-347 moray testing process could be improved, documented\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1469124678,"lastUpdated":1471567271,"open":false,"status":"MERGED","comments":[{"timestamp":1469124678,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 1."},{"timestamp":1469125350,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1: Integration-Approval-1\n\n(12 comments)\n\nI\u0027m marking this change -1 for approval for now because it still depends on a verror change that has not yet been published.  That needs to be published (and this change needs to be modified to use the published version) before this is integrated."},{"timestamp":1469125375,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Topic set to MORAY-347"},{"timestamp":1469141229,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1469144415,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(1 comment)\n\nThanks for taking a look."},{"timestamp":1469574433,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n jsl --nologo --nosummary --conf\u003dtools/jsl.node.conf tools/configure lib/envfile.js test/arrays.test.js test/sql.test.js test/integ.test.js test/buckets.test.js test/loop.test.js test/helper.js test/objects.test.js, gmake: jsl: Command not found, Makefile.targ:196: recipe for target \u0027check-jsl-node\u0027 failed, gmake: *** [check-jsl-node] Error 127,"},{"timestamp":1470780899,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: -CI-Testing"},{"timestamp":1470781030,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470953849,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1470960816,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 2."},{"timestamp":1470960820,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470965108,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(1 comment)\n\nThe latest changes implement Patrick\u0027s suggestion of naming files in lib/envfile.js, but also add a number of additional tests related to client behavior (including a client stress test).\n\nThere will still be at least one more patchset when I update the verror dependency and update the tests to work with both old and new clients."},{"timestamp":1470973615,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 3."},{"timestamp":1470973619,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470973755,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3: -Integration-Approval\n\nThis version fixes all the issues I know about, including the verror dependency.  It also works with both the stock client/server and my new client with the stock server."},{"timestamp":1471298978,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1\n\n(4 comments)"},{"timestamp":1471308993,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 4."},{"timestamp":1471308997,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1471309015,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3:\n\n(4 comments)"},{"timestamp":1471367335,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1471373671,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1471451671,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1471567226,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1471567271,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by David Pacheco"}],"currentPatchSet":{"number":"5","revision":"478fa1b782d1f535b339716463d4550439be0083","parents":["47e8466cad9d7a12ab2bcda251faef01f3e24024"],"ref":"refs/changes/23/123/5","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1471567226,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1471308997,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471367335,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471373671,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1471451671,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1471567271,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":3,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":19,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":85,"deletions":0},{"file":"Makefile.targ","type":"ADDED","insertions":317,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":93,"deletions":-1},{"file":"etc/moray-test-suite-custom-both.json","type":"ADDED","insertions":10,"deletions":0},{"file":"etc/moray-test-suite-remote.json","type":"ADDED","insertions":5,"deletions":0},{"file":"etc/moray-test-suite-stock.json","type":"ADDED","insertions":5,"deletions":0},{"file":"lib/envfile.js","type":"ADDED","insertions":121,"deletions":0},{"file":"package.json","type":"ADDED","insertions":27,"deletions":0},{"file":"test/arrays.test.js","type":"ADDED","insertions":787,"deletions":0},{"file":"test/buckets.test.js","type":"ADDED","insertions":409,"deletions":0},{"file":"test/client.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/helper.js","type":"ADDED","insertions":177,"deletions":0},{"file":"test/integ.test.js","type":"ADDED","insertions":669,"deletions":0},{"file":"test/loop.test.js","type":"ADDED","insertions":201,"deletions":0},{"file":"test/objects.test.js","type":"ADDED","insertions":2171,"deletions":0},{"file":"test/sql.test.js","type":"ADDED","insertions":101,"deletions":0},{"file":"test/stress-client.js","type":"ADDED","insertions":663,"deletions":0},{"file":"test/version.test.js","type":"ADDED","insertions":118,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":114,"deletions":0},{"file":"tools/configure","type":"ADDED","insertions":747,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":142,"deletions":0},{"file":"tools/jsstyle.conf","type":"ADDED","insertions":14,"deletions":0}],"sizeInsertions":7150,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"e8d1d2c6a4b058a3ebbaf9e32379d43927feec5c","parents":["47e8466cad9d7a12ab2bcda251faef01f3e24024"],"ref":"refs/changes/23/123/1","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1469124678,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1469125350,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469141229,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470781030,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470953849,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":".gitignore","line":1,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: this is the file that users are expected to create."},{"file":"Makefile.targ","line":1,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This is a stock file."},{"file":"lib/envfile.js","line":45,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"How do you feel about naming the member functions of this object instead of the purely anonymous declarations?"},{"file":"lib/envfile.js","line":45,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Sure."},{"file":"test/arrays.test.js","line":1,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This file was largely copied from the original inside the Moray repository.  Some changes were made to eliminate old, redundant dependencies (like \"clone\") and to make use of the new VError functionality around looking for nested causes."},{"file":"test/arrays.test.js","line":85,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I don\u0027t think that this once() is necessary, right? As I understand it, only one of \u0027error\u0027 or \u0027end\u0027 are ever supposed to fire, and vasync will throw an error if it is called twice. This probably applies to all of the once() usage in this and other files, so you can probably even remove the \"once\" dependency."},{"file":"test/arrays.test.js","line":85,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I believe that\u0027s correct, and I generally hate the use of \"once\".  But with this change I\u0027ve generally avoided making major changes to these test files.  The only things I\u0027ve changed are the things I noted in the file-level comment above.  As an example, I removed the clone() dependency because it was easy and simplified things.  But verifying all of the uses of \"once\" would be pretty time-consuming, and I think it\u0027s pretty orthogonal to this work."},{"file":"test/buckets.test.js","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This file was largely copied from the original inside the Moray repository.  Some changes were made to eliminate old, redundant dependencies (like \"clone\") and to make use of the new VError functionality around looking for nested causes."},{"file":"test/helper.js","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This file is based on the original inside the Moray repository, but has almost been completely rewritten."},{"file":"test/integ.test.js","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This file was largely copied from the original inside the Moray repository.  Some changes were made to eliminate old, redundant dependencies (like \"clone\") and to make use of the new VError functionality around looking for nested causes.\n\nAn extra change to this file: the last test uses multiple Moray servers.  This now actually starts a second server when configured, and explicitly skips the test otherwise."},{"file":"test/loop.test.js","line":1,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This is an automated test case inspired by an ad-hoc, manually-run test program from the original Moray client repository.  It shares very little with the original besides what it actually does."},{"file":"test/objects.test.js","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This file was largely copied from the original inside the Moray repository.  Some changes were made to eliminate old, redundant dependencies (like \"clone\") and to make use of the new VError functionality around looking for nested causes."},{"file":"test/sql.test.js","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This file was largely copied from the original inside the Moray repository.  Some changes were made to eliminate old, redundant dependencies (like \"clone\") and to make use of the new VError functionality around looking for nested causes."},{"file":"tools/bashstyle","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This is a stock file from eng.git."},{"file":"tools/jsl.node.conf","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This is a stock file."},{"file":"tools/jsstyle.conf","line":1,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Note to reviewers: This is a stock file (copied from the existing moray repo, where the test files that make up most of this repo came from)."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":3,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":19,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":83,"deletions":0},{"file":"Makefile.targ","type":"ADDED","insertions":317,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":93,"deletions":-1},{"file":"etc/moray-test-suite-custom-both.json","type":"ADDED","insertions":10,"deletions":0},{"file":"etc/moray-test-suite-remote.json","type":"ADDED","insertions":5,"deletions":0},{"file":"etc/moray-test-suite-stock.json","type":"ADDED","insertions":5,"deletions":0},{"file":"lib/envfile.js","type":"ADDED","insertions":121,"deletions":0},{"file":"package.json","type":"ADDED","insertions":26,"deletions":0},{"file":"test/arrays.test.js","type":"ADDED","insertions":787,"deletions":0},{"file":"test/buckets.test.js","type":"ADDED","insertions":409,"deletions":0},{"file":"test/helper.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/integ.test.js","type":"ADDED","insertions":669,"deletions":0},{"file":"test/loop.test.js","type":"ADDED","insertions":201,"deletions":0},{"file":"test/objects.test.js","type":"ADDED","insertions":2125,"deletions":0},{"file":"test/sql.test.js","type":"ADDED","insertions":101,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":114,"deletions":0},{"file":"tools/configure","type":"ADDED","insertions":747,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":142,"deletions":0},{"file":"tools/jsstyle.conf","type":"ADDED","insertions":14,"deletions":0}],"sizeInsertions":6163,"sizeDeletions":-1},{"number":"2","revision":"74b2d9e80fb62500152db71cc345d0010d1204e0","parents":["47e8466cad9d7a12ab2bcda251faef01f3e24024"],"ref":"refs/changes/23/123/2","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1470960816,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1469125350,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470960820,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":3,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":19,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":85,"deletions":0},{"file":"Makefile.targ","type":"ADDED","insertions":317,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":93,"deletions":-1},{"file":"etc/moray-test-suite-custom-both.json","type":"ADDED","insertions":10,"deletions":0},{"file":"etc/moray-test-suite-remote.json","type":"ADDED","insertions":5,"deletions":0},{"file":"etc/moray-test-suite-stock.json","type":"ADDED","insertions":5,"deletions":0},{"file":"lib/envfile.js","type":"ADDED","insertions":121,"deletions":0},{"file":"package.json","type":"ADDED","insertions":27,"deletions":0},{"file":"test/arrays.test.js","type":"ADDED","insertions":787,"deletions":0},{"file":"test/buckets.test.js","type":"ADDED","insertions":409,"deletions":0},{"file":"test/client.test.js","type":"ADDED","insertions":138,"deletions":0},{"file":"test/helper.js","type":"ADDED","insertions":177,"deletions":0},{"file":"test/integ.test.js","type":"ADDED","insertions":669,"deletions":0},{"file":"test/loop.test.js","type":"ADDED","insertions":201,"deletions":0},{"file":"test/objects.test.js","type":"ADDED","insertions":2171,"deletions":0},{"file":"test/sql.test.js","type":"ADDED","insertions":101,"deletions":0},{"file":"test/stress-client.js","type":"ADDED","insertions":663,"deletions":0},{"file":"test/version.test.js","type":"ADDED","insertions":93,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":114,"deletions":0},{"file":"tools/configure","type":"ADDED","insertions":747,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":142,"deletions":0},{"file":"tools/jsstyle.conf","type":"ADDED","insertions":14,"deletions":0}],"sizeInsertions":7111,"sizeDeletions":-1},{"number":"3","revision":"2080776bbec9ebccfe4d704d6250029108534455","parents":["47e8466cad9d7a12ab2bcda251faef01f3e24024"],"ref":"refs/changes/23/123/3","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1470973615,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471298978,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470973619,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/client.test.js","line":55,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Perhaps use t.notEqual() here?"},{"file":"test/client.test.js","line":55,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Done"},{"file":"test/client.test.js","line":67,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"t.equal()"},{"file":"test/client.test.js","line":67,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Done"},{"file":"test/client.test.js","line":70,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"t.equal()"},{"file":"test/client.test.js","line":70,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Done"},{"file":"test/client.test.js","line":72,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"t.equal()"},{"file":"test/client.test.js","line":72,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":3,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":19,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":85,"deletions":0},{"file":"Makefile.targ","type":"ADDED","insertions":317,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":93,"deletions":-1},{"file":"etc/moray-test-suite-custom-both.json","type":"ADDED","insertions":10,"deletions":0},{"file":"etc/moray-test-suite-remote.json","type":"ADDED","insertions":5,"deletions":0},{"file":"etc/moray-test-suite-stock.json","type":"ADDED","insertions":5,"deletions":0},{"file":"lib/envfile.js","type":"ADDED","insertions":121,"deletions":0},{"file":"package.json","type":"ADDED","insertions":27,"deletions":0},{"file":"test/arrays.test.js","type":"ADDED","insertions":787,"deletions":0},{"file":"test/buckets.test.js","type":"ADDED","insertions":409,"deletions":0},{"file":"test/client.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/helper.js","type":"ADDED","insertions":177,"deletions":0},{"file":"test/integ.test.js","type":"ADDED","insertions":669,"deletions":0},{"file":"test/loop.test.js","type":"ADDED","insertions":201,"deletions":0},{"file":"test/objects.test.js","type":"ADDED","insertions":2171,"deletions":0},{"file":"test/sql.test.js","type":"ADDED","insertions":101,"deletions":0},{"file":"test/stress-client.js","type":"ADDED","insertions":663,"deletions":0},{"file":"test/version.test.js","type":"ADDED","insertions":118,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":114,"deletions":0},{"file":"tools/configure","type":"ADDED","insertions":747,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":142,"deletions":0},{"file":"tools/jsstyle.conf","type":"ADDED","insertions":14,"deletions":0}],"sizeInsertions":7150,"sizeDeletions":-1},{"number":"4","revision":"115aab4812e15cc664469a81bd389b0ebe8a02ec","parents":["47e8466cad9d7a12ab2bcda251faef01f3e24024"],"ref":"refs/changes/23/123/4","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1471308993,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471367335,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1471308997,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471373671,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1471451671,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":3,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":19,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":85,"deletions":0},{"file":"Makefile.targ","type":"ADDED","insertions":317,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":93,"deletions":-1},{"file":"etc/moray-test-suite-custom-both.json","type":"ADDED","insertions":10,"deletions":0},{"file":"etc/moray-test-suite-remote.json","type":"ADDED","insertions":5,"deletions":0},{"file":"etc/moray-test-suite-stock.json","type":"ADDED","insertions":5,"deletions":0},{"file":"lib/envfile.js","type":"ADDED","insertions":121,"deletions":0},{"file":"package.json","type":"ADDED","insertions":27,"deletions":0},{"file":"test/arrays.test.js","type":"ADDED","insertions":787,"deletions":0},{"file":"test/buckets.test.js","type":"ADDED","insertions":409,"deletions":0},{"file":"test/client.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/helper.js","type":"ADDED","insertions":177,"deletions":0},{"file":"test/integ.test.js","type":"ADDED","insertions":669,"deletions":0},{"file":"test/loop.test.js","type":"ADDED","insertions":201,"deletions":0},{"file":"test/objects.test.js","type":"ADDED","insertions":2171,"deletions":0},{"file":"test/sql.test.js","type":"ADDED","insertions":101,"deletions":0},{"file":"test/stress-client.js","type":"ADDED","insertions":663,"deletions":0},{"file":"test/version.test.js","type":"ADDED","insertions":118,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":114,"deletions":0},{"file":"tools/configure","type":"ADDED","insertions":747,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":142,"deletions":0},{"file":"tools/jsstyle.conf","type":"ADDED","insertions":14,"deletions":0}],"sizeInsertions":7150,"sizeDeletions":-1},{"number":"5","revision":"478fa1b782d1f535b339716463d4550439be0083","parents":["47e8466cad9d7a12ab2bcda251faef01f3e24024"],"ref":"refs/changes/23/123/5","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1471567226,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1471567271,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471367335,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1471308997,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1471373671,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1471451671,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"ADDED","insertions":3,"deletions":0},{"file":"LICENSE","type":"ADDED","insertions":19,"deletions":0},{"file":"Makefile","type":"ADDED","insertions":85,"deletions":0},{"file":"Makefile.targ","type":"ADDED","insertions":317,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":93,"deletions":-1},{"file":"etc/moray-test-suite-custom-both.json","type":"ADDED","insertions":10,"deletions":0},{"file":"etc/moray-test-suite-remote.json","type":"ADDED","insertions":5,"deletions":0},{"file":"etc/moray-test-suite-stock.json","type":"ADDED","insertions":5,"deletions":0},{"file":"lib/envfile.js","type":"ADDED","insertions":121,"deletions":0},{"file":"package.json","type":"ADDED","insertions":27,"deletions":0},{"file":"test/arrays.test.js","type":"ADDED","insertions":787,"deletions":0},{"file":"test/buckets.test.js","type":"ADDED","insertions":409,"deletions":0},{"file":"test/client.test.js","type":"ADDED","insertions":152,"deletions":0},{"file":"test/helper.js","type":"ADDED","insertions":177,"deletions":0},{"file":"test/integ.test.js","type":"ADDED","insertions":669,"deletions":0},{"file":"test/loop.test.js","type":"ADDED","insertions":201,"deletions":0},{"file":"test/objects.test.js","type":"ADDED","insertions":2171,"deletions":0},{"file":"test/sql.test.js","type":"ADDED","insertions":101,"deletions":0},{"file":"test/stress-client.js","type":"ADDED","insertions":663,"deletions":0},{"file":"test/version.test.js","type":"ADDED","insertions":118,"deletions":0},{"file":"tools/bashstyle","type":"ADDED","insertions":114,"deletions":0},{"file":"tools/configure","type":"ADDED","insertions":747,"deletions":0},{"file":"tools/jsl.node.conf","type":"ADDED","insertions":142,"deletions":0},{"file":"tools/jsstyle.conf","type":"ADDED","insertions":14,"deletions":0}],"sizeInsertions":7150,"sizeDeletions":-1}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}]}