{"project":"joyent/sdc-cnapi","branch":"master","id":"If43cd4ba24ea0e02eb26207a7d9ff824a1a925c1","number":"3958","subject":"TRITON-233 CNAPI\u0027s should only use one moray bucket to manage waitlist tickets Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e","owner":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"url":"https://cr.joyent.us/3958","commitMessage":"TRITON-233 CNAPI\u0027s should only use one moray bucket to manage waitlist tickets\nReviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1526429592,"lastUpdated":1532622377,"open":false,"status":"MERGED","comments":[{"timestamp":1526429592,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 1."},{"timestamp":1526429594,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 232466363e93111f1f7726a67497a221e52814f0\n    \n    refactor ModelWaitlist.prototype.finishTicketUpdateQueueActivateNext\n    \n    commit 021dcf4604542433a205fa1089748037fa8cc8c6\n    \n    fix waitlist\n    \n    commit baa8d21b5d824e683fd277eae3fb7f0066add1b8\n    \n    refactor getTicket\n    \n    commit 860f9fbc0228bc26adbb2ee1aa1b1f3b9f947e7a\n    \n    feh\n    \n    commit 8e9079054f105c26deb422fe8e7158badbef4466\n    \n    feh\n    \n    commit 8e3c3973ecceb8fa08bd8602234e5e79791a851a\n    \n    wip\n    \n    commit c9c8d790b72d64bbf23336e8957678ab73cf5ee9\n    \n    refactor update ticket function\n    \n    commit cace46652ee49672f4f6884774205d12f6e72557\n    \n    tidy\n    \n    commit 363ee751d85d3b3e070a4ff882f46188351e8067\n    \n    refactor query function to return response objects\n    \n    commit 77c2cbfc053018393252ea34d8282aece8121f08\n    \n    foo"},{"timestamp":1526429622,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1526688136,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 2."},{"timestamp":1526688141,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 9e1d60eaccd80328b9c09d1e15e989e5489c82e3\n    \n    Refactor ticket removal into update and activate next function"},{"timestamp":1526688169,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526689105,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 3."},{"timestamp":1526689109,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit de9cca8769be9c5b26184021ee3f9f7b260c5a3c\n    \n    remove old code"},{"timestamp":1526689134,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1527630850,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 4."},{"timestamp":1527630851,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 5e234d94285477265803cd9dc2444c3af0bf6950\n    \n    more cleanup\n    \n    commit 50b42bb144e3857f9eee68f4cb45dd27239e22ed\n    \n    Cleanups\n    \n    commit 51d3d2ec6230af96cbe766ff20da32789f313d98\n    \n    tweaks\n    \n    commit f5b01a1f8c42ea3d8067bf10a5fef1ad980cbf92\n    \n    fix all tests\n    \n    commit e0d499b39d211b609b1d2422817b71e6f421aa7c\n    \n    First test passing\n    \n    commit c56ef971754852c326de269932a497cb7b1a8894\n    \n    tweaks"},{"timestamp":1527630880,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1527631530,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 5."},{"timestamp":1527631531,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit a1d906688e7c29876f10ce84f706493edb6758b6\n    \n    remove duplicate code"},{"timestamp":1527631566,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1527807523,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 6."},{"timestamp":1527807524,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 57e4272e3d8444ef8d8ebcd67f6d7d1b70abc70c\n    \n    wip"},{"timestamp":1527807847,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1527808050,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 7."},{"timestamp":1527808051,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 4a19ded4e63a5aa48750e83d99920a8bf62f97b4\n    \n    bump version"},{"timestamp":1527808079,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1527809281,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 8: Patch Set 7 was rebased"},{"timestamp":1527809312,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1527874920,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 9."},{"timestamp":1527874921,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 9:\n\nNew commits:\n    \n    commit 78631f965546a56176c8e2436ca37cd5ed818172\n    \n    bump version\n    \n    commit 5606d98bd42c251dd84234a7941f85a21e51a36b\n    \n    wip\n    \n    commit 72b99f4ed144040c062087344fd81944fa980029\n    \n    remove duplicate code\n    \n    commit 8820c34374561c5520e7d3fed06c6e8e7aa51798\n    \n    more cleanup\n    \n    commit 2dcc326f95c263a6dfc1c83d27a1601105ae9302\n    \n    Cleanups\n    \n    commit 641519562d179973a0310352906f1f0a289df692\n    \n    tweaks\n    \n    commit 4d387ada263dfa69fff9527f93f63c88654004d8\n    \n    fix all tests\n    \n    commit 3232adf47d2b2c01206fd740a138d776356906b5\n    \n    First test passing\n    \n    commit f830d78ed34b77ec3ce209d8500028bd76060672\n    \n    tweaks\n    \n    commit 90d1c1a6ff4cae6f4cafb2deb756d49f033e79e9\n    \n    remove old code\n    \n    commit 9c1c4ecfbc81582035cbb49683d5e62d9923ab8d\n    \n    Refactor ticket removal into update and activate next function\n    \n    commit 42e9f90a5096b46d55fc69b194949d3b9637df43\n    \n    refactor ModelWaitlist.prototype.finishTicketUpdateQueueActivateNext\n    \n    commit 71ddc59a79ccc51a7842ff3044a0da2ad49b2a9a\n    \n    fix waitlist\n    \n    commit bff79eb2314b613f78058d1c46a897c7c63e2018\n    \n    refactor getTicket\n    \n    commit 10a5011c5c99f913bafceddd39b04530788a7f17\n    \n    feh\n    \n    commit cc4d571327f0bb5cb1f0784b73148ca1fdcc99fa\n    \n    feh\n    \n    commit 178598e7a117579cc552e101477dc0956cb752fe\n    \n    wip\n    \n    commit 5be1223d3005fb84e714f50557f61ad786b19bd3\n    \n    refactor update ticket function\n    \n    commit 707ed55d0db5e99d85b7258abb44b46d6b193c5f\n    \n    tidy\n    \n    commit dc8ca17866c6d8d8cc7145695681c9cb7371c16e\n    \n    refactor query function to return response objects\n    \n    commit 59aa504bfd30b2c458eb0847391a824ff72eb8d5\n    \n    foo\n    \n    commit 8bce59c6901e84fb1df242697763279f98e76020\n    \n    TRITON-457 sdc-scripts update in TRITON-380 broke cns and sdc-manatee\n    Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n    Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e"},{"timestamp":1527874951,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1527875773,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 10: Patch Set 9 was rebased"},{"timestamp":1528399764,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 11."},{"timestamp":1528399765,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 11:\n\nNew commits:\n    \n    commit b755759e8696021dad733f1f7cf9052084e2b18e\n    \n    doc tweak"},{"timestamp":1528399794,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528477656,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 10:\n\n(54 comments)\n\nFirst pass: mostly surface stuff.\n\nI\u0027ll take a second pass on the deeper meaning tomorrow."},{"timestamp":1529948122,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 10:\n\n(3 comments)"},{"timestamp":1530829615,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 12."},{"timestamp":1530829616,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 12:\n\nNew commits:\n    \n    commit 6001aaa09e82804b0de52f197b552c33df330d22\n    \n    Address CR feedback\n    \n    commit 4432e35f9485a87a3276b96e297f94ee17039cb0\n    \n    wip"},{"timestamp":1530829644,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531163183,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 10:\n\n(49 comments)"},{"timestamp":1531352965,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 13."},{"timestamp":1531352966,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 13:\n\nNew commits:\n    \n    commit cb1b008f580f21c2867e532212aed49df93593a6\n    \n    retry on batch conflict\n    \n    commit 771a8712e7cb15129ed213948c1ff3a01fd61e33\n    \n    re-enable tests"},{"timestamp":1531352997,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531390249,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 13:\n\n(6 comments)"},{"timestamp":1532375544,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 14."},{"timestamp":1532375545,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 14:\n\nNew commits:\n    \n    commit 818f54928e85b713e247963f4dee6326eee4f7e9\n    \n    apply changes to address marsell\u0027s feedback"},{"timestamp":1532375574,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 14: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532448357,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 15: Patch Set 14 was rebased"},{"timestamp":1532448388,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 15:\n\n\"make check\" passed ok"},{"timestamp":1532500894,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 15: Code-Review+1 Integration-Approval+1"},{"timestamp":1532563167,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 16."},{"timestamp":1532563180,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 17: Commit message was updated."},{"timestamp":1532563195,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 18: Commit message was updated."},{"timestamp":1532563197,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 16:\n\n\"make check\" passed ok"},{"timestamp":1532622256,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 19: Patch Set 18 was rebased"},{"timestamp":1532622286,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 19:\n\n\"make check\" passed ok"},{"timestamp":1532622377,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Orlando Vazquez"}],"currentPatchSet":{"number":"19","revision":"ec3ae1df7e2c3c2a92d4d4913dd472a27eb38aef","parents":["a6ad3c55b34b76656ba496371278227a4db02992"],"ref":"refs/changes/58/3958/19","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1532622256,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532375574,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1532622377,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":588,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":788,"sizeDeletions":-1062},"patchSets":[{"number":"1","revision":"cbe35afd1eebd70aba440ca9f8192f9211258e5a","parents":["3fe39466b86fcc8c2b624e5cb2faa3f45434c849"],"ref":"refs/changes/58/3958/1","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1526429592,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1526429622,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/models/waitlist.js","line":934,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":374,"deletions":-317}],"sizeInsertions":379,"sizeDeletions":-322},{"number":"2","revision":"c3e27a42fd7b5cf52e3d4dbf66b02b2c0557e3e4","parents":["3fe39466b86fcc8c2b624e5cb2faa3f45434c849"],"ref":"refs/changes/58/3958/2","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1526688136,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526688169,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":430,"deletions":-429},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":229,"deletions":-5}],"sizeInsertions":664,"sizeDeletions":-439},{"number":"3","revision":"0e805e97ee93e36b94849bcfea17704596f2ddde","parents":["3fe39466b86fcc8c2b624e5cb2faa3f45434c849"],"ref":"refs/changes/58/3958/3","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1526689105,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526689134,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":430,"deletions":-429},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":157,"deletions":-72}],"sizeInsertions":592,"sizeDeletions":-506},{"number":"4","revision":"96c14134a396dd129890615512e2ebdc717a1fa0","parents":["3fe39466b86fcc8c2b624e5cb2faa3f45434c849"],"ref":"refs/changes/58/3958/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1527630850,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527630880,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":541,"deletions":-928},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":711,"sizeDeletions":-1010},{"number":"5","revision":"abab5c2f58f36150e3dd36f5a084eee514ef60e1","parents":["3fe39466b86fcc8c2b624e5cb2faa3f45434c849"],"ref":"refs/changes/58/3958/5","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1527631530,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527631566,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":507,"deletions":-928},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":677,"sizeDeletions":-1010},{"number":"6","revision":"559cf167d67d8cb7968797428fd54cc69ce8692c","parents":["3fe39466b86fcc8c2b624e5cb2faa3f45434c849"],"ref":"refs/changes/58/3958/6","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1527807523,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1527807847,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/models/waitlist.js","line":641,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: operation"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":23,"deletions":-17},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":510,"deletions":-927},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":703,"sizeDeletions":-1026},{"number":"7","revision":"58c273bff4eed4a972d77027da74a811a253aba3","parents":["3fe39466b86fcc8c2b624e5cb2faa3f45434c849"],"ref":"refs/changes/58/3958/7","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1527808050,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527808079,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":23,"deletions":-17},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":511,"deletions":-927},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":705,"sizeDeletions":-1027},{"number":"8","revision":"99e5fb01f5ad24d88dbe776f63cf2b2d0d1103a2","parents":["c83e489932035dd3360ad99cbcf6a811f7e58e84"],"ref":"refs/changes/58/3958/8","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1527809281,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527808079,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":23,"deletions":-17},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":511,"deletions":-927},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":705,"sizeDeletions":-1027},{"number":"9","revision":"4f10d1263780f7612e95cec891bd5fac5f6bc64f","parents":["c83e489932035dd3360ad99cbcf6a811f7e58e84"],"ref":"refs/changes/58/3958/9","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1527874920,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527874951,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/sdc-scripts","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/static.md","type":"MODIFIED","insertions":23,"deletions":-17},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":511,"deletions":-927},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":706,"sizeDeletions":-1028},{"number":"10","revision":"845dde7080658706c8b8f3c582d87587abc4c741","parents":["8bce59c6901e84fb1df242697763279f98e76020"],"ref":"refs/changes/58/3958/10","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1527875773,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527874951,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/static.md","line":510,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I\u0027d rewrite it as:\n\nSuch actions include -- but are not limited to -- DAPI allocation"},{"file":"docs/static.md","line":510,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"docs/static.md","line":513,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Deconflicted by what? The waitlist? Or something on the CN?"},{"file":"docs/static.md","line":513,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"docs/static.md","line":515,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Hmm. May I suggest [] instead of () here? () is fine, but I suspect the former would work better."},{"file":"docs/static.md","line":515,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"docs/static.md","line":516,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Heh."},{"file":"docs/static.md","line":516,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"One or the other."},{"file":"docs/static.md","line":516,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"docs/static.md","line":516,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"docs/static.md","line":520,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"jobs finish"},{"file":"docs/static.md","line":520,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"docs/static.md","line":546,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"This phrasing is a bit awkward."},{"file":"docs/static.md","line":546,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"docs/static.md","line":625,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"become"},{"file":"lib/endpoints/waitlist.js","line":8,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"2018\n\nApparently that matters, heh."},{"file":"lib/endpoints/waitlist.js","line":178,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"If you\u0027re here anyway, might as well name the func."},{"file":"lib/endpoints/waitlist.js","line":314,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/endpoints/waitlist.js","line":314,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Is it actually worth doing a getTicket() here?\n\nFirst, GET/SET is prone to races, where as SET alone is not. Second, releaseTicket() is doing a getTicket() internally anyway."},{"file":"lib/endpoints/waitlist.js","line":314,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Yeah for sure. In this case, I wanted to be able to fail fast in situations where the ticket doesn\u0027t exist in moray."},{"file":"lib/models/waitlist.js","line":48,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I think it\u0027d be clearer as \"30 * 24 * 3600 * 1000\", but this is trivial."},{"file":"lib/models/waitlist.js","line":71,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":71,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":127,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Should this be in an else clause?"},{"file":"lib/models/waitlist.js","line":127,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":149,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Since you\u0027re here, might as well assert on the args."},{"file":"lib/models/waitlist.js","line":149,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":149,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":149,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":155,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":155,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":166,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"You could move the VError creation outside of the loop -- assign to a var and use that?"},{"file":"lib/models/waitlist.js","line":166,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":166,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"...it is? :p"},{"file":"lib/models/waitlist.js","line":173,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"TICKET_STATUS_FINISHED"},{"file":"lib/models/waitlist.js","line":173,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":174,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Under which conditions is timestamp not defined?"},{"file":"lib/models/waitlist.js","line":174,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":174,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uh...\n\nI\u0027m actually curious."},{"file":"lib/models/waitlist.js","line":179,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"return without invoking next()? Wouldn\u0027t this cause a hang?"},{"file":"lib/models/waitlist.js","line":179,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":222,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":222,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Since you\u0027re here, might as well assert on the args."},{"file":"lib/models/waitlist.js","line":222,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":222,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":227,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":227,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":309,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"asserts"},{"file":"lib/models/waitlist.js","line":309,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":309,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":309,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":313,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"This is used a bunch of times. I\u0027d assign it to a global."},{"file":"lib/models/waitlist.js","line":313,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":331,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert cb"},{"file":"lib/models/waitlist.js","line":331,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":331,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":331,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":361,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Could be simplified to:\n\n    (\u0026(!(status\u003dfinished))\n      (!(status\u003dexpired))\n      (|(updated_at\u003e\u003d%s)(expires_at\u003c%s)))\n\n...further simplification gets confusing...\n\nHaving said that, I\u0027m a tad confused by the last \"(!(expires_at\u003e\u003d%s))\" in the current expression. Is that... right?"},{"file":"lib/models/waitlist.js","line":361,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"LDAP doesn\u0027t support a LESS-THAN operator, crazy right?"},{"file":"lib/models/waitlist.js","line":374,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":455,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"remove"},{"file":"lib/models/waitlist.js","line":455,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":462,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert args"},{"file":"lib/models/waitlist.js","line":462,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":462,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":462,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":548,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert cb"},{"file":"lib/models/waitlist.js","line":548,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":548,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":548,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":553,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":553,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":605,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":605,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":634,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert cb"},{"file":"lib/models/waitlist.js","line":634,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":639,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Maybe assert uuid()?"},{"file":"lib/models/waitlist.js","line":639,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":656,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":656,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":687,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"So if the etag in one part of the batch fails, will the other parts of the batch (even if they have correct etags) fail too?\n\nIf the batch fails due to some concurrent update (thus etag mismatch), will the same update be run again later on? As far as I can tell, it might not, so I wonder if spinning a few times in modifyTicketActivateNext() might be a good idea?"},{"file":"lib/models/waitlist.js","line":807,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert cb"},{"file":"lib/models/waitlist.js","line":807,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":807,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":807,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":827,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"What happens if there is no action?"},{"file":"lib/models/waitlist.js","line":827,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"`action` is optional, if unspecified it should work out to undefined and be elided when serialized. But you\u0027re right, it may be better to make this explicit."},{"file":"lib/models/waitlist.js","line":850,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":850,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":860,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Not sure if needed. ticket.status is already that value, but this is clearer."},{"file":"lib/models/waitlist.js","line":860,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":896,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":896,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":920,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert args"},{"file":"lib/models/waitlist.js","line":920,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":920,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":920,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":944,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert args"},{"file":"lib/models/waitlist.js","line":944,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":944,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":944,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":968,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"assert args"},{"file":"lib/models/waitlist.js","line":968,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":968,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/models/waitlist.js","line":968,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"test/waitlist/test-waitlist.js","line":126,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Leave this here? Or is this a forgotten debug?"},{"file":"test/waitlist/test-waitlist.js","line":410,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Out of curiosity: what is the functional difference between deleting and releasing a ticket?"},{"file":"test/waitlist/test-waitlist.js","line":410,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Releasing a ticket leaves it in moray, with a status of \u0027finished\u0027, deleting it removes it from moray entirely."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":23,"deletions":-17},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":511,"deletions":-927},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":705,"sizeDeletions":-1027},{"number":"11","revision":"a4cc4cc6cd3b8f0eeeeb3fe20ca75afe6ec47ff8","parents":["8bce59c6901e84fb1df242697763279f98e76020"],"ref":"refs/changes/58/3958/11","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1528399764,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528399794,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":23,"deletions":-17},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":511,"deletions":-927},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":164,"deletions":-76}],"sizeInsertions":705,"sizeDeletions":-1027},{"number":"12","revision":"e74e6bffd8a2a0e06b0b043cd3cf5e629bdc4e9a","parents":["57b425662365fc70f71c2588cbf2638a57e2d9aa"],"ref":"refs/changes/58/3958/12","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1530829615,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1530829644,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":575,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":162,"deletions":-76}],"sizeInsertions":779,"sizeDeletions":-1066},{"number":"13","revision":"636cc2d22eb86243a31a34f0dabb6e105119399d","parents":["57b425662365fc70f71c2588cbf2638a57e2d9aa"],"ref":"refs/changes/58/3958/13","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1531352965,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531352997,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/static.md","line":520,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"jobs"},{"file":"docs/static.md","line":547,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"pedant: i.e."},{"file":"lib/endpoints/waitlist.js","line":315,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"},{"file":"lib/models/waitlist.js","line":154,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"name"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":584,"deletions":-945},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":784,"sizeDeletions":-1059},{"number":"14","revision":"3b65dedd04f230ccea738e99d7adb6b8ed3593a2","parents":["57b425662365fc70f71c2588cbf2638a57e2d9aa"],"ref":"refs/changes/58/3958/14","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1532375544,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532375574,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":588,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":788,"sizeDeletions":-1062},{"number":"15","revision":"694c030e1fbe4ab362abbaa4ac204fab6d253812","parents":["620d21c3408f1bf8d94934c6d098b786ba08845e"],"ref":"refs/changes/58/3958/15","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1532448357,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532375574,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":588,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":788,"sizeDeletions":-1062},{"number":"16","revision":"4c4b54bf2a35451973ae8506a1eb40fd9c06e5a8","parents":["57b425662365fc70f71c2588cbf2638a57e2d9aa"],"ref":"refs/changes/58/3958/16","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1532563167,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532375574,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":588,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":788,"sizeDeletions":-1062},{"number":"17","revision":"061166807dc0602c9a84137c6e566e4cbd92107a","parents":["57b425662365fc70f71c2588cbf2638a57e2d9aa"],"ref":"refs/changes/58/3958/17","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1532563180,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532375574,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":588,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":788,"sizeDeletions":-1062},{"number":"18","revision":"f43cd4ba24ea0e02eb26207a7d9ff824a1a925c1","parents":["57b425662365fc70f71c2588cbf2638a57e2d9aa"],"ref":"refs/changes/58/3958/18","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1532563195,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532375574,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":588,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":788,"sizeDeletions":-1062},{"number":"19","revision":"ec3ae1df7e2c3c2a92d4d4913dd472a27eb38aef","parents":["a6ad3c55b34b76656ba496371278227a4db02992"],"ref":"refs/changes/58/3958/19","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1532622256,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532375574,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532500894,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1532622377,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/static.md","type":"MODIFIED","insertions":27,"deletions":-20},{"file":"lib/endpoints/waitlist.js","type":"MODIFIED","insertions":15,"deletions":-22},{"file":"lib/models/waitlist.js","type":"MODIFIED","insertions":588,"deletions":-948},{"file":"test/waitlist/test-waitlist.js","type":"MODIFIED","insertions":158,"deletions":-72}],"sizeInsertions":788,"sizeDeletions":-1062}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}]}