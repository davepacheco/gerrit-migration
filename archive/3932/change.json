{"project":"joyent/smartos-live","branch":"master","id":"I12ce00acda91ed6f0eef29c9857a23d60c223674","number":"3932","subject":"OS-6926 vmadm should support ahci disks for bhyve Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Josh Wilsdon \u003cjosh.wilsdon@joyent.com\u003e Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Approved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e","owner":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"url":"https://cr.joyent.us/3932","commitMessage":"OS-6926 vmadm should support ahci disks for bhyve\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Josh Wilsdon \u003cjosh.wilsdon@joyent.com\u003e\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nApproved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\n","createdOn":1525950388,"lastUpdated":1526321254,"open":false,"status":"MERGED","comments":[{"timestamp":1525950388,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 1."},{"timestamp":1525950430,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneadm.js\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneinfo.js\n /tmp/repo/src/vm/node_modules/sysevent-stream.js\n /tmp/repo/src/vm/node_modules/zonecfg.js\n /tmp/repo/src/img/lib/IMG.js\n /tmp/repo/src/img/lib/cli.js\n /tmp/repo/src/img/lib/common.js\n /tmp/repo/src/img/lib/configuration.js\n /tmp/repo/src/img/lib/database.js\n /tmp/repo/src/img/lib/errors.js\n /tmp/repo/src/img/lib/imgadm.js\n /tmp/repo/src/img/lib/magic.js\n /tmp/repo/src/img/lib/upgrade.js\n /tmp/repo/src/img/sbin/imgadm\n /tmp/repo/src/vm/common/nictag.js\n /tmp/repo/src/vm/tests/test-alias.js\n /tmp/repo/src/vm/node_modules/nodeunit-plus/index.js\n /tmp/repo/src/vm/tests/test-cleanup-on-failure.js\n /tmp/repo/src/vm/tests/test-create.js\n /tmp/repo/src/vm/tests/test-create-filesystems.js\n /tmp/repo/src/vm/tests/test-docker.js\n /tmp/repo/src/vm/tests/test-defaults.js\n /tmp/repo/src/vm/tests/test-hrtime.js\n /tmp/repo/src/vm/tests/test-indestructible.js\n /tmp/repo/src/vm/tests/test-internal_metadata_namespaces.js\n /tmp/repo/src/vm/tests/test-lastexited.js\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 6 warnings(s)\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525950521,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 2."},{"timestamp":1525950541,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 2:\n\nTesting done https://gist.github.com/sjorge/ed6231c38ed45f7ae8b2ed2613baa97c"},{"timestamp":1525950557,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneadm.js\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneinfo.js\n /tmp/repo/src/vm/node_modules/sysevent-stream.js\n /tmp/repo/src/vm/node_modules/zonecfg.js\n /tmp/repo/src/img/lib/IMG.js\n /tmp/repo/src/img/lib/cli.js\n /tmp/repo/src/img/lib/common.js\n /tmp/repo/src/img/lib/configuration.js\n /tmp/repo/src/img/lib/database.js\n /tmp/repo/src/img/lib/errors.js\n /tmp/repo/src/img/lib/imgadm.js\n /tmp/repo/src/img/lib/magic.js\n /tmp/repo/src/img/lib/upgrade.js\n /tmp/repo/src/img/sbin/imgadm\n /tmp/repo/src/vm/common/nictag.js\n /tmp/repo/src/vm/tests/test-alias.js\n /tmp/repo/src/vm/node_modules/nodeunit-plus/index.js\n /tmp/repo/src/vm/tests/test-cleanup-on-failure.js\n /tmp/repo/src/vm/tests/test-create.js\n /tmp/repo/src/vm/tests/test-create-filesystems.js\n /tmp/repo/src/vm/tests/test-docker.js\n /tmp/repo/src/vm/tests/test-defaults.js\n /tmp/repo/src/vm/tests/test-hrtime.js\n /tmp/repo/src/vm/tests/test-indestructible.js\n /tmp/repo/src/vm/tests/test-internal_metadata_namespaces.js\n /tmp/repo/src/vm/tests/test-lastexited.js\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 6 warnings(s)\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525951053,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 3."},{"timestamp":1525951090,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/node_modules/nodeunit-plus/index.js\n /tmp/repo/src/vm/tests/test-cleanup-on-failure.js\n /tmp/repo/src/vm/tests/test-create.js\n /tmp/repo/src/vm/tests/test-create-filesystems.js\n /tmp/repo/src/vm/tests/test-docker.js\n /tmp/repo/src/vm/tests/test-defaults.js\n /tmp/repo/src/vm/tests/test-hrtime.js\n /tmp/repo/src/vm/tests/test-indestructible.js\n /tmp/repo/src/vm/tests/test-internal_metadata_namespaces.js\n /tmp/repo/src/vm/tests/test-lastexited.js\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 0 warnings(s)\n \n \u003d\u003d\u003e Running jsstyle...\n (for file in filewait.js node_modules/{system,onlyif,net-boot-config}.js net-boot-config vm/sbin/*.js vm/node_modules/dladm.js vm/node_modules/expander.js vm/node_modules/hrtime.js vm/node_modules/ip.js vm/node_modules/nic.js vm/node_modules/proptable.js vm/node_modules/utils.js vm/node_modules/VM.js vm/node_modules/qmp.js vm/node_modules/openonerrlogger.js vm/node_modules/vmload/*.js vm/node_modules/sysevent-stream.js vm/node_modules/zonecfg.js img/lib/*.js img/sbin/imgadm vm/common/nictag.js vm/tests/test-alias.js vm/tests/test-cleanup-on-failure.js vm/tests/test-create.js vm/tests/test-create-filesystems.js vm/tests/test-docker.js vm/tests/test-defaults.js vm/tests/test-hrtime.js vm/tests/test-indestructible.js vm/tests/test-internal_metadata_namespaces.js vm/tests/test-lastexited.js vm/tests/test-openonerrlogger.js vm/tests/test-reboot.js vm/tests/test-reprovision.js vm/tests/test-snapshots.js vm/tests/test-spoof-opts.js vm/tests/test-tmpfs.js vm/tests/test-update.js vm/tests/test-vrrp-nics.js vm/lib/metadata/*.js; do \\\n \techo /tmp/repo/src/$file; \\\n \t/tmp/repo/src/../tools/jsstyle/jsstyle -o indent\u003d4,strict-indent\u003d1,doxygen,unparenthesized-return\u003d0,continuation-at-front\u003d1,leading-right-paren-ok\u003d1 $file; \\\n \t[[ $? \u003d\u003d \"0\" ]] || exit 1; \\\n done)\n /tmp/repo/src/filewait.js\n /tmp/repo/src/node_modules/system.js\n /tmp/repo/src/node_modules/onlyif.js\n /tmp/repo/src/node_modules/net-boot-config.js\n /tmp/repo/src/net-boot-config\n /tmp/repo/src/vm/sbin/add-userscript.js\n /tmp/repo/src/vm/sbin/metadata.js\n /tmp/repo/src/vm/sbin/vmadm.js\n vm/sbin/vmadm.js: 336: line \u003e 80 characters\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525951413,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 4."},{"timestamp":1525951452,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 0 warnings(s)\n \n \u003d\u003d\u003e Running jsstyle...\n (for file in filewait.js node_modules/{system,onlyif,net-boot-config}.js net-boot-config vm/sbin/*.js vm/node_modules/dladm.js vm/node_modules/expander.js vm/node_modules/hrtime.js vm/node_modules/ip.js vm/node_modules/nic.js vm/node_modules/proptable.js vm/node_modules/utils.js vm/node_modules/VM.js vm/node_modules/qmp.js vm/node_modules/openonerrlogger.js vm/node_modules/vmload/*.js vm/node_modules/sysevent-stream.js vm/node_modules/zonecfg.js img/lib/*.js img/sbin/imgadm vm/common/nictag.js vm/tests/test-alias.js vm/tests/test-cleanup-on-failure.js vm/tests/test-create.js vm/tests/test-create-filesystems.js vm/tests/test-docker.js vm/tests/test-defaults.js vm/tests/test-hrtime.js vm/tests/test-indestructible.js vm/tests/test-internal_metadata_namespaces.js vm/tests/test-lastexited.js vm/tests/test-openonerrlogger.js vm/tests/test-reboot.js vm/tests/test-reprovision.js vm/tests/test-snapshots.js vm/tests/test-spoof-opts.js vm/tests/test-tmpfs.js vm/tests/test-update.js vm/tests/test-vrrp-nics.js vm/lib/metadata/*.js; do \\\n \techo /tmp/repo/src/$file; \\\n \t/tmp/repo/src/../tools/jsstyle/jsstyle -o indent\u003d4,strict-indent\u003d1,doxygen,unparenthesized-return\u003d0,continuation-at-front\u003d1,leading-right-paren-ok\u003d1 $file; \\\n \t[[ $? \u003d\u003d \"0\" ]] || exit 1; \\\n done)\n /tmp/repo/src/filewait.js\n /tmp/repo/src/node_modules/system.js\n /tmp/repo/src/node_modules/onlyif.js\n /tmp/repo/src/node_modules/net-boot-config.js\n /tmp/repo/src/net-boot-config\n /tmp/repo/src/vm/sbin/add-userscript.js\n /tmp/repo/src/vm/sbin/metadata.js\n /tmp/repo/src/vm/sbin/vmadm.js\n /tmp/repo/src/vm/sbin/vmadmd.js\n /tmp/repo/src/vm/sbin/vmdf.js\n /tmp/repo/src/vm/node_modules/dladm.js\n /tmp/repo/src/vm/node_modules/expander.js\n /tmp/repo/src/vm/node_modules/hrtime.js\n /tmp/repo/src/vm/node_modules/ip.js\n /tmp/repo/src/vm/node_modules/nic.js\n /tmp/repo/src/vm/node_modules/proptable.js\n /tmp/repo/src/vm/node_modules/utils.js\n /tmp/repo/src/vm/node_modules/VM.js\n vm/node_modules/VM.js: 4704: line \u003e 80 characters\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525952300,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 5."},{"timestamp":1525952339,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 0 warnings(s)\n \n \u003d\u003d\u003e Running jsstyle...\n (for file in filewait.js node_modules/{system,onlyif,net-boot-config}.js net-boot-config vm/sbin/*.js vm/node_modules/dladm.js vm/node_modules/expander.js vm/node_modules/hrtime.js vm/node_modules/ip.js vm/node_modules/nic.js vm/node_modules/proptable.js vm/node_modules/utils.js vm/node_modules/VM.js vm/node_modules/qmp.js vm/node_modules/openonerrlogger.js vm/node_modules/vmload/*.js vm/node_modules/sysevent-stream.js vm/node_modules/zonecfg.js img/lib/*.js img/sbin/imgadm vm/common/nictag.js vm/tests/test-alias.js vm/tests/test-cleanup-on-failure.js vm/tests/test-create.js vm/tests/test-create-filesystems.js vm/tests/test-docker.js vm/tests/test-defaults.js vm/tests/test-hrtime.js vm/tests/test-indestructible.js vm/tests/test-internal_metadata_namespaces.js vm/tests/test-lastexited.js vm/tests/test-openonerrlogger.js vm/tests/test-reboot.js vm/tests/test-reprovision.js vm/tests/test-snapshots.js vm/tests/test-spoof-opts.js vm/tests/test-tmpfs.js vm/tests/test-update.js vm/tests/test-vrrp-nics.js vm/lib/metadata/*.js; do \\\n \techo /tmp/repo/src/$file; \\\n \t/tmp/repo/src/../tools/jsstyle/jsstyle -o indent\u003d4,strict-indent\u003d1,doxygen,unparenthesized-return\u003d0,continuation-at-front\u003d1,leading-right-paren-ok\u003d1 $file; \\\n \t[[ $? \u003d\u003d \"0\" ]] || exit 1; \\\n done)\n /tmp/repo/src/filewait.js\n /tmp/repo/src/node_modules/system.js\n /tmp/repo/src/node_modules/onlyif.js\n /tmp/repo/src/node_modules/net-boot-config.js\n /tmp/repo/src/net-boot-config\n /tmp/repo/src/vm/sbin/add-userscript.js\n /tmp/repo/src/vm/sbin/metadata.js\n /tmp/repo/src/vm/sbin/vmadm.js\n /tmp/repo/src/vm/sbin/vmadmd.js\n /tmp/repo/src/vm/sbin/vmdf.js\n /tmp/repo/src/vm/node_modules/dladm.js\n /tmp/repo/src/vm/node_modules/expander.js\n /tmp/repo/src/vm/node_modules/hrtime.js\n /tmp/repo/src/vm/node_modules/ip.js\n /tmp/repo/src/vm/node_modules/nic.js\n /tmp/repo/src/vm/node_modules/proptable.js\n /tmp/repo/src/vm/node_modules/utils.js\n /tmp/repo/src/vm/node_modules/VM.js\n vm/node_modules/VM.js: 4694: improper continuation\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525952689,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 6."},{"timestamp":1525952727,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 0 warnings(s)\n \n \u003d\u003d\u003e Running jsstyle...\n (for file in filewait.js node_modules/{system,onlyif,net-boot-config}.js net-boot-config vm/sbin/*.js vm/node_modules/dladm.js vm/node_modules/expander.js vm/node_modules/hrtime.js vm/node_modules/ip.js vm/node_modules/nic.js vm/node_modules/proptable.js vm/node_modules/utils.js vm/node_modules/VM.js vm/node_modules/qmp.js vm/node_modules/openonerrlogger.js vm/node_modules/vmload/*.js vm/node_modules/sysevent-stream.js vm/node_modules/zonecfg.js img/lib/*.js img/sbin/imgadm vm/common/nictag.js vm/tests/test-alias.js vm/tests/test-cleanup-on-failure.js vm/tests/test-create.js vm/tests/test-create-filesystems.js vm/tests/test-docker.js vm/tests/test-defaults.js vm/tests/test-hrtime.js vm/tests/test-indestructible.js vm/tests/test-internal_metadata_namespaces.js vm/tests/test-lastexited.js vm/tests/test-openonerrlogger.js vm/tests/test-reboot.js vm/tests/test-reprovision.js vm/tests/test-snapshots.js vm/tests/test-spoof-opts.js vm/tests/test-tmpfs.js vm/tests/test-update.js vm/tests/test-vrrp-nics.js vm/lib/metadata/*.js; do \\\n \techo /tmp/repo/src/$file; \\\n \t/tmp/repo/src/../tools/jsstyle/jsstyle -o indent\u003d4,strict-indent\u003d1,doxygen,unparenthesized-return\u003d0,continuation-at-front\u003d1,leading-right-paren-ok\u003d1 $file; \\\n \t[[ $? \u003d\u003d \"0\" ]] || exit 1; \\\n done)\n /tmp/repo/src/filewait.js\n /tmp/repo/src/node_modules/system.js\n /tmp/repo/src/node_modules/onlyif.js\n /tmp/repo/src/node_modules/net-boot-config.js\n /tmp/repo/src/net-boot-config\n /tmp/repo/src/vm/sbin/add-userscript.js\n /tmp/repo/src/vm/sbin/metadata.js\n /tmp/repo/src/vm/sbin/vmadm.js\n /tmp/repo/src/vm/sbin/vmadmd.js\n /tmp/repo/src/vm/sbin/vmdf.js\n /tmp/repo/src/vm/node_modules/dladm.js\n /tmp/repo/src/vm/node_modules/expander.js\n /tmp/repo/src/vm/node_modules/hrtime.js\n /tmp/repo/src/vm/node_modules/ip.js\n /tmp/repo/src/vm/node_modules/nic.js\n /tmp/repo/src/vm/node_modules/proptable.js\n /tmp/repo/src/vm/node_modules/utils.js\n /tmp/repo/src/vm/node_modules/VM.js\n vm/node_modules/VM.js: 4650: improper continuation\n vm/node_modules/VM.js: 4651: improper continuation\n vm/node_modules/VM.js: 4693: improper continuation\n vm/node_modules/VM.js: 4694: improper continuation\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525952865,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 7."},{"timestamp":1525952911,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525953749,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 8."},{"timestamp":1525953785,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneadm.js\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneinfo.js\n /tmp/repo/src/vm/node_modules/sysevent-stream.js\n /tmp/repo/src/vm/node_modules/zonecfg.js\n /tmp/repo/src/img/lib/IMG.js\n /tmp/repo/src/img/lib/cli.js\n /tmp/repo/src/img/lib/common.js\n /tmp/repo/src/img/lib/configuration.js\n /tmp/repo/src/img/lib/database.js\n /tmp/repo/src/img/lib/errors.js\n /tmp/repo/src/img/lib/imgadm.js\n /tmp/repo/src/img/lib/magic.js\n /tmp/repo/src/img/lib/upgrade.js\n /tmp/repo/src/img/sbin/imgadm\n /tmp/repo/src/vm/common/nictag.js\n /tmp/repo/src/vm/tests/test-alias.js\n /tmp/repo/src/vm/node_modules/nodeunit-plus/index.js\n /tmp/repo/src/vm/tests/test-cleanup-on-failure.js\n /tmp/repo/src/vm/tests/test-create.js\n /tmp/repo/src/vm/tests/test-create-filesystems.js\n /tmp/repo/src/vm/tests/test-docker.js\n /tmp/repo/src/vm/tests/test-defaults.js\n /tmp/repo/src/vm/tests/test-hrtime.js\n /tmp/repo/src/vm/tests/test-indestructible.js\n /tmp/repo/src/vm/tests/test-internal_metadata_namespaces.js\n /tmp/repo/src/vm/tests/test-lastexited.js\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 3 warnings(s)\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525954086,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 9."},{"timestamp":1525954121,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneadm.js\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneinfo.js\n /tmp/repo/src/vm/node_modules/sysevent-stream.js\n /tmp/repo/src/vm/node_modules/zonecfg.js\n /tmp/repo/src/img/lib/IMG.js\n /tmp/repo/src/img/lib/cli.js\n /tmp/repo/src/img/lib/common.js\n /tmp/repo/src/img/lib/configuration.js\n /tmp/repo/src/img/lib/database.js\n /tmp/repo/src/img/lib/errors.js\n /tmp/repo/src/img/lib/imgadm.js\n /tmp/repo/src/img/lib/magic.js\n /tmp/repo/src/img/lib/upgrade.js\n /tmp/repo/src/img/sbin/imgadm\n /tmp/repo/src/vm/common/nictag.js\n /tmp/repo/src/vm/tests/test-alias.js\n /tmp/repo/src/vm/node_modules/nodeunit-plus/index.js\n /tmp/repo/src/vm/tests/test-cleanup-on-failure.js\n /tmp/repo/src/vm/tests/test-create.js\n /tmp/repo/src/vm/tests/test-create-filesystems.js\n /tmp/repo/src/vm/tests/test-docker.js\n /tmp/repo/src/vm/tests/test-defaults.js\n /tmp/repo/src/vm/tests/test-hrtime.js\n /tmp/repo/src/vm/tests/test-indestructible.js\n /tmp/repo/src/vm/tests/test-internal_metadata_namespaces.js\n /tmp/repo/src/vm/tests/test-lastexited.js\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 1 warnings(s)\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525954489,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 10."},{"timestamp":1525954525,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneadm.js\n /tmp/repo/src/vm/node_modules/vmload/vmload-zoneinfo.js\n /tmp/repo/src/vm/node_modules/sysevent-stream.js\n /tmp/repo/src/vm/node_modules/zonecfg.js\n /tmp/repo/src/img/lib/IMG.js\n /tmp/repo/src/img/lib/cli.js\n /tmp/repo/src/img/lib/common.js\n /tmp/repo/src/img/lib/configuration.js\n /tmp/repo/src/img/lib/database.js\n /tmp/repo/src/img/lib/errors.js\n /tmp/repo/src/img/lib/imgadm.js\n /tmp/repo/src/img/lib/magic.js\n /tmp/repo/src/img/lib/upgrade.js\n /tmp/repo/src/img/sbin/imgadm\n /tmp/repo/src/vm/common/nictag.js\n /tmp/repo/src/vm/tests/test-alias.js\n /tmp/repo/src/vm/node_modules/nodeunit-plus/index.js\n /tmp/repo/src/vm/tests/test-cleanup-on-failure.js\n /tmp/repo/src/vm/tests/test-create.js\n /tmp/repo/src/vm/tests/test-create-filesystems.js\n /tmp/repo/src/vm/tests/test-docker.js\n /tmp/repo/src/vm/tests/test-defaults.js\n /tmp/repo/src/vm/tests/test-hrtime.js\n /tmp/repo/src/vm/tests/test-indestructible.js\n /tmp/repo/src/vm/tests/test-internal_metadata_namespaces.js\n /tmp/repo/src/vm/tests/test-lastexited.js\n /tmp/repo/src/vm/tests/test-openonerrlogger.js\n /tmp/repo/src/vm/tests/test-reboot.js\n /tmp/repo/src/vm/tests/test-reprovision.js\n /tmp/repo/src/vm/tests/test-snapshots.js\n /tmp/repo/src/vm/tests/test-spoof-opts.js\n /tmp/repo/src/vm/tests/test-tmpfs.js\n /tmp/repo/src/vm/tests/test-update.js\n /tmp/repo/src/vm/tests/test-vrrp-nics.js\n /tmp/repo/src/vm/lib/metadata/agent.js\n /tmp/repo/src/vm/lib/metadata/common.js\n /tmp/repo/src/vm/lib/metadata/crc32.js\n /tmp/repo/src/vm/lib/metadata/zwatch.js\n /tmp/repo/src/disklayout.js\n /tmp/repo/src/mkzpool.js\n /tmp/repo/src/ntp_config.js\n /tmp/repo/src/node_modules/disklayout.js\n \n 0 error(s), 2 warnings(s)\n Makefile:440: recipe for target \u0027check\u0027 failed\n make[1]: *** [check] Error 1\n make[1]: Leaving directory \u0027/tmp/repo/src\u0027\n Makefile:358: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1525954980,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 11."},{"timestamp":1525955027,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525955911,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 11:\n\n(1 comment)\n\nNice work!"},{"timestamp":1525961167,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 12."},{"timestamp":1525961214,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525961218,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 11:\n\n(1 comment)"},{"timestamp":1525961632,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1525967665,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 12:\n\nTests redone: https://gist.github.com/sjorge/ed6231c38ed45f7ae8b2ed2613baa97c"},{"timestamp":1525978503,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 12:\n\n(2 comments)"},{"timestamp":1525978569,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 12:\n\nGerrit somehow posted two versions of my comment. Sorry about that."},{"timestamp":1526032933,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 12:\n\n(1 comment)"},{"timestamp":1526048629,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Uploaded patch set 13."},{"timestamp":1526048672,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 12:\n\n(1 comment)\n\nUpdate the test data too:\nhttps://gist.github.com/sjorge/ed6231c38ed45f7ae8b2ed2613baa97c"},{"timestamp":1526048678,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526058842,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 13: Code-Review+1\n\nlooks good to me"},{"timestamp":1526062772,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 13: Code-Review+1"},{"timestamp":1526063262,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 13: Integration-Approval+1"},{"timestamp":1526063336,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 14: Commit message was updated."},{"timestamp":1526063645,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 15: Commit message was updated."},{"timestamp":1526321254,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"15","revision":"bdfaee550fc4080fa9c15a774390cf01645b39fe","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/15","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1526063645,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526048678,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526058842,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526062772,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526063262,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1526321254,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":36,"sizeDeletions":-16},"patchSets":[{"number":"1","revision":"c057ed69447b6125a3fbe214eedd6bbd688d9f9c","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/1","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525950388,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525950430,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":25,"deletions":-4},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":28,"sizeDeletions":-6},{"number":"2","revision":"73f826ee5dd5c636d789ecfcbd16c3ae834c31cf","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/2","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525950521,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525950557,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":25,"deletions":-4},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":29,"sizeDeletions":-7},{"number":"3","revision":"ccf09224bedf93026783dd946d2c8053877e8696","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/3","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525951053,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525951090,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":26,"deletions":-4},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":30,"sizeDeletions":-7},{"number":"4","revision":"b66ef7e03329d6785f7d7c846adca57cfb6578c3","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/4","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525951413,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525951452,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":26,"deletions":-4},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":30,"sizeDeletions":-7},{"number":"5","revision":"d7bd0d5da4558b25123a75de0c7d00dadf42992e","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/5","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525952300,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525952339,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":21,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":37,"sizeDeletions":-12},{"number":"6","revision":"79c4432e53ed5e6ab5779da82ef67e3241699eaf","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/6","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525952689,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525952727,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":22,"deletions":-10},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":38,"sizeDeletions":-13},{"number":"7","revision":"c77d0c319152cc2d67f359dcc7fc02af84422da3","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/7","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525952865,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525952911,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":21,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":37,"sizeDeletions":-12},{"number":"8","revision":"c98d99cf94d256cd7117bb58e903febf8a46bb26","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/8","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525953749,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525953785,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":16,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":24,"sizeDeletions":-14},{"number":"9","revision":"c20192eb788f5597e987901df1574b91e10a303b","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/9","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525954086,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525954121,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":19,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":27,"sizeDeletions":-14},{"number":"10","revision":"b406f5534302748127d39adefa745bd9724dc690","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/10","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525954489,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525954525,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":19,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":28,"sizeDeletions":-15},{"number":"11","revision":"9734303fffd7aaac3963e107b431b495f24b8473","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/11","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525954980,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525955027,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/man/vmadm.1m.md","line":907,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"This looks wider than 80 characters, meaning default sized terminals will truncate or wrap it.  Better to figure out how to format it into 80 characters here so that the display with man is decent.  I\u0027d align the second line with \"string\" after \"type:\"."},{"file":"src/vm/man/vmadm.1m.md","line":907,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Done"},{"file":"src/vm/sbin/vmadm.js","line":336,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"This code is not restricting the brand, but just assuming KVM brand. Perhaps the comment should be:\n\n    // assume KVM brand\n\nto make that more clear?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":19,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":5,"deletions":-3}],"sizeInsertions":29,"sizeDeletions":-15},{"number":"12","revision":"23208dc5891c3ca2f82f36978c85d7074737a3b0","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/12","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1525961167,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525961214,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525961632,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"comments":[{"file":"src/vm/sbin/vmadm.js","line":336,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"This comment seems a bit misleading. This is not limiting the support to the brand, it just has us assuming the brand is kvm. So perhaps:\n\n    // assume brand is KVM\n\nwould be better. But perhaps even better still would be to have the startVM in VM.js do the check on the extras.disks since at that point we know the brand and can properly validate this."},{"file":"src/vm/sbin/vmadm.js","line":336,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"startVM looks like a better place, I will move the check."},{"file":"src/vm/sbin/vmadm.js","line":336,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":19,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":5,"deletions":-3}],"sizeInsertions":30,"sizeDeletions":-15},{"number":"13","revision":"12ce00acda91ed6f0eef29c9857a23d60c223674","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/13","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1526048629,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526048678,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526058842,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526062772,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526063262,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":36,"sizeDeletions":-16},{"number":"14","revision":"c4c690ac6c649ee46fba332f766fef3d3836d1f4","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/14","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1526063336,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526048678,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526058842,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526062772,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526063262,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":36,"sizeDeletions":-16},{"number":"15","revision":"bdfaee550fc4080fa9c15a774390cf01645b39fe","parents":["be4b170210560c939e3e09aafa61b0a771d39e7f"],"ref":"refs/changes/32/3932/15","uploader":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"createdOn":1526063645,"author":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526048678,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526058842,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526062772,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526063262,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1526321254,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/vm/man/vmadm.1m.md","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":29,"deletions":-9},{"file":"src/vm/node_modules/proptable.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"src/vm/sbin/vmadm.js","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":36,"sizeDeletions":-16}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}]}