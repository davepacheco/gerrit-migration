{"project":"joyent/smartos-live","branch":"master","id":"I09953d5eb4ba6c1614a32095f4c8e7d0f1f73e4a","number":"49","subject":"DOCKER-867 docker build: unable to run created image due to \u0027/etc/resolv.conf\u0027 being a directory Reviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/49","commitMessage":"DOCKER-867 docker build: unable to run created image due to \u0027/etc/resolv.conf\u0027 being a directory\nReviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1468052467,"lastUpdated":1468350515,"open":false,"status":"MERGED","comments":[{"timestamp":1468052467,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1468178339,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1: Code-Review-1\n\n(4 comments)"},{"timestamp":1468262274,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1468262466,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1468263153,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1468264654,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1:\n\n\u003e The commentary will automatically be added to JIRA when the change gets pushed to master.\n\nThough that\u0027s true, in a round about sense, it ought to be in the ticket already as part of working on the bug.  The commit message should not contain anything but the list of tickets (and \"Reviewed by:\" lines), though, as per:\n\nhttps://github.com/joyent/eng/blob/master/docs/index.md#commit-comments"},{"timestamp":1468265032,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 2: Code-Review-1\n\n(2 comments)"},{"timestamp":1468299630,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1468300748,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1468300798,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1468300892,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 4: Code-Review+1\n\nThanks for the changes.  Looks good to me!"},{"timestamp":1468300967,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nWhile I don\u0027t agree with the changes, I\u0027ve modified this commit to remove the details from the commit message and changed the comments in the test to jclulow\u0027s preferred style so that this fix can hopefully be pushed."},{"timestamp":1468350413,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Code-Review+2"},{"timestamp":1468350515,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"4","revision":"09953d5eb4ba6c1614a32095f4c8e7d0f1f73e4a","parents":["60330dbb31f1c2b3a2bdf670e0504fdf1bac1a42"],"ref":"refs/changes/49/49/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1468300798,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1468300892,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1468350413,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1468350515,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":23,"deletions":-2},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":66,"deletions":0}],"sizeInsertions":89,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"8604126aee7b58d894bad08a5ef748159e1f8df1","parents":["3eb73a04196eefa96728c2db625b2f31f61d2805"],"ref":"refs/changes/49/49/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1468052467,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1468178339,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"comments":[{"file":"/COMMIT_MSG","line":18,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"This commentary should be in the bug, rather than in the commit message."},{"file":"/COMMIT_MSG","line":18,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"The commentary will automatically be added to JIRA when the change gets pushed to master."},{"file":"src/vm/node_modules/VM.js","line":7270,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Can you add some language to the block comment above \"createHostConfFileMounts()\" (~L2042) that describes what this option does?"},{"file":"src/vm/tests/test-docker.js","line":1474,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"It would be good if we could move toward just one style of comments, and that should probably be\n\n   /*\n    * C style comments.\n    */"},{"file":"src/vm/tests/test-docker.js","line":1474,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"I\u0027ve created OS-5504 for making the formatting more consistent."},{"file":"src/vm/tests/test-docker.js","line":1498,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Would it be better to positively assert that \"st.isFile()\" rather than just that it isn\u0027t a directory?  What if it\u0027s a symbolic link, etc?"},{"file":"src/vm/tests/test-docker.js","line":1498,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"ok"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":18,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":63,"deletions":0}],"sizeInsertions":71,"sizeDeletions":-2},{"number":"2","revision":"ddb297112d639526b517cbed5e31cef2007d5bb7","parents":["3eb73a04196eefa96728c2db625b2f31f61d2805"],"ref":"refs/changes/49/49/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1468262466,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1468265032,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"comments":[{"file":"/COMMIT_MSG","line":18,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"The commit message should not contain anything but the list of tickets (and \"Reviewed by:\" lines) as per:\n\nhttps://github.com/joyent/eng/blob/master/docs/index.md#commit-comments"},{"file":"src/vm/tests/test-docker.js","line":1474,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Thanks for filing OS-5504.  Can you please fix the comments in this change before it goes back?"},{"file":"src/vm/tests/test-docker.js","line":1474,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"This is more a general question about code reviews in general: do we care about having one or the other style of comments in JavaScript? If so, why choose C-style comments over C++ style comments? Anyway it seems that this might be better left for OS-5504, since there seems to be a lot of comments using both styles in the code base already."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":18,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":23,"deletions":-2},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":62,"deletions":0}],"sizeInsertions":85,"sizeDeletions":-2},{"number":"3","revision":"df9242f28b01e6a341ef1480d8bb90141cdcd916","parents":["60330dbb31f1c2b3a2bdf670e0504fdf1bac1a42"],"ref":"refs/changes/49/49/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1468300748,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":23,"deletions":-2},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":66,"deletions":0}],"sizeInsertions":89,"sizeDeletions":-2},{"number":"4","revision":"09953d5eb4ba6c1614a32095f4c8e7d0f1f73e4a","parents":["60330dbb31f1c2b3a2bdf670e0504fdf1bac1a42"],"ref":"refs/changes/49/49/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1468300798,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1468300892,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1468350413,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1468350515,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":23,"deletions":-2},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":66,"deletions":0}],"sizeInsertions":89,"sizeDeletions":-2}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}