{"project":"joyent/smartos-live","branch":"master","topic":"base-64-gcc","id":"If747a1e1c83c501765b6774ed7c2b0abf7c3e5d6","number":"6363","subject":"OS-7785 need upgrade procedure for base-64 devzones Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/6363","commitMessage":"OS-7785 need upgrade procedure for base-64 devzones\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1559042100,"lastUpdated":1568820423,"open":false,"status":"MERGED","comments":[{"timestamp":1559042100,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1559042109,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 3ff902c4d532c7191451f4852c43bdbafb98ab80\n    \n    OS-7785 need upgrade procedure for base-64 devzones"},{"timestamp":1559042158,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1559042230,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Topic set to base64-gcc"},{"timestamp":1559042247,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Topic changed from base64-gcc to base-64-gcc"},{"timestamp":1559045389,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1559045396,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 1d70d9db7ef125fef7abb99e73159cda06ff35f6\n    \n    OS-7785 need upgrade procedure for base-64 devzones"},{"timestamp":1559045442,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1559912869,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 3."},{"timestamp":1559912877,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit c9c8437e3897a843cf62362fc77c8cf544ff5d4f\n    \n    OS-7785 need upgrade procedure for base-64 devzones"},{"timestamp":1559912951,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1559914085,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\npatch set 3 was a result of Jerry finding a few errors, and me fixing a typo."},{"timestamp":1560183787,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 4."},{"timestamp":1560183796,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit d04eeac3d517929d19c35f1451293cd5b1f8cf9c\n    \n    OS-7785 need upgrade procedure for base-64 devzones"},{"timestamp":1560183867,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560184004,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 4:\n\n\u003e New commits:\n \u003e \n \u003e commit d04eeac3d517929d19c35f1451293cd5b1f8cf9c\n \u003e \n \u003e OS-7785 need upgrade procedure for base-64 devzones\n\nThis change fixes a bug in the script that reinstalls packages, mentions that smartos-live \u0027configure\u0027 installs its own packages, and also documents how to snapshot a VM that has delegated datasets (which vmadm won\u0027t run \u0027create-snapshot\u0027 on)\n\nThanks Jerry for the additional feedback here."},{"timestamp":1566564017,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 5."},{"timestamp":1566564025,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit e288dbbbba3556129f1eef57a4b647b78674e21f\n    \n    OS-7785 need upgrade procedure for base-64 devzones"},{"timestamp":1566564108,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1568625797,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1568625805,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 9a09b5d215b0268dfc4c39969e0e520e0734e92e\n    \n    OS-7785 need upgrade procedure for base-64 devzones"},{"timestamp":1568625889,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6:\n\n\"make check\" passed ok"},{"timestamp":1568637763,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1568739793,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\nTim, as we\u0027re effectively using this ticket/CR for the actual devzone switch, can you add some notes on testing of the resulting built PI?"},{"timestamp":1568796740,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 6:\n\n\u003e Tim, as we\u0027re effectively using this ticket/CR for the actual\n \u003e devzone switch, can you add some notes on testing of the resulting\n \u003e built PI?\n\nYep, I last tested the devzone upgrade steps back in June for OS-7775,\nand quite a bit has changed in the gate since then, so it\u0027s probably\ntime to sanity check that all still works. I\u0027ll add notes to the\nticket once the testing completes (today, I expect)"},{"timestamp":1568813890,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 6:\n\n\u003e I\u0027ll add notes to the ticket once the testing completes (today, I\n\u003e expect)\n\nOS-7785 is updated now - just shout if there\u0027s any additional tests\nyou\u0027d like to see?"},{"timestamp":1568818480,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1568819631,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1568820423,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"}],"currentPatchSet":{"number":"7","revision":"f747a1e1c83c501765b6774ed7c2b0abf7c3e5d6","parents":["bea87f617d984e80a7059e69769a71e7ac658ab6"],"ref":"refs/changes/63/6363/7","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1568819631,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566564108,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568637763,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568818480,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1568820423,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":227,"deletions":-295}],"sizeInsertions":239,"sizeDeletions":-306},"patchSets":[{"number":"1","revision":"d1f7c794eb64e4b5e0c1d61167377ba1f11bd5f0","parents":["35c01ca9176d9fae823b2b6cfd4f6d49717dbe99"],"ref":"refs/changes/63/6363/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1559042100,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559042158,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":209,"deletions":-294}],"sizeInsertions":221,"sizeDeletions":-305},{"number":"2","revision":"5eeee900bf0b5912049e90b08d9de6dc0e709e03","parents":["009dfe433c8ba38e5df14abb62c25a224f10ba33"],"ref":"refs/changes/63/6363/2","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1559045389,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559042158,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":209,"deletions":-294}],"sizeInsertions":221,"sizeDeletions":-305},{"number":"3","revision":"8d4fa2bc7bc1d1097397e4bb923f6d53d1063f8a","parents":["009dfe433c8ba38e5df14abb62c25a224f10ba33"],"ref":"refs/changes/63/6363/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1559912869,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559912951,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":209,"deletions":-295}],"sizeInsertions":221,"sizeDeletions":-306},{"number":"4","revision":"262bf282918ba7d58f66ed0183e80e1c7e3927a7","parents":["009dfe433c8ba38e5df14abb62c25a224f10ba33"],"ref":"refs/changes/63/6363/4","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560183787,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560183867,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":227,"deletions":-295}],"sizeInsertions":239,"sizeDeletions":-306},{"number":"5","revision":"d75c3779ea6d1943f5bca572a5687521c8921f36","parents":["fa1355363dc5f5f8fca98c61b5bb5c8dc98e7406"],"ref":"refs/changes/63/6363/5","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1566564017,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566564108,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":227,"deletions":-295}],"sizeInsertions":239,"sizeDeletions":-306},{"number":"6","revision":"23686d5c51d8aa508ccdf7e89dc6ada43d46c563","parents":["bea87f617d984e80a7059e69769a71e7ac658ab6"],"ref":"refs/changes/63/6363/6","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1568625797,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566564108,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568637763,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568818480,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":227,"deletions":-295}],"sizeInsertions":239,"sizeDeletions":-306},{"number":"7","revision":"f747a1e1c83c501765b6774ed7c2b0abf7c3e5d6","parents":["bea87f617d984e80a7059e69769a71e7ac658ab6"],"ref":"refs/changes/63/6363/7","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1568819631,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566564108,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568637763,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568818480,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1568820423,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"docs/dev-upgrade.md","type":"MODIFIED","insertions":227,"deletions":-295}],"sizeInsertions":239,"sizeDeletions":-306}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}