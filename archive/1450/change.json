{"project":"joyent/node-mname","branch":"master","id":"I6e92054ee85f660c06c91ac7d3c7ec556aa365c6","number":"1450","subject":"joyent/node-mname#15 make format parser-generators into functions Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/1450","commitMessage":"joyent/node-mname#15 make format parser-generators into functions\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1486433045,"lastUpdated":1486492265,"open":false,"status":"MERGED","comments":[{"timestamp":1486433045,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1486435681,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1486435725,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486449729,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1486449751,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1486490463,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 3."},{"timestamp":1486490466,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1486490488,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486491921,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1486492243,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1486492261,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1486492265,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"}],"currentPatchSet":{"number":"5","revision":"195656fccf88b8732d6c643d88afafb8768d3fc3","parents":["cc77a64e952b0f80bc489e03340e893eb133a5a2"],"ref":"refs/changes/50/1450/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1486492261,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486490488,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1486492265,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/dns-buffer.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/protocol.js","type":"MODIFIED","insertions":431,"deletions":-495},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":433,"sizeDeletions":-498},"patchSets":[{"number":"1","revision":"7e3f9020438803779bca1a40799db628d3360d69","parents":["1425e4892bd9277f7c17dff9702bea5589a6f3e0"],"ref":"refs/changes/50/1450/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1486433045,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","comments":[{"file":"lib/protocol.js","line":57,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Is this to make sure that null blows up? Or would assert.optionalBuffer() suffice here?"},{"file":"lib/protocol.js","line":57,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Done"},{"file":"lib/protocol.js","line":284,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Should we check that the number was parsed successfully? Or just trust that it\u0027s an okay value?"},{"file":"lib/protocol.js","line":284,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Done"},{"file":"lib/protocol.js","line":333,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"These could instead be of the form:\n\n(flags \u0026 0x8000) !\u003d\u003d 0\n\nTo avoid the conditional."},{"file":"lib/protocol.js","line":333,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Done"},{"file":"lib/protocol.js","line":460,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I assume this gets caught somewhere, and an error is returned to the client?"},{"file":"lib/protocol.js","line":460,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Yes, this is typically called by query.js which catches it."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/protocol.js","type":"MODIFIED","insertions":428,"deletions":-495},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":429,"sizeDeletions":-496},{"number":"2","revision":"19e416de47775075888a0346d5c86c682176d166","parents":["409a4683e03c7eca49ec4618f0cd612fb15a1582"],"ref":"refs/changes/50/1450/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1486435681,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486449751,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486435725,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/protocol.js","type":"MODIFIED","insertions":428,"deletions":-495},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":429,"sizeDeletions":-496},{"number":"3","revision":"6e92054ee85f660c06c91ac7d3c7ec556aa365c6","parents":["409a4683e03c7eca49ec4618f0cd612fb15a1582"],"ref":"refs/changes/50/1450/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1486490463,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486490488,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/dns-buffer.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/protocol.js","type":"MODIFIED","insertions":431,"deletions":-495},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":433,"sizeDeletions":-498},{"number":"4","revision":"993644d4d245392d1e61364b0ee420ec32716c10","parents":["cc77a64e952b0f80bc489e03340e893eb133a5a2"],"ref":"refs/changes/50/1450/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1486492243,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486490488,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/dns-buffer.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/protocol.js","type":"MODIFIED","insertions":431,"deletions":-495},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":433,"sizeDeletions":-498},{"number":"5","revision":"195656fccf88b8732d6c643d88afafb8768d3fc3","parents":["cc77a64e952b0f80bc489e03340e893eb133a5a2"],"ref":"refs/changes/50/1450/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1486492261,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486491921,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1486492265,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486490488,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/dns-buffer.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/protocol.js","type":"MODIFIED","insertions":431,"deletions":-495},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":433,"sizeDeletions":-498}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}