{"project":"joyent/manatee","branch":"master","id":"I75f395df8510bfad2da779edcedeb5a1ec3ab63f","number":"3672","subject":"MANATEE-398 manatee-adm history -j doesn\u0027t understand v1 timestamps Reviewed by: David Pacheco \u003cdap@joyent.com\u003e","owner":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"url":"https://cr.joyent.us/3672","commitMessage":"MANATEE-398 manatee-adm history -j doesn\u0027t understand v1 timestamps\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1521246998,"lastUpdated":1521747322,"open":false,"status":"MERGED","comments":[{"timestamp":1521246998,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 1."},{"timestamp":1521247000,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit bcf02bd937fa87882fe05257200393c09e6f1267\n    \n    1"},{"timestamp":1521247030,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1521248108,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\nWe ended up talking about this offline, but for the record here: I think this should be handled inside `history()`, not in the caller of `history()`, since part of what that function does is to normalize the basic structure between v1 and v2 events, and there\u0027s no reason every consumer should have to deal with differently-named properties to refer to the same thing.\n\nIt seems like we probably want to fix this inside `oldHistoryToObj()` after verifying that that won\u0027t break anything."},{"timestamp":1521248620,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 2."},{"timestamp":1521248621,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit aea5328b95e6dbb116aff51cd4aa72ac92836073\n    \n    2"},{"timestamp":1521248652,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1521248770,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1521249605,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1521747166,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1521747322,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Brian Bennett"}],"currentPatchSet":{"number":"3","revision":"75f395df8510bfad2da779edcedeb5a1ec3ab63f","parents":["ece0834342e1dc1c6f18b5cf226e6e15644e07c4"],"ref":"refs/changes/72/3672/3","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1521249605,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521248652,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521248770,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521747166,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}},{"type":"SUBM","value":"1","grantedOn":1521747322,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":1,"deletions":-2}],"sizeInsertions":1,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"b4accc35ce3dc56870ba83c077524913a47558b1","parents":["ece0834342e1dc1c6f18b5cf226e6e15644e07c4"],"ref":"refs/changes/72/3672/1","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1521246998,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521247030,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/manatee-adm","type":"MODIFIED","insertions":9,"deletions":-1}],"sizeInsertions":9,"sizeDeletions":-1},{"number":"2","revision":"4c78e48dce3662bf65ae93f82c9f451b51ead49a","parents":["ece0834342e1dc1c6f18b5cf226e6e15644e07c4"],"ref":"refs/changes/72/3672/2","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1521248620,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521248770,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521248652,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":1,"deletions":-2}],"sizeInsertions":1,"sizeDeletions":-2},{"number":"3","revision":"75f395df8510bfad2da779edcedeb5a1ec3ab63f","parents":["ece0834342e1dc1c6f18b5cf226e6e15644e07c4"],"ref":"refs/changes/72/3672/3","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1521249605,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521248770,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521248652,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1521747322,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521747166,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":1,"deletions":-2}],"sizeInsertions":1,"sizeDeletions":-2}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}]}