{"project":"joyent/sdcadm","branch":"master","id":"I0af34a4942bb73417d9a39ebdfadf98a14a588fc","number":"4517","subject":"TRITON-313 walk back sdcadm steps export sugar Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"url":"https://cr.joyent.us/4517","commitMessage":"TRITON-313 walk back sdcadm steps export sugar\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1531515620,"lastUpdated":1533156344,"open":false,"status":"MERGED","comments":[{"timestamp":1531515620,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 1."},{"timestamp":1531515675,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531515775,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\nNOTE: This depends on \u003chttps://cr.joyent.us/#/c/4488/\u003e  and I\u0027ll rebase after that lands.  I think most of the open question here are around what to name functions, since all was not completely consistent to begin with."},{"timestamp":1531752435,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\n(2 comments)\n\nOther than some personal preference regarding naming the variables using camelCase syntax instead of underscores (despite of how the module file is named) I\u0027m good with this"},{"timestamp":1531774818,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1: Code-Review+1\n\nIf Pedro\u0027s given +1, I don\u0027t think you need my review here to go ahead. I\u0027ve skimmed some parts of the change and they look good to me."},{"timestamp":1531774880,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1531853956,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 2."},{"timestamp":1531853999,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1531854016,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531856242,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1533134106,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1533134147,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1533156299,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1533156344,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Chris Burroughs"}],"currentPatchSet":{"number":"4","revision":"907506a17ede0bd75831585f170d55234b71972a","parents":["8bf24cd9831268d461c93e95f46887c74a99776c"],"ref":"refs/changes/17/4517/4","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1533156299,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531854016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1533156344,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/cli/do_add_new_agent_svcs.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/cli/do_create.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/cli/do_fix_core_vm_resolvers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_agents.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/volapi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-manatee-v2.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/README.md","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/steps/index.js","type":"MODIFIED","insertions":11,"deletions":-26},{"file":"lib/steps/noRabbit.js","fileOld":"lib/steps/no-rabbit.js","type":"RENAMED","insertions":0,"deletions":0},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/steps/servers.js","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"lib/steps/updateVmSize.js","fileOld":"lib/steps/update_vm_size.js","type":"RENAMED","insertions":0,"deletions":0}],"sizeInsertions":56,"sizeDeletions":-75},"patchSets":[{"number":"1","revision":"eab186a2d1f930b92e9559093765ce3bb6054339","parents":["e934ea36a28db8c92663a07353a9fa12bb8140b2"],"ref":"refs/changes/17/4517/1","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1531515620,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531515675,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531774818,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531752435,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1531752435,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"comments":[{"file":"lib/steps/index.js","line":21,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"I think I\u0027d prefer camelCase here but that\u0027s just a preference."},{"file":"lib/steps/index.js","line":21,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I concur on preferring camelCase."},{"file":"lib/steps/index.js","line":21,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Done"},{"file":"lib/steps/index.js","line":24,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Ditto"},{"file":"lib/steps/index.js","line":24,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/do_add_new_agent_svcs.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/cli/do_create.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/cli/do_fix_core_vm_resolvers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_agents.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/volapi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-manatee-v2.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/README.md","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/steps/index.js","type":"MODIFIED","insertions":11,"deletions":-26},{"file":"lib/steps/no_rabbit.js","fileOld":"lib/steps/no-rabbit.js","type":"RENAMED","insertions":0,"deletions":0},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/steps/servers.js","type":"MODIFIED","insertions":8,"deletions":-8}],"sizeInsertions":56,"sizeDeletions":-75},{"number":"2","revision":"8290ad538ab80baf8672726f2776be0975214291","parents":["b845adcbfc79503c957e1068d60de42854059ddf"],"ref":"refs/changes/17/4517/2","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1531853956,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531854016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/do_add_new_agent_svcs.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/cli/do_create.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/cli/do_fix_core_vm_resolvers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_agents.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/volapi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-manatee-v2.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/README.md","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/steps/index.js","type":"MODIFIED","insertions":11,"deletions":-26},{"file":"lib/steps/noRabbit.js","fileOld":"lib/steps/no-rabbit.js","type":"RENAMED","insertions":0,"deletions":0},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/steps/servers.js","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"lib/steps/updateVmSize.js","fileOld":"lib/steps/update_vm_size.js","type":"RENAMED","insertions":0,"deletions":0},{"file":"lib/steps/usbkey.js","type":"MODIFIED","insertions":0,"deletions":-1}],"sizeInsertions":56,"sizeDeletions":-76},{"number":"3","revision":"0af34a4942bb73417d9a39ebdfadf98a14a588fc","parents":["8bf24cd9831268d461c93e95f46887c74a99776c"],"ref":"refs/changes/17/4517/3","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1533134106,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531854016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/do_add_new_agent_svcs.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/cli/do_create.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/cli/do_fix_core_vm_resolvers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_agents.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/volapi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-manatee-v2.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/README.md","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/steps/index.js","type":"MODIFIED","insertions":11,"deletions":-26},{"file":"lib/steps/noRabbit.js","fileOld":"lib/steps/no-rabbit.js","type":"RENAMED","insertions":0,"deletions":0},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/steps/servers.js","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"lib/steps/updateVmSize.js","fileOld":"lib/steps/update_vm_size.js","type":"RENAMED","insertions":0,"deletions":0}],"sizeInsertions":56,"sizeDeletions":-75},{"number":"4","revision":"907506a17ede0bd75831585f170d55234b71972a","parents":["8bf24cd9831268d461c93e95f46887c74a99776c"],"ref":"refs/changes/17/4517/4","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1533156299,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531854016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1531856242,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1533156344,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/cli/do_add_new_agent_svcs.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/cli/do_create.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/cli/do_fix_core_vm_resolvers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_agents.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/post-setup/volapi.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/create-service-instance-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/procedures/update-manatee-v2.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/README.md","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/steps/index.js","type":"MODIFIED","insertions":11,"deletions":-26},{"file":"lib/steps/noRabbit.js","fileOld":"lib/steps/no-rabbit.js","type":"RENAMED","insertions":0,"deletions":0},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/steps/servers.js","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"lib/steps/updateVmSize.js","fileOld":"lib/steps/update_vm_size.js","type":"RENAMED","insertions":0,"deletions":0}],"sizeInsertions":56,"sizeDeletions":-75}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}]}