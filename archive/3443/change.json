{"project":"joyent/illumos-joyent","branch":"master","id":"I4f5bbb4c37e2dca7b0722f89c8dfe13be1fbc131","number":"3443","subject":"OS-6414 bhyve should be pbchk clean Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/3443","commitMessage":"OS-6414 bhyve should be pbchk clean\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1519330041,"lastUpdated":1519334587,"open":false,"status":"MERGED","comments":[{"timestamp":1519330041,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1519331004,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1519331496,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\nLike the preceding commits, this builds clean (being excluded from the makefiles still).  On the upside, pbchk is much happier with it."},{"timestamp":1519331793,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(7 comments)"},{"timestamp":1519331849,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\nThe comments in mapfile-vers, I guess, are not really pbchk issues.  Feel free to ignore for this change."},{"timestamp":1519332866,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1519333327,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1519333652,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1519334033,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1519334040,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1519334577,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1519334587,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"3","revision":"4f5bbb4c37e2dca7b0722f89c8dfe13be1fbc131","parents":["794121734488cf5bfd16a67f2763d8b64d51d21f"],"ref":"refs/changes/43/3443/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519334577,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519333652,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519334033,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519334040,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519334587,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":49,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":50,"deletions":-47},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":17,"deletions":-23},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":13,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"usr/src/uts/i86pc/sys/viona_io.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":288,"sizeDeletions":-113},"patchSets":[{"number":"1","revision":"36c98094519de5939f3504cdfd1429cf03cf3f89","parents":["794121734488cf5bfd16a67f2763d8b64d51d21f"],"ref":"refs/changes/43/3443/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519330041,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519331004,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"comments":[{"file":"exception_lists/cstyle","line":1447,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"This has no active upstream, so maybe it shouldn\u0027t be excluded from cstyle."},{"file":"exception_lists/cstyle","line":1447,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I think it could be removed later, since I think it\u0027s still in a state (at the time of this commit) where it\u0027s rather messy."},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","line":37,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Only present in vmmapi.c and never used, no need to export symbol"},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","line":37,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I\u0027m going to leave the mapfile stuff since it gets overhauled in the fbsd11 update."},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","line":41,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Only present in vmmapi.c and never used, no need to export symbol"},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","line":53,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Only present in vmmapi.c and never used, no need to export symbol"},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","line":64,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Only present in vmmapi.c and never used, no need to export symbol"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","line":39,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Joyent copyright"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","line":39,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This file is deleted in a coming commit, so I\u0027m going to leave it."},{"file":"usr/src/uts/i86pc/sys/viona_io.h","line":14,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"joyent copyright"},{"file":"usr/src/uts/i86pc/sys/viona_io.h","line":14,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Good spot, will fix"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":49,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":50,"deletions":-47},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":17,"deletions":-23},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":13,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"usr/src/uts/i86pc/sys/viona_io.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":287,"sizeDeletions":-113},{"number":"2","revision":"dcd37c74bbb5ea87b86c8848f298a7a9f0c687f4","parents":["794121734488cf5bfd16a67f2763d8b64d51d21f"],"ref":"refs/changes/43/3443/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519333327,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519334033,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519334040,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519333652,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":49,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":50,"deletions":-47},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":17,"deletions":-23},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":13,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"usr/src/uts/i86pc/sys/viona_io.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":288,"sizeDeletions":-113},{"number":"3","revision":"4f5bbb4c37e2dca7b0722f89c8dfe13be1fbc131","parents":["794121734488cf5bfd16a67f2763d8b64d51d21f"],"ref":"refs/changes/43/3443/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1519334577,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519334033,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519334040,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519334587,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519333652,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/copyright","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":65,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":49,"deletions":0},{"file":"usr/src/cmd/bhyve/bhyve_sol_glue.c","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/cmd/bhyve/pci_virtio_viona.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/bhyveconsole/bhyveconsole.c","type":"MODIFIED","insertions":5,"deletions":-6},{"file":"usr/src/cmd/bhyveload-uefi/bhyveload-uefi.c","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"usr/src/lib/libvmmapi/common/mapfile-vers","type":"MODIFIED","insertions":50,"deletions":-47},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":17,"deletions":-23},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":13,"deletions":-16},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_mem.c","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"usr/src/uts/i86pc/sys/viona_io.h","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/sys/vmm_impl.h","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":288,"sizeDeletions":-113}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}