{"project":"joyent/illumos-joyent","branch":"master","id":"I5d2ccdf2c8026d4c0247ee55039ad79701c0dd64","number":"6920","subject":"OS-7992 use native linker sets for bhyve build Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Michael Zeller \u003cmike.zeller@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"url":"https://cr.joyent.us/6920","commitMessage":"OS-7992 use native linker sets for bhyve build\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Michael Zeller \u003cmike.zeller@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1568831063,"lastUpdated":1569423745,"open":false,"status":"MERGED","comments":[{"timestamp":1568831063,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 1."},{"timestamp":1568831224,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 2."},{"timestamp":1568908832,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1568908920,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1568974190,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1568992122,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1569280584,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1569331502,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1569423707,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1569423745,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Hans Rosenfeld"}],"currentPatchSet":{"number":"4","revision":"3105c6ff4e5cab926dc4802a7e10eee1f4abbec4","parents":["abc694265cf5a5c05213271af9cdc13a4b22bdee"],"ref":"refs/changes/20/6920/4","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1569423707,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568908832,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568992122,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1569280584,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1569423745,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"DELETED","insertions":0,"deletions":-119},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":0,"deletions":-24},{"file":"usr/src/pkg/manifests/developer-build-onbld.mf","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/tools/scripts/gensetdefs.pl","type":"DELETED","insertions":0,"deletions":-31},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":2,"sizeDeletions":-184},"patchSets":[{"number":"1","revision":"64eb162ba2b26d7e77875901441babb6148f850f","parents":["8878c06c649d6723f737eb0471198810e7840fbc"],"ref":"refs/changes/20/6920/1","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1568831063,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"DELETED","insertions":0,"deletions":-119},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":0,"deletions":-24},{"file":"usr/src/pkg/manifests/developer-build-onbld.mf","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/tools/scripts/gensetdefs.pl","type":"DELETED","insertions":0,"deletions":-31},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":1,"sizeDeletions":-183},{"number":"2","revision":"f401efdc86de60355f02818e9ff69c06e1e94349","parents":["8878c06c649d6723f737eb0471198810e7840fbc"],"ref":"refs/changes/20/6920/2","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1568831224,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568992122,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568908832,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1569280584,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"comments":[{"file":"usr/src/uts/i86pc/vmm/Makefile","line":112,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"-dy removed because it\u0027s the default (according to the man page)?"},{"file":"usr/src/uts/i86pc/vmm/Makefile","line":112,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Yes, -dy is implicit for type\u003dkmod."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"DELETED","insertions":0,"deletions":-119},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":0,"deletions":-24},{"file":"usr/src/pkg/manifests/developer-build-onbld.mf","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/tools/scripts/gensetdefs.pl","type":"DELETED","insertions":0,"deletions":-31},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":2,"sizeDeletions":-184},{"number":"3","revision":"5d2ccdf2c8026d4c0247ee55039ad79701c0dd64","parents":["8878c06c649d6723f737eb0471198810e7840fbc"],"ref":"refs/changes/20/6920/3","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1569331502,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568992122,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568908832,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1569280584,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"DELETED","insertions":0,"deletions":-119},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":0,"deletions":-24},{"file":"usr/src/pkg/manifests/developer-build-onbld.mf","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/tools/scripts/gensetdefs.pl","type":"DELETED","insertions":0,"deletions":-31},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":2,"sizeDeletions":-184},{"number":"4","revision":"3105c6ff4e5cab926dc4802a7e10eee1f4abbec4","parents":["abc694265cf5a5c05213271af9cdc13a4b22bdee"],"ref":"refs/changes/20/6920/4","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1569423707,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568992122,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"SUBM","value":"1","grantedOn":1569423745,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568908832,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1569280584,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/contrib/freebsd/sys/linker_set.h","type":"DELETED","insertions":0,"deletions":-119},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/cmd/bhyve/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/compat/freebsd/sys/cdefs.h","type":"MODIFIED","insertions":0,"deletions":-24},{"file":"usr/src/pkg/manifests/developer-build-onbld.mf","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/tools/scripts/Makefile","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/tools/scripts/gensetdefs.pl","type":"DELETED","insertions":0,"deletions":-31},{"file":"usr/src/uts/i86pc/vmm/Makefile","type":"MODIFIED","insertions":1,"deletions":-4}],"sizeInsertions":2,"sizeDeletions":-184}],"allReviewers":[{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}]}