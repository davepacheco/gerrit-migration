{"project":"joyent/illumos-joyent","branch":"master","id":"I0d9563764ec8cdc17c50d355ac32de77c4a0c335","number":"1676","subject":"OS-5891 ixgbe inifinte loops in rar and vmdq clearing Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/1676","commitMessage":"OS-5891 ixgbe inifinte loops in rar and vmdq clearing\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1489688886,"lastUpdated":1489707698,"open":false,"status":"MERGED","comments":[{"timestamp":1489688886,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1489689319,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1\n\nThis looks fine to me but I am also wondering if we want some sort of indication (e.g. a kstat) for when we hit the removed case so that we can tell what happened?"},{"timestamp":1489689388,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n\u003e This looks fine to me but I am also wondering if we want some sort\n \u003e of indication (e.g. a kstat) for when we hit the removed case so\n \u003e that we can tell what happened?\n\nHmm. That\u0027s not a bad idea. I should probably put in the idea of a dev_err() and maybe a kstat."},{"timestamp":1489701110,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1489701784,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2:\n\n(1 comment)\n\nlooks good modulo the one comment nit"},{"timestamp":1489702455,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3."},{"timestamp":1489702461,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1489702817,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Code-Review+1\n\nI saw your test notes. I can give you IA too, if you\u0027re ready."},{"timestamp":1489703420,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1489707615,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1489707698,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"4","revision":"0d9563764ec8cdc17c50d355ac32de77c4a0c335","parents":["e6ee2511febdbbb4a80d37a8c46d9b50455f0cbd"],"ref":"refs/changes/76/1676/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1489707615,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489702817,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489703420,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1489707698,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/README.illumos","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.h","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.c","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_stat.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_sw.h","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":57,"sizeDeletions":-11},"patchSets":[{"number":"1","revision":"31d4d896aa6e2eadfd0b09fd8e7b9ce104280429","parents":["e6ee2511febdbbb4a80d37a8c46d9b50455f0cbd"],"ref":"refs/changes/76/1676/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1489688886,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489689319,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/README.illumos","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.h","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.h","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":39,"sizeDeletions":-7},{"number":"2","revision":"cf0d5e21fc223d81673f5a389174dfd8a6e2c64a","parents":["e6ee2511febdbbb4a80d37a8c46d9b50455f0cbd"],"ref":"refs/changes/76/1676/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1489701110,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/io/ixgbe/ixgbe_sw.h","line":822,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"encountered"},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_sw.h","line":822,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/README.illumos","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.h","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.c","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_stat.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_sw.h","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":57,"sizeDeletions":-11},{"number":"3","revision":"49233478e74abdd8d05335b84890b12f32f30d97","parents":["e6ee2511febdbbb4a80d37a8c46d9b50455f0cbd"],"ref":"refs/changes/76/1676/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1489702455,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489702817,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489703420,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/README.illumos","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.h","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.c","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_stat.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_sw.h","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":57,"sizeDeletions":-11},{"number":"4","revision":"0d9563764ec8cdc17c50d355ac32de77c4a0c335","parents":["e6ee2511febdbbb4a80d37a8c46d9b50455f0cbd"],"ref":"refs/changes/76/1676/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1489707615,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1489707698,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489702817,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1489703420,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/README.illumos","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.c","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/uts/common/io/ixgbe/core/ixgbe_common.h","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.c","type":"MODIFIED","insertions":29,"deletions":-2},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_osdep.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_stat.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/io/ixgbe/ixgbe_sw.h","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":57,"sizeDeletions":-11}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}