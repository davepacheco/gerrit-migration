commit c1c4ed18939ddab565877aa73ac59acad787676a (refs/changes/33/5433/1)
Author: Josh Wilsdon <josh@wilsdon.ca>
Date:   2019-01-25T15:44:42-08:00 (9 months ago)
    
    TRITON-1161 cnapi doesn't actually support "transport" any more

diff --git a/docs/index.md b/docs/index.md
index 4d3bb3b..93d607d 100644
--- a/docs/index.md
+++ b/docs/index.md
@@ -612,7 +612,6 @@ A CNAPI server record looks like the following
 | **status**                           | *String*         | Either 'running' or 'unknown' based on how recently CNAPI has heard from server |
 | **sysinfo**                          | *Object*         | The last given sysinfo payload for server                                  |
 | **traits**                           | *Object*         |                                                                            |
-| **transport**                        | *String*         | The method via which CNAPI is received updates from CN's. (http or amqp)   |
 | **transitional_status**              | *String*         | Takes precedense over `status` when a server is undergoing a status change |
 | **unreserved_cpu**                   |                  |
 | **unreserved_disk**                  |                  |
@@ -1087,7 +1086,7 @@ parameter must be an array of objects. Those objects must have both the
 
 ## PlatformList (GET /platforms)
 
-Returns avaiable platform images in datacenter.
+Returns available platform images in datacenter.
 
 ### Inputs
 
diff --git a/docs/static.md b/docs/static.md
index 5fd7265..5271d94 100644
--- a/docs/static.md
+++ b/docs/static.md
@@ -581,7 +581,6 @@ A CNAPI server record looks like the following
 | **status**                           | *String*         | Either 'running' or 'unknown' based on how recently CNAPI has heard from server |
 | **sysinfo**                          | *Object*         | The last given sysinfo payload for server                                  |
 | **traits**                           | *Object*         |                                                                            |
-| **transport**                        | *String*         | The method via which CNAPI is received updates from CN's. (http or amqp)   |
 | **transitional_status**              | *String*         | Takes precedense over `status` when a server is undergoing a status change |
 | **unreserved_cpu**                   |                  |
 | **unreserved_disk**                  |                  |
diff --git a/lib/app.js b/lib/app.js
index 4c38701..f526003 100644
--- a/lib/app.js
+++ b/lib/app.js
@@ -5,7 +5,7 @@
  */
 
 /*
- * Copyright (c) 2018, Joyent, Inc.
+ * Copyright (c) 2019, Joyent, Inc.
  */
 
 /*
@@ -528,8 +528,6 @@ App.prototype.onVmsUpdate = function (uuid, vmsUpdate, callback) {
             return;
         }
 
-        vmsUpdate.transport = 'http';
-
         server.updateFromVmsUpdate(
             vmsUpdate,
             function (updateError) {
diff --git a/package.json b/package.json
index 5cc1d16..3fab545 100644
--- a/package.json
+++ b/package.json
@@ -1,7 +1,7 @@
 {
   "name": "cnapi",
   "description": "SmartDataCenter Compute Node API",
-  "version": "1.18.4",
+  "version": "1.18.5",
   "author": "Joyent (joyent.com)",
   "private": true,
   "dependencies": {
