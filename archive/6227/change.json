{"project":"joyent/electric-boray","branch":"master","id":"I4585bd7c60b91aed8021d3a87c1659186470bdd4","number":"6227","subject":"MANTA-4259 Update electric-boray to use node-fast 2.7.0","owner":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"url":"https://cr.joyent.us/6227","commitMessage":"MANTA-4259 Update electric-boray to use node-fast 2.7.0\n","createdOn":1557509981,"lastUpdated":1557865145,"open":false,"status":"MERGED","comments":[{"timestamp":1557509981,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 1."},{"timestamp":1557509983,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 7992db8bd16286170097eb505f0def6f1453d26c\n    \n    MANTA-4259 Update electric-boray to use node-fast 2.7.0"},{"timestamp":1557510009,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1557510252,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\nHere\u0027s an example of what the artedi gauge output would look like:\n\n```\n[root@be5401a5-37f3-cd3c-c54f-c5d219a7f453 ~]# curl localhost:3020/metrics\n# HELP client_crc_mode The node-fast CRC compatibilty mode of the Fast client\n# TYPE client_crc_mode gauge\nclient_crc_mode{datacenter\u003d\"demo-1\",server\u003d\"f2ffff26-b728-4064-a9d6-d4845a6b6df7\",zonename\u003d\"be5401a5-37f3-cd3c-c54f-c5d219a7f453\",pid\u003d\"234810\"} 3\n# HELP server_crc_mode The node-fast CRC compatibilty mode of the Fast server\n# TYPE server_crc_mode gauge\nserver_crc_mode{datacenter\u003d\"demo-1\",server\u003d\"f2ffff26-b728-4064-a9d6-d4845a6b6df7\",zonename\u003d\"be5401a5-37f3-cd3c-c54f-c5d219a7f453\",pid\u003d\"234810\"} 3\n# HELP fast_requests_completed count of fast requests completed\n# TYPE fast_requests_completed counter\n# HELP fast_server_request_time_seconds total time to process fast requests\n# TYPE fast_server_request_time_seconds histogram\n```\n\nThe main purpose of these is so we can make a dashboard if we want to track the progress of migrating different components to different CRC modes."},{"timestamp":1557514697,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 2."},{"timestamp":1557514699,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 4441fba8c4fdee823637ad96a875cdd6ff968430\n    \n    MANTA-4259 Update electric-boray to use node-fast 2.7.0"},{"timestamp":1557514726,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1557514783,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 2:\n\nPS2 is a rebase to reconcile conflicts with the MANTA-4257 changes."},{"timestamp":1557523728,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 3."},{"timestamp":1557523730,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 0293460964711204ec089673527a17dccf63739d\n    \n    Replace statement inadvertently removed in previous PS"},{"timestamp":1557523756,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1557863429,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1557865145,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kelly McLaughlin"}],"currentPatchSet":{"number":"3","revision":"4585bd7c60b91aed8021d3a87c1659186470bdd4","parents":["1f6409eb5d007ff6e13308b4b1751ee831b4c066"],"ref":"refs/changes/27/6227/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1557523728,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1557523756,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557863429,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863429,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1557865145,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/boray_client.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":27,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"7fd319762657e767b1d6ea3ab2bbad7bb7ddbbae","parents":["228ec70f9b2e7850fc6b3fef28baacfb24592e89"],"ref":"refs/changes/27/6227/1","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1557509981,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1557510009,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/boray_client.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":24,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":26,"sizeDeletions":-3},{"number":"2","revision":"97bd6b400d72e37ab9e652690d51b1a51a61878e","parents":["1f6409eb5d007ff6e13308b4b1751ee831b4c066"],"ref":"refs/changes/27/6227/2","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1557514697,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1557514726,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":26,"sizeDeletions":-4},{"number":"3","revision":"4585bd7c60b91aed8021d3a87c1659186470bdd4","parents":["1f6409eb5d007ff6e13308b4b1751ee831b4c066"],"ref":"refs/changes/27/6227/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1557523728,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1557523756,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557863429,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557863429,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1557865145,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/boray_client.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":27,"sizeDeletions":-4}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}]}