{"project":"joyent/illumos-joyent","branch":"master","id":"I6ce9515e507bc9c47fd127589ef8734a84fed1c3","number":"1821","subject":"OS-6066 want writable uregs[] in dtrace Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Reviewed by: Bryan Cantrill \u003cbryan@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/1821","commitMessage":"OS-6066 want writable uregs[] in dtrace\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nReviewed by: Bryan Cantrill \u003cbryan@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1492798535,"lastUpdated":1502753115,"open":false,"status":"MERGED","comments":[{"timestamp":1492798535,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1492798578,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\nCurrent webrev: https://us-east.manta.joyent.com/patrick.mooney/public/webrev/OS-6066/index.html"},{"timestamp":1493054601,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1493061637,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1\n\nI\u0027m not an expert in this code, but as best I can tell this looks good."},{"timestamp":1493929627,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1495136232,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1498557281,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 3:\n\n(3 comments)\n\nThis looks good -- but there is currently nothing making this a destructive action (even though it is clear from the tests that this was the intent).  In addition to the code to make this destructive (namely, setting dtdo_destructive in dtrace_difo_validate()) and a slight change in the privilege check (namely, against dtrace_priv_proc_control() as well as a check against dtrace_destructive_disallow), there should also be a test that verifies that it doesn\u0027t/can\u0027t store to uregs[] without a destructive enabling."},{"timestamp":1498703552,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4."},{"timestamp":1498703616,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1498738879,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1499287525,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1502735747,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 4: Code-Review+1\n\nLooks great -- looking forward to this one!"},{"timestamp":1502735997,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\nBryan: Thanks.\n\nI\u0027m going to rebase and circle back for (hopefully) a final dtest run to satisfy IA concerns."},{"timestamp":1502750870,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\ndtest results match the errors that are normally seen"},{"timestamp":1502750929,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1502751435,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 5: Integration-Approval+1"},{"timestamp":1502752768,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1502753115,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"6","revision":"6ce9515e507bc9c47fd127589ef8734a84fed1c3","parents":["801699355dea5fb4658b631b388aea1c1ca1926d"],"ref":"refs/changes/21/1821/6","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1502752768,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498738879,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1499287525,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502735747,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1502751435,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1502753115,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.c","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.d","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.c","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.d","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.c","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.d","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/libdtrace/common/dt_cg.c","type":"MODIFIED","insertions":34,"deletions":-16},{"file":"usr/src/lib/libdtrace/common/dt_dis.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":54,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/intel/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":127,"deletions":-24},{"file":"usr/src/uts/sparc/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":475,"sizeDeletions":-50},"patchSets":[{"number":"1","revision":"d24fd987735b59bc2c4a1019a78fbea7034de576","parents":["f31085eb6e7d8d6d47a2448e2c943792b96ff7a6"],"ref":"refs/changes/21/1821/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1492798535,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite.c","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite.d","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.c","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.d","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/libdtrace/common/dt_cg.c","type":"MODIFIED","insertions":34,"deletions":-16},{"file":"usr/src/lib/libdtrace/common/dt_dis.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":41,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/intel/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":127,"deletions":-24},{"file":"usr/src/uts/sparc/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":418,"sizeDeletions":-50},{"number":"2","revision":"dce030eb49cac1c71c6cb5d327d81ff6a388d42e","parents":["f31085eb6e7d8d6d47a2448e2c943792b96ff7a6"],"ref":"refs/changes/21/1821/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1493054601,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493929627,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493061637,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite.c","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite.d","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.c","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.d","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/libdtrace/common/dt_cg.c","type":"MODIFIED","insertions":34,"deletions":-16},{"file":"usr/src/lib/libdtrace/common/dt_dis.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":41,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/intel/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":127,"deletions":-24},{"file":"usr/src/uts/sparc/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":418,"sizeDeletions":-50},{"number":"3","revision":"4fb887bbdb3afb217ce54a127698ae4f1e698199","parents":["66f992fb40fa29149392c5c81e1ae091ddf84dbd"],"ref":"refs/changes/21/1821/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1495136232,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493929627,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493061637,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"comments":[{"file":"usr/src/uts/common/dtrace/dtrace.c","line":3556,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"This should be a call to dtrace_priv_proc_control() and it must also include a check against dtrace_destructive_disallow; see DIF_SUBR_COPYOUT for an example of this."},{"file":"usr/src/uts/common/dtrace/dtrace.c","line":3556,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Both fixed."},{"file":"usr/src/uts/common/dtrace/dtrace.c","line":9441,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"This block needs to set dp-\u003edtdo_destructive to be 1."},{"file":"usr/src/uts/common/dtrace/dtrace.c","line":9441,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done."},{"file":"usr/src/uts/common/dtrace/dtrace.c","line":9800,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"This should be its own message (e.g. \"illegal variable store\"), as it\u0027s not really a dynamic variable store."},{"file":"usr/src/uts/common/dtrace/dtrace.c","line":9800,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I\u0027ve updated both to do so for both loads and stores."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite.c","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite.d","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.c","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.d","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/libdtrace/common/dt_cg.c","type":"MODIFIED","insertions":34,"deletions":-16},{"file":"usr/src/lib/libdtrace/common/dt_dis.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":41,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/intel/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":127,"deletions":-24},{"file":"usr/src/uts/sparc/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":418,"sizeDeletions":-50},{"number":"4","revision":"e498849845cfaf62450b6febc2af582598825d45","parents":["dbeef7f762c59b1461e27146a764182be5eab8cb"],"ref":"refs/changes/21/1821/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1498703552,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1499287525,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502735747,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498738879,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.c","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.d","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.c","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.d","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.c","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.d","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/libdtrace/common/dt_cg.c","type":"MODIFIED","insertions":34,"deletions":-16},{"file":"usr/src/lib/libdtrace/common/dt_dis.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":54,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/intel/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":127,"deletions":-24},{"file":"usr/src/uts/sparc/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":475,"sizeDeletions":-50},{"number":"5","revision":"385c36ecec982e944bb35d9f999c3f3de378c408","parents":["801699355dea5fb4658b631b388aea1c1ca1926d"],"ref":"refs/changes/21/1821/5","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1502750929,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1499287525,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502735747,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498738879,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1502751435,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.c","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.d","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.c","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.d","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.c","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.d","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/libdtrace/common/dt_cg.c","type":"MODIFIED","insertions":34,"deletions":-16},{"file":"usr/src/lib/libdtrace/common/dt_dis.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":54,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/intel/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":127,"deletions":-24},{"file":"usr/src/uts/sparc/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":475,"sizeDeletions":-50},{"number":"6","revision":"6ce9515e507bc9c47fd127589ef8734a84fed1c3","parents":["801699355dea5fb4658b631b388aea1c1ca1926d"],"ref":"refs/changes/21/1821/6","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1502752768,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1499287525,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502735747,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498738879,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1502751435,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1502753115,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.c","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite1.d","type":"ADDED","insertions":38,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.c","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/err.uregswrite2.d","type":"ADDED","insertions":22,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.c","type":"ADDED","insertions":60,"deletions":0},{"file":"usr/src/cmd/dtrace/test/tst/i386/pid/tst.uregswrite.d","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/lib/libdtrace/common/dt_cg.c","type":"MODIFIED","insertions":34,"deletions":-16},{"file":"usr/src/lib/libdtrace/common/dt_dis.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"usr/src/lib/libdtrace/common/dt_open.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/uts/common/dtrace/dtrace.c","type":"MODIFIED","insertions":54,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/sys/dtrace_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/intel/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":127,"deletions":-24},{"file":"usr/src/uts/sparc/dtrace/dtrace_isa.c","type":"MODIFIED","insertions":10,"deletions":-1}],"sizeInsertions":475,"sizeDeletions":-50}],"allReviewers":[{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}