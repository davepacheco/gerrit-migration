{"project":"joyent/smartos-live","branch":"master","id":"Ie738ed4c60cc150fbfb5658fabae1ab3d68a17f5","number":"1784","subject":"OS-6054 sysevent-stream should have fail-safe timer for \"ready\" event","owner":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"url":"https://cr.joyent.us/1784","commitMessage":"OS-6054 sysevent-stream should have fail-safe timer for \"ready\" event\n","createdOn":1492023463,"lastUpdated":1492715676,"open":false,"status":"MERGED","comments":[{"timestamp":1492023463,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 1."},{"timestamp":1492023467,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 6b3ee70086170ec26f3fbd73417a92587df5f19e\n    \n    initial commit"},{"timestamp":1492023501,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1492452504,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1: Code-Review+1\n\n(2 comments)"},{"timestamp":1492458301,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1492458314,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1492458343,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 3."},{"timestamp":1492458346,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit a4142344250aeab3d7f6dae47c8c7c96af04688b\n    \n    copyright year"},{"timestamp":1492458381,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1492711996,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 4."},{"timestamp":1492711999,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 1d52e71fdc0725fb0a3613de548024d2e721fc3f\n    \n    better document sysevent-stream"},{"timestamp":1492712034,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1492715144,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1492715676,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Dave Eddy"}],"currentPatchSet":{"number":"4","revision":"e738ed4c60cc150fbfb5658fabae1ab3d68a17f5","parents":["db036c27db1e6d72366c8b7edb33377b7b361de7"],"ref":"refs/changes/84/1784/4","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1492711996,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492712034,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492715144,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1492715144,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1492715676,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/sysevent-stream.js","type":"MODIFIED","insertions":62,"deletions":-10}],"sizeInsertions":62,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"318f6e6174af054df4463eb763b8f6e3415b1f97","parents":["37fa0b13a2503039ea0e9ba785f1951785d941ad"],"ref":"refs/changes/84/1784/1","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1492023463,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492023501,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492452504,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"src/vm/node_modules/sysevent-stream.js","line":23,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"2017"},{"file":"src/vm/node_modules/sysevent-stream.js","line":23,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Done"},{"file":"src/vm/node_modules/sysevent-stream.js","line":275,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"In general: it seems like having a function like this means we\u0027re going to lose some state. I guess the current code assumes it\u0027s more important to get a core from the child?"},{"file":"src/vm/node_modules/sysevent-stream.js","line":275,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"That\u0027s true, and I don\u0027t really know a good way around this issue.  Basically, `._abort()` is called if something is *seriously* wrong with the child process and we can\u0027t continue.  Since dealing with child processes is asynchronous by nature, sending a SIGABRT is the closest thing to an assertion failure we have here."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/sysevent-stream.js","type":"MODIFIED","insertions":42,"deletions":-7}],"sizeInsertions":42,"sizeDeletions":-7},{"number":"2","revision":"88c3fe1ada21d484c2054d38be6e2e3f9cd76645","parents":["37fa0b13a2503039ea0e9ba785f1951785d941ad"],"ref":"refs/changes/84/1784/2","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1492458301,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492023501,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492452504,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/vm/node_modules/sysevent-stream.js","type":"MODIFIED","insertions":42,"deletions":-7}],"sizeInsertions":42,"sizeDeletions":-7},{"number":"3","revision":"a9b93cce0c035c8a17fa601b12a2ad51fec3d0bd","parents":["37fa0b13a2503039ea0e9ba785f1951785d941ad"],"ref":"refs/changes/84/1784/3","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1492458343,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492458381,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/vm/node_modules/sysevent-stream.js","type":"MODIFIED","insertions":43,"deletions":-8}],"sizeInsertions":43,"sizeDeletions":-8},{"number":"4","revision":"e738ed4c60cc150fbfb5658fabae1ab3d68a17f5","parents":["db036c27db1e6d72366c8b7edb33377b7b361de7"],"ref":"refs/changes/84/1784/4","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1492711996,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492712034,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492715144,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1492715144,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1492715676,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/sysevent-stream.js","type":"MODIFIED","insertions":62,"deletions":-10}],"sizeInsertions":62,"sizeDeletions":-10}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}]}