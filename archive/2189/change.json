{"project":"joyent/manta-manatee","branch":"master","topic":"MANATEE-335","id":"Ia69805ba9c130ac4e4206516b407130ed1fdaa0d","number":"2189","subject":"MANATEE-335 Ship both Postgres 9.2 and 9.6 in manta-manatee images MANATEE-348 Include pg_repack for Postgres 9.6 MANATEE-168 Would like pg_stat_statements Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Approved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/2189","commitMessage":"MANATEE-335 Ship both Postgres 9.2 and 9.6 in manta-manatee images\nMANATEE-348 Include pg_repack for Postgres 9.6\nMANATEE-168 Would like pg_stat_statements\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nApproved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\n","createdOn":1499366277,"lastUpdated":1501886761,"open":false,"status":"MERGED","comments":[{"timestamp":1499366277,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1499366280,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499366338,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to MANATEE-335"},{"timestamp":1499368745,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(7 comments)"},{"timestamp":1499384231,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(6 comments)"},{"timestamp":1499384314,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1499452527,"reviewer":{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},"message":"Patch Set 1:\n\nOnce postgresql.conf has been updated to match the 9.6 template, shared_preload_libraries\u003d\"pg_stat_statements\" should be added on all systems and variants."},{"timestamp":1499452852,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1499454292,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1499472714,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1499472722,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499473453,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(2 comments)\n\nIt seems like we\u0027re making a lot of other tunable changes here.  (Sorry if I\u0027m misreading the diff -- maybe some stuff just moved around?)  If we\u0027re making these changes, I think we should create a new ticket and document why we\u0027re making each one.  I had thought the plan was to change only one variable at a time, though.\n\nWhile we\u0027re here, we may want to think about better ways to manage these changes.  For example, I wonder if we should have a separate configuration file (included via a directive) whose contents are entirely filled in by a SAPI variable.  That way, we could change tunables without hot-patching any of the files delivered with the software nor ones generated by Manatee."},{"timestamp":1499473563,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1499473937,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1499473945,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499474847,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1499474855,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499474952,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1499797652,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 6."},{"timestamp":1499797655,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1499895979,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 7."},{"timestamp":1499895982,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500508604,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1500946301,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 8."},{"timestamp":1500946317,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500946394,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 8:\n\n(1 comment)"},{"timestamp":1501005922,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 8:\n\n(1 comment)"},{"timestamp":1501196047,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 8:\n\n(1 comment)"},{"timestamp":1501198202,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 8: Code-Review+1\n\n(1 comment)"},{"timestamp":1501886387,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 8: Integration-Approval+1\n\nWith the testing you\u0027ve listed in MANATEE-335 and MANATEE-348, this seems ready to go!"},{"timestamp":1501886530,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 9: Commit message was updated."},{"timestamp":1501886556,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 10: Patch Set 9 was rebased"},{"timestamp":1501886569,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1501886697,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 11: Published edit on patch set 10."},{"timestamp":1501886706,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1501886752,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 11: Code-Review+1 Integration-Approval+1\n\n(Updated the package.json to refer to the new joyent/manatee.git commit, instead of the branch.)"},{"timestamp":1501886761,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"11","revision":"9c70edbeb33668cb9d0d5de37b42dcefbb93d50e","parents":["c64b580b81336c630d47856cddcdf5dc4fd5fc99"],"ref":"refs/changes/89/2189/11","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1501886697,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501886706,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1501886752,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1501886752,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1501886761,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/pg_repack","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/pg_overrides/manifest.json","type":"ADDED","insertions":4,"deletions":0},{"file":"sapi_manifests/pg_overrides/template","type":"ADDED","insertions":8,"deletions":0},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":2009,"sizeDeletions":-18},"patchSets":[{"number":"1","revision":"9ec4265f182ceaa9ade9c180d4333a8885bdc631","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1499366277,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499366280,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"Makefile","line":148,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"We probably shouldn\u0027t take this on within this change, but I think it would be much better if these were broken into more fine-grained targets.  Does this do the right thing if you were to CTRL-C it partway through?\n\nThis is also going to be duplicated in sdc-manatee, I imagine.  Should this be part of the \"manatee\" repo instead?"},{"file":"Makefile","line":148,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"We could break this up into several targets. I imagine that if you pressed CTRL-C partway through and tried to run it again it would choke on the `git clone\u0027, since the directory already exists.\n\nI don\u0027t know if there\u0027s a great way to put this into the manatee repo instead, aside from perhaps doing something like:\n\n    include ./node_modules/manatee/.../Makefile.pg"},{"file":"Makefile","line":148,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Could we have the Manatee repository\u0027s \"npm install\" invoke a \"make\" target that would build PostgreSQL (and possibly install it into some caller-specified location, too)?  Or, if we don\u0027t want it as part of \"npm install\", would it be reasonable to explicitly \"cd node_modules/manatee\" and run \"make\" there?"},{"file":"Makefile","line":148,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Also, for what it\u0027s worth: if we do this using submodules rather than an explicit \"git clone\", then we can leverage existing targets in eng.git\u0027s Makefile.targ that will automatically initialize the submodule when anything depends on deps/$submodule/.git."},{"file":"Makefile","line":148,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I decided to go with the Git submodule approach, since the joyent/manatee repo gets pulled in as an npm dependency by joyent/moray.\n\nI\u0027ve also added the \"make install\" bit for pg_stat_statements."},{"file":"etc/9.6/postgresql.manta.production.conf","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This looks like the diff from the 9.2 file:\n\n    $ diff etc/9.2/postgresql.manta.production.conf etc/9.6/postgresql.manta.production.conf \n    185d184\n    \u003c checkpoint_segments \u003d 1    # in logfile segments, min 1, 16MB each\n    186a186,187\n    \u003e max_wal_size \u003d 48mb\n    \u003e # min_wal_size \u003d 80mb\n\nI expect we dropped checkpoint_segments because it\u0027s no longer supported.  Is max_wal_size the new tunable for that, or is that something else?  Are we also bumping the value up with this change?"},{"file":"etc/9.6/postgresql.manta.production.conf","line":0,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Yes, max_wal_size is the new tunable for that. I\u0027m now not actually sure why I picked 48mb. I think that I made a typo, and meant to type 480mb, which is the default value in 9.6. I\u0027ll fix this."},{"file":"etc/9.6/postgresql.manta.production.conf","line":0,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"And a value of 480mb would be a bump up. The corresponding value to checkpoint_segments \u003d 1 would be 16mb, I believe. I\u0027m going to make this a tunable so that we can more easily play with it."},{"file":"etc/9.6/postgresql.manta.production.conf","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Thanks.  Could we also document it in the ticket?"},{"file":"etc/9.6/postgresql.manta.production.conf","line":0,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve updated this and the other 9.6 files to be more easily diffable with the default 9.6 configuration. I\u0027ve added to the MANATEE-335 ticket what\u0027s changed in the configuration files."},{"file":"package.json","line":16,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Just noting for ourselves that this needs to be updated before integration."},{"file":"sapi_manifests/sitter/template","line":10,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This is the file that indicates the current version, right?  And just to be clear, that\u0027s inside the delegated dataset, but outside the database itself, right?\n\nI\u0027m not sure if we want it inside the database or not.  If it\u0027s in the database, that makes it a little trickier to do the final swap.  If it\u0027s outside the database, it can more easily become inconsistent with the database (I would think).  I guess we can go with this for now and iterate if we need to."},{"file":"sapi_manifests/sitter/template","line":10,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Yes, this file contains the version of Postgres that was used to initialize the database, and the current version of Postgres to use with the database. It lives on the delegated dataset, but not inside the the \"data\" directory, where Postgres data is."},{"file":"sapi_manifests/sitter/template","line":15,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\"9.2.4\"?"},{"file":"sapi_manifests/sitter/template","line":15,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This is the version without the path, which joyent/manatee.git will use to grab the full version below."},{"file":"sapi_manifests/sitter/template","line":17,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Shouldn\u0027t we be putting this into a different directory tree than pkgsrc would use?"},{"file":"sapi_manifests/sitter/template","line":17,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"pkgsrc uses /opt/local/share, so this won\u0027t conflict. We could move it to /opt/postgresql instead, so that it\u0027s no in /opt/local at all."},{"file":"sapi_manifests/sitter/template","line":17,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I thought pkgsrc owned all of /opt/local, so that a future version (or a different package) could decide to put stuff into /opt/local/postgresql.  Obviously that can\u0027t happen behind our back here -- we\u0027d notice when we updated the base image or added a new package.  I think it would be cleaner (and clearer to operators) to use /opt/postgresql."},{"file":"sapi_manifests/sitter/template","line":17,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve updated everything to work with /opt/postgresql instead."},{"file":"sapi_manifests/sitter/template","line":32,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Why not just be totally explicit everywhere?"},{"file":"sapi_manifests/sitter/template","line":32,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I did it this way so that we can have the full version in paths to the binaries and inside the manatee-config.json file, but allow joyent/manatee.git to work in terms of \"9.2\" and \"9.6\"."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":51,"deletions":-2},{"file":"boot/setup.sh","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":579,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":648,"sizeDeletions":-10},{"number":"2","revision":"54a191e9390779b92748b437077c819be394698a","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1499472714,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499472722,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":".gitmodules","line":4,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I wonder if this should be postgresql924 (mostly in case we later need to move to 9.6.4, for example, and want to have both of those installed).  This can probably be fixed later if it comes up."},{"file":"Makefile","line":122,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think this means you\u0027re fixing MANATEE-168 as well?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":53,"deletions":-2},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":33,"deletions":-6}],"sizeInsertions":2054,"sizeDeletions":-16},{"number":"3","revision":"1400f8f576cf4cc71b90860720629558114749f6","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1499473937,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499473945,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":53,"deletions":-2},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":33,"deletions":-6}],"sizeInsertions":2054,"sizeDeletions":-16},{"number":"4","revision":"b82973c2f078d515ecf7b08c60078f5801dbe3be","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1499474847,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499474855,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":53,"deletions":-2},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":33,"deletions":-6}],"sizeInsertions":2054,"sizeDeletions":-16},{"number":"5","revision":"2ebbdd4728b5e03e68df2ae2ae097e6ff7dada46","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1499474952,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499474855,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":53,"deletions":-2},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":33,"deletions":-6}],"sizeInsertions":2054,"sizeDeletions":-16},{"number":"6","revision":"487239ef36f66df4845fe0baa3601608ee611849","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1499797652,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499797655,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":53,"deletions":-2},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/pg_overrides/manifest.json","type":"ADDED","insertions":4,"deletions":0},{"file":"sapi_manifests/pg_overrides/template","type":"ADDED","insertions":8,"deletions":0},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":2049,"sizeDeletions":-16},{"number":"7","revision":"5cd5a520e0fb59a9f4b1f2b7d618372aa2b47563","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1499895979,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499895982,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"Makefile","line":100,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It still feels like this would really be better as part of the Manatee repo, since it\u0027s going to be duplicated by sdc-manatee as well.  What did you think of the idea of having the Manatee Makefile provide targets to build and install into some destination directory?  We could do something like:\n\n   DESTDIR\u003d\"$(RELSTAGEDIR)/root\" make -C node_modules/manatee -f Makefile.postgres"},{"file":"Makefile","line":100,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"Makefile","line":100,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Thanks!  I hope this makes the analogous sdc change easier to integrate and maintain.\n\nI had thought the submodules would follow the Makefile snippet because I assumed the build instructions could be version-specific.  Was there a particular reason to keep them here?"},{"file":"Makefile","line":100,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I kept the submodules here since the joyent/manatee repo gets pulled in as an npm module into this repo, sdc-manatee, and moray. I could go back to doing a `git clone\u0027 in Makefile.postgres, but tracking them as a submodule seemed like a nice way to manage it."},{"file":"Makefile","line":100,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Makes sense.  Thanks for the explanation."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":53,"deletions":-2},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/pg_overrides/manifest.json","type":"ADDED","insertions":4,"deletions":0},{"file":"sapi_manifests/pg_overrides/template","type":"ADDED","insertions":8,"deletions":0},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":2049,"sizeDeletions":-16},{"number":"8","revision":"a69805ba9c130ac4e4206516b407130ed1fdaa0d","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/8","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1500946301,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1501198202,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1501886387,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500946317,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/pg_repack","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/pg_overrides/manifest.json","type":"ADDED","insertions":4,"deletions":0},{"file":"sapi_manifests/pg_overrides/template","type":"ADDED","insertions":8,"deletions":0},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":2009,"sizeDeletions":-18},{"number":"9","revision":"34b37d6222bf9234848121f84f6ddb36cf6c2fe7","parents":["027a1c11561d6514ee9f2e3a2d2e08f175402ec5"],"ref":"refs/changes/89/2189/9","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1501886530,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1501198202,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1501886387,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500946317,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/pg_repack","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/pg_overrides/manifest.json","type":"ADDED","insertions":4,"deletions":0},{"file":"sapi_manifests/pg_overrides/template","type":"ADDED","insertions":8,"deletions":0},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":2009,"sizeDeletions":-18},{"number":"10","revision":"93d12f5778c05b58337262c5938cfb4b7c7fe9b1","parents":["c64b580b81336c630d47856cddcdf5dc4fd5fc99"],"ref":"refs/changes/89/2189/10","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1501886556,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1501198202,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1501886387,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500946317,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/pg_repack","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/pg_overrides/manifest.json","type":"ADDED","insertions":4,"deletions":0},{"file":"sapi_manifests/pg_overrides/template","type":"ADDED","insertions":8,"deletions":0},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":2009,"sizeDeletions":-18},{"number":"11","revision":"9c70edbeb33668cb9d0d5de37b42dcefbb93d50e","parents":["c64b580b81336c630d47856cddcdf5dc4fd5fc99"],"ref":"refs/changes/89/2189/11","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1501886697,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1501886752,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1501886752,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1501886761,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501886706,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":".gitmodules","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"Makefile","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"boot/setup.sh","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"deps/pg_repack","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql92","type":"ADDED","insertions":1,"deletions":0},{"file":"deps/postgresql96","type":"ADDED","insertions":1,"deletions":0},{"file":"etc/9.2/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.2/postgresql.manta.coal.conf","fileOld":"etc/postgresql.manta.coal.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.lab.conf","fileOld":"etc/postgresql.manta.lab.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/postgresql.manta.production.conf","fileOld":"etc/postgresql.manta.production.conf","type":"RENAMED","insertions":1,"deletions":-1},{"file":"etc/9.2/recovery.conf","fileOld":"etc/recovery.conf","type":"RENAMED","insertions":0,"deletions":0},{"file":"etc/9.6/pg_hba.conf","fileOld":"etc/pg_hba.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"etc/9.6/postgresql.manta.coal.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.lab.conf","type":"ADDED","insertions":649,"deletions":0},{"file":"etc/9.6/postgresql.manta.production.conf","type":"ADDED","insertions":650,"deletions":0},{"file":"etc/9.6/recovery.conf","fileOld":"etc/recovery.conf","type":"COPIED","insertions":0,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/pg_overrides/manifest.json","type":"ADDED","insertions":4,"deletions":0},{"file":"sapi_manifests/pg_overrides/template","type":"ADDED","insertions":8,"deletions":0},{"file":"sapi_manifests/sitter/template","type":"MODIFIED","insertions":16,"deletions":-6}],"sizeInsertions":2009,"sizeDeletions":-18}],"allReviewers":[{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Sean Chittenden","email":"sean.chittenden@joyent.com","username":"seanc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}