{"project":"joyent/eng","branch":"master","id":"I4443fcd38fe1682556e1851df97c7d652d078f3d","number":"5455","subject":"TOOLS-2163 eng.git \u0027check\u0027 target fails after TOOLS-2062 TOOLS-2164 bits-upload.sh should look for .tar.gz files for agents TOOLS-2165 bits-upload.sh should bail out when stamp ends with \u0027-dirty\u0027 TOOLS-2166 \u0027make show-buildenv\u0027 should emit the recommended","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/5455","commitMessage":"TOOLS-2163 eng.git \u0027check\u0027 target fails after TOOLS-2062\nTOOLS-2164 bits-upload.sh should look for .tar.gz files for agents\nTOOLS-2165 bits-upload.sh should bail out when stamp ends with \u0027-dirty\u0027\nTOOLS-2166 \u0027make show-buildenv\u0027 should emit the recommended jenkins-agent image uuid\nReviewed by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e\nApproved by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e\n","createdOn":1548850903,"lastUpdated":1549212490,"open":false,"status":"MERGED","comments":[{"timestamp":1548850903,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1548851241,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 2."},{"timestamp":1548951789,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1548952353,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1549212446,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1549212490,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"}],"currentPatchSet":{"number":"3","revision":"4443fcd38fe1682556e1851df97c7d652d078f3d","parents":["0a735a53255c8dd8b55d5af30e6099bcf03ec034"],"ref":"refs/changes/55/5455/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1549212446,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548951789,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548951789,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"SUBM","value":"1","grantedOn":1549212490,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/bits-upload.sh","type":"MODIFIED","insertions":25,"deletions":-1},{"file":"tools/validate-buildenv.sh","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":45,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"5e87f4e0ae8d17e9c8d08b0b49df70627bce490e","parents":["0a735a53255c8dd8b55d5af30e6099bcf03ec034"],"ref":"refs/changes/55/5455/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1548850903,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/bits-upload.sh","type":"MODIFIED","insertions":25,"deletions":-1},{"file":"tools/validate-buildenv.sh","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":45,"sizeDeletions":-2},{"number":"2","revision":"474c8035f7e36eae1517b71b9b36fcc747aa275f","parents":["0a735a53255c8dd8b55d5af30e6099bcf03ec034"],"ref":"refs/changes/55/5455/2","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1548851241,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548951789,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548951789,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"comments":[{"file":"deps/eng","line":1,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"I\u0027m not sure if there is a way to tell from Gerrit that this is a symlink."},{"file":"deps/eng","line":1,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I think that\u0027s the weird file mode 120000 and content. Not very intuitive, but then... this is git, right? :-)\n\ntimf@iorangi-eth0 git init\nInitialized empty Git repository in /private/tmp/ook/.git/\ntimf@iorangi-eth0 ln -s foo bar\ntimf@iorangi-eth0 git add bar\ntimf@iorangi-eth0 git commit -m ook bar\n[master (root-commit) 97101ab] ook\n 1 file changed, 1 insertion(+)\n create mode 120000 bar\ntimf@iorangi-eth0 (master) git show\ncommit 97101abccdafb3e41d392d89d66098c2dee3f7f0 (HEAD -\u003e master)\nAuthor: Tim Foster \u003ctim.foster@joyent.com\u003e\nDate:   Thu Jan 31 16:31:24 2019 +0000\n\n    ook\n\ndiff --git a/bar b/bar\nnew file mode 120000\nindex 0000000..1910281\n--- /dev/null\n+++ b/bar\n@@ -0,0 +1 @@\n+foo\n\\ No newline at end of file\ntimf@iorangi-eth0 (master)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/bits-upload.sh","type":"MODIFIED","insertions":25,"deletions":-1},{"file":"tools/validate-buildenv.sh","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":45,"sizeDeletions":-2},{"number":"3","revision":"4443fcd38fe1682556e1851df97c7d652d078f3d","parents":["0a735a53255c8dd8b55d5af30e6099bcf03ec034"],"ref":"refs/changes/55/5455/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1549212446,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548951789,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548951789,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"SUBM","value":"1","grantedOn":1549212490,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"deps/eng","type":"ADDED","insertions":1,"deletions":0},{"file":"tools/bits-upload.sh","type":"MODIFIED","insertions":25,"deletions":-1},{"file":"tools/validate-buildenv.sh","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":45,"sizeDeletions":-2}],"allReviewers":[{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}