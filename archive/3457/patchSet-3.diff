commit 8bbbd6061d7d6916e79952d3dc09212c0131fea7 (refs/changes/57/3457/3)
Author: Julien Gilli <julien.gilli@joyent.com>
Date:   2018-02-23T19:27:12+00:00 (1 year, 7 months ago)
    
    TOOLS-1983 How to avoid hard failure of most builds on Feb 22 from GitHub weak crypto removal
    Reviewed by: Trent Mick <trentm@gmail.com>
    Approved by: Trent Mick <trentm@gmail.com>

diff --git a/Makefile b/Makefile
index 8420e01..afbc590 100644
--- a/Makefile
+++ b/Makefile
@@ -22,12 +22,16 @@ JSL_FILES_NODE	 = $(JS_FILES)
 JSSTYLE_FILES	 = $(JS_FILES)
 JSSTYLE_FLAGS	 = -f tools/jsstyle.conf
 
-# Use sdc-smartos/1.6.3 builds, but don't really care because we use the 'gz'
-# tag.
-NODE_PREBUILT_IMAGE=fd2cc906-8938-11e3-beab-4359c665ac99
+# sdc-minimal-multiarch-lts 15.4.1
+NODE_PREBUILT_IMAGE=18b094b0-eb01-11e5-80c1-175dac7ddf02
 ifeq ($(shell uname -s),SunOS)
-	NODE_PREBUILT_VERSION=v0.10.26
-	NODE_PREBUILT_TAG=gz
+	NODE_PREBUILT_VERSION=v0.10.48
+	# Even if sdc-system-tests runs in the GZ, we use a node build with a "zone"
+	# tag because a "gz" node build is not currently available for
+	# multiarch-15.4.1 images. However, a "gz" build would not differ from the
+	# one with the "zone" tag, so it's safe to use the "zone" one until the "gz"
+	# one is available.
+	NODE_PREBUILT_TAG=zone
 else
 	NPM	:= $(shell which npm)
 endif
