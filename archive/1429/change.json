{"project":"joyent/sdc-cnapi","branch":"master","id":"I8b72e0f7f9dbf9ad4fce3f451991b7fcd26ce5c9","number":"1429","subject":"CNAPI-690 CNAPI needs to be selective with logging request payload Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e","owner":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"url":"https://cr.joyent.us/1429","commitMessage":"CNAPI-690 CNAPI needs to be selective with logging request payload\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1486157604,"lastUpdated":1486166927,"open":false,"status":"MERGED","comments":[{"timestamp":1486157604,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 1."},{"timestamp":1486157605,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 69332cba22d0f2a6ccb9ade8a537d40fe034b5d9\n    \n    do not log parameters to be sent to docker_build cn-agent tasks"},{"timestamp":1486157632,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486159824,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1: Code-Review+1\n\n(2 comments)"},{"timestamp":1486163166,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 2."},{"timestamp":1486163167,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 95eec441d724e42ac752ba42462cc6ca0173be09\n    \n    fix tests broken by previous commits"},{"timestamp":1486163193,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486164411,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1486165023,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 3."},{"timestamp":1486165024,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 2df5a30b0818680d54466fe86d20e5a381d59f31\n    \n    bump copyright dates"},{"timestamp":1486165057,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486165147,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1486165341,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1486166904,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1486166927,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Orlando Vazquez"}],"currentPatchSet":{"number":"4","revision":"8b72e0f7f9dbf9ad4fce3f451991b7fcd26ce5c9","parents":["28490d007d6b591757bf177d69b70efd5657acb4"],"ref":"refs/changes/29/1429/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1486166904,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486165057,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486165147,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486165341,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1486166927,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"config/test.json","type":"MODIFIED","insertions":52,"deletions":-33},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/models/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/models/vm.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/lib/mock.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":62,"sizeDeletions":-38},"patchSets":[{"number":"1","revision":"6661a83e3ce081de7c6eec70cfbe1cff3fa16d12","parents":["28490d007d6b591757bf177d69b70efd5657acb4"],"ref":"refs/changes/29/1429/1","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1486157604,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486157632,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486159824,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"lib/models/server.js","line":2084,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: personally I\u0027d move the logging below the block of asserts and an an assert.optionalBool(opts.log_params, ...);"},{"file":"lib/models/server.js","line":2091,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Wassup with that? :)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/models/server.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/vm.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":7,"sizeDeletions":-3},{"number":"2","revision":"4f72e09e1a669de12f6f39f5fd2c31eb44b17d76","parents":["28490d007d6b591757bf177d69b70efd5657acb4"],"ref":"refs/changes/29/1429/2","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1486163166,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486163193,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486164411,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"config/test.json","type":"MODIFIED","insertions":52,"deletions":-33},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/models/server.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/models/vm.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/lib/mock.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":60,"sizeDeletions":-36},{"number":"3","revision":"aad30b560f94909602810a1d2e3d103747990050","parents":["28490d007d6b591757bf177d69b70efd5657acb4"],"ref":"refs/changes/29/1429/3","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1486165023,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486165057,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486165147,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486165341,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"config/test.json","type":"MODIFIED","insertions":52,"deletions":-33},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/models/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/models/vm.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/lib/mock.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":62,"sizeDeletions":-38},{"number":"4","revision":"8b72e0f7f9dbf9ad4fce3f451991b7fcd26ce5c9","parents":["28490d007d6b591757bf177d69b70efd5657acb4"],"ref":"refs/changes/29/1429/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1486166904,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486165057,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1486165147,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1486165341,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1486166927,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"config/test.json","type":"MODIFIED","insertions":52,"deletions":-33},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/models/server.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/models/vm.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/lib/mock.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":62,"sizeDeletions":-38}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}]}