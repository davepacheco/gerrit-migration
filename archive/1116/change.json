{"project":"joyent/sdc-imgapi-cli","branch":"master","id":"I53e81c66524466dae944a035b022643812e2e7e6","number":"1116","subject":"TOOLS-1636 updates-imgadm et al with node v4 will not flush stdout on normal exit Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/1116","commitMessage":"TOOLS-1636 updates-imgadm et al with node v4 will not flush stdout on normal exit\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1481743558,"lastUpdated":1481745271,"open":false,"status":"MERGED","comments":[{"timestamp":1481743558,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1481743559,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 042957abdb5097eb0bebdbfb57c3fc01f363d326\n    \n    try to avoid process.exit for non-zero exit codes as well\n    \n    commit 4f8d94844a363bfb6b90efe9fee33bd92a522145\n    \n    avoid process.exit for normal exit"},{"timestamp":1481743592,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1481744505,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1481744701,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1481744702,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit e0c26a24e1553588bca5dfce052e2e125ece0787\n    \n    typo"},{"timestamp":1481744730,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1481744730,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1481744816,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1481745097,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1481745099,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit a3ec63f740f6b0f689835771cfea836e463c21ef\n    \n    bumpver and add \u0027make cutarelease\u0027"},{"timestamp":1481745137,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1481745246,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1481745269,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1481745271,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"53e81c66524466dae944a035b022643812e2e7e6","parents":["c05824a68eae9af1713269a97c1b71711f5e8eb1"],"ref":"refs/changes/16/1116/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1481745097,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1481745137,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481745246,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481745269,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1481745271,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":45,"deletions":-38},{"file":"TODO.txt","type":"DELETED","insertions":0,"deletions":-4},{"file":"bin/imgapi-cli","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/joyent-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/sdc-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/updates-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"lib/common.js","type":"MODIFIED","insertions":32,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":127,"sizeDeletions":-56},"patchSets":[{"number":"1","revision":"07fc8685a39f6255f0a185e070ee63d57a7bda81","parents":["c05824a68eae9af1713269a97c1b71711f5e8eb1"],"ref":"refs/changes/16/1116/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1481743558,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1481743592,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481744505,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"comments":[{"file":"README.md","line":15,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"\"Joyent-provided\" instead of \"Joyent-provide\"?"},{"file":"README.md","line":15,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":45,"deletions":-38},{"file":"TODO.txt","type":"DELETED","insertions":0,"deletions":-4},{"file":"bin/imgapi-cli","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/joyent-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/sdc-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/updates-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"lib/common.js","type":"MODIFIED","insertions":32,"deletions":-1}],"sizeInsertions":101,"sizeDeletions":-55},{"number":"2","revision":"b341b9a8893edfcdd6738c2b131a77b67fdaa6b5","parents":["c05824a68eae9af1713269a97c1b71711f5e8eb1"],"ref":"refs/changes/16/1116/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1481744701,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1481744730,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481744816,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":45,"deletions":-38},{"file":"TODO.txt","type":"DELETED","insertions":0,"deletions":-4},{"file":"bin/imgapi-cli","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/joyent-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/sdc-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/updates-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"lib/common.js","type":"MODIFIED","insertions":32,"deletions":-1}],"sizeInsertions":101,"sizeDeletions":-55},{"number":"3","revision":"53e81c66524466dae944a035b022643812e2e7e6","parents":["c05824a68eae9af1713269a97c1b71711f5e8eb1"],"ref":"refs/changes/16/1116/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1481745097,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1481745137,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481745269,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1481745271,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481745246,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":22,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":45,"deletions":-38},{"file":"TODO.txt","type":"DELETED","insertions":0,"deletions":-4},{"file":"bin/imgapi-cli","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/joyent-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/sdc-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"bin/updates-imgadm","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"lib/common.js","type":"MODIFIED","insertions":32,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":127,"sizeDeletions":-56}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}