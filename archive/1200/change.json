{"project":"joyent/sdc-vmapi","branch":"master","id":"I98efd03e819b61cfb83909cdbc73b3f4436373d9","number":"1200","subject":"ZAPI-757 VMAPI should dump core when an uncaught error is thrown Reviewed-by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"url":"https://cr.joyent.us/1200","commitMessage":"ZAPI-757 VMAPI should dump core when an uncaught error is thrown\nReviewed-by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1483482469,"lastUpdated":1484354161,"open":false,"status":"MERGED","comments":[{"timestamp":1483482469,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 1."},{"timestamp":1483482502,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1483491079,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(13 comments)\n\nSome nits and main Qs are about whether VMAPI can be allowed to wait for moray and wfapi connections before coming up."},{"timestamp":1483558561,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 1:\n\n(13 comments)"},{"timestamp":1483560353,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 2."},{"timestamp":1483560393,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1483572734,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1\n\n(3 comments)\n\nLGTM. How\u0027s the test suite and a coal setup with this?"},{"timestamp":1483573581,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1483575300,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1483575348,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1483641160,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1483641214,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1483641228,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1484354145,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1484354161,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Julien Gilli"}],"currentPatchSet":{"number":"5","revision":"e596dfd63dfce50a62d1ad00cbfb4a7fb95f6488","parents":["144202164a47eb755998755743256cc2b7138b74"],"ref":"refs/changes/00/1200/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1484354145,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483560393,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1483572734,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1483641228,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1484354161,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/apis/wfapi.js","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":119,"deletions":-143},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"server.js","type":"MODIFIED","insertions":133,"deletions":-25},{"file":"test/fixtures/vmapi-server-throwing-expected-stderr.txt","type":"ADDED","insertions":6,"deletions":0},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","type":"ADDED","insertions":91,"deletions":0},{"file":"test/vms.delete_non_existing_no_workflow.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/vms.exits-on-uncaught.test.js","type":"ADDED","insertions":40,"deletions":0},{"file":"test/vms.marker.test.js","type":"MODIFIED","insertions":2,"deletions":-4}],"sizeInsertions":414,"sizeDeletions":-187},"patchSets":[{"number":"1","revision":"f4455ab4329bf13a44046565e8b6464ab6e619d5","parents":["fd3a8dbd65d4a890dcedbfc0f5d6382d2ba6dbad"],"ref":"refs/changes/00/1200/1","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1483482469,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483482502,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/apis/wfapi.js","line":48,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"We are changing VMAPI\u0027s startup here to not complete if WFAPI is down. I don\u0027t know if that\u0027ll cause problems, e.g. for some upgrade/recovery scenarios. E.g. read-only endpoints could fail where they would have been fine before even if WFAPI was down."},{"file":"lib/apis/wfapi.js","line":48,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good point, I\u0027ll revert that in the next patch set."},{"file":"lib/vmapi.js","line":26,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Alpha order is wrong there, if you were sorting."},{"file":"lib/vmapi.js","line":26,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good catch, will fix in next patch set."},{"file":"lib/vmapi.js","line":84,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Optional: Might be nice to change to modern `bunyan.createLogger` style."},{"file":"lib/vmapi.js","line":84,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Will do."},{"file":"lib/vmapi.js","line":354,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: bindAddr"},{"file":"lib/vmapi.js","line":354,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Will fix."},{"file":"lib/vmapi.js","line":357,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Is there a need to have the new \u0027options\u0027 be optional? I\u0027d guess the only user of this \"VMAPI.listen\" function is sdc-vmapi.git code itself."},{"file":"lib/vmapi.js","line":357,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Having the \"options\" parameter be optional allows for code using that API to just call \u0027vmapiInstance.listen()\u0027 and have it do the right thing. \n\nIt\u0027s not needed, but it is handy e.g when writing tests that require standing up a VMAPI server listening on a dynamically allocated port."},{"file":"lib/vmapi.js","line":359,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhaps default this to `{}`, then can skip `if (options) ...` guard below.\n\nOr alternatively, could have the optional \u0027port\u0027 value just be to the VMAPI constructor?"},{"file":"lib/vmapi.js","line":359,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I like defaulting to \u0027{}\u0027, will fix.\n\nI don\u0027t like having the port value be passed to the VMAPI constructor because, even though it might not work with the current implementation, in my opinion there shouldn\u0027t be a 1-to-1 relationship between a given VMAPI service and the port(s) it\u0027s listening on."},{"file":"lib/vmapi.js","line":367,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I\u0027d be inclined to make callback not optional either. :) But that may be just me."},{"file":"lib/vmapi.js","line":367,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"It was optional before and I had left it that way. I don\u0027t think there\u0027s a need now to make that callback required, as it seems valid for the users of that API to not do anything once the server is ready to accept connections."},{"file":"server.js","line":31,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Don\u0027t want capital \"VMAPI\" here still?"},{"file":"server.js","line":31,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"This \u0027vmapi\u0027 is not a vmapi client, it\u0027s the module that implements a vmapi service . I thought that naming it \u0027VMAPI\u0027 (all caps) would make the reader think it\u0027s an API client, as all all-caps variable names above refer to API clients."},{"file":"server.js","line":31,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Sure, though in lib/vmapi.js it is all caps:\n\nmodule.exports \u003d VMAPI;\n\nAnyway, someday perhaps they should all be explicitly FooClient or FooServer."},{"file":"server.js","line":31,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"You\u0027re right, would you agree to renaming the \u0027VMAPI\u0027 class to \u0027VmapiServer\u0027?"},{"file":"server.js","line":85,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Though it wasn\u0027t done before, could probably add `log` to config.papi."},{"file":"server.js","line":85,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good point, will fix!"},{"file":"server.js","line":131,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Similar to the behaviour change for wfapi connection: If moray is down, then VMAPI isn\u0027t going to come up. Not sure if we want to wait for that. E.g. \u0027/ping\u0027 won\u0027t respond, will it?"},{"file":"server.js","line":131,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I agree this is worth investigating, however this isn\u0027t a change from the behavior of the current implementation, so I\u0027d rather investigate that later. Does that make sense?"},{"file":"server.js","line":131,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Ah you are right. I misread the current behaviour."},{"file":"server.js","line":141,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Will it necessarily have a `connection` object yet?"},{"file":"server.js","line":141,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes, but it\u0027s not obvious, and that could change. So in the next patch set I added a Moray.prototype.close function that takes care of checking if there\u0027s a connection object, and if so closes it."},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","line":8,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Capital \"VMAPI\"?"},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Same as for the previous occurrence. This is not a VMAPI client, but a VMAPI service. Would you still prefer that name to be all caps?"},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","line":8,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Nope, that\u0027s cool as is."},{"file":"test/vms.exits-on-uncaught.test.js","line":8,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"2017 now, unless you wrote this earlier."},{"file":"test/vms.exits-on-uncaught.test.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I did write it in 2016, not sure what the copyright year should be then."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/wfapi.js","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":117,"deletions":-143},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"server.js","type":"MODIFIED","insertions":122,"deletions":-25},{"file":"test/fixtures/vmapi-server-throwing-expected-stderr.txt","type":"ADDED","insertions":6,"deletions":0},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","type":"ADDED","insertions":91,"deletions":0},{"file":"test/vms.delete_non_existing_no_workflow.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/vms.exits-on-uncaught.test.js","type":"ADDED","insertions":40,"deletions":0},{"file":"test/vms.marker.test.js","type":"MODIFIED","insertions":2,"deletions":-4}],"sizeInsertions":399,"sizeDeletions":-187},{"number":"2","revision":"43409d865fc5fe2dc0933ce52967f0cb4affb90c","parents":["fd3a8dbd65d4a890dcedbfc0f5d6382d2ba6dbad"],"ref":"refs/changes/00/1200/2","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1483560353,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483560393,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1483572734,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/apis/wfapi.js","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":119,"deletions":-143},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"server.js","type":"MODIFIED","insertions":133,"deletions":-25},{"file":"test/fixtures/vmapi-server-throwing-expected-stderr.txt","type":"ADDED","insertions":6,"deletions":0},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","type":"ADDED","insertions":91,"deletions":0},{"file":"test/vms.delete_non_existing_no_workflow.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/vms.exits-on-uncaught.test.js","type":"ADDED","insertions":40,"deletions":0},{"file":"test/vms.marker.test.js","type":"MODIFIED","insertions":2,"deletions":-4}],"sizeInsertions":414,"sizeDeletions":-187},{"number":"3","revision":"81ee9bf1877b87c66eff9704339288a0593c5a7c","parents":["43a7d5590bf9a488efd7970ff4259ae74950fe93"],"ref":"refs/changes/00/1200/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1483575300,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483560393,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1483572734,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/apis/wfapi.js","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":119,"deletions":-143},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"server.js","type":"MODIFIED","insertions":133,"deletions":-25},{"file":"test/fixtures/vmapi-server-throwing-expected-stderr.txt","type":"ADDED","insertions":6,"deletions":0},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","type":"ADDED","insertions":91,"deletions":0},{"file":"test/vms.delete_non_existing_no_workflow.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/vms.exits-on-uncaught.test.js","type":"ADDED","insertions":40,"deletions":0},{"file":"test/vms.marker.test.js","type":"MODIFIED","insertions":2,"deletions":-4}],"sizeInsertions":414,"sizeDeletions":-187},{"number":"4","revision":"98efd03e819b61cfb83909cdbc73b3f4436373d9","parents":["144202164a47eb755998755743256cc2b7138b74"],"ref":"refs/changes/00/1200/4","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1483641160,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483560393,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1483572734,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1483641228,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/apis/wfapi.js","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":119,"deletions":-143},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"server.js","type":"MODIFIED","insertions":133,"deletions":-25},{"file":"test/fixtures/vmapi-server-throwing-expected-stderr.txt","type":"ADDED","insertions":6,"deletions":0},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","type":"ADDED","insertions":91,"deletions":0},{"file":"test/vms.delete_non_existing_no_workflow.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/vms.exits-on-uncaught.test.js","type":"ADDED","insertions":40,"deletions":0},{"file":"test/vms.marker.test.js","type":"MODIFIED","insertions":2,"deletions":-4}],"sizeInsertions":414,"sizeDeletions":-187},{"number":"5","revision":"e596dfd63dfce50a62d1ad00cbfb4a7fb95f6488","parents":["144202164a47eb755998755743256cc2b7138b74"],"ref":"refs/changes/00/1200/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1484354145,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483560393,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1483572734,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1483641228,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1484354161,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"lib/apis/wfapi.js","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":119,"deletions":-143},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"server.js","type":"MODIFIED","insertions":133,"deletions":-25},{"file":"test/fixtures/vmapi-server-throwing-expected-stderr.txt","type":"ADDED","insertions":6,"deletions":0},{"file":"test/fixtures/vmapi-server-with-throwing-handler.js","type":"ADDED","insertions":91,"deletions":0},{"file":"test/vms.delete_non_existing_no_workflow.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/vms.exits-on-uncaught.test.js","type":"ADDED","insertions":40,"deletions":0},{"file":"test/vms.marker.test.js","type":"MODIFIED","insertions":2,"deletions":-4}],"sizeInsertions":414,"sizeDeletions":-187}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}