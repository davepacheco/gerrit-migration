{"project":"joyent/sdc-cnapi","branch":"master","id":"I2235d81490a088dfff3af83e2c59050a8ebcbbd7","number":"3277","subject":"TRITON-69 cn-agent should not try to update boot time just once, should retry instead Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/3277","commitMessage":"TRITON-69 cn-agent should not try to update boot time just once, should retry instead\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1517257347,"lastUpdated":1517646691,"open":false,"status":"MERGED","comments":[{"timestamp":1517257347,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1517257348,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit a6dca4206348fd22d042ff7331c4b1263f27d336\n    \n    initial work to allow updating sysinfo received by cn-agent startup."},{"timestamp":1517257380,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517258278,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1517258280,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 0204f27f3c16dd08a15bd0994bdae0980a541382\n    \n    fix copyright, make description a little more complete."},{"timestamp":1517258313,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517271690,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1517293890,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1517293891,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 04f8c73e165c03b8745cac322ae0794b7721e798\n    \n    regen docs"},{"timestamp":1517293913,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1517293920,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517348782,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1517378407,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4."},{"timestamp":1517378408,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit df487cb83bf8f12f0f426e17450b15876545892a\n    \n    Add tests for new sysinfo endpoint"},{"timestamp":1517378442,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n(122 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1517385859,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 5."},{"timestamp":1517385860,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 9f9ab2f80f4efbb96dc502169c58a3f396b5e843\n    \n    change quotes to make broken jsstyle happy"},{"timestamp":1517385888,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517445679,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1517468777,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 6."},{"timestamp":1517468779,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit e92e5ecdd00c15ea0c76234f59f0ef9dc5c39bc2\n    \n    address review feedback"},{"timestamp":1517468807,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517468851,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1517527291,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 6:\n\n(2 comments)"},{"timestamp":1517527450,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 7."},{"timestamp":1517527451,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 74681cb08f38b213bc5cf9edc8c0df30cfa652f1\n    \n    typo!"},{"timestamp":1517527471,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1517527483,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517600617,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1517645331,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 8."},{"timestamp":1517645333,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit 8276231bd1d05f3bb854becb65ab6920d2bce12b\n    \n    typo!\n    \n    commit 1ae3d0a9eac77d02d08859c9c1211b3ce29de478\n    \n    address review feedback\n    \n    commit 8a363dcd59b7432b2da12c55d6742b53da1d301e\n    \n    change quotes to make broken jsstyle happy\n    \n    commit f182addcdb41a2e9abe3d9f25ec1c197980f673e\n    \n    Add tests for new sysinfo endpoint\n    \n    commit 0736990d6f821a06eb51b627c92a3a0802f329f8\n    \n    regen docs\n    \n    commit 0ea44f7db3f6b3eccb2ffce1b8e2d9360568d421\n    \n    fix copyright, make description a little more complete.\n    \n    commit 0a9785c6c86964ec8925680b02617744f615fb8c\n    \n    initial work to allow updating sysinfo received by cn-agent startup."},{"timestamp":1517645360,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517646675,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1\n\nRe-adding +1 and +1 that were lost due to rebase and gerrit being silly."},{"timestamp":1517646691,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"8","revision":"2235d81490a088dfff3af83e2c59050a8ebcbbd7","parents":["4e9cc64d8d6edebf03c408bc42d12d487d18e496"],"ref":"refs/changes/77/3277/8","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517645331,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517645360,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517646675,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517646675,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1517646691,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":25,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/test-servers.js","type":"MODIFIED","insertions":299,"deletions":-3}],"sizeInsertions":427,"sizeDeletions":-24},"patchSets":[{"number":"1","revision":"a22cf583b07de47ee9fd269fc28c0b67d9545430","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/77/3277/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517257347,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517257380,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":29,"deletions":-18},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":70,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":100,"sizeDeletions":-20},{"number":"2","revision":"7c5bce38f51029729c20c1b94c5505cdb646a8df","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/77/3277/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517258278,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517258313,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/endpoints/servers.js","line":752,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Could you regenerate the docs so they\u0027re updated with this new endpoint?"},{"file":"lib/endpoints/servers.js","line":752,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Done, sorry about that!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":103,"sizeDeletions":-21},{"number":"3","revision":"d80b7d1330d1106aa76dd82c7198867d4d52dd73","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/77/3277/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517293890,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517293920,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517348782,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517348782,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":25,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":128,"sizeDeletions":-21},{"number":"4","revision":"330f55d8b78ebb6a6651faf1dbfcd487a7659940","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/77/3277/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517378407,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1517378442,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/test-servers.js","line":270,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":271,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":272,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":273,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":274,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":275,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":276,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":277,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":278,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":279,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":280,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":281,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":282,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":283,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":284,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":285,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":286,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":287,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":288,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":289,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":290,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":291,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":292,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":293,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":294,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":295,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":296,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":297,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":300,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":301,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":302,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":303,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":304,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":305,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":306,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":307,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":308,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":309,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":310,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":312,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":314,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":315,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":318,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":319,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":322,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":323,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":326,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":327,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":330,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":331,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":334,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":335,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":338,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":339,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":342,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":343,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":346,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":347,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":350,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":351,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":354,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":355,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":358,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":359,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":362,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":363,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":366,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":367,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":370,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":371,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":372,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":373,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":374,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":375,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":377,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":378,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":379,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":380,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":381,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":383,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":384,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":385,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":386,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":387,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":389,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":390,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":391,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":392,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":393,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":395,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":396,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":397,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":398,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":399,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":401,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":402,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":403,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":404,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":405,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":406,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":409,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":410,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":411,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":412,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":413,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":415,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":416,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":417,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":418,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":419,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":420,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":421,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":425,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":426,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":427,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":428,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":429,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":430,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":431,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":432,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":434,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"},{"file":"test/test-servers.js","line":437,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":25,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/test-servers.js","type":"MODIFIED","insertions":286,"deletions":-3}],"sizeInsertions":414,"sizeDeletions":-24},{"number":"5","revision":"29485983a7bb32db9002563bf599c60dfe5f375f","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/77/3277/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517385859,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517385888,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/test-servers.js","line":472,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"I try to avoid conditionally running tests since it messes up the #expected/plan. You might be able to use t.ifError whilch will throw if it hits an error."},{"file":"test/test-servers.js","line":472,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"t.ifError with nodeunit is the worst.\n\nI\u0027ll just set body to {sysinfo: {}} when there\u0027s an error which will cause all of these to run and fail."},{"file":"test/test-servers.js","line":493,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"I\u0027ve been trying to prefer jsprim.deepCopy()..."},{"file":"test/test-servers.js","line":493,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"good point."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":25,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/test-servers.js","type":"MODIFIED","insertions":286,"deletions":-3}],"sizeInsertions":414,"sizeDeletions":-24},{"number":"6","revision":"1d09d7a874c13d055a97194791be3f74d8794fda","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/77/3277/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517468777,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517468807,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/index.md","line":1175,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"ei"},{"file":"lib/endpoints/servers.js","line":737,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"ei"},{"file":"lib/endpoints/servers.js","line":737,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Good catch!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":25,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/test-servers.js","type":"MODIFIED","insertions":299,"deletions":-3}],"sizeInsertions":427,"sizeDeletions":-24},{"number":"7","revision":"528c592614ef2598fbd1439a0e9cbe2dd9648982","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/77/3277/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517527450,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517527483,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517600617,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517600617,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":25,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/test-servers.js","type":"MODIFIED","insertions":299,"deletions":-3}],"sizeInsertions":427,"sizeDeletions":-24},{"number":"8","revision":"2235d81490a088dfff3af83e2c59050a8ebcbbd7","parents":["4e9cc64d8d6edebf03c408bc42d12d487d18e496"],"ref":"refs/changes/77/3277/8","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1517645331,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517645360,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517646675,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517646675,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1517646691,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":25,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":30,"deletions":-19},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":72,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/test-servers.js","type":"MODIFIED","insertions":299,"deletions":-3}],"sizeInsertions":427,"sizeDeletions":-24}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}