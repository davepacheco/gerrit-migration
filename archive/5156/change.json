{"project":"joyent/illumos-joyent","branch":"master","id":"I940db684756816a04fbf65df4372df99a1a79204","number":"5156","subject":"OS-6969 want mdb module for bhyve Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"url":"https://cr.joyent.us/5156","commitMessage":"OS-6969 want mdb module for bhyve\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1543424046,"lastUpdated":1545309617,"open":false,"status":"MERGED","comments":[{"timestamp":1543424046,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 1."},{"timestamp":1543580071,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\n(13 comments)\n\nThis is pretty great!!"},{"timestamp":1543849249,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1544026399,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1544028683,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 4."},{"timestamp":1544115296,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 5: Patch Set 4 was rebased"},{"timestamp":1544452722,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 6."},{"timestamp":1544453177,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 6:\n\n(12 comments)"},{"timestamp":1544455171,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Code-Review+1\n\n(5 comments)"},{"timestamp":1544462018,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 7."},{"timestamp":1544462059,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1544467142,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7: Code-Review+1\n\n(1 comment)\n\nGreat, thanks."},{"timestamp":1544619059,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 8."},{"timestamp":1544620527,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1544620620,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 9."},{"timestamp":1544620650,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1544626252,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 9: Code-Review+1"},{"timestamp":1544627444,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 10: Patch Set 9 was rebased."},{"timestamp":1544714443,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 10:\n\n(4 comments)"},{"timestamp":1544808834,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 11."},{"timestamp":1544808997,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 11:\n\n(4 comments)"},{"timestamp":1544810184,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 12: Commit message was updated."},{"timestamp":1544811050,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 12:\n\n(5 comments)"},{"timestamp":1545046197,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 13."},{"timestamp":1545053610,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 12:\n\n(5 comments)"},{"timestamp":1545056572,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 13: Code-Review+1\n\nI agree with Hans that allowing writing to regs when read-only seems weird."},{"timestamp":1545058568,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 13: Code-Review+1"},{"timestamp":1545236077,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 13: Integration-Approval+1"},{"timestamp":1545306741,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Uploaded patch set 14: Commit message was updated."},{"timestamp":1545309610,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 15: Patch Set 14 was rebased"},{"timestamp":1545309617,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Hans Rosenfeld"}],"currentPatchSet":{"number":"15","revision":"64570bd313f25b33a67193828aa20d7a15c3fed0","parents":["7acaa8e37be75212e7823e35fc1b9a4cc61f601b"],"ref":"refs/changes/56/5156/15","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1545309610,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545056572,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545058568,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236077,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1545309617,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1615,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1685,"sizeDeletions":-16},"patchSets":[{"number":"1","revision":"2a2ced5e104a09dbc30d4511f6bd01f79e239493","parents":["73f261f501a8af4a4aac632290ac20b77b2903e0"],"ref":"refs/changes/56/5156/1","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1543424046,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","line":437,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"flag is missing from usage() and man page"},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","line":437,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done, but there\u0027ll probably be another update to the manpage later during this review."},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","line":531,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Why not just error out early and skip the dummy tgt?"},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","line":531,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I restructured it and renamed it to mdb_bhyve_tgt_create.\n\nThe 32bit mdb shouldn\u0027t error out, it should re-exec its 64bit self. I think this decision needs to be done where it is now, when all of the relevant command line processing has been done. The only real reason for this is probably the call to die() thats done if the exec() failed.\n\nFrankly, I find reasoning about the command line parsing code in this file incredibly hard. Initializing tgt_ctor helps me not to worry too much that the 32bit mdb may do anything weird, not even in unexpected error cases."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":16,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Could we now get, either here or elsewhere, some description of the new VIRT_I/S and why they\u0027re needed?\n\nAlso, it would be nice to have a little architecture overview of how this target is implemented, e.g. it goes through libvmm which ioctls into the driver, how memory access works, etc."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":16,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":42,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I wonder if we should just use KMDB\u0027s syntax, it\u0027s so familiar to everyone? Either way, calling it MDB_DEF_PROMPT is really a mis-nomer for this target, there\u0027s nothing default about it?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":42,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done. It is default just because mdb sets it by default. Both mdb and kmdb use the same name, and I really just cargo-culted it from there."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":44,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Why can\u0027t these come from the kernel?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":44,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I\u0027m not sure the MMU params of the running kernel are the necessarily always the same as those of a VM. They are the same now, and likely will be forever, but that really seems to be an implementation detail.\n\nThat being said, I don\u0027t really care either way. Using the parameters of the running kernel requires including sys/param.h, defining _KMEMUSER and _MACHDEP, and adding USR_PLAT_DIR/i86pc/include to the include path. That would be different from other mdb targets, they usually avoid that and let modules like mdb_ks and mdb_kb do the dirty work.\n\nPlease note that libvmm also has its own private definitions of those parameters, and some more. They are used for walking the guest page tables when translating addresses."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":44,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I suppose it\u0027s not really worth the hassle."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":187,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This could probably do with an explanation for what the \"dummy\" entries are and why we need them, along with a brief mention of the ordering of this regset."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":187,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":242,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Do these actually do the right thing in 64-bit?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":242,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"What do you mean?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":242,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Never mind, I dug into the other webrev and all seems fine"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":506,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This is great, but did you consider generalizing it with the kmdb implementation? Maybe as a follow up? A -\u003et_sysregs wouldn\u0027t be too hard I think, and then the unix.c implementation could be generic?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":506,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Yes, I considered that, but I figured it would be best to do it in a follow-up."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":506,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Worth filing a bug?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":506,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done, see OS-7441."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":986,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"You don\u0027t support cnt... similarly below"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":986,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done. I took a look at other targets, and they all seem to indicate that they support cnt, but at least kmdb and proc seem to ignore it."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1365,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"shouldn\u0027t we at least warn about if we failed to stop?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1365,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I\u0027m wondering whether vmm_stop() should be able to fail at all.\n\nWarning about vmm_stop() failure would be interesting to the user, but there\u0027s really nothing he could do about it. There is no command to stop a VM and there is no reason to believe it would work if retried. If that was the case we could just retry here.\n\nSo today vmm_stop() can really only fail if libvmm passes a bogus vcpu to libvmmapi, or if libvmmapi passes a bogus pointer to the ioctl. So I think libvmm should really assert it, and vmm_stop() should return void.\n\n(And libvmmapi should probably assert it, too, but I\u0027m not sure I want to open that can of worms, too.)"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1365,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I\u0027m happy with a libvmm assert, but please file a bug to track that"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1365,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I actually prefer to do it now, before libvmm goes back."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1388,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"s/get //"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1388,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1406,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"If the VM dies, don\u0027t we get stuck here?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1406,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Yes, we do. The only way out of this is Ctrl-C. There is currently no mechanism to wait for an event such as target termination. I think it would be useful to have that eventually.\n\nI have some thoughts about extending the ioctl interface that libvmmapi uses, to address this issue and a few others around stopping and stepping vCPUs. But I\u0027d like to leave that to a later change."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1406,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Follow up is fine, but please file a bug on it"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1406,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done, see OS-7440."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1558,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Why not adapt like bhyve_status() ?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1558,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"This can actually go away as bhyve_status() takes care of this."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":30,"deletions":-2},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1561,"deletions":0}],"sizeInsertions":1612,"sizeDeletions":-5},{"number":"2","revision":"00ad75e2058985eabc658f107333b38dd8ad0ec6","parents":["9ee078d47fd0fcd75e774208e7b24a059d3c6b30"],"ref":"refs/changes/56/5156/2","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1543849249,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":30,"deletions":-2},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1561,"deletions":0}],"sizeInsertions":1612,"sizeDeletions":-5},{"number":"3","revision":"66b09edb16cfd8dedcab63c66b18ef10803163e9","parents":["519867caf20a3356967ddc451bb317b06041cd26"],"ref":"refs/changes/56/5156/3","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544026399,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":30,"deletions":-2},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1561,"deletions":0}],"sizeInsertions":1612,"sizeDeletions":-5},{"number":"4","revision":"0824fede2bcf7aa6bd9d2c13b48a79233202ed19","parents":["519867caf20a3356967ddc451bb317b06041cd26"],"ref":"refs/changes/56/5156/4","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544028683,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":30,"deletions":-2},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1562,"deletions":0}],"sizeInsertions":1613,"sizeDeletions":-5},{"number":"5","revision":"41bd5f5e6ee92cc946f85e37523ca010dd276cc4","parents":["2b3abe111e3e41981c0d26b0a3ed6da370b6dfc5"],"ref":"refs/changes/56/5156/5","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544115296,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":30,"deletions":-2},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1562,"deletions":0}],"sizeInsertions":1613,"sizeDeletions":-5},{"number":"6","revision":"7a5ed21e955afa34ec5d0e58c9a0db0b77697ef2","parents":["2b3abe111e3e41981c0d26b0a3ed6da370b6dfc5"],"ref":"refs/changes/56/5156/6","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544452722,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544455171,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1571,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1643,"sizeDeletions":-17},{"number":"7","revision":"703dae91230c048489fd33fa8a96768f5d3ce69a","parents":["2b3abe111e3e41981c0d26b0a3ed6da370b6dfc5"],"ref":"refs/changes/56/5156/7","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544462018,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544467142,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"comments":[{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":21,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"s/drivers/driver\u0027s/"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":21,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1607,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1679,"sizeDeletions":-17},{"number":"8","revision":"ea18d07d82cc9bd7be9474c71b8722a82f71af31","parents":["4699866363b3d269918146f04674994e720249af"],"ref":"refs/changes/56/5156/8","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544619059,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1602,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1674,"sizeDeletions":-17},{"number":"9","revision":"974b3db55ce7834f81d67c9b05403e3d92943c48","parents":["4699866363b3d269918146f04674994e720249af"],"ref":"refs/changes/56/5156/9","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544620620,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544626252,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1602,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1674,"sizeDeletions":-17},{"number":"10","revision":"4ea2e1edbd1d3d41cf9a38a077c306b0c9bbdc8d","parents":["a8f8fa60b5c77a7cf48d1e93ae5b0635a1b4f572"],"ref":"refs/changes/56/5156/10","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544627444,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544626252,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"comments":[{"file":"usr/src/cmd/mdb/Makefile.mdb","line":30,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why update/reorder the copyright if there are no other changes to the file?"},{"file":"usr/src/cmd/mdb/Makefile.mdb","line":30,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","line":32,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I don\u0027t see this file in the repo or any of the mdb_bhyve-related PRs.  Did I miss it somewhere?"},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","line":32,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I had it earlier but removed it again. It\u0027s fascinating that nothing broke despite it being still referenced here."},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","line":32,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Probably have the .o file lingering in your WS.  It would be good to clean that out in case there are any weird linking issues."},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","line":32,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":972,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Extract this out into a little helper function so it need not be repeated here and in bhyve_defseg_dmcd() below and bhyve_vtol_dcmd() above?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":972,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1596,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why make this unconditionally writable?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1596,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1602,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1674,"sizeDeletions":-17},{"number":"11","revision":"8217c31828be9b45be959a726a0c291ffe83a426","parents":["102d6561d6ce8e99948a48c08d4147b9bc00d6ea"],"ref":"refs/changes/56/5156/11","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544808834,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/Makefile.mdb","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"MODIFIED","insertions":89,"deletions":-70}],"sizeInsertions":90,"sizeDeletions":-72},{"number":"12","revision":"70c0a4af09db2754c38758675ac858a7fcc70801","parents":["972b60ec74d007992e622fc38cd1f32df7b0c53a"],"ref":"refs/changes/56/5156/12","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1544810184,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","comments":[{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":892,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"const char *"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":892,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1058,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"style nit: Could just assign this directly to the \u0027flags \u0026 MDB_TGT_F_RDWR) !\u003d 0\u0027 from below."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1058,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1516,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Allowing register changes while in readonly mode might be OK?  The proc provider seems to allow it (or at least omits the check).  What do you think makes sense?"},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1516,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"I think the check makes sense. If a target is opened read-only the user should only be able to observe its behavior, but not modify it."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1587,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"style nit: Again, could assign directly from t_flags check."},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","line":1587,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1621,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1691,"sizeDeletions":-16},{"number":"13","revision":"6a0a50c10f86d7ec4cf9237b2d47957abd8daa3c","parents":["5d1c14eed82bf12860e8860f7f6130ba17ab17b6"],"ref":"refs/changes/56/5156/13","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1545046197,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545058568,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545056572,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236077,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1615,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1685,"sizeDeletions":-16},{"number":"14","revision":"940db684756816a04fbf65df4372df99a1a79204","parents":["5d1c14eed82bf12860e8860f7f6130ba17ab17b6"],"ref":"refs/changes/56/5156/14","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1545306741,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545058568,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545056572,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236077,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1615,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1685,"sizeDeletions":-16},{"number":"15","revision":"64570bd313f25b33a67193828aa20d7a15c3fed0","parents":["7acaa8e37be75212e7823e35fc1b9a4cc61f601b"],"ref":"refs/changes/56/5156/15","uploader":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"createdOn":1545309610,"author":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545058568,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1545309617,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545056572,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1545236077,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/mdb/common/mdb/mdb_create.c","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/cmd/mdb/common/mdb/mdb_main.c","type":"MODIFIED","insertions":31,"deletions":-3},{"file":"usr/src/cmd/mdb/common/mdb/mdb_target.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/cmd/mdb/intel/amd64/mdb/Makefile","type":"MODIFIED","insertions":11,"deletions":-5},{"file":"usr/src/cmd/mdb/intel/mdb/mdb_bhyve.c","type":"ADDED","insertions":1615,"deletions":0},{"file":"usr/src/man/man1/mdb.1","type":"MODIFIED","insertions":17,"deletions":-7}],"sizeInsertions":1685,"sizeDeletions":-16}],"allReviewers":[{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}]}