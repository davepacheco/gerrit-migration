{"project":"joyent/pgstatsmon","branch":"master","id":"I2deb822d7f584df9a3a81f29cabb6592c7859482","number":"6056","subject":"joyent/pgstatsmon#25 distinguish between vacuum and vacuum to prevent wraparound joyent/pgstatsmon#26 vacuum progress function should use SETOF Reviewed by: Isaac Davis \u003cisaac.davis@joyent.com\u003e Approved by: Isaac Davis \u003cisaac.davis@joyent.com\u003e","owner":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"url":"https://cr.joyent.us/6056","commitMessage":"joyent/pgstatsmon#25 distinguish between vacuum and vacuum to prevent wraparound\njoyent/pgstatsmon#26 vacuum progress function should use SETOF\nReviewed by: Isaac Davis \u003cisaac.davis@joyent.com\u003e\nApproved by: Isaac Davis \u003cisaac.davis@joyent.com\u003e\n","createdOn":1554500073,"lastUpdated":1558103320,"open":false,"status":"MERGED","comments":[{"timestamp":1554500073,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 1."},{"timestamp":1554500103,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1554757709,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 2."},{"timestamp":1554757740,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1556225399,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 3."},{"timestamp":1556225428,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1556225444,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\nAlright, I changed this up. Now the type of vacuum is listed as a label instead of its own time series. That also made this patch much smaller because we didn\u0027t have to implement a boolean type in pgstatsmon."},{"timestamp":1556317257,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 3: Code-Review+1\n\nLooks good. Do you have testing notes for #26, ensuring that concurrent vacuums all get reported?"},{"timestamp":1558020993,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 4."},{"timestamp":1558021030,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1558021088,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4:\n\n(1 comment)\n\nPS4 changes the label name from \u0027mode\u0027 to \u0027vacuum_mode,\u0027 which is meant to be more clear. Also removed an incorrect comment."},{"timestamp":1558021106,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4:\n\n*And testing notes are in the pgstatsmon#25 ticket."},{"timestamp":1558042062,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1558103287,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1558103320,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kody A Kantor"}],"currentPatchSet":{"number":"5","revision":"2deb822d7f584df9a3a81f29cabb6592c7859482","parents":["b91156b38250b071a1f812f112a61ff829070808"],"ref":"refs/changes/56/6056/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1558103287,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558021030,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1558042062,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1558042062,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"SUBM","value":"1","grantedOn":1558103320,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/dbinit.js","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"lib/queries.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":19,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"abafac5ecd9304759ebed7134bca0364b31abfb7","parents":["b91156b38250b071a1f812f112a61ff829070808"],"ref":"refs/changes/56/6056/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1554500073,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1554500103,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/dbinit.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/pgstatsmon.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/queries.js","type":"MODIFIED","insertions":8,"deletions":-1}],"sizeInsertions":21,"sizeDeletions":-4},{"number":"2","revision":"16377bd32b74574bc75e6da6375e739c2b0a7066","parents":["b91156b38250b071a1f812f112a61ff829070808"],"ref":"refs/changes/56/6056/2","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1554757709,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1554757740,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/dbinit.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/pgstatsmon.js","type":"MODIFIED","insertions":63,"deletions":-19},{"file":"lib/queries.js","type":"MODIFIED","insertions":16,"deletions":-2}],"sizeInsertions":85,"sizeDeletions":-22},{"number":"3","revision":"002dda46510035d093e6b0131b6e57f4342bfc86","parents":["b91156b38250b071a1f812f112a61ff829070808"],"ref":"refs/changes/56/6056/3","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1556225399,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1556225428,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556317257,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}}],"comments":[{"file":"lib/queries.js","line":329,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"I\u0027m not sure why I put this comment here. These can be ordered in whatever way we want them to be ordered."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/dbinit.js","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"lib/queries.js","type":"MODIFIED","insertions":6,"deletions":-2}],"sizeInsertions":23,"sizeDeletions":-3},{"number":"4","revision":"e28f50a16a2609ab2a9ce344d19a246756e37136","parents":["b91156b38250b071a1f812f112a61ff829070808"],"ref":"refs/changes/56/6056/4","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1558020993,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558021030,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1558042062,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1558042062,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/dbinit.js","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"lib/queries.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":19,"sizeDeletions":-3},{"number":"5","revision":"2deb822d7f584df9a3a81f29cabb6592c7859482","parents":["b91156b38250b071a1f812f112a61ff829070808"],"ref":"refs/changes/56/6056/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1558103287,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558021030,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1558103320,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1558042062,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1558042062,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/dbinit.js","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"lib/queries.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":19,"sizeDeletions":-3}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}]}