commit 45c5f9986c9ba828b6c90c9fe4e66d3dafb65175 (refs/changes/56/356/1)
Author: Joshua M. Clulow <jmc@joyent.com>
Date:   2016-08-26T06:24:06+00:00 (3 years, 1 month ago)
    
    OS-5564 new driver for Smart Array storage controllers

diff --git a/overlay/generic/etc/driver_aliases b/overlay/generic/etc/driver_aliases
index a2ad1d27..33880bd4 100644
--- a/overlay/generic/etc/driver_aliases
+++ b/overlay/generic/etc/driver_aliases
@@ -218,29 +218,6 @@ ce "pci100b,35"
 ce "pci108e,abba"
 chxge "pci1425,7"
 chxge "pci1425,a"
-cpqary3 "pci103c,1920"
-cpqary3 "pci103c,1921"
-cpqary3 "pci103c,1922"
-cpqary3 "pci103c,1923"
-cpqary3 "pci103c,1924"
-cpqary3 "pci103c,1926"
-cpqary3 "pci103c,1928"
-cpqary3 "pci103c,21bd"
-cpqary3 "pci103c,21be"
-cpqary3 "pci103c,21bf"
-cpqary3 "pci103c,21c0"
-cpqary3 "pci103c,21c1"
-cpqary3 "pci103c,21c2"
-cpqary3 "pci103c,21c3"
-cpqary3 "pci103c,21c5"
-cpqary3 "pci103c,21c6"
-cpqary3 "pci103c,21c7"
-cpqary3 "pci103c,21c8"
-cpqary3 "pci103c,21ca"
-cpqary3 "pci103c,21cb"
-cpqary3 "pci103c,21cc"
-cpqary3 "pci103c,21cd"
-cpqary3 "pci103c,21ce"
 cpqary3 "pci103c,3211"
 cpqary3 "pci103c,3212"
 cpqary3 "pci103c,3223"
@@ -249,20 +226,6 @@ cpqary3 "pci103c,3234"
 cpqary3 "pci103c,3235"
 cpqary3 "pci103c,3237"
 cpqary3 "pci103c,323d"
-cpqary3 "pci103c,3241"
-cpqary3 "pci103c,3243"
-cpqary3 "pci103c,3245"
-cpqary3 "pci103c,3247"
-cpqary3 "pci103c,3249"
-cpqary3 "pci103c,324a"
-cpqary3 "pci103c,324b"
-cpqary3 "pci103c,3350"
-cpqary3 "pci103c,3351"
-cpqary3 "pci103c,3352"
-cpqary3 "pci103c,3353"
-cpqary3 "pci103c,3354"
-cpqary3 "pci103c,3355"
-cpqary3 "pci103c,3356"
 cpqary3 "pcie11,4070"
 cpqary3 "pcie11,4080"
 cpqary3 "pcie11,4082"
@@ -1047,6 +1010,43 @@ sfxge "pci1924,903"
 sfxge "pci1924,923"
 sgen "scsa,08.bfcp"
 sgen "scsa,08.bvhci"
+smrt "pci103c,1920"
+smrt "pci103c,1921"
+smrt "pci103c,1922"
+smrt "pci103c,1923"
+smrt "pci103c,1924"
+smrt "pci103c,1926"
+smrt "pci103c,1928"
+smrt "pci103c,21bd"
+smrt "pci103c,21be"
+smrt "pci103c,21bf"
+smrt "pci103c,21c0"
+smrt "pci103c,21c1"
+smrt "pci103c,21c2"
+smrt "pci103c,21c3"
+smrt "pci103c,21c5"
+smrt "pci103c,21c6"
+smrt "pci103c,21c7"
+smrt "pci103c,21c8"
+smrt "pci103c,21ca"
+smrt "pci103c,21cb"
+smrt "pci103c,21cc"
+smrt "pci103c,21cd"
+smrt "pci103c,21ce"
+smrt "pci103c,3241"
+smrt "pci103c,3243"
+smrt "pci103c,3245"
+smrt "pci103c,3247"
+smrt "pci103c,3249"
+smrt "pci103c,324a"
+smrt "pci103c,324b"
+smrt "pci103c,3350"
+smrt "pci103c,3351"
+smrt "pci103c,3352"
+smrt "pci103c,3353"
+smrt "pci103c,3354"
+smrt "pci103c,3355"
+smrt "pci103c,3356"
 si3124 "pci1095,3124"
 si3124 "pci1095,3132"
 skd "pciex1b39,1"
diff --git a/overlay/generic/etc/driver_classes b/overlay/generic/etc/driver_classes
index bf89b65d..8608747a 100644
--- a/overlay/generic/etc/driver_classes
+++ b/overlay/generic/etc/driver_classes
@@ -27,3 +27,4 @@ qlc	fibre-channel
 si3124	scsi-self-identifying
 dr_sas	scsi-self-identifying
 skd	disk
+smrt	scsi
diff --git a/overlay/generic/etc/name_to_major b/overlay/generic/etc/name_to_major
index bb4ebc5b..7475db54 100644
--- a/overlay/generic/etc/name_to_major
+++ b/overlay/generic/etc/name_to_major
@@ -293,3 +293,4 @@ i40e 296
 sfxge 297
 pvscsi 298
 vmxnet3s 299
+smrt 300
