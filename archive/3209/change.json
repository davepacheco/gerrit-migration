{"project":"joyent/sdc-cnapi","branch":"master","id":"I4e9cc64d8d6edebf03c408bc42d12d487d18e496","number":"3209","subject":"CNAPI-733 Add error for when cn-agent indicates docker cp\u0027ing is not supported on a stopped container Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e","owner":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"url":"https://cr.joyent.us/3209","commitMessage":"CNAPI-733 Add error for when cn-agent indicates docker cp\u0027ing is not supported on a stopped container\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1515793621,"lastUpdated":1517611763,"open":false,"status":"MERGED","comments":[{"timestamp":1515793621,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 1."},{"timestamp":1515793622,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 0882d1838641cc2c7e32467655cc64a981970bb9\n    \n    add new error"},{"timestamp":1515793649,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516926921,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 2."},{"timestamp":1516926923,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit b9ff3132035e7806d75f904ef7cf230b55f12fe5\n    \n    bump package version"},{"timestamp":1516926951,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516927344,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1516927372,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1517450306,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3: Code-Review+1\n\n(5 comments)"},{"timestamp":1517599588,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1517599631,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 4."},{"timestamp":1517599632,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit eaabe00d6c4dd6736ec673bf71e98b2d8b717d92\n    \n    apply josh\u0027s feedback"},{"timestamp":1517599659,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517611595,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1\n\nlgtm"},{"timestamp":1517611763,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Orlando Vazquez"}],"currentPatchSet":{"number":"4","revision":"4e9cc64d8d6edebf03c408bc42d12d487d18e496","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/09/3209/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1517599631,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517599659,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517611595,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517611595,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1517611763,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/errors.js","type":"MODIFIED","insertions":24,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":34,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"b61b3e8b6355b155f0fbae00631b405060072708","parents":["6f395451e9c61d50ce868de7493af4ad45206ac4"],"ref":"refs/changes/09/3209/1","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1515793621,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515793649,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":23,"deletions":-1}],"sizeInsertions":31,"sizeDeletions":-1},{"number":"2","revision":"33f92765803bccd789066ef73fd13ba9fece61ad","parents":["6f395451e9c61d50ce868de7493af4ad45206ac4"],"ref":"refs/changes/09/3209/2","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1516926921,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516926951,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-2},{"number":"3","revision":"91afbed24fa0aa03e0e0ad9e8c80ea0b10d76a73","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/09/3209/3","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1516927344,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516926951,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517450306,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"lib/endpoints/vms.js","line":8,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"off by one!"},{"file":"lib/endpoints/vms.js","line":1060,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"say that 10 times fast!"},{"file":"lib/errors.js","line":8,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"A relic from a more civilized age."},{"file":"lib/errors.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/errors.js","line":218,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"I\u0027d make the same comment here I made on the sdc-docker CR: who is the consumer of this? Assuming it\u0027s the end user, I suggested something more like:\n\n    This container must be running in order to use `docker cp`.\n\nin order to make it clearer what they need to do to work around this."},{"file":"lib/errors.js","line":218,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"},{"file":"lib/errors.js","line":229,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Is it possible to avoid this duplication without making the code crazy? what about just putting this string in another variable to be used by both this and the above?"},{"file":"lib/errors.js","line":229,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/errors.js","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-2},{"number":"4","revision":"4e9cc64d8d6edebf03c408bc42d12d487d18e496","parents":["5485ed31f513a515e95c7737347975a3148c3063"],"ref":"refs/changes/09/3209/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1517599631,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517599659,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517611595,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517611595,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1517611763,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/errors.js","type":"MODIFIED","insertions":24,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":34,"sizeDeletions":-4}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}]}