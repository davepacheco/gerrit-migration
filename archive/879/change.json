{"project":"joyent/illumos-joyent","branch":"master","id":"I9bccb2702470a86886a067b3f775d814ba85da38","number":"879","subject":"OS-5556 Need SHA Instruction dis support Reviewed by: Bryan Cantrill \u003cbryan@joyent.com\u003e Approved by: Dave Pacheco \u003cdap@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/879","commitMessage":"OS-5556 Need SHA Instruction dis support\nReviewed by: Bryan Cantrill \u003cbryan@joyent.com\u003e\nApproved by: Dave Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1478826820,"lastUpdated":1478828078,"open":false,"status":"MERGED","comments":[{"timestamp":1478826820,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1478826840,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\nTested with distest:\n\n[root@b80d08de-e649-43c9-9cc2-3229ae8b55b1 ~/sha-dis/proto/opt/util-tests/tests/dis]# LD_PRELOAD_32\u003d/root/sha-dis/projects/illumos/usr/src/lib/libdisasm/i386/libdisasm.so.1 ./distest \ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.random.s (32-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.random.s (64-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.smap.s (32-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.smap.s (64-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.mwait.s (32-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.mwait.s (64-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.vmx.s (32-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/tst.vmx.s (64-bit) ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.aes.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.adx.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.sha.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.ssse3.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.lzcnt.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.popcnt.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.sse-4.2.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.fma-ps.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.fma-ss.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.bmi1.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.fma-sd.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.fma-pd.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.bmi2.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/32.xsave.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.ssse3.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.lzcnt.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.ept.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.sse-4.2.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.vmx.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.popcnt.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.aes.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.sha.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.random.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.adx.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.fma-sd.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.xsave.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.fma-pd.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.bmi1.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.fma-ps.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.fma-ss.s ... passed\ntesting /root/sha-dis/proto/opt/util-tests/tests/dis/i386/64.bmi2.s ... passed\n\n--------------\nlibdis Results\n--------------\n\nTests passed: 39\nTests failed: 0\nTests ran:    39"},{"timestamp":1478827389,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1478827952,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1478828068,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1478828078,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"2","revision":"9bccb2702470a86886a067b3f775d814ba85da38","parents":["3ed5f8fa46c31511f406b5041125016ad18441bb"],"ref":"refs/changes/79/879/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478828068,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478827389,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478827952,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1478828078,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/common/dis/i386/dis_tables.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/test/util-tests/tests/dis/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.sha.out","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.sha.s","type":"ADDED","insertions":53,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.sha.out","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.sha.s","type":"ADDED","insertions":53,"deletions":0}],"sizeInsertions":171,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"f20890d8bf381d05d83695235c88cae7ff88380f","parents":["3ed5f8fa46c31511f406b5041125016ad18441bb"],"ref":"refs/changes/79/879/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478826820,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478827952,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478827389,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/common/dis/i386/dis_tables.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/test/util-tests/tests/dis/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.sha.out","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.sha.s","type":"ADDED","insertions":53,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.sha.out","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.sha.s","type":"ADDED","insertions":53,"deletions":0}],"sizeInsertions":171,"sizeDeletions":-4},{"number":"2","revision":"9bccb2702470a86886a067b3f775d814ba85da38","parents":["3ed5f8fa46c31511f406b5041125016ad18441bb"],"ref":"refs/changes/79/879/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478828068,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478827952,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1478828078,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478827389,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/common/dis/i386/dis_tables.c","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"usr/src/test/util-tests/tests/dis/Makefile","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.sha.out","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/32.sha.s","type":"ADDED","insertions":53,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.sha.out","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/test/util-tests/tests/dis/i386/64.sha.s","type":"ADDED","insertions":53,"deletions":0}],"sizeInsertions":171,"sizeDeletions":-4}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}