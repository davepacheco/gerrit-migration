{"project":"joyent/illumos-joyent","branch":"master","id":"I5791177ee20db179cc73d30834e9a2fd80dd9b57","number":"1027","subject":"OS-5783 make .zonecontrol a mount from the GZ instead of a directory in the dataset Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/1027","commitMessage":"OS-5783 make .zonecontrol a mount from the GZ instead of a directory in the dataset\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1480535284,"lastUpdated":1481245239,"open":false,"status":"MERGED","comments":[{"timestamp":1480535284,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1480535285,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit f44f59dde7be918b195c0ddda03e2e248b478839\n    \n    Merge branch \u0027master\u0027 into OS-5783\n    \n    commit 4d8f2dc1b38a19fb1fd1cca5ecb1324f24445f22\n    \n    move sockets to /var/zonecontrol\n    \n    commit 03c72fd883dd75695bb56ae3da55a41a566a65c6\n    \n    move sockets to /etc/zonecontrol\n    \n    commit f41b1689612c7058f36531eb47717ae0dda9e2f5\n    \n    Merge branch \u0027master\u0027 into OS-5783\n    \n    commit bf1818a2a97403e18218e3899d3482d408b6b031\n    \n    mount zonecontrol for lx\n    \n    commit b2087fc90f2cb997042f4b77b06939d19833a2de\n    \n    make .zonecontrol a mount from the GZ instead of a directory in the dataset"},{"timestamp":1480702423,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1480974198,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1481053692,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1481053696,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit a0c3cc6364bc540cdd0aacde91159a6ba5abdbf3\n    \n    add nodevices,nosetuid,noexec\n    \n    commit 745e41d14668d8cf1f368877339539189160ba8f\n    \n    Merge branch \u0027master\u0027 into OS-5783"},{"timestamp":1481053704,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1481078672,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1481243521,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1481243685,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1481243699,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 5."},{"timestamp":1481243707,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1481245239,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"6","revision":"bd028d38f98dd1233ba33554b3cf0a86d9ea650e","parents":["1cb3ba547f23532c62f715007a21832205f7fdf7"],"ref":"refs/changes/27/1027/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1481243707,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481078672,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481243685,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1481245239,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/brand/lx/zone/platform.xml","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"28883a3dd2b9a489908abb661c9845fec3a447bc","parents":["80c431c3af17a3f5c86dac722986210ac5675994"],"ref":"refs/changes/27/1027/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1480535284,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/zone/platform.xml","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},{"number":"2","revision":"cf980c327de866f157f74be2bea2f1754436300c","parents":["db312d1a324a6063747891aa2872f2903e28ab9a"],"ref":"refs/changes/27/1027/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1480702423,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"TRIVIAL_REBASE","comments":[{"file":"usr/src/lib/brand/lx/zone/platform.xml","line":63,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I wonder if it\u0027s worth adding a nodevices, nosetuid, and noexec here as mount options to further restrict what can be done in this FS."},{"file":"usr/src/lib/brand/lx/zone/platform.xml","line":63,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/zone/platform.xml","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},{"number":"3","revision":"7fd989dda596f02957cdb6dcfc1558c637db68df","parents":["eb3642a63a4b76721d1d3857654137d69aee122e"],"ref":"refs/changes/27/1027/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1481053692,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481078672,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/zone/platform.xml","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},{"number":"4","revision":"8748ad57b63a9d872d375ae35bc0605a6843473a","parents":["1cb3ba547f23532c62f715007a21832205f7fdf7"],"ref":"refs/changes/27/1027/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1481243521,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481078672,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481243685,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/brand/lx/zone/platform.xml","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},{"number":"5","revision":"5791177ee20db179cc73d30834e9a2fd80dd9b57","parents":["eb3642a63a4b76721d1d3857654137d69aee122e"],"ref":"refs/changes/27/1027/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1481243699,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481078672,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/brand/lx/zone/platform.xml","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},{"number":"6","revision":"bd028d38f98dd1233ba33554b3cf0a86d9ea650e","parents":["1cb3ba547f23532c62f715007a21832205f7fdf7"],"ref":"refs/changes/27/1027/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1481243707,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481078672,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481243685,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1481245239,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/brand/lx/zone/platform.xml","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}