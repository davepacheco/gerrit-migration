From c2d9ef6fe776ebc9d2a05da657a94d92f3d53472 Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Tue, 16 Jul 2019 15:53:29 -0700
Subject: [PATCH] TRITON-1818 explicitly specify PEM key format for keys
 generated by ssh-keygen

---
 lib/ssh.js | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/lib/ssh.js b/lib/ssh.js
index 628d7fa..aa04988 100644
--- a/lib/ssh.js
+++ b/lib/ssh.js
@@ -34,7 +34,8 @@ exports.generateKey = function generateKey(keyfile, cb) {
 	async.waterfall([
 		function (subcb) {
 			var cmd = sprintf(
-			    '/usr/bin/ssh-keygen -t rsa -f %s -N ""', keyfile);
+			    '/usr/bin/ssh-keygen -t rsa -m PEM -f %s -N ""',
+			    keyfile);
 
 			log.info({ cmd: cmd }, 'generating SSH key');
 
-- 
2.21.0

