{"project":"joyent/binder","branch":"master","id":"I59bed18cdab1e67b7e2803a9be0121df3ce65ebd","number":"5490","subject":"MANTA-4106 want tool for parsing ZK txn logs MANTA-4110 binder cmdline tools like balstat should be on PATH Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Robert Mustacchi \u003crm@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/5490","commitMessage":"MANTA-4106 want tool for parsing ZK txn logs\nMANTA-4110 binder cmdline tools like balstat should be on PATH\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1549416569,"lastUpdated":1549578371,"open":false,"status":"MERGED","comments":[{"timestamp":1549416569,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1549416599,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549470699,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(62 comments)"},{"timestamp":1549484329,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2."},{"timestamp":1549484347,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1549484363,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549488653,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1549489725,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 3."},{"timestamp":1549489753,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549490905,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1549494229,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 4."},{"timestamp":1549494259,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549495771,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 5."},{"timestamp":1549495799,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549497431,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 6."},{"timestamp":1549497460,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549497498,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 7."},{"timestamp":1549497527,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549503559,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 8."},{"timestamp":1549503591,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549576938,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1"},{"timestamp":1549578339,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 9: Commit message was updated."},{"timestamp":1549578343,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 10: Patch Set 9 was rebased"},{"timestamp":1549578351,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"},{"timestamp":1549578371,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"10","revision":"b2393abf5f713661a5b2f41221f129eb1158fa09","parents":["e3acac792662ce3eeadfe98c4ee99476c1aee355"],"ref":"refs/changes/90/5490/10","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549578343,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549503591,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1549578351,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"boot/setup.sh","type":"MODIFIED","insertions":5,"deletions":0},{"file":"src/zklog.c","type":"ADDED","insertions":704,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"0a47ed44230781dcc3207fc8d88eb8db5409b922","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549416569,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549416599,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"Makefile","line":130,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This should probably be built with FILE_OFFSET_BITS\u003d64 or built 64-bit so that way you can process files \u003e 2 GiB in size."},{"file":"src/zklog.c","line":30,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027d recommend prefixing this due to its use as a global."},{"file":"src/zklog.c","line":62,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Please add comments that describe where these come from. You may want to typedef them."},{"file":"src/zklog.c","line":134,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027d generally suggest using typedefs for all the structs."},{"file":"src/zklog.c","line":153,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027d suggest you use c99 based variable length arrays."},{"file":"src/zklog.c","line":158,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027d suggest you use c99 based variable length arrays."},{"file":"src/zklog.c","line":180,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027d suggest you use c99 based variable length arrays."},{"file":"src/zklog.c","line":190,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027ll mention this once for each function, but you should replace this with errx. You should also use a macro to define what 3 means."},{"file":"src/zklog.c","line":193,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Any particular reason you\u0027re overwriting the value in memory versus just assigning it to a uint32_t? If you did, in theory you could make inner const."},{"file":"src/zklog.c","line":193,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"It\u0027s just to keep to the same pattern we use elsewhere in the code. There are a lot of fields, potentially, that we need to endian-switch, and it would require making a lot of locals or a new copy of the struct to stash them on -- if we did that we might as well not mmap it at all."},{"file":"src/zklog.c","line":194,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"These and all other printf usages in this function need to be checked for the return value."},{"file":"src/zklog.c","line":219,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This could overflow right now because offset is a 32-bit quantity since we\u0027re building 32-bit."},{"file":"src/zklog.c","line":225,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked for memory allocation failure."},{"file":"src/zklog.c","line":246,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"If you\u0027re doing this as a c99 thing, then I\u0027d just put it in the loop declaration."},{"file":"src/zklog.c","line":264,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Presumably we need to check the offset versus length."},{"file":"src/zklog.c","line":279,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"See other notes around integer types."},{"file":"src/zklog.c","line":285,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Shouldn\u0027t this be case to the enum\u0027s type?"},{"file":"src/zklog.c","line":291,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"What about the default case here? What do we do when we get a bad type for whatever reason? At this point it\u0027s not clear to me that you\u0027ve validated that the type is one that we expect."},{"file":"src/zklog.c","line":300,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Where does 256 of these come from? If you want it initialized to zero, I don\u0027t believe you need the \u003d { NULL } bit either."},{"file":"src/zklog.c","line":304,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Please prefix these globals. It may make more sense to declare all the globals in the same place. As in don\u0027t leave dumpdata separate."},{"file":"src/zklog.c","line":324,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In general, I try to use more human error messages. So I\u0027d say something like \u0027fatal error: failed to open %s: %s\u0027."},{"file":"src/zklog.c","line":326,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Simplify this with err(3C), macro for exit status."},{"file":"src/zklog.c","line":332,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"See bits above open."},{"file":"src/zklog.c","line":339,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Simplify with errx(3C)."},{"file":"src/zklog.c","line":342,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"mmap returns a void *, cast should be unnecessary."},{"file":"src/zklog.c","line":343,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"MAP_FILE is implicit and should not be used."},{"file":"src/zklog.c","line":347,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Simplify with err(3C) ala open."},{"file":"src/zklog.c","line":354,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"For these and other invalid non-errno based things, please use errx(3C) to simplify the code."},{"file":"src/zklog.c","line":357,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Magic number. Please use a commented macro."},{"file":"src/zklog.c","line":363,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"These should be case to a uintptr_t before doing arithmetic."},{"file":"src/zklog.c","line":372,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Calculation isn\u0027t safe against 32-bit overflow (since this is currently being built with a size_t \u003d\u003d uint32_t)."},{"file":"src/zklog.c","line":398,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Shouldn\u0027t this be cast to the enum\u0027s explicit type?"},{"file":"src/zklog.c","line":399,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked return value. Don\u0027t assume calloc will succeed."},{"file":"src/zklog.c","line":408,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Shouldn\u0027t this be cast to the enum\u0027s explicit type?"},{"file":"src/zklog.c","line":410,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Please use explicit comparisons here and below."},{"file":"src/zklog.c","line":423,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027d recomment a macro for this to make it clear where this comes from."},{"file":"src/zklog.c","line":426,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"gmtime can return NULL on failure"},{"file":"src/zklog.c","line":427,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked return value."},{"file":"src/zklog.c","line":430,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Please use a standard type, like uint_t."},{"file":"src/zklog.c","line":432,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked return value."},{"file":"src/zklog.c","line":434,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"For the 64-bit quantities, I\u0027d recommend using the PRIx64 macro so that way you have the right type between ILP32/LP64. Technically if this was built 64-bit it\u0027d be %lx and not %llx. Alternatively cast them all to longlong_t or u_longlong_t or similar."},{"file":"src/zklog.c","line":440,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked return value."},{"file":"src/zklog.c","line":440,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"PRIu64/ulonglong_t."},{"file":"src/zklog.c","line":443,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Need to enable c99 if using c99 variable declarations."},{"file":"src/zklog.c","line":446,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"What guarantees that this expression can\u0027t be negative?"},{"file":"src/zklog.c","line":451,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked return value."},{"file":"src/zklog.c","line":457,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This should be simplified with err(3C)."},{"file":"src/zklog.c","line":460,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked return value."},{"file":"src/zklog.c","line":466,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Unchecked return values."},{"file":"src/zklog.c","line":468,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"transaction?"},{"file":"src/zklog.c","line":470,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is the first occurrence of _SESSION. Is the leading underscore relevant?"},{"file":"src/zklog.c","line":481,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Note, you can use a base of 0 with strtoul here to handle different bases. It will know that 0x is hex, 1234 is base 10, 0300 is octal."},{"file":"src/zklog.c","line":498,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Replace with err(3C) and give a moreuseful error message to the user."},{"file":"src/zklog.c","line":512,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This should probably just be strtoull(optarg, \u0026p, 16). There\u0027s no need to assign optarg to p. See also the note in the usage about the base of zero."},{"file":"src/zklog.c","line":513,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This just smells weird. What you should check is whether p is \u0027\\0\u0027 or not. Also, you should set errno before calling strtoull and then check errno afterwards."},{"file":"src/zklog.c","line":523,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Don\u0027t use atoi, use strtol and check whether or not you have a valid integer in the range. Otherwise you can\u0027t properly detect the string 12nope was passed."},{"file":"src/zklog.c","line":531,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Please tell the user why the usage statement was generated."},{"file":"src/zklog.c","line":534,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In general, I find it easier to folks to just do:\n\nargv +\u003d optind;\nargc -\u003d optind;\n\nAnd then doing the normal checks on argc/argv to just keep track of what\u0027s going on. But that\u0027s just my style."},{"file":"src/zklog.c","line":541,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why do we recalculate now?"},{"file":"src/zklog.c","line":547,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027d suggest using a macro for this and the size of the state table. That way you don\u0027t have to go through and change everything if this ever changes."},{"file":"src/zklog.c","line":548,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This could be in the for loop if you wanted."},{"file":"src/zklog.c","line":553,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"See earlier comment about a macro for this."},{"file":"src/zklog.c","line":559,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"See earlier comments around 64-bit values."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":17,"deletions":0},{"file":"src/zklog.c","type":"ADDED","insertions":567,"deletions":0}],"sizeInsertions":584,"sizeDeletions":0},{"number":"2","revision":"6fc531b1f77380e91469375c3118e6a993199580","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549484329,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549484363,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/zklog.c","line":308,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"An abort here is really unsporting for the user. Is the purpose for this because you actually want to make sure you have a core file to debug or is just the easy way out?"},{"file":"src/zklog.c","line":482,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"See earlier note on strndup."},{"file":"src/zklog.c","line":512,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Not checking gmtime failure."},{"file":"src/zklog.c","line":626,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Could be warnx(3C) if you wanted. But fine as is."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":21,"deletions":0},{"file":"src/zklog.c","type":"ADDED","insertions":669,"deletions":0}],"sizeInsertions":690,"sizeDeletions":0},{"number":"3","revision":"42d554d434d81520cc470588892bb78acaad2ba9","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549489725,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549490905,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549489753,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":21,"deletions":0},{"file":"src/zklog.c","type":"ADDED","insertions":670,"deletions":0}],"sizeInsertions":691,"sizeDeletions":0},{"number":"4","revision":"0ffb923fcd0cb999bea4695628828fef6bfe9189","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549494229,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549494259,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"src/zklog.c","type":"ADDED","insertions":684,"deletions":0}],"sizeInsertions":707,"sizeDeletions":-1},{"number":"5","revision":"093cf98ad03d3d761cced377c436b555a554595b","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549495771,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549495799,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"src/zklog.c","type":"ADDED","insertions":690,"deletions":0}],"sizeInsertions":713,"sizeDeletions":-1},{"number":"6","revision":"7c1c2b9bc47e49ae8434ac47307fc8c27b09291a","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/6","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549497431,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549497460,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"deps/manta-scripts","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/sdc-scripts","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/zklog.c","type":"ADDED","insertions":704,"deletions":0}],"sizeInsertions":729,"sizeDeletions":-3},{"number":"7","revision":"cb98730bf786edea8021214e6733525fce3ab383","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/7","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549497498,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549497527,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"src/zklog.c","type":"ADDED","insertions":704,"deletions":0}],"sizeInsertions":727,"sizeDeletions":-1},{"number":"8","revision":"59bed18cdab1e67b7e2803a9be0121df3ce65ebd","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/8","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549503559,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549503591,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"boot/setup.sh","type":"MODIFIED","insertions":5,"deletions":0},{"file":"src/zklog.c","type":"ADDED","insertions":704,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-1},{"number":"9","revision":"9cc919c35f8782278b434627313a94e41ae078f2","parents":["af7356427bd8710d9784ed31be445d1abf2d3bab"],"ref":"refs/changes/90/5490/9","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549578339,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549503591,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"boot/setup.sh","type":"MODIFIED","insertions":5,"deletions":0},{"file":"src/zklog.c","type":"ADDED","insertions":704,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-1},{"number":"10","revision":"b2393abf5f713661a5b2f41221f129eb1158fa09","parents":["e3acac792662ce3eeadfe98c4ee99476c1aee355"],"ref":"refs/changes/90/5490/10","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1549578343,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549576938,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1549578351,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549503591,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-1},{"file":"boot/setup.sh","type":"MODIFIED","insertions":5,"deletions":0},{"file":"src/zklog.c","type":"ADDED","insertions":704,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}