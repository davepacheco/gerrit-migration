{"project":"joyent/illumos-joyent","branch":"master","id":"I9be93787e11985ce7f59824cd975878b5c14cc90","number":"1673","subject":"OS-6014 native gettimeofday should use comm page Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/1673","commitMessage":"OS-6014 native gettimeofday should use comm page\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1489675999,"lastUpdated":1490044152,"open":false,"status":"MERGED","comments":[{"timestamp":1489675999,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1489677536,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1489681294,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1490040052,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1490040189,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\nTesting shows the expected speed increase relative to the old fasttrap calls.  The results appear accurate when compared to the time emitted by clock_gettime().  The gettimeofday() called by ld.so continues to function properly when its output is required for LD_DEBUG options."},{"timestamp":1490041257,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1490041734,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3."},{"timestamp":1490041759,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\nFixed a minor comment typo before this goes back"},{"timestamp":1490041806,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1490041813,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1490041840,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1490042376,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1490044152,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"4","revision":"9be93787e11985ce7f59824cd975878b5c14cc90","parents":["fc23aa9bfe9a967a31614f6829d88243205132e0"],"ref":"refs/changes/73/1673/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1490041806,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490041840,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490042376,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1490042376,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1490044152,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/common/external.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/lib/libc/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/amd64/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60},{"file":"usr/src/lib/libc/i386/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.c","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60}],"sizeInsertions":74,"sizeDeletions":-126},"patchSets":[{"number":"1","revision":"15afc141f4c4c1a1b7df42261ae5aff00d42c206","parents":["e6ee2511febdbbb4a80d37a8c46d9b50455f0cbd"],"ref":"refs/changes/73/1673/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1489675999,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489681294,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489677536,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/common/external.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/lib/libc/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/amd64/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60},{"file":"usr/src/lib/libc/i386/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.c","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60}],"sizeInsertions":74,"sizeDeletions":-126},{"number":"2","revision":"f09054aa409a7f4f47ef72dc0f61a3e027dbeb13","parents":["282642e497204e64144beac6ac94dbe281fc53f3"],"ref":"refs/changes/73/1673/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1490040052,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489681294,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489677536,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1490041257,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/common/external.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/lib/libc/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/amd64/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60},{"file":"usr/src/lib/libc/i386/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.c","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60}],"sizeInsertions":74,"sizeDeletions":-126},{"number":"3","revision":"9e4858be1cd0b94364285bae525d2f9a4bafcec6","parents":["282642e497204e64144beac6ac94dbe281fc53f3"],"ref":"refs/changes/73/1673/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1490041734,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490041813,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/common/external.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/lib/libc/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/amd64/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60},{"file":"usr/src/lib/libc/i386/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.c","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60}],"sizeInsertions":74,"sizeDeletions":-126},{"number":"4","revision":"9be93787e11985ce7f59824cd975878b5c14cc90","parents":["fc23aa9bfe9a967a31614f6829d88243205132e0"],"ref":"refs/changes/73/1673/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1490041806,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490041840,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490042376,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1490042376,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1490044152,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/sgs/rtld/common/external.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/lib/libc/amd64/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/amd64/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60},{"file":"usr/src/lib/libc/i386/Makefile.com","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.c","type":"ADDED","insertions":50,"deletions":0},{"file":"usr/src/lib/libc/i386/sys/gettimeofday.s","type":"DELETED","insertions":0,"deletions":-60}],"sizeInsertions":74,"sizeDeletions":-126}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}