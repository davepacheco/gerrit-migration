From fe187c7798075d7c7632f1d9a5370a764b907b17 Mon Sep 17 00:00:00 2001
From: Julien Gilli <julien.gilli@joyent.com>
Date: Thu, 27 Jul 2017 16:36:00 -0700
Subject: [PATCH] joyent/node-triton#217 `triton volume ls -l` should output a
 `RESOURCE` column

---
 lib/do_volume/do_list.js | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/lib/do_volume/do_list.js b/lib/do_volume/do_list.js
index 9b16a82..04a679b 100644
--- a/lib/do_volume/do_list.js
+++ b/lib/do_volume/do_list.js
@@ -31,7 +31,7 @@ var validFilters = [
 var columnsDefault = 'shortid,name,size,type,state,age';
 
 // columns default with -l
-var columnsDefaultLong = 'id,name,size,type,state,created';
+var columnsDefaultLong = 'id,name,size,type,resource,state,created';
 
 // sort default with -s
 var sortDefault = 'created';
@@ -98,6 +98,10 @@ function do_list(subcmd, opts, args, callback) {
 
                         created = new Date(volume.create_timestamp);
 
+                        if (volume.filesystem_path !== undefined) {
+                            volume.resource = volume.filesystem_path;
+                        }
+
                         volume.shortid = volume.id.split('-', 1)[0];
                         volume.created = volume.create_timestamp;
                         volume.age = common.longAgo(created, now);
-- 
2.21.0

