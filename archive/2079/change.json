{"project":"joyent/node-manta","branch":"master","id":"If06f6e6d84855d631f9a53cc88c4b2add81c0cd1","number":"2079","subject":"joyent/node-manta#302 Create a manual page for `mmpu` joyent/node-manta#311 `createUpload` incorrectly handles some target object headers Reviewed by: Kody Kantor \u003ckody.kantor@joyent.com\u003e Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Approved by: David Pach","owner":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"url":"https://cr.joyent.us/2079","commitMessage":"joyent/node-manta#302 Create a manual page for `mmpu`\njoyent/node-manta#311 `createUpload` incorrectly handles some target object headers\nReviewed by: Kody Kantor \u003ckody.kantor@joyent.com\u003e\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nApproved by: David Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1497339804,"lastUpdated":1497650418,"open":false,"status":"MERGED","comments":[{"timestamp":1497339804,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 1."},{"timestamp":1497339831,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1497385192,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 1:\n\nThis change adds a man page for `mmpu` and fixes a bug I discovered while writing up examples of `mmpu create` in the man page.\n\nI am still working on getting the node-manta tests to pass as a part of testing joyent/node-manta#311. I will update the issue with my testing notes once I have that working.\n\nThere are a bunch of changes to the other node-manta man pages. That is me making some formatting consistent (after discovering it wasn\u0027t while copy/pasting fields from another Manta man page.)"},{"timestamp":1497385639,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 2."},{"timestamp":1497385674,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1497385702,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 2:\n\nI left out the changes to lib/client.js in patchset 1, so I added it and pushed patchset 2."},{"timestamp":1497386971,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(6 comments)\n\nNice!  I like all the background in the mmpu manual page."},{"timestamp":1497387040,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2:\n\n(7 comments)\n\nLooks good! Just a couple minor wording things."},{"timestamp":1497428625,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 3."},{"timestamp":1497428656,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1497428961,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 3:\n\n(13 comments)\n\nThanks for taking a look, guys!\n\nI responded to your comments in patchset 3. Additionally, I have added a test for the tests to test this issue.\n\nDave pointed out that changing the arguments to `createUpload` probably constitutes a major version bump. I\u0027m open to discussion on fixing this in a way without changing the API. I would like to integrate the fix for joyent/node-manta#311 with the man page in either case, as the `mpu-create` examples I added to the man page are important ones, I think, and would not work correctly without the #311 bug fix. What do you all think?"},{"timestamp":1497463816,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\n(4 comments)\n\nI\u0027m not sure what our policy is regarding support of old library versions. If it\u0027s not a big deal to rev a version (meaning we aren\u0027t dropping support for a bunch of clients), then I\u0027m not opposed to bumping the version. Are there other things (mpu or otherwise) that we wanted to include in a new major version?"},{"timestamp":1497472519,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3:\n\n\u003e Dave pointed out that changing the arguments to `createUpload`\n \u003e probably constitutes a major version bump. I\u0027m open to discussion\n \u003e on fixing this in a way without changing the API. I would like to\n \u003e integrate the fix for joyent/node-manta#311 with the man page in\n \u003e either case, as the `mpu-create` examples I added to the man page\n \u003e are important ones, I think, and would not work correctly without\n \u003e the #311 bug fix. What do you all think?\n\nDo we actually need to change the argument name?  I\u0027m guessing we did that because createOptions() interprets it.  One option to safely avoid the major bump would be around line 3315 to construct a new \"opts\" that doesn\u0027t include the \"headers\" that the user passed in, and pass that to createOptions.  Then use the \"headers\" that the user passed in for the target object headers.  That way, the argument semantics wouldn\u0027t change for this function.\n\nIf we don\u0027t want to rename the argument (e.g., because it seems cleaner), the safer thing is probably to bump the major version.  On the plus side, we can explain clearly in CHANGES.md what the incompatible change is, and people should be able to quickly tell that it won\u0027t affect them.  If it somehow does affect someone and they ignore this, then the assertion would blow.  So I think this is about as clean a major update as can be.  Still, it can be a little more work for people."},{"timestamp":1497593196,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 4."},{"timestamp":1497593227,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1497594760,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 4:\n\nThis patchset addresses the latest feedback from reviewers. I also cleaned up some MPU tests in the repo a bit, making it easier to debug them when they fail.\n\nAdditional notes and testing information are on the Github issue threads:\n- https://github.com/joyent/node-manta/issues/302\n- https://github.com/joyent/node-manta/issues/311"},{"timestamp":1497622730,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1497648729,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4: Code-Review+1\n\n(1 comment)"},{"timestamp":1497650153,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 5."},{"timestamp":1497650191,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1497650206,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1497650215,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 5:\n\nI ran `make manpages`, and there were diffs in two man pages. I have pushed those rebuilt pages."},{"timestamp":1497650386,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1497650418,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jordan Hendricks"}],"currentPatchSet":{"number":"6","revision":"f06f6e6d84855d631f9a53cc88c4b2add81c0cd1","parents":["a97875cfaf1961e7323dbfe8b4d5c7a9fcc30aba"],"ref":"refs/changes/79/2079/6","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1497650386,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497650191,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497650206,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1497650206,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1497650418,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"bin/mmpu","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"docs/man/mchattr.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mchmod.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mget.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/minfo.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mjob.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mln.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mlogin.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mls.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmkdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmpu.md","type":"ADDED","insertions":268,"deletions":0},{"file":"docs/man/mput.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrm.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrmdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/msign.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/muntar.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/client.js","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"man/man1/mchattr.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mchmod.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mget.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/minfo.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"man/man1/mln.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mlogin.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mls.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmkdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmpu.1","type":"ADDED","insertions":271,"deletions":0},{"file":"man/man1/mput.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrm.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrmdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/msign.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/muntar.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/client.test.js","type":"MODIFIED","insertions":112,"deletions":-1},{"file":"test/mmpu.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":721,"sizeDeletions":-71},"patchSets":[{"number":"1","revision":"f35ff6b3cbe27fcf3a4dfc02f33086ab3b0760a4","parents":["a97875cfaf1961e7323dbfe8b4d5c7a9fcc30aba"],"ref":"refs/changes/79/2079/1","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1497339804,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497339831,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"bin/mmpu","line":208,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"I think an example would be great."},{"file":"bin/mmpu","line":208,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I removed this since we have a bunch of examples in the man page. Do you still think it\u0027s necessary?"},{"file":"bin/mmpu","line":208,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Ok, that\u0027s fine. As long as we have examples somewhere, I\u0027m happy :). Thanks."},{"file":"docs/man/mmpu.md","line":23,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"maybe this could be replaced with \u0027correspond to\u0027?"},{"file":"docs/man/mmpu.md","line":23,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Reworded. Let me know what you think."},{"file":"docs/man/mmpu.md","line":23,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Looks good. Thanks!"},{"file":"docs/man/mmpu.md","line":32,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Should we mention the minimum part size? I\u0027m not sure if that\u0027s out of the scope here or not."},{"file":"docs/man/mmpu.md","line":32,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I opted not to, I think that should be covered in the API documentation. (Which does not yet exist, but is my next documentation task.)"},{"file":"docs/man/mmpu.md","line":32,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Sounds good to me!"},{"file":"docs/man/mmpu.md","line":105,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"\u0027an\u0027 instead of \u0027a\u0027?"},{"file":"docs/man/mmpu.md","line":105,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/man/mmpu.md","line":113,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"missing a word"},{"file":"docs/man/mmpu.md","line":113,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/man/mmpu.md","line":205,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"This sentence feels odd. Maybe it\u0027s a bit of a run-on sentence."},{"file":"docs/man/mmpu.md","line":205,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Reworded -- let me know what you think."},{"file":"docs/man/mmpu.md","line":205,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Much better!"},{"file":"docs/man/muntar.md","line":96,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"while we\u0027re at it, this header spacing looks different from the other man docs."},{"file":"docs/man/muntar.md","line":96,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/mmpu","type":"MODIFIED","insertions":3,"deletions":-5},{"file":"docs/man/mchattr.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mchmod.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mget.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/minfo.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mjob.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mln.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mlogin.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mls.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmkdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmpu.md","type":"ADDED","insertions":267,"deletions":0},{"file":"docs/man/mput.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrm.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrmdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/msign.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/muntar.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mchattr.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mchmod.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mget.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/minfo.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"man/man1/mln.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mlogin.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mls.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmkdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmpu.1","type":"ADDED","insertions":270,"deletions":0},{"file":"man/man1/mput.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrm.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrmdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/msign.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/muntar.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":592,"sizeDeletions":-62},{"number":"2","revision":"ee2d61df273e85a4855ddf6a8af5f137109b8b91","parents":["a97875cfaf1961e7323dbfe8b4d5c7a9fcc30aba"],"ref":"refs/changes/79/2079/2","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1497385639,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497385674,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"CHANGES.md","line":6,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It looks like there\u0027s a missing newline here, at least relative to the other versions\u0027 sections.  Does it still render okay?"},{"file":"CHANGES.md","line":6,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Fixed."},{"file":"docs/man/mmpu.md","line":23,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\"the\"?"},{"file":"docs/man/mmpu.md","line":23,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Made this a bit more clearer."},{"file":"docs/man/mmpu.md","line":27,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Is it worth mentioning that these are integers starting at 0?\n\nIn some cases (e.g., \"commit\", aren\u0027t the parts referred to by their etag)?"},{"file":"docs/man/mmpu.md","line":27,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Reworded a bit. Let me know your thoughts."},{"file":"docs/man/mmpu.md","line":113,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Line wrap?"},{"file":"docs/man/mmpu.md","line":113,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/man/mmpu.md","line":205,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\"that\" began?  I found this sentence a little hard to parse."},{"file":"docs/man/mmpu.md","line":205,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Reworded."},{"file":"lib/client.js","line":3306,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Is this a major version bump?\n\nShould we assert that \"opts.headers\" is NOT present to make sure that if something was trying to use this that it explodes instead of dropping the headers?"},{"file":"lib/client.js","line":3306,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Yes, I suppose that it would be. Do you think I should explore a solution that doesn\u0027t require that?\n\nFor now, I\u0027ve added an assertion."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/mmpu","type":"MODIFIED","insertions":3,"deletions":-5},{"file":"docs/man/mchattr.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mchmod.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mget.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/minfo.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mjob.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mln.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mlogin.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mls.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmkdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmpu.md","type":"ADDED","insertions":267,"deletions":0},{"file":"docs/man/mput.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrm.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrmdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/msign.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/muntar.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/client.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"man/man1/mchattr.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mchmod.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mget.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/minfo.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"man/man1/mln.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mlogin.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mls.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmkdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmpu.1","type":"ADDED","insertions":270,"deletions":0},{"file":"man/man1/mput.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrm.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrmdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/msign.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/muntar.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":595,"sizeDeletions":-65},{"number":"3","revision":"fd714db7ca694fc443750be3e52462302f9add86","parents":["a97875cfaf1961e7323dbfe8b4d5c7a9fcc30aba"],"ref":"refs/changes/79/2079/3","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1497428625,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497428656,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"bin/mmpu","type":"MODIFIED","insertions":3,"deletions":-5},{"file":"docs/man/mchattr.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mchmod.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mget.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/minfo.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mjob.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mln.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mlogin.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mls.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmkdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmpu.md","type":"ADDED","insertions":268,"deletions":0},{"file":"docs/man/mput.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrm.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrmdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/msign.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/muntar.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/client.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"man/man1/mchattr.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mchmod.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mget.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/minfo.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"man/man1/mln.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mlogin.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mls.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmkdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmpu.1","type":"ADDED","insertions":270,"deletions":0},{"file":"man/man1/mput.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrm.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrmdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/msign.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/muntar.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/client.test.js","type":"MODIFIED","insertions":106,"deletions":-1},{"file":"test/mmpu.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":706,"sizeDeletions":-68},{"number":"4","revision":"dadc4d429dff82be85e36fe27a5c5a90cedb6de8","parents":["a97875cfaf1961e7323dbfe8b4d5c7a9fcc30aba"],"ref":"refs/changes/79/2079/4","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1497593196,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497648729,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497593227,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497622730,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"lib/client.js","line":3319,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I would have thought that jsstyle would warn about using a keyword like this without parentheses, but I guess it doesn\u0027t.  (It does for other keywords, so this is probably a jsstyle bug, but given that, I wouldn\u0027t worry about it here.)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"bin/mmpu","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"docs/man/mchattr.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mchmod.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mget.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/minfo.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mjob.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mln.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mlogin.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mls.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmkdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmpu.md","type":"ADDED","insertions":268,"deletions":0},{"file":"docs/man/mput.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrm.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrmdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/msign.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/muntar.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/client.js","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"man/man1/mchattr.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mchmod.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mget.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/minfo.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"man/man1/mln.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mlogin.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mls.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmkdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmpu.1","type":"ADDED","insertions":270,"deletions":0},{"file":"man/man1/mput.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrm.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrmdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/msign.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/muntar.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/client.test.js","type":"MODIFIED","insertions":112,"deletions":-1},{"file":"test/mmpu.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":719,"sizeDeletions":-70},{"number":"5","revision":"60ff93a1c8e1fb8e485463d6efc25d63783dd6a3","parents":["a97875cfaf1961e7323dbfe8b4d5c7a9fcc30aba"],"ref":"refs/changes/79/2079/5","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1497650153,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497650206,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1497650206,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497650191,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"bin/mmpu","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"docs/man/mchattr.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mchmod.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mget.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/minfo.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mjob.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mln.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mlogin.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mls.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmkdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmpu.md","type":"ADDED","insertions":268,"deletions":0},{"file":"docs/man/mput.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrm.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrmdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/msign.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/muntar.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/client.js","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"man/man1/mchattr.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mchmod.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mget.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/minfo.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"man/man1/mln.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mlogin.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mls.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmkdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmpu.1","type":"ADDED","insertions":271,"deletions":0},{"file":"man/man1/mput.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrm.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrmdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/msign.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/muntar.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/client.test.js","type":"MODIFIED","insertions":112,"deletions":-1},{"file":"test/mmpu.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":721,"sizeDeletions":-71},{"number":"6","revision":"f06f6e6d84855d631f9a53cc88c4b2add81c0cd1","parents":["a97875cfaf1961e7323dbfe8b4d5c7a9fcc30aba"],"ref":"refs/changes/79/2079/6","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1497650386,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1497650206,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1497650206,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497650191,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1497650418,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"bin/mmpu","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"docs/man/mchattr.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mchmod.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mfind.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mget.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/minfo.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mjob.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mln.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mlogin.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"docs/man/mls.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmkdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mmpu.md","type":"ADDED","insertions":268,"deletions":0},{"file":"docs/man/mput.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrm.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/mrmdir.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/msign.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/muntar.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/client.js","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"man/man1/mchattr.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mchmod.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mfind.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mget.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/minfo.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mjob.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"man/man1/mln.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mlogin.1","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"man/man1/mls.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmkdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/mmpu.1","type":"ADDED","insertions":271,"deletions":0},{"file":"man/man1/mput.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrm.1","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"man/man1/mrmdir.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/msign.1","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"man/man1/muntar.1","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/client.test.js","type":"MODIFIED","insertions":112,"deletions":-1},{"file":"test/mmpu.test.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":721,"sizeDeletions":-71}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}]}