{"project":"joyent/node-cueball","branch":"master","id":"I5be72f0bc1597974f19b4924abf4476ce78e8b80","number":"831","subject":"joyent/node-cueball#46 Add support for connection linger","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/831","commitMessage":"joyent/node-cueball#46 Add support for connection linger\n","createdOn":1478023457,"lastUpdated":1479769461,"open":false,"status":"ABANDONED","comments":[{"timestamp":1478023457,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1478023478,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2."},{"timestamp":1478023480,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1478023500,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1478023613,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 3."},{"timestamp":1478023668,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1478023900,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 4."},{"timestamp":1478023949,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1478555873,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4:\n\n(3 comments)"},{"timestamp":1479769461,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Abandoned"}],"currentPatchSet":{"number":"4","revision":"5be72f0bc1597974f19b4924abf4476ce78e8b80","parents":["55c6235892a4da9656694b3ecf4b9c3e41f017b4"],"ref":"refs/changes/31/831/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1478023900,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1478023949,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"README.md","line":78,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"To be clear: connections would only linger as long as they were idle and no other reshuffling was going on?  What if we decided to rebalance and as part of that we want to close this connection?"},{"file":"lib/connection-fsm.js","line":214,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I found it pretty surprising that you can subtract dates like this, but it does seem to work.  What do you think about making explicit calls to getTime() here?"},{"file":"lib/pool.js","line":491,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Why the +50 here?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/agent.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/connection-fsm.js","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/pool.js","type":"MODIFIED","insertions":42,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/pool.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":121,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"b2a6db358a8e21406dfdaded268ce04ce2a141b5","parents":["55c6235892a4da9656694b3ecf4b9c3e41f017b4"],"ref":"refs/changes/31/831/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1478023457,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1478023480,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/pool.test.js","line":425,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: missing semicolon"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/connection-fsm.js","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/pool.js","type":"MODIFIED","insertions":42,"deletions":-8},{"file":"test/pool.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":116,"sizeDeletions":-8},{"number":"2","revision":"e5d4140154f29c8f10017cec6d9ddae395f141c3","parents":["55c6235892a4da9656694b3ecf4b9c3e41f017b4"],"ref":"refs/changes/31/831/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1478023478,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1478023500,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/pool.test.js","line":425,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: missing semicolon"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/connection-fsm.js","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/pool.js","type":"MODIFIED","insertions":42,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/pool.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":117,"sizeDeletions":-9},{"number":"3","revision":"e34986aee4c20ebc97367131d75d10bc0ea95ccf","parents":["55c6235892a4da9656694b3ecf4b9c3e41f017b4"],"ref":"refs/changes/31/831/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1478023613,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1478023668,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/connection-fsm.js","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/pool.js","type":"MODIFIED","insertions":42,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/pool.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":117,"sizeDeletions":-9},{"number":"4","revision":"5be72f0bc1597974f19b4924abf4476ce78e8b80","parents":["55c6235892a4da9656694b3ecf4b9c3e41f017b4"],"ref":"refs/changes/31/831/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1478023900,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1478023949,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"README.md","line":78,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"To be clear: connections would only linger as long as they were idle and no other reshuffling was going on?  What if we decided to rebalance and as part of that we want to close this connection?"},{"file":"lib/connection-fsm.js","line":214,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I found it pretty surprising that you can subtract dates like this, but it does seem to work.  What do you think about making explicit calls to getTime() here?"},{"file":"lib/pool.js","line":491,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Why the +50 here?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/agent.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/connection-fsm.js","type":"MODIFIED","insertions":11,"deletions":0},{"file":"lib/pool.js","type":"MODIFIED","insertions":42,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/pool.test.js","type":"MODIFIED","insertions":58,"deletions":0}],"sizeInsertions":121,"sizeDeletions":-10}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}]}