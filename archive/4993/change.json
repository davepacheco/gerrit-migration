{"project":"joyent/manta","branch":"master","topic":"MANTA-3977","id":"Ib436ceb16dd11b5d8f23e63d9557fee5f60af241","number":"4993","subject":"MANTA-3977 improve manta-garbage-collector documentation Reviewed by: Robert Bogart \u003crobert.bogart@joyent.com\u003e Reviewed by: Tim Foster \u003ctim.foster@joyent.com\u003e Approved by: Robert Bogart \u003crobert.bogart@joyent.com\u003e","owner":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"url":"https://cr.joyent.us/4993","commitMessage":"MANTA-3977 improve manta-garbage-collector documentation\nReviewed by: Robert Bogart \u003crobert.bogart@joyent.com\u003e\nReviewed by: Tim Foster \u003ctim.foster@joyent.com\u003e\nApproved by: Robert Bogart \u003crobert.bogart@joyent.com\u003e\n","createdOn":1540327632,"lastUpdated":1547168281,"open":false,"status":"MERGED","comments":[{"timestamp":1540327632,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 1."},{"timestamp":1540327634,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1540327760,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 2."},{"timestamp":1540327833,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Topic set to MANTA-3977"},{"timestamp":1540327906,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1540373324,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\n(13 comments)\n\nI had a few minor comments - mostly just asking for clarification on some aspects. As I\u0027m not yet intimately familar with Manta internals, someone closer to the coal-face should probably also review."},{"timestamp":1540417963,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 2:\n\n(16 comments)\n\nIn my opinion, this was very well written.  For the most part, I only had a couple of suggestions followed by a few typos that I located.  Looks really good though."},{"timestamp":1540517446,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 2:\n\n(29 comments)\n\nThanks for reading and giving feedback guys!"},{"timestamp":1540517452,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 3."},{"timestamp":1540517454,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1540523008,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 3: Code-Review+1\n\nThanks for taking the time to iterate through all of this.  This is going to be a nice addition to the operator\u0027s guide."},{"timestamp":1540582589,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 4."},{"timestamp":1540582592,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1540585993,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1541156610,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1541808841,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 5."},{"timestamp":1541808843,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1541809769,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 6."},{"timestamp":1541809771,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1541811670,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1542299808,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1542342961,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1547168154,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1547168157,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1547168215,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 8: Commit message was updated."},{"timestamp":1547168273,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 9: Commit message was updated."},{"timestamp":1547168281,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jan Wyszynski"}],"currentPatchSet":{"number":"9","revision":"65da07c8c8ebe5b7548a6797ecf6c87a78cc3aa3","parents":["902fd6fdf6f76b42b01e64181033502a57c6acbd"],"ref":"refs/changes/93/4993/9","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1547168273,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1541809771,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541811670,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542299808,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542342961,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"SUBM","value":"1","grantedOn":1547168281,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":775,"deletions":0}],"sizeInsertions":775,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"d5c6c288043e954684645a8c2d7862ae4752c6fa","parents":["09b90cb8eaa1f705e018f0f1c3f7826b966f26e3"],"ref":"refs/changes/93/4993/1","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1540327632,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1540327634,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":675,"deletions":0}],"sizeInsertions":675,"sizeDeletions":0},{"number":"2","revision":"c4b4d69e782ad45f9c67cd9a6707da15720f5025","parents":["09b90cb8eaa1f705e018f0f1c3f7826b966f26e3"],"ref":"refs/changes/93/4993/2","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1540327760,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1540327906,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide.md","line":598,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"This seems like a good description of accelerated gc, but I wondered how an operator can tell whether this is something that would benefit their installation? If the answer is \"it\u0027s always great, so long as you don\u0027t need snaplinks\", then it might be good to be explict about that.\n\nDoes accelerated gc run in conjunction with, or instead of normal system garbage collection? If it runs in conjunction, will any deletes of existing snaplinked data get garbage collected by the normal collector (despite our enabling accelerated gc and preventing subsequent snaplinks from being written)\n\nShould this section include a short paragraph to contrast accelerated gc with the normal system gc?"},{"file":"docs/operator-guide.md","line":598,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"It will be a lower-latency space-reclamation solution for Manta users who don\u0027t need snaplinks.\n\nAccelerated GC replaces offline GC for snaplink disabled users. But typical offline garbage-collection still runs for snaplink enabled users in the same Manta deployment.\n\nI may re-write this section to draw a more explicit line between the two."},{"file":"docs/operator-guide.md","line":616,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"maybe change \u0027data\u0027 to \u0027objects\u0027?"},{"file":"docs/operator-guide.md","line":616,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"I think the \u0027is\u0027 was from a previously worded sentence?"},{"file":"docs/operator-guide.md","line":616,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":616,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":759,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Does this advice apply regardless as to whether we\u0027ve enabled accelerated garbage collection?"},{"file":"docs/operator-guide.md","line":759,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"I would say so - even if no accounts are snaplink disabled the garbage-collectors will poll the shards they are assigned to. They will do less work, but I think the deployment advice should still apply in case we re-purpose the garbage-collectors for RFD-123 in the future."},{"file":"docs/operator-guide.md","line":1104,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Related to my earlier question about existing snaplinked data, do I need to verify I have no existing snaplinks before turning on accelerated gc?"},{"file":"docs/operator-guide.md","line":1104,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Yes, I\u0027ll add this as the first step."},{"file":"docs/operator-guide.md","line":1134,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"While it doesn\u0027t sound like it would be a good idea to co-locate a gc zone on a system running a load balancer zone or nameservice zone, the main reason that *I* can think of is because if those get starved somehow it risks causing big degradation or loss of service.  That could just be my inexperience talking since I still have a lot to learn about Manta, but either way, I might briefly mention why it\u0027s a bad idea, particularly for people like me."},{"file":"docs/operator-guide.md","line":1134,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"The reasoning I had was basically what you said in your comment. I\u0027ll add a note about that."},{"file":"docs/operator-guide.md","line":1181,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"This is the first time we\u0027ve talked about a \"step\" in the process. If we\u0027re going to reference a step here, we should introduce the list of steps under the main heading, \"Deploy Accelerated Garbage Collection Components\"\n\n(I was confused because by my count, this is step 4 :-)"},{"file":"docs/operator-guide.md","line":1181,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"I\u0027d probably handle it by saying, \"Once you have verified that the collectors have been successfully deployed, run:\"."},{"file":"docs/operator-guide.md","line":1181,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":1181,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Apologies for that confusion, I removed the number of these steps, put each one into a separate section, and then forgot to update this."},{"file":"docs/operator-guide.md","line":1194,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Rookie question: Is this field automatically populated for you the first time after running the above command?"},{"file":"docs/operator-guide.md","line":1194,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"The value of the field comes from:\n\nsdc-sapi /applications?name\u003dmanta | json -Ha metadata.INDEX_MORAY_SHARDS\n\nWe basically just take that list from the SAPI Manta application distribute the elements to the garbage-collectors in the DC."},{"file":"docs/operator-guide.md","line":1210,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Maybe be explicit here and say \"The keys of the object are the uuids of the garbage-collector instances,... \""},{"file":"docs/operator-guide.md","line":1210,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":1217,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"I think this answers my above question, but I\u0027m still not sure.  If it does, I might recommend saying this a little earlier."},{"file":"docs/operator-guide.md","line":1217,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"You\u0027re right, what do you think of moving it to the paragraph before the example mapping?"},{"file":"docs/operator-guide.md","line":1264,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"typo, \u0027order\u0027"},{"file":"docs/operator-guide.md","line":1264,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":1266,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Do we mean \"subcommand\" here rather than \"mode\", in which case we could just say \"Snaplinks can be disabled using the following:\""},{"file":"docs/operator-guide.md","line":1266,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Maybe just leave out \"as well\" - the meaning is clear without it, and the reader could misinterpret it and follow on with a question \"uh, as well as what?\""},{"file":"docs/operator-guide.md","line":1266,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":1266,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":1270,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I think we\u0027re missing words here?"},{"file":"docs/operator-guide.md","line":1270,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":1275,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"any requests to DELETE snaplink objects?"},{"file":"docs/operator-guide.md","line":1275,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"In this case we\u0027re talking about link (mln) requests I think. I think it\u0027s a little confusing because what `manta-adm gc disable-snaplinks \u003cLOGIN\u003e` is doing is preventing and objects owned by the account from being snaplinked, regardless of what account is making the request."},{"file":"docs/operator-guide.md","line":2353,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"from?"},{"file":"docs/operator-guide.md","line":2353,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":2376,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"should we use GC_CONCURRENCY here rather than \u0027concurrency\u0027 to avoid confusion?"},{"file":"docs/operator-guide.md","line":2376,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":2380,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Is there a default value for this?"},{"file":"docs/operator-guide.md","line":2380,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Yeah, the default values are in the sdc-manta repo: https://github.com/joyent/sdc-manta/tree/master/config/services/garbage-collector. I\u0027m updating the value to take into account the amount of RAM available to the process (4GB) and the size of each cache entry the collector stores. Each cache entry is about 300 bytes, so the new default value in lab and prod deployments will be 12800000, which is conservative.\n\nIf it\u0027s alright with you, I\u0027d rather keep the default values for these tunables out of this document because I think they\u0027re subject to change and will vary between deployments."},{"file":"docs/operator-guide.md","line":2383,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Do we have a link to help operators determine if their CNs are experiencing above-average memory pressure, or is that expertise or documentation beyond the scope of this (or other) guides?"},{"file":"docs/operator-guide.md","line":2383,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"I think that a discussion of vmstat/paging might be a little out of scope here."},{"file":"docs/operator-guide.md","line":2385,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Generally, when we talk about default values in production, are those also the default values used by Manta out of the box as well, or are those different? Do we have documentation to help operators determine how to compute the tunables for their deployment, or do we expect that the defaults will mostly be sufficient?"},{"file":"docs/operator-guide.md","line":2385,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"There are different defaults set up for \u0027coal\u0027, \u0027lab\u0027, and \u0027production\u0027 deployments that are based on performance testing I did while I was working on the garbage-collector. These should be sufficient - As in, operators shouldn\u0027t really have to mess with these values out of the box. I think I\u0027ll get rid of the references to production values to avoid confusion here."},{"file":"docs/operator-guide.md","line":2407,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"that?"},{"file":"docs/operator-guide.md","line":2407,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":3234,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Relating to the tunables section above, are there common performance symptoms an operator might encounter while debugging that could be solved by tweaking a tunable? If so, should we include those here?"},{"file":"docs/operator-guide.md","line":3234,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Opinion: I\u0027d probably call this troubleshooting instead of debugging."},{"file":"docs/operator-guide.md","line":3234,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Agreed."},{"file":"docs/operator-guide.md","line":3234,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"There are two situations I think are worth calling out. I\u0027ll add a \"Common Tweaks\" section."},{"file":"docs/operator-guide.md","line":3270,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"being?"},{"file":"docs/operator-guide.md","line":3270,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":3305,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"For the less experienced, it might be good to say how to find the Manatee primary."},{"file":"docs/operator-guide.md","line":3305,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":3351,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"are?"},{"file":"docs/operator-guide.md","line":3351,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"},{"file":"docs/operator-guide.md","line":3374,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"because they\u0027re (the GC\u0027s) the ones responsible for removing the upload instruction object when it\u0027s done, right?  This is just me making sure that I understand."},{"file":"docs/operator-guide.md","line":3374,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"It\u0027s because the garbage-collectors should be periodically uploading new instruction objects as user objects are deleted."},{"file":"docs/operator-guide.md","line":3405,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"\"enable\"?"},{"file":"docs/operator-guide.md","line":3405,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":675,"deletions":0}],"sizeInsertions":675,"sizeDeletions":0},{"number":"3","revision":"433179e46a79e5e41b596c57f39abea06928cb1f","parents":["09b90cb8eaa1f705e018f0f1c3f7826b966f26e3"],"ref":"refs/changes/93/4993/3","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1540517452,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1540517454,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1540523008,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":739,"deletions":0}],"sizeInsertions":739,"sizeDeletions":0},{"number":"4","revision":"7ef7b22f38f8e1fbfe86c1fda8a3547fc99f84fa","parents":["09b90cb8eaa1f705e018f0f1c3f7826b966f26e3"],"ref":"refs/changes/93/4993/4","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1540582589,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1540582592,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1540585993,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1541156610,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":750,"deletions":0}],"sizeInsertions":750,"sizeDeletions":0},{"number":"5","revision":"db3483521030c226cbb78f307fa99193be956a0d","parents":["09b90cb8eaa1f705e018f0f1c3f7826b966f26e3"],"ref":"refs/changes/93/4993/5","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1541808841,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1541808843,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":773,"deletions":0}],"sizeInsertions":773,"sizeDeletions":0},{"number":"6","revision":"cb54fe910b9f4cb2b8bc370d46e40df16180f783","parents":["09b90cb8eaa1f705e018f0f1c3f7826b966f26e3"],"ref":"refs/changes/93/4993/6","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1541809769,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1541809771,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541811670,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542342961,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542299808,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":775,"deletions":0}],"sizeInsertions":775,"sizeDeletions":0},{"number":"7","revision":"b436ceb16dd11b5d8f23e63d9557fee5f60af241","parents":["902fd6fdf6f76b42b01e64181033502a57c6acbd"],"ref":"refs/changes/93/4993/7","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1547168154,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1541809771,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541811670,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542342961,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542299808,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":775,"deletions":0}],"sizeInsertions":775,"sizeDeletions":0},{"number":"8","revision":"3330572984352bd6810a167eb60e96119db196d6","parents":["902fd6fdf6f76b42b01e64181033502a57c6acbd"],"ref":"refs/changes/93/4993/8","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1547168215,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1541809771,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541811670,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542342961,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542299808,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":775,"deletions":0}],"sizeInsertions":775,"sizeDeletions":0},{"number":"9","revision":"65da07c8c8ebe5b7548a6797ecf6c87a78cc3aa3","parents":["902fd6fdf6f76b42b01e64181033502a57c6acbd"],"ref":"refs/changes/93/4993/9","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1547168273,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1541809771,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1547168281,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541811670,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542342961,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542299808,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":775,"deletions":0}],"sizeInsertions":775,"sizeDeletions":0}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}]}