{"project":"joyent/sdc-firewaller-agent","branch":"master","topic":"FWAPI-240","id":"I45c884002a799c15288a39d48a5384cb53d094fe","number":"485","subject":"FWAPI-240 fwadm(1M) should avoid conflicting with concurrent runs FWAPI-254 Sync w/ smartos-live up to FWAPI-253 Reviewed by: Matt Smillie \u003cmatt.smillie@joyent.com\u003e Approved by: Matt Smillie \u003cmatt.smillie@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/485","commitMessage":"FWAPI-240 fwadm(1M) should avoid conflicting with concurrent runs\nFWAPI-254 Sync w/ smartos-live up to FWAPI-253\nReviewed by: Matt Smillie \u003cmatt.smillie@joyent.com\u003e\nApproved by: Matt Smillie \u003cmatt.smillie@joyent.com\u003e\n","createdOn":1474059595,"lastUpdated":1474062242,"open":false,"status":"MERGED","comments":[{"timestamp":1474059595,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1474059624,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1474059644,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to FWAPI-240"},{"timestamp":1474062084,"reviewer":{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1474062219,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1474062242,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"2","revision":"9fb35106f01db0f1a0539d28095f2aed43b01477","parents":["d271cbb4bd65d46d9ddd9408fcf3010a83ccda1e"],"ref":"refs/changes/85/485/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1474062219,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474059624,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474062084,"by":{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474062084,"by":{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"}},{"type":"SUBM","value":"1","grantedOn":1474062242,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"deps/fw-overlay/lib/locker.js","type":"ADDED","insertions":111,"deletions":0},{"file":"deps/fw/lib/cli.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"deps/fw/lib/filter.js","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"deps/fw/lib/fw.js","type":"MODIFIED","insertions":257,"deletions":-138},{"file":"deps/fw/lib/fwadm.js","type":"MODIFIED","insertions":198,"deletions":-85},{"file":"deps/fw/lib/ipf.js","type":"MODIFIED","insertions":38,"deletions":-59},{"file":"deps/fw/lib/locker.js","type":"ADDED","insertions":116,"deletions":0},{"file":"deps/fw/lib/rvm.js","type":"MODIFIED","insertions":17,"deletions":-5},{"file":"deps/fw/lib/util/log.js","type":"MODIFIED","insertions":35,"deletions":-31},{"file":"deps/fw/lib/util/vm.js","type":"MODIFIED","insertions":9,"deletions":-7},{"file":"deps/fw/man/fwadm.1m.md","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/fw/man/fwadm.1m.md.in","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/fw/man/fwrule.5.footer","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/man/fwrule.5.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/node_modules/assert-plus/README.md","type":"MODIFIED","insertions":57,"deletions":-21},{"file":"deps/fw/node_modules/assert-plus/index.js","type":"MODIFIED","insertions":176,"deletions":-161},{"file":"deps/fw/node_modules/cmdln/index.js","type":"MODIFIED","insertions":1183,"deletions":-117},{"file":"deps/fw/node_modules/dashdash.js","type":"ADDED","insertions":1055,"deletions":0},{"file":"deps/fw/node_modules/dashdash/LICENSE.txt","type":"DELETED","insertions":0,"deletions":-24},{"file":"deps/fw/node_modules/dashdash/index.js","type":"DELETED","insertions":0,"deletions":-591},{"file":"deps/fw/node_modules/fuzzyset.js/README.rst","type":"ADDED","insertions":133,"deletions":0},{"file":"deps/fw/node_modules/fuzzyset.js/index.js","type":"ADDED","insertions":288,"deletions":0},{"file":"deps/fw/node_modules/verror.js","type":"MODIFIED","insertions":99,"deletions":-7},{"file":"deps/fw/package.json","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"deps/fw/test/lib/mocks.js","type":"MODIFIED","insertions":60,"deletions":-42},{"file":"deps/fw/test/unit/add.test.js","type":"MODIFIED","insertions":49,"deletions":-7},{"file":"deps/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":122,"deletions":0},{"file":"deps/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"deps/fw/tools/jsl.node.conf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/agent.js","type":"MODIFIED","insertions":14,"deletions":-5},{"file":"lib/tasks/sync.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":4077,"sizeDeletions":-1338},"patchSets":[{"number":"1","revision":"45c884002a799c15288a39d48a5384cb53d094fe","parents":["d271cbb4bd65d46d9ddd9408fcf3010a83ccda1e"],"ref":"refs/changes/85/485/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1474059595,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474059624,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474062084,"by":{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474062084,"by":{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"deps/fw-overlay/lib/locker.js","type":"ADDED","insertions":111,"deletions":0},{"file":"deps/fw/lib/cli.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"deps/fw/lib/filter.js","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"deps/fw/lib/fw.js","type":"MODIFIED","insertions":257,"deletions":-138},{"file":"deps/fw/lib/fwadm.js","type":"MODIFIED","insertions":198,"deletions":-85},{"file":"deps/fw/lib/ipf.js","type":"MODIFIED","insertions":38,"deletions":-59},{"file":"deps/fw/lib/locker.js","type":"ADDED","insertions":116,"deletions":0},{"file":"deps/fw/lib/rvm.js","type":"MODIFIED","insertions":17,"deletions":-5},{"file":"deps/fw/lib/util/log.js","type":"MODIFIED","insertions":35,"deletions":-31},{"file":"deps/fw/lib/util/vm.js","type":"MODIFIED","insertions":9,"deletions":-7},{"file":"deps/fw/man/fwadm.1m.md","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/fw/man/fwadm.1m.md.in","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/fw/man/fwrule.5.footer","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/man/fwrule.5.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/node_modules/assert-plus/README.md","type":"MODIFIED","insertions":57,"deletions":-21},{"file":"deps/fw/node_modules/assert-plus/index.js","type":"MODIFIED","insertions":176,"deletions":-161},{"file":"deps/fw/node_modules/cmdln/index.js","type":"MODIFIED","insertions":1183,"deletions":-117},{"file":"deps/fw/node_modules/dashdash.js","type":"ADDED","insertions":1055,"deletions":0},{"file":"deps/fw/node_modules/dashdash/LICENSE.txt","type":"DELETED","insertions":0,"deletions":-24},{"file":"deps/fw/node_modules/dashdash/index.js","type":"DELETED","insertions":0,"deletions":-591},{"file":"deps/fw/node_modules/fuzzyset.js/README.rst","type":"ADDED","insertions":133,"deletions":0},{"file":"deps/fw/node_modules/fuzzyset.js/index.js","type":"ADDED","insertions":288,"deletions":0},{"file":"deps/fw/node_modules/verror.js","type":"MODIFIED","insertions":99,"deletions":-7},{"file":"deps/fw/package.json","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"deps/fw/test/lib/mocks.js","type":"MODIFIED","insertions":60,"deletions":-42},{"file":"deps/fw/test/unit/add.test.js","type":"MODIFIED","insertions":49,"deletions":-7},{"file":"deps/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":122,"deletions":0},{"file":"deps/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"deps/fw/tools/jsl.node.conf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/agent.js","type":"MODIFIED","insertions":14,"deletions":-5},{"file":"lib/tasks/sync.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":4077,"sizeDeletions":-1338},{"number":"2","revision":"9fb35106f01db0f1a0539d28095f2aed43b01477","parents":["d271cbb4bd65d46d9ddd9408fcf3010a83ccda1e"],"ref":"refs/changes/85/485/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1474062219,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1474062242,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474059624,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474062084,"by":{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474062084,"by":{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"deps/fw-overlay/lib/locker.js","type":"ADDED","insertions":111,"deletions":0},{"file":"deps/fw/lib/cli.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"deps/fw/lib/filter.js","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"deps/fw/lib/fw.js","type":"MODIFIED","insertions":257,"deletions":-138},{"file":"deps/fw/lib/fwadm.js","type":"MODIFIED","insertions":198,"deletions":-85},{"file":"deps/fw/lib/ipf.js","type":"MODIFIED","insertions":38,"deletions":-59},{"file":"deps/fw/lib/locker.js","type":"ADDED","insertions":116,"deletions":0},{"file":"deps/fw/lib/rvm.js","type":"MODIFIED","insertions":17,"deletions":-5},{"file":"deps/fw/lib/util/log.js","type":"MODIFIED","insertions":35,"deletions":-31},{"file":"deps/fw/lib/util/vm.js","type":"MODIFIED","insertions":9,"deletions":-7},{"file":"deps/fw/man/fwadm.1m.md","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/fw/man/fwadm.1m.md.in","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"deps/fw/man/fwrule.5.footer","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/man/fwrule.5.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/node_modules/assert-plus/README.md","type":"MODIFIED","insertions":57,"deletions":-21},{"file":"deps/fw/node_modules/assert-plus/index.js","type":"MODIFIED","insertions":176,"deletions":-161},{"file":"deps/fw/node_modules/cmdln/index.js","type":"MODIFIED","insertions":1183,"deletions":-117},{"file":"deps/fw/node_modules/dashdash.js","type":"ADDED","insertions":1055,"deletions":0},{"file":"deps/fw/node_modules/dashdash/LICENSE.txt","type":"DELETED","insertions":0,"deletions":-24},{"file":"deps/fw/node_modules/dashdash/index.js","type":"DELETED","insertions":0,"deletions":-591},{"file":"deps/fw/node_modules/fuzzyset.js/README.rst","type":"ADDED","insertions":133,"deletions":0},{"file":"deps/fw/node_modules/fuzzyset.js/index.js","type":"ADDED","insertions":288,"deletions":0},{"file":"deps/fw/node_modules/verror.js","type":"MODIFIED","insertions":99,"deletions":-7},{"file":"deps/fw/package.json","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"deps/fw/test/lib/mocks.js","type":"MODIFIED","insertions":60,"deletions":-42},{"file":"deps/fw/test/unit/add.test.js","type":"MODIFIED","insertions":49,"deletions":-7},{"file":"deps/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":122,"deletions":0},{"file":"deps/fw/test/unit/vms.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"deps/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"deps/fw/tools/jsl.node.conf","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/agent.js","type":"MODIFIED","insertions":14,"deletions":-5},{"file":"lib/tasks/sync.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":4077,"sizeDeletions":-1338}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Matthew Smillie","email":"matt.smillie@joyent.com","username":"notmatt"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}