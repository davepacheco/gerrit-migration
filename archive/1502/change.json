{"project":"joyent/sdc-napi","branch":"master","id":"Ic40e90e08318656da63ce5d4b1ea99677c16f6aa","number":"1502","subject":"NAPI-121 Allow searching network pools by name and networks NAPI-386 Want description for network pools NAPI-395 Network pools should only contain networks of the same address family Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Alex Wils","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/1502","commitMessage":"NAPI-121 Allow searching network pools by name and networks\nNAPI-386 Want description for network pools\nNAPI-395 Network pools should only contain networks of the same address family\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1486844571,"lastUpdated":1487201929,"open":false,"status":"MERGED","comments":[{"timestamp":1486844571,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1486844688,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1486849299,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1486849419,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1487021430,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1487021539,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487039466,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1487039572,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487188276,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4:\n\n(2 comments)"},{"timestamp":1487189305,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5."},{"timestamp":1487189315,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4:\n\n(2 comments)"},{"timestamp":1487189434,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487195524,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1487201179,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 5: Integration-Approval+1"},{"timestamp":1487201268,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6: Commit message was updated."},{"timestamp":1487201372,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 7."},{"timestamp":1487201521,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1487201929,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"7","revision":"c40e90e08318656da63ce5d4b1ea99677c16f6aa","parents":["e7f1ccfdfc8783a0f9222650bba20797e6b28864"],"ref":"refs/changes/02/1502/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1487201372,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1487201521,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1487201521,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1487201929,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":37,"deletions":-19},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":249,"deletions":-96},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":25,"deletions":-24},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":768,"sizeDeletions":-215},"patchSets":[{"number":"1","revision":"e59af89c3c6b100b33de1e73c3063593ce4d296d","parents":["83042619074c48e7603954283f609fd4ecad63aa"],"ref":"refs/changes/02/1502/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1486844571,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486844688,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":35,"deletions":-18},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":245,"deletions":-92},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":19,"deletions":-22},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":756,"sizeDeletions":-208},{"number":"2","revision":"096a660a354798fb56ca95509e4062216e94fa8d","parents":["9d6de42a30fca398931f8ea29f00ddeb63bbde12"],"ref":"refs/changes/02/1502/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1486849299,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486844688,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":35,"deletions":-18},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":245,"deletions":-92},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":19,"deletions":-22},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":756,"sizeDeletions":-208},{"number":"3","revision":"44449dcfd1352170f07328f033c5e2cb9fc1830f","parents":["9d6de42a30fca398931f8ea29f00ddeb63bbde12"],"ref":"refs/changes/02/1502/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1487021430,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487021539,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":37,"deletions":-19},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":245,"deletions":-92},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":19,"deletions":-22},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":758,"sizeDeletions":-209},{"number":"4","revision":"980439154fe2dd14aac4b8a03bca5e6ef9b6a0c4","parents":["9d6de42a30fca398931f8ea29f00ddeb63bbde12"],"ref":"refs/changes/02/1502/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1487039466,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487039572,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/models/network-pool.js","line":176,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Why is this called err3? Are there actually 3 other errs in scope here?"},{"file":"lib/models/network-pool.js","line":176,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"No, this is left over from some earlier refactoring, when I moved this logic into its own function. I\u0027ll update it."},{"file":"lib/models/network-pool.js","line":271,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I feel like I\u0027m being \"that guy\" now, but can we make this local named \"family\" too?"},{"file":"lib/models/network-pool.js","line":271,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":37,"deletions":-19},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":249,"deletions":-96},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":25,"deletions":-24},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":768,"sizeDeletions":-215},{"number":"5","revision":"975ac8c3db2d2423f6a60039601d1c2286697cce","parents":["9d6de42a30fca398931f8ea29f00ddeb63bbde12"],"ref":"refs/changes/02/1502/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1487189305,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1487195524,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1487201179,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487189434,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":37,"deletions":-19},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":249,"deletions":-96},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":25,"deletions":-24},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":768,"sizeDeletions":-215},{"number":"6","revision":"c2f3c2ec8cf89778d0aa20faa5a269e42adf1ad3","parents":["9d6de42a30fca398931f8ea29f00ddeb63bbde12"],"ref":"refs/changes/02/1502/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1487201268,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1487195524,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1487201179,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487189434,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":37,"deletions":-19},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":249,"deletions":-96},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":25,"deletions":-24},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":768,"sizeDeletions":-215},{"number":"7","revision":"c40e90e08318656da63ce5d4b1ea99677c16f6aa","parents":["e7f1ccfdfc8783a0f9222650bba20797e6b28864"],"ref":"refs/changes/02/1502/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1487201372,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"SUBM","value":"1","grantedOn":1487201929,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1487201521,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1487201521,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":37,"deletions":-19},{"file":"lib/endpoints/networks/index.js","type":"MODIFIED","insertions":12,"deletions":-15},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":249,"deletions":-96},{"file":"lib/models/network.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/integration/network-overlap.test.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":25,"deletions":-24},{"file":"test/integration/network-pools.test.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/mock-moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/pool.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":405,"deletions":-41}],"sizeInsertions":768,"sizeDeletions":-215}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}