{"project":"joyent/mountain-gorilla","branch":"master","id":"I9d541df32e833526891f058cf778942dfe73f109","number":"3498","subject":"TRITON-182 allow MG builds to use previous releases from specific components when latest release missing Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"url":"https://cr.joyent.us/3498","commitMessage":"TRITON-182 allow MG builds to use previous releases from specific components when latest release missing\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1519763790,"lastUpdated":1519855095,"open":false,"status":"MERGED","comments":[{"timestamp":1519763790,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 1."},{"timestamp":1519763801,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1519772493,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(4 comments)\n\nI didn\u0027t look super carefully, but this looks good."},{"timestamp":1519773810,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1519779598,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1519784209,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1519784223,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 4."},{"timestamp":1519794818,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1519841955,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 5."},{"timestamp":1519841971,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1519842019,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1519854796,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1"},{"timestamp":1519855085,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 7: Commit message was updated."},{"timestamp":1519855095,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Julien Gilli"}],"currentPatchSet":{"number":"7","revision":"56c8e98f0903dea4d950cdcd763fbbb22b13f424","parents":["c53c73b4a97b86349ac8480fa20f67b5756a7ed6"],"ref":"refs/changes/98/3498/7","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519855085,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519854796,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519854796,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1519855095,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21},"patchSets":[{"number":"1","revision":"d015157f257943931df59344c335a2879794d8ab","parents":["076f05feb6398d385e06e5b5db605e5a7fe1ee42"],"ref":"refs/changes/98/3498/1","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519763790,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21},{"number":"2","revision":"1d9d8fc1ef0468403f3dc5064ad419d6c447db87","parents":["8cae3aa38de1d546f6deb5d07a20c8cf1d4229b1"],"ref":"refs/changes/98/3498/2","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519763801,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","comments":[{"file":"configure","line":294,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Isn\u0027t there a targets.json#$target.public boolean for this?"},{"file":"configure","line":294,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"There is! I hadn\u0027t noticed that. Will change."},{"file":"configure","line":294,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"configure","line":304,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I think that check would match \"cmon-agent\" for the \"cmon\" build. One cheat around that that I\u0027ve done is to prepend and append a comma to $CONSIDER_PREV_RELEASES_FOR and grep for `\",$target_base,\"`."},{"file":"configure","line":304,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes, that sounds like a good suggestion. Will fix."},{"file":"configure","line":304,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"configure","line":339,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"This should be after the `done`, no? To match up with the `set +o errexit` above."},{"file":"configure","line":339,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes, it should, my bad."},{"file":"configure","line":339,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"configure","line":588,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"perhaps do NOT allow spaces here; strict comma-separated"},{"file":"configure","line":588,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes, I don\u0027t know why I left a space here."},{"file":"configure","line":588,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21},{"number":"3","revision":"0043bcb6d28f29d18f30a79e7f63a8280215b5c4","parents":["c53c73b4a97b86349ac8480fa20f67b5756a7ed6"],"ref":"refs/changes/98/3498/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519779598,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21},{"number":"4","revision":"c35b334003c149e79b61cb9faf07ea40fc323e81","parents":["076f05feb6398d385e06e5b5db605e5a7fe1ee42"],"ref":"refs/changes/98/3498/4","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519784223,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519794818,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519794818,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"configure","line":295,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"FWIW should be able to do `| $JSON ${target_base}.public`."},{"file":"configure","line":295,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good point, fixed."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21},{"number":"5","revision":"9d541df32e833526891f058cf778942dfe73f109","parents":["076f05feb6398d385e06e5b5db605e5a7fe1ee42"],"ref":"refs/changes/98/3498/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519841955,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21},{"number":"6","revision":"3a6afc6ab9c648b398f342e52df006ec0f8b1a4a","parents":["c53c73b4a97b86349ac8480fa20f67b5756a7ed6"],"ref":"refs/changes/98/3498/6","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519842019,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519854796,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519854796,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21},{"number":"7","revision":"56c8e98f0903dea4d950cdcd763fbbb22b13f424","parents":["c53c73b4a97b86349ac8480fa20f67b5756a7ed6"],"ref":"refs/changes/98/3498/7","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1519855085,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519854796,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519854796,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1519855095,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":46,"deletions":-20},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":5,"deletions":-1}],"sizeInsertions":51,"sizeDeletions":-21}],"allReviewers":[{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}