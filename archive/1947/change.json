{"project":"joyent/sdc-designation","branch":"master","topic":"RFD 43","id":"Ifb53f9d520c3f4c6f4442644ce6ef8b3ceb93333","number":"1947","subject":"DAPI-340 Allow VMs to provide NIC tag alternatives Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/1947","commitMessage":"DAPI-340 Allow VMs to provide NIC tag alternatives\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nReviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1494607860,"lastUpdated":1496427146,"open":false,"status":"MERGED","comments":[{"timestamp":1494607860,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1494607898,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to RFD 43"},{"timestamp":1494608014,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1494945277,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1: Code-Review+1\n\n(2 comments)"},{"timestamp":1495023052,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1: -Code-Review\n\n(1 comment)\n\nI\u0027d suggest adding a test or two to tests/validations.test.js to cover the nic_tag_requirements validation. Also, the docs/index.md could use some additions on this."},{"timestamp":1495053315,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1495053324,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1495053350,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495053406,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1495071039,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2: Code-Review+1\n\nLGTM. I\u0027ll vote IA once the docs and validations.test.js is updated."},{"timestamp":1495667178,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1495678112,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1495678138,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495678171,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3:\n\n(4 comments)"},{"timestamp":1495805754,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1496337369,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1496425737,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5."},{"timestamp":1496425762,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496426536,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1496427146,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"5","revision":"fb53f9d520c3f4c6f4442644ce6ef8b3ceb93333","parents":["f66ba1897f0eafcc3439d0af39555a3bdaebce4c"],"ref":"refs/changes/47/1947/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1496425737,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496425762,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496426536,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496426536,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1496427146,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/algorithms/hard-filter-vlans.js","type":"MODIFIED","insertions":88,"deletions":-40},{"file":"lib/validations.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/algorithms/hard-filter-vlans.test.js","type":"MODIFIED","insertions":158,"deletions":-68},{"file":"test/integration.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":259,"sizeDeletions":-116},"patchSets":[{"number":"1","revision":"431deb19fd6390d1edd3558ad368f11dbb536b39","parents":["f66ba1897f0eafcc3439d0af39555a3bdaebce4c"],"ref":"refs/changes/47/1947/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1494607860,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494608014,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/algorithms/hard-filter-vlans.js","line":21,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Slightly confusing wording. :)"},{"file":"lib/algorithms/hard-filter-vlans.js","line":21,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve reworded this to hopefully be clearer."},{"file":"lib/validations.js","line":263,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I think the schema diff in CR exports nic_tag_reqs, not nic_tags?"},{"file":"lib/validations.js","line":263,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Yep, thanks for noticing that! I changed it at the last moment and then forgot to update it here."},{"file":"package.json","line":11,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Okay. Just don\u0027t forget to change this. :)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/algorithms/hard-filter-vlans.js","type":"MODIFIED","insertions":84,"deletions":-40},{"file":"lib/validations.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/algorithms/hard-filter-vlans.test.js","type":"MODIFIED","insertions":158,"deletions":-68},{"file":"test/integration.test.js","type":"MODIFIED","insertions":4,"deletions":-4}],"sizeInsertions":253,"sizeDeletions":-114},{"number":"2","revision":"d487752a0edb3f56d40c1f4616ba0fd005dbbf87","parents":["f66ba1897f0eafcc3439d0af39555a3bdaebce4c"],"ref":"refs/changes/47/1947/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1495053315,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495053350,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495071039,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"lib/algorithms/hard-filter-vlans.js","line":60,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Might want to assert that we have received an opts.vm object here."},{"file":"lib/algorithms/hard-filter-vlans.js","line":60,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/algorithms/hard-filter-vlans.js","line":133,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Worth asserting that interfaces, vnics are defined and of the correct types."},{"file":"lib/algorithms/hard-filter-vlans.js","line":133,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"lib/validations.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"2017"},{"file":"lib/validations.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"test/integration.test.js","line":8,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"2017"},{"file":"test/integration.test.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/algorithms/hard-filter-vlans.js","type":"MODIFIED","insertions":84,"deletions":-40},{"file":"lib/validations.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/algorithms/hard-filter-vlans.test.js","type":"MODIFIED","insertions":158,"deletions":-68},{"file":"test/integration.test.js","type":"MODIFIED","insertions":4,"deletions":-4}],"sizeInsertions":253,"sizeDeletions":-114},{"number":"3","revision":"5961fe52e49b1bad941fd3556aa0e5fcce35cd72","parents":["f66ba1897f0eafcc3439d0af39555a3bdaebce4c"],"ref":"refs/changes/47/1947/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1495678112,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495678138,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495805754,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1495805754,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/algorithms/hard-filter-vlans.js","type":"MODIFIED","insertions":88,"deletions":-40},{"file":"lib/validations.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/algorithms/hard-filter-vlans.test.js","type":"MODIFIED","insertions":158,"deletions":-68},{"file":"test/integration.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":259,"sizeDeletions":-116},{"number":"4","revision":"a3fbb882ba5d892b95abc11319ba8a6e807e9480","parents":["f66ba1897f0eafcc3439d0af39555a3bdaebce4c"],"ref":"refs/changes/47/1947/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1496337369,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495678138,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495805754,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1495805754,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/algorithms/hard-filter-vlans.js","type":"MODIFIED","insertions":88,"deletions":-40},{"file":"lib/validations.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/algorithms/hard-filter-vlans.test.js","type":"MODIFIED","insertions":158,"deletions":-68},{"file":"test/integration.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":259,"sizeDeletions":-116},{"number":"5","revision":"fb53f9d520c3f4c6f4442644ce6ef8b3ceb93333","parents":["f66ba1897f0eafcc3439d0af39555a3bdaebce4c"],"ref":"refs/changes/47/1947/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1496425737,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"SUBM","value":"1","grantedOn":1496427146,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496425762,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496426536,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496426536,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/algorithms/hard-filter-vlans.js","type":"MODIFIED","insertions":88,"deletions":-40},{"file":"lib/validations.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/algorithms/hard-filter-vlans.test.js","type":"MODIFIED","insertions":158,"deletions":-68},{"file":"test/integration.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":259,"sizeDeletions":-116}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}]}