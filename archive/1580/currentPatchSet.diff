From e5cabc258097844a5587a371740b7f1d74918853 Mon Sep 17 00:00:00 2001
From: Todd Whiteman <todd.whiteman@joyent.com>
Date: Mon, 27 Feb 2017 11:35:05 -0800
Subject: [PATCH] DOCKER-930 Deprecate support for remote API versions below
 1.20

---
 lib/constants.js                    | 2 +-
 test/integration/apiversion.test.js | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/lib/constants.js b/lib/constants.js
index 1a577ba..a2bc17d 100644
--- a/lib/constants.js
+++ b/lib/constants.js
@@ -10,7 +10,7 @@ module.exports = {
     // The minimum remote API version supported - clients using a version less
     // than this will be rejected. Can be null, which means there is no
     // minimum version.
-    MIN_API_VERSION: '1.18',
+    MIN_API_VERSION: '1.20',
 
     // The maximum remote API version supported - clients using a version
     // greater than this will be rejected. Can be null, which means there is
diff --git a/test/integration/apiversion.test.js b/test/integration/apiversion.test.js
index b88e2f7..d0c67a4 100644
--- a/test/integration/apiversion.test.js
+++ b/test/integration/apiversion.test.js
@@ -120,6 +120,7 @@ test('apiversion', function (tt) {
 
     testVersionHandling();        // no version
     testVersionHandling('v1.14', { shouldFail: true }); // unsupported version
+    testVersionHandling('v1.19', { shouldFail: true }); // unsupported version
     testVersionHandling('v' + constants.MIN_API_VERSION); // min ver
     testVersionHandling('v' + constants.API_VERSION); // current ver
     testVersionHandling('v9.99'); // future version
-- 
2.21.0

