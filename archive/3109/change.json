{"project":"joyent/manta-muskie","branch":"master","id":"I08239fe9baac6973823444f90e163f101e5fac53","number":"3109","subject":"MANTA-3488 poseidon should be able to write when Manta is otherwise full for users Reviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e Reviewed by: Jared Morrow \u003cjm@joyent.com\u003e","owner":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"url":"https://cr.joyent.us/3109","commitMessage":"MANTA-3488 poseidon should be able to write when Manta is otherwise full for users\nReviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\nReviewed by: Jared Morrow \u003cjm@joyent.com\u003e\n","createdOn":1513203772,"lastUpdated":1527866829,"open":false,"status":"MERGED","comments":[{"timestamp":1513203772,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 1."},{"timestamp":1513203774,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit fa2f9e661a4aebb1e64c68161ed6a9b7bf286705\n    \n    MANTA-3488 poseidon should be able to write when Manta is otherwise full for users"},{"timestamp":1513203800,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1513204585,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 2."},{"timestamp":1513204587,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit cfb1cbb265a72bed9ace9984155131ae5ee1f354\n    \n    MANTA-3488 poseidon should be able to write when Manta is otherwise full for users"},{"timestamp":1513204614,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1513712612,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 3."},{"timestamp":1513712614,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 504e3a30c26c966421ce25c7722c6b7512c50259\n    \n    MANTA-3488 poseidon should be able to write when Manta is otherwise full for users"},{"timestamp":1513712646,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515786058,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 3:\n\n(9 comments)"},{"timestamp":1516641265,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 4."},{"timestamp":1516641266,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit df1731b00d3b6a570b969384465e39e600e2c4f0\n    \n    Updates based on review feedback"},{"timestamp":1516641294,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516641323,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\n(9 comments)"},{"timestamp":1518617278,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1519830130,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1520632173,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 5."},{"timestamp":1520632174,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 8333fb760eeac3a6c9af3f4a953393a4b6fbb3c2\n    \n    Updates based on review feedback\n    \n    commit d35206bd0f168e5254b425e0422e6eafd7b66bc2\n    \n    MANTA-3488 poseidon should be able to write when Manta is otherwise full for users"},{"timestamp":1520638203,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1521062586,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 6."},{"timestamp":1521062589,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 921d11a2c71f267ab5313ef47f47cb21e134151a\n    \n    Integrate changes with mpicker tool"},{"timestamp":1521233181,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6:\n\n(10 comments)\n\nSorry for the delay on reviewing this. It\u0027s been a busy couple of days!"},{"timestamp":1521495731,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 6:\n\n(3 comments)"},{"timestamp":1521499095,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1521500535,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 6:\n\n\u003e (1 comment)\n\nI\u0027ll give that a shot while I\u0027m making the other edits."},{"timestamp":1521586530,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 7."},{"timestamp":1521586531,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 69b205f6cd1ee7aa7af0a64cab9e753e31bbd549\n    \n    Review feedback updates"},{"timestamp":1521649651,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 7:\n\n(5 comments)"},{"timestamp":1522160617,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1522165633,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 8."},{"timestamp":1522165635,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit e116608fb7d572ffd6d92438d96fba438f159709\n    \n    More review updates"},{"timestamp":1522275805,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1522277994,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1522428557,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525125702,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 8: Integration-Approval+1"},{"timestamp":1525126392,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 8: -Integration-Approval"},{"timestamp":1526418001,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 9."},{"timestamp":1526418004,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 9:\n\nNew commits:\n    \n    commit 165f6e5333cdfcfb7413e217c73d79bd9ff7ca6b\n    \n    More updates based on review feedback\n    \n    commit ca7b2e7e13658aea5eb46b8d91c752e4d213ba7b\n    \n    More review updates\n    \n    commit 5075985d42f733da3d385ae3a34d60e67b349147\n    \n    Review feedback updates\n    \n    commit 43831e73bbd6d79101b452d406a3e6880c186764\n    \n    Integrate changes with mpicker tool\n    \n    commit 0ef00c5347cc11d07e62f69d98c96086bc0b8dcc\n    \n    Updates based on review feedback\n    \n    commit 1e08d2ebba34141c62245e2d5586982b0a082bbc\n    \n    MANTA-3488 poseidon should be able to write when Manta is otherwise full for users"},{"timestamp":1526418033,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526419454,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 10: Patch Set 8 was rebased"},{"timestamp":1526419486,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1526918067,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 11: Patch Set 10 was rebased"},{"timestamp":1526918099,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11:\n\n\"make check\" passed ok"},{"timestamp":1527786878,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 12."},{"timestamp":1527786910,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12:\n\n\"make check\" passed ok"},{"timestamp":1527793932,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1527794740,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1527800708,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 12: Integration-Approval+1"},{"timestamp":1527866829,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kelly McLaughlin"}],"currentPatchSet":{"number":"12","revision":"08239fe9baac6973823444f90e163f101e5fac53","parents":["afd0a3aae1c910298cbf05ef67035216884da92e"],"ref":"refs/changes/09/3109/12","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1527786878,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526418033,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527793932,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527794740,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527800708,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1527866828,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":25,"deletions":-10},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":281,"deletions":-187},{"file":"main.js","type":"MODIFIED","insertions":87,"deletions":-17},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":397,"sizeDeletions":-216},"patchSets":[{"number":"1","revision":"76a22435d7e9f48a62549ac939327a590250466e","parents":["a5f88038c3c740acfe1a205d0925fd909cefdd94"],"ref":"refs/changes/09/3109/1","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1513203772,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513203800,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":240,"deletions":-150},{"file":"main.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":286,"sizeDeletions":-153},{"number":"2","revision":"23e22c252e6483f715f7432bdb136b28efc0535b","parents":["a5f88038c3c740acfe1a205d0925fd909cefdd94"],"ref":"refs/changes/09/3109/2","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1513204585,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513204614,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":238,"deletions":-150},{"file":"main.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":284,"sizeDeletions":-153},{"number":"3","revision":"a1d48fe82acd83fa401f203f01ee1b69f414b9b5","parents":["f0bada24a3811e8e435f87664b5be9717c6f2d67"],"ref":"refs/changes/09/3109/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1513712612,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513712646,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/picker.js","line":134,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"s/comparision/comparison/"},{"file":"lib/picker.js","line":134,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/picker.js","line":191,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"This code is no longer in `function pollStorage` so the comment should probably be updated."},{"file":"lib/picker.js","line":191,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/picker.js","line":199,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Same as above"},{"file":"lib/picker.js","line":199,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/picker.js","line":200,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"nit: 4-space indent"},{"file":"lib/picker.js","line":200,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/picker.js","line":207,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Though a trace, should also probably be updated"},{"file":"lib/picker.js","line":207,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/picker.js","line":239,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"s/pollStorage/handleStorageResults/"},{"file":"lib/picker.js","line":239,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/picker.js","line":240,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"nit: 4-space indent"},{"file":"lib/picker.js","line":240,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/picker.js","line":260,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"comment mentions \"less than or equal\", but this is only allowing less than"},{"file":"lib/picker.js","line":260,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"main.js","line":217,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"nit: 4-space indent"},{"file":"main.js","line":217,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":238,"deletions":-150},{"file":"main.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":284,"sizeDeletions":-153},{"number":"4","revision":"b7a3133d779cc2f89001d764ed4041ba7c34974e","parents":["dc4f785c652e76393789d1a65603d81a59c75bbe"],"ref":"refs/changes/09/3109/4","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1516641265,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516641294,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518617278,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519830130,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":238,"deletions":-150},{"file":"main.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":284,"sizeDeletions":-153},{"number":"5","revision":"781f969b90246ec2b3e9efc6e01fffdf925d3fd5","parents":["7d3edb20b400abf08f3f2465b6662074662f0529"],"ref":"refs/changes/09/3109/5","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1520632173,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520638203,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":251,"deletions":-144},{"file":"main.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":297,"sizeDeletions":-147},{"number":"6","revision":"5ad3298089b45bf5edc7eb85bdf3d586913ddee5","parents":["7d3edb20b400abf08f3f2465b6662074662f0529"],"ref":"refs/changes/09/3109/6","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1521062586,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","comments":[{"file":"lib/picker.js","line":156,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Good call on this function name change."},{"file":"lib/picker.js","line":178,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"nit: maybe make it clearer that the storage zones are the ones in that DC?\n\ne.g., \"an object mapping datacenters to their associated storage zones\""},{"file":"lib/picker.js","line":289,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I fixed this for the code in `setRecordsDb` in MANTA-3520; I think we actually want \"setImmediate\" here."},{"file":"lib/picker.js","line":294,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"nit: \"Moray\"?"},{"file":"lib/picker.js","line":341,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"nit: /s/we\u0027re/We\u0027re\n/s/where/at which"},{"file":"lib/picker.js","line":342,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"nit: s/\"\u003e\u003d the desired space\"/at least the requested amount of space"},{"file":"lib/picker.js","line":396,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Could we add a comment here clarifying the structure of these maps? I know following what type each field was threw me off a lot in doing the MANTA-3520 work."},{"file":"lib/picker.js","line":396,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Yes, excellent idea. Will do."},{"file":"lib/picker.js","line":640,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I don\u0027t think this function is used anymore."},{"file":"lib/picker.js","line":640,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"It\u0027s still used by `mpicker choose`."},{"file":"lib/picker.js","line":640,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I see. The reason I thought it might not be used anymore was that it seems its functionality has been moved into another function (`handleStorageResults`). Can we abstract the similar pieces out so that mpicker can continue to use the interface and have all of the shared code in one place?"},{"file":"main.js","line":189,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Do we need this comment multiple times? (Both above and below.)"},{"file":"main.js","line":189,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Good reminder, we have this pattern repeated several times now and seems likely it could be used more in the future so I\u0027m gonna pull it out in to a function."},{"file":"main.js","line":189,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Great, thanks for doing that."},{"file":"main.js","line":212,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Let\u0027s pull this and the storage max utilization percentage into constants at the top of this file?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":13,"deletions":-1},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":270,"deletions":-160},{"file":"main.js","type":"MODIFIED","insertions":42,"deletions":-1},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":329,"sizeDeletions":-164},{"number":"7","revision":"c012ddcf9278609c63fdb9003984dab94de37e81","parents":["7d3edb20b400abf08f3f2465b6662074662f0529"],"ref":"refs/changes/09/3109/7","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1521586530,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","comments":[{"file":"lib/constants.js","line":0,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I appreciate the effort to abstract some of these constants out. I do think it\u0027s a little odd to have some of Muskie\u0027s constants, but not all, in a separate file. Changing the filename to something more reflective of *which* constants are in this file may help. It seems like these are all related to Muskie default configuration values. Maybe something like that would be useful? Alternately, I think it\u0027s appropriate to put them at the top of main.js, since that is where the configuration is read and translated into relevant values for Muskie\u0027s dependencies."},{"file":"main.js","line":99,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Note that this can cause the process to exit? (Alternatively, move the exit outside of the scope of this function.)"},{"file":"main.js","line":106,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Add asserts for function args?"},{"file":"main.js","line":115,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I think this needs to be a bit less specific than it is now, as I am not sure it\u0027s true for all values (and even if it is now, that could change in the future).\n\nChanging the first part of the comment to something like \"The structure of some values in the configuration template are such that the values are...\" would accomplish that."},{"file":"main.js","line":115,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Yeah that\u0027s interesting. I just copied this comment from the existing code, but looking closer it\u0027s not clear to me why there is an arbitrary boundary at values less than 1 in the following `if` statement. If javascript had a proper Integer type it would make more sense, but as written the statement precludes use of any values greater than 0 and less than 1 in a configuration property. Even negative numbers could be useful at some point for certain configuration properties. I think I\u0027ll change this function to be more general such that it only checks the type and optionally accepts a predicate for further per-property verification."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":20,"deletions":-11},{"file":"lib/constants.js","type":"ADDED","insertions":13,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":281,"deletions":-187},{"file":"main.js","type":"MODIFIED","insertions":43,"deletions":-17},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":361,"sizeDeletions":-217},{"number":"8","revision":"e681b42ecd2329ae7e1d9cf71c5792701592adaa","parents":["7d3edb20b400abf08f3f2465b6662074662f0529"],"ref":"refs/changes/09/3109/8","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1522165633,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522428557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522275805,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522277994,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":25,"deletions":-10},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":281,"deletions":-187},{"file":"main.js","type":"MODIFIED","insertions":65,"deletions":-17},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":375,"sizeDeletions":-216},{"number":"9","revision":"c3ca7ae4e92ead914880cc6ced05ee89ffcfbf2d","parents":["001ad25d174ab11ba2244b5e8a6cb81eacd4245c"],"ref":"refs/changes/09/3109/9","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1526418001,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526418033,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":25,"deletions":-10},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":281,"deletions":-187},{"file":"main.js","type":"MODIFIED","insertions":87,"deletions":-17},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":397,"sizeDeletions":-216},{"number":"10","revision":"f7594aa0729b671fa72bbecbbfbd557be40d5477","parents":["a5a07c3177e0759f20c0c581a7930adadfa0d163"],"ref":"refs/changes/09/3109/10","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1526419454,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522428557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522275805,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522277994,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":25,"deletions":-10},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":281,"deletions":-187},{"file":"main.js","type":"MODIFIED","insertions":65,"deletions":-17},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":375,"sizeDeletions":-216},{"number":"11","revision":"208904078e56d37dce180131123c9028d8137fae","parents":["afd0a3aae1c910298cbf05ef67035216884da92e"],"ref":"refs/changes/09/3109/11","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1526918067,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522428557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522275805,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522277994,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":25,"deletions":-10},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":281,"deletions":-187},{"file":"main.js","type":"MODIFIED","insertions":65,"deletions":-17},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":375,"sizeDeletions":-216},{"number":"12","revision":"08239fe9baac6973823444f90e163f101e5fac53","parents":["afd0a3aae1c910298cbf05ef67035216884da92e"],"ref":"refs/changes/09/3109/12","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1527786878,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527800708,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526418033,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527793932,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527794740,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}},{"type":"SUBM","value":"1","grantedOn":1527866828,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/mpicker","type":"MODIFIED","insertions":25,"deletions":-10},{"file":"lib/obj.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/picker.js","type":"MODIFIED","insertions":281,"deletions":-187},{"file":"main.js","type":"MODIFIED","insertions":87,"deletions":-17},{"file":"sapi_manifests/muskie/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":397,"sizeDeletions":-216}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}]}