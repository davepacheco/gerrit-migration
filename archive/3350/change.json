{"project":"joyent/node-fast","branch":"master","id":"If416332ebb4eef2e61016d06dd96eba5dbf0f0df","number":"3350","subject":"joyent/node-fast#16 fastserve cannot be run concurrently even with different arguments Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Approved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"url":"https://cr.joyent.us/3350","commitMessage":"joyent/node-fast#16 fastserve cannot be run concurrently even with different arguments\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1518226750,"lastUpdated":1518711980,"open":false,"status":"MERGED","comments":[{"timestamp":1518226750,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 1."},{"timestamp":1518226754,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518227274,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 2."},{"timestamp":1518227278,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518228296,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 3."},{"timestamp":1518228301,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518228356,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1518448532,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\nAlso, this change would introduce another new way to handle CLI args. I think there are at least three ways that CLI args are handled in the bin/ directory. It\u0027s okay with me if we want to modify this change to use one of the existing methods. I do prefer using named rather than positional arguments in general"},{"timestamp":1518550651,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1518550769,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3:\n\n\u003e I do prefer using named rather than positional arguments in general\n\nI think that this is a good change. We should probably check after the end of the loop though that there are no positional arguments. See Moray for an example:\n\nhttps://github.com/joyent/moray/blob/release-20180201/main.js#L152-L156"},{"timestamp":1518559259,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 4."},{"timestamp":1518559263,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518560000,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1518709328,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1518711980,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kody A Kantor"}],"currentPatchSet":{"number":"5","revision":"f416332ebb4eef2e61016d06dd96eba5dbf0f0df","parents":["849959e09b54cb70fc27f2ee7dea13744c59eac6"],"ref":"refs/changes/50/3350/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1518709328,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518559263,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518560000,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1518560000,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1518711980,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/fastserve","type":"MODIFIED","insertions":56,"deletions":-25}],"sizeInsertions":58,"sizeDeletions":-27},"patchSets":[{"number":"1","revision":"fbcda7c5eaddd040d8e10829527e66d0c9d984ce","parents":["849959e09b54cb70fc27f2ee7dea13744c59eac6"],"ref":"refs/changes/50/3350/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1518226750,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518226754,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/fastserve","type":"MODIFIED","insertions":47,"deletions":-25}],"sizeInsertions":49,"sizeDeletions":-27},{"number":"2","revision":"3b79f8dfcff72c1ed97218e8fa4d3e1208ff82e8","parents":["849959e09b54cb70fc27f2ee7dea13744c59eac6"],"ref":"refs/changes/50/3350/2","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1518227274,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518227278,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/fastserve","type":"MODIFIED","insertions":47,"deletions":-25}],"sizeInsertions":49,"sizeDeletions":-27},{"number":"3","revision":"3e4d7ad5b0f452ae9c6887ff5e15ad0cbea6d3df","parents":["849959e09b54cb70fc27f2ee7dea13744c59eac6"],"ref":"refs/changes/50/3350/3","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1518228296,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518228301,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"bin/fastserve","line":51,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Is 2030 a reasonable default? That\u0027s what was used in the README, so that\u0027s what I used here."},{"file":"bin/fastserve","line":86,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Maybe create an isInvalidPort() function for here and below?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/fastserve","type":"MODIFIED","insertions":47,"deletions":-25}],"sizeInsertions":49,"sizeDeletions":-27},{"number":"4","revision":"f089fe705f22b65b6e5a5f352d38a53e4449cbaa","parents":["849959e09b54cb70fc27f2ee7dea13744c59eac6"],"ref":"refs/changes/50/3350/4","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1518559259,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518560000,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1518560000,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518559263,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/fastserve","type":"MODIFIED","insertions":56,"deletions":-25}],"sizeInsertions":58,"sizeDeletions":-27},{"number":"5","revision":"f416332ebb4eef2e61016d06dd96eba5dbf0f0df","parents":["849959e09b54cb70fc27f2ee7dea13744c59eac6"],"ref":"refs/changes/50/3350/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1518709328,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518560000,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1518560000,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518559263,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1518711980,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/fastserve","type":"MODIFIED","insertions":56,"deletions":-25}],"sizeInsertions":58,"sizeDeletions":-27}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}]}