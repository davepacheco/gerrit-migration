{"project":"joyent/manta-mola","branch":"master","topic":"MANTA-3808","id":"Ic3c66cd338f1125ded268959b9af8daae48d64d4","number":"4505","subject":"MANTA-3808 add functionality to disable mackerel and mola jobs MANTA-3812 remove \u0027manta_pg_job\u0027 from mola MANTA-3823 mola\u0027s moray_gc needs to specify a bucket name Reviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e Approved by: Jordan Hendricks \u003c","owner":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"url":"https://cr.joyent.us/4505","commitMessage":"MANTA-3808 add functionality to disable mackerel and mola jobs\nMANTA-3812 remove \u0027manta_pg_job\u0027 from mola\nMANTA-3823 mola\u0027s moray_gc needs to specify a bucket name\nReviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e\nApproved by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\n","createdOn":1531344875,"lastUpdated":1535576051,"open":false,"status":"MERGED","comments":[{"timestamp":1531344875,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 1."},{"timestamp":1531344876,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit e5a8106c2f599c7b2b7d8c486915f558da9ef12f\n    \n    didn\u0027t modify cruft\n    \n    commit 43372294de94875d3f824358efe03e345e93b209\n    \n    all jobs should write audit records\n    \n    commit baea6577706e8e5bf3d3097f3e8457393d8a25d1\n    \n    MANTA-3808"},{"timestamp":1531344905,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531757157,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Topic set to MANTA-3808"},{"timestamp":1531769770,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 1:\n\nIf we want to manually kick off GC or something with GC or all jobs disabled this patch would stop that from happening. Should I add in an override CLI flag to these scripts? We might want to run one-off GC or something at some point."},{"timestamp":1531839925,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1531839970,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1531858348,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1531926469,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1531932027,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 3."},{"timestamp":1531932057,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531932130,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\n(1 comment)\n\nThanks for taking a look!"},{"timestamp":1531933872,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 4."},{"timestamp":1531933901,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531936135,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 4: Code-Review+1\n\nThis looks good, nice work!"},{"timestamp":1532024706,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 5."},{"timestamp":1532024738,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532024751,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 5:\n\nIn this patch set I added a one-line fix for MANTA-3823 and added a switch to ignore if some or all jobs are disabled."},{"timestamp":1532127180,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1532622318,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 5:\n\nI know mola is not the most well-documented repository, but I think we should note the ability to disable and force run jobs at least in the repository README, and we should also have operator-friendly instructions for using this functionality in the Manta operator\u0027s guide. If this change is urgent, I don\u0027t know that we should block on an operator\u0027s guide change, but it seems worth it to at least include a README change here. What do you think?\n\nWith regards to testing: Do the jobs still run as expected in a system with these changes deployed, but jobs not disabled? I would be interested in whether they continue to work as expected for both a newly deployed change (i.e., the SAPI variable has never been set since delployment) as well as a system that has had the SAPI variable set to disable jobs, and then was later enabled. I think those scenarios reflect the main operational cases we will see in production."},{"timestamp":1532625469,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 5:\n\nSure, I\u0027ll add blurbs in the mola and mackerel docs for this change.\n\nI added a comment to the MANTA-3808 ticket showing what the various configs will look like if this feature is never used (the first case). During my testing I flipped the disable/enable switch many times for a few of these jobs (the second case). I can explicitly run that test again and paste the output if you would like."},{"timestamp":1532629093,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 5:\n\n\u003e I added a comment to the MANTA-3808 ticket showing what the various configs will look like if this feature is never used (the first case). During my testing I flipped the disable/enable switch many times for a few of these jobs (the second case). I can explicitly run that test again and paste the output if you would like.\n\nThanks. What I was trying to get at was whether the jobs were completing normally when not disabled -- e.g., there is output for each job after it runs in cron. (Is job output the output you were referring to?) For context, when I was doing development for MPU GC in mola, there were a couple times where the job would run successfully locally, but would crash when run in cron. That\u0027s the risk I\u0027m hoping to mitigate."},{"timestamp":1532637034,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 6."},{"timestamp":1532637065,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532637117,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 6:\n\npatch set 6 adds a blurb about disabling jobs at the end of one of the mola docs.\n\nI can add a blurb to the mackerel docs too, but those docs currently don\u0027t include anything about operating or administrating cron jobs."},{"timestamp":1532638219,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 6:\n\nAnd I tested the markdown file by downloading it locally and opening it in the Atom editor\u0027s markdown preview mode."},{"timestamp":1535567890,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1535570596,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1535571985,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1535576051,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kody A Kantor"}],"currentPatchSet":{"number":"7","revision":"c3c66cd338f1125ded268959b9af8daae48d64d4","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/7","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1535571985,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532637065,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1535567890,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1535570596,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"SUBM","value":"1","grantedOn":1535576051,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":36,"deletions":-4},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":21,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":69,"deletions":-7},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/system-crons.md","type":"MODIFIED","insertions":41,"deletions":0},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":46,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":26,"deletions":-4}],"sizeInsertions":275,"sizeDeletions":-278},"patchSets":[{"number":"1","revision":"2ea3e20279158c6af23d8b9001448afb951f2245","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1531344875,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531344905,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":23,"deletions":-6},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":39,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":9,"deletions":-5}],"sizeInsertions":115,"sizeDeletions":-272},{"number":"2","revision":"63c83c9f3e7c6aff09c02ddf4ad35ab109d60cbe","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/2","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1531839925,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531344905,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"bin/moray_gc.js","line":371,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Is the reason for moving this to this point in the file to avoid the work of creating the cleaner if the process is just going to exit anyways?"},{"file":"bin/moray_gc.js","line":371,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"That was the idea, yes. And also to move \u0027main\u0027 logic to where the main method is described."},{"file":"lib/job_manager.js","line":119,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"This other pipeline functions in this module call `subcb()` when they don\u0027t exit prematurely with an error. Should this function do that as well?"},{"file":"lib/job_manager.js","line":119,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Ah yep, this is a bug. Thanks."},{"file":"sapi_manifests/mola/template","line":35,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Probably obvious, but I would advocate adding the boolean defaults here just like with the mackerel CR."},{"file":"sapi_manifests/mola/template","line":35,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Yep, thanks again for that suggestion."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":23,"deletions":-6},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":39,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":9,"deletions":-5}],"sizeInsertions":115,"sizeDeletions":-272},{"number":"3","revision":"e2f43cd7d3436a5509d96dbc3d7eccf8185f77fa","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/3","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1531932027,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531932057,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/job_manager.js","line":121,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"I also made the equality check less strict in both the mola and mackerel CRs. Let me know if you don\u0027t like that...\n\nI figured it would be confusing for an operator to set the config value to \u0027true\u0027 and not realize that (\u0027true\u0027 \u003d\u003d\u003d true) evaluates to false."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":27,"deletions":-6},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":45,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":26,"deletions":-4}],"sizeInsertions":144,"sizeDeletions":-271},{"number":"4","revision":"044db65968a5db70c865ac86840b58884893f69a","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/4","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1531933872,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531933901,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531936135,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":26,"deletions":-3},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":43,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":26,"deletions":-4}],"sizeInsertions":140,"sizeDeletions":-271},{"number":"5","revision":"6251cc1255715f7bec98be13802726591db21b00","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1532024706,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532024738,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532127180,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":36,"deletions":-4},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":21,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":69,"deletions":-7},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":46,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":26,"deletions":-4}],"sizeInsertions":234,"sizeDeletions":-278},{"number":"6","revision":"07438eb16c408eec0bf23d8c3adb8e568f5471f7","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/6","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1532637034,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532637065,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1535567890,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1535570596,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":36,"deletions":-4},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":21,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":69,"deletions":-7},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/system-crons.md","type":"MODIFIED","insertions":41,"deletions":0},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":46,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":26,"deletions":-4}],"sizeInsertions":275,"sizeDeletions":-278},{"number":"7","revision":"c3c66cd338f1125ded268959b9af8daae48d64d4","parents":["b3ee99a241facd96e440a89d8ef75bc76ea19861"],"ref":"refs/changes/05/4505/7","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1535571985,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532637065,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1535567890,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"SUBM","value":"1","grantedOn":1535576051,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1535570596,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"bin/gc_create_links.js","type":"MODIFIED","insertions":36,"deletions":-4},{"file":"bin/kick_off_audit.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_gc.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"bin/kick_off_mpu_cleanup.js","type":"MODIFIED","insertions":21,"deletions":-1},{"file":"bin/kick_off_mpu_gc.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"bin/kick_off_pg_job.js","type":"DELETED","insertions":0,"deletions":-242},{"file":"bin/kick_off_pg_transform.js","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"bin/moray_gc.js","type":"MODIFIED","insertions":69,"deletions":-7},{"file":"deps/jsstyle","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/system-crons.md","type":"MODIFIED","insertions":41,"deletions":0},{"file":"lib/job_manager.js","type":"MODIFIED","insertions":46,"deletions":-11},{"file":"sapi_manifests/mola/template","type":"MODIFIED","insertions":26,"deletions":-4}],"sizeInsertions":275,"sizeDeletions":-278}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}]}