{"project":"joyent/smartos-live","branch":"master","id":"I789f8c5eebc00c938b574980d46ec52e1d9cbdf3","number":"5042","subject":"OS-7347 default bhyve quota not used while creating a bhyve instance Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Reviewed by: Jorge Schrauwen \u003csjorge@blackdot.be\u003e Reviewed by: Dylan Yep \u003cdylan.yep@joyent.com\u003e Approved by: Dylan Yep \u003cdylan.yep@joyent","owner":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"url":"https://cr.joyent.us/5042","commitMessage":"OS-7347 default bhyve quota not used while creating a bhyve instance\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nReviewed by: Jorge Schrauwen \u003csjorge@blackdot.be\u003e\nReviewed by: Dylan Yep \u003cdylan.yep@joyent.com\u003e\nApproved by: Dylan Yep \u003cdylan.yep@joyent.com\u003e\n","createdOn":1541782105,"lastUpdated":1543354470,"open":false,"status":"MERGED","comments":[{"timestamp":1541782105,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 1."},{"timestamp":1541782154,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1541799492,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 1:\n\n(1 comment)\n\nAssuming the tests pass, LGTM."},{"timestamp":1542050942,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 2."},{"timestamp":1542050992,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542051578,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1542144236,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1542177599,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1542377973,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 3."},{"timestamp":1542378008,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1542378024,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542700040,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1543344670,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1543344782,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1543344838,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1543344941,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1543354000,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1543354055,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1543354115,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6:\n\n\"make check\" passed ok"},{"timestamp":1543354470,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"6","revision":"02405ebf6a05d53658b3c8b02ae60e69e16297cf","parents":["c4c1261b61b700cd5da3652c993d9fe2ee95ff16"],"ref":"refs/changes/42/5042/6","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1543354055,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542378024,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542700040,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543344670,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543344941,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}},{"type":"SUBM","value":"1","grantedOn":1543354470,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"src/vm/tests/test-quota.js","type":"MODIFIED","insertions":38,"deletions":-3}],"sizeInsertions":48,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"b60d485d5b084f71f003f07ffe46837c1122e083","parents":["6927a12fec8a30bb041d5c79906d884d282c0dfe"],"ref":"refs/changes/42/5042/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1541782105,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1541782154,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/node_modules/VM.js","line":145,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Tiny nit: These vars are alphabetical so DEFAULT_BHYVE_QUOTA would be first"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"src/vm/tests/test-quota.js","type":"MODIFIED","insertions":38,"deletions":-3}],"sizeInsertions":47,"sizeDeletions":-7},{"number":"2","revision":"ca7cca5ffd40ed247c3775b339516ce570cc944e","parents":["6927a12fec8a30bb041d5c79906d884d282c0dfe"],"ref":"refs/changes/42/5042/2","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542050942,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542050992,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542144236,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542051578,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}}],"comments":[{"file":"src/vm/node_modules/VM.js","line":4653,"reviewer":{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"},"message":"nit: is there a reason why there is no DEFAULT_QUOTA var?\n\nNow if the default quota needs to be update you need to do it here and up top if you want to set the bhyve one."},{"file":"src/vm/node_modules/VM.js","line":4653,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":9,"deletions":-4},{"file":"src/vm/tests/test-quota.js","type":"MODIFIED","insertions":38,"deletions":-3}],"sizeInsertions":47,"sizeDeletions":-7},{"number":"3","revision":"789f8c5eebc00c938b574980d46ec52e1d9cbdf3","parents":["6927a12fec8a30bb041d5c79906d884d282c0dfe"],"ref":"refs/changes/42/5042/3","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1542377973,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542378024,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542700040,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543344670,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"src/vm/tests/test-quota.js","type":"MODIFIED","insertions":38,"deletions":-3}],"sizeInsertions":48,"sizeDeletions":-7},{"number":"4","revision":"d73e6154a1027e5fa9e275bdb66b8a8d386b42cd","parents":["42ee47eb957ff65d0ec90a1efefadf94c7e1eca4"],"ref":"refs/changes/42/5042/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1543344782,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542378024,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542700040,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543344670,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543344941,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"src/vm/tests/test-quota.js","type":"MODIFIED","insertions":38,"deletions":-3}],"sizeInsertions":48,"sizeDeletions":-7},{"number":"5","revision":"184b4c4b3120d36e57adff2d351b81a279a46015","parents":["42ee47eb957ff65d0ec90a1efefadf94c7e1eca4"],"ref":"refs/changes/42/5042/5","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1543354000,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542378024,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542700040,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543344670,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543344941,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"src/vm/tests/test-quota.js","type":"MODIFIED","insertions":38,"deletions":-3}],"sizeInsertions":48,"sizeDeletions":-7},{"number":"6","revision":"02405ebf6a05d53658b3c8b02ae60e69e16297cf","parents":["c4c1261b61b700cd5da3652c993d9fe2ee95ff16"],"ref":"refs/changes/42/5042/6","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1543354055,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542378024,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542700040,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1543354470,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543344670,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543344941,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":10,"deletions":-4},{"file":"src/vm/tests/test-quota.js","type":"MODIFIED","insertions":38,"deletions":-3}],"sizeInsertions":48,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Jorge Schrauwen","email":"sjorge@blackdot.be","username":"sjorge"}]}