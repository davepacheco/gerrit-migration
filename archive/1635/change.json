{"project":"joyent/sdcadm","branch":"master","id":"Ic51980337e1e36ce5502a38f08caf57047e1279d","number":"1635","subject":"TOOLS-1716 sdcadm fails with \"no such image in local IMGAPI\"","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/1635","commitMessage":"TOOLS-1716 sdcadm fails with \"no such image in local IMGAPI\"\n","createdOn":1489082653,"lastUpdated":1491325970,"open":false,"status":"MERGED","comments":[{"timestamp":1489082653,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1489082685,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489082748,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2."},{"timestamp":1489082785,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489082815,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1489088867,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(1 comment)\n\nThen we discussed perhaps getting \u0027sdcadm create AGENT\u0027 to fail gracefully if its service object doesn\u0027t have a params.image_image."},{"timestamp":1489431170,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4."},{"timestamp":1489431202,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489431324,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5: Patch Set 4 was rebased"},{"timestamp":1489431341,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1489431357,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 7: Patch Set 6 was rebased"},{"timestamp":1491228939,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 8: Patch Set 7 was rebased"},{"timestamp":1491228971,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1491323941,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 9."},{"timestamp":1491323972,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491324725,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 9: Code-Review+1 Integration-Approval+1"},{"timestamp":1491325929,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 10: Patch Set 9 was rebased"},{"timestamp":1491325932,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"},{"timestamp":1491325970,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"10","revision":"77117e315a7a80aed8ceb8f7376b1d4afb300e94","parents":["1e449d46f3e44aeb64ab619026e2635d6f282172"],"ref":"refs/changes/35/1635/10","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1491325929,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491323972,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491324725,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1491324725,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1491325932,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":34,"deletions":-12}],"sizeInsertions":139,"sizeDeletions":-71},"patchSets":[{"number":"1","revision":"3d917b10ea9c704a16e69dbf2e2fe0d4924af791","parents":["ba1d12f43e38eaa14c555fe48e8361a9e958f4d7"],"ref":"refs/changes/35/1635/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489082653,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489082685,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":0,"deletions":-33}],"sizeInsertions":0,"sizeDeletions":-33},{"number":"2","revision":"552facefbd9c1907556fa0728160545ef4a8c37c","parents":["ba1d12f43e38eaa14c555fe48e8361a9e958f4d7"],"ref":"refs/changes/35/1635/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489082748,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489082785,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/platform.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":0,"deletions":-33},{"file":"lib/ur.js","type":"MODIFIED","insertions":7,"deletions":-13}],"sizeInsertions":14,"sizeDeletions":-51},{"number":"3","revision":"5f37c04c7bf7b79cb0e3815a944e7613a0b54e7a","parents":["58d4acb4ed7381b220f11836e13ac5e883f41196"],"ref":"refs/changes/35/1635/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489082815,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489082785,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/steps/agent-services.js","line":143,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Should also then drop this part, and then drop all \u0027updateAgentServices\u0027 usage."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":0,"deletions":-33}],"sizeInsertions":0,"sizeDeletions":-33},{"number":"4","revision":"dce5b5aa63a284c5fa63c85960470f9b31f945b3","parents":["ba1d12f43e38eaa14c555fe48e8361a9e958f4d7"],"ref":"refs/changes/35/1635/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489431170,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489431202,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/platform.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":30,"deletions":-12},{"file":"lib/ur.js","type":"MODIFIED","insertions":7,"deletions":-13}],"sizeInsertions":149,"sizeDeletions":-89},{"number":"5","revision":"4be2142902c71449aecb88a5f398c9edd0f0c371","parents":["58d4acb4ed7381b220f11836e13ac5e883f41196"],"ref":"refs/changes/35/1635/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489431324,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489431202,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":30,"deletions":-12}],"sizeInsertions":135,"sizeDeletions":-71},{"number":"6","revision":"9aff6180e810c94a5c301eed2c85c5fbbf3f1232","parents":["ba1d12f43e38eaa14c555fe48e8361a9e958f4d7"],"ref":"refs/changes/35/1635/6","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489431341,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489431202,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/platform.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":30,"deletions":-12},{"file":"lib/ur.js","type":"MODIFIED","insertions":7,"deletions":-13}],"sizeInsertions":149,"sizeDeletions":-89},{"number":"7","revision":"7e9a94b40d3c5c34ea567854a625717aceefe149","parents":["58d4acb4ed7381b220f11836e13ac5e883f41196"],"ref":"refs/changes/35/1635/7","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489431357,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489431202,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":30,"deletions":-12}],"sizeInsertions":135,"sizeDeletions":-71},{"number":"8","revision":"7176c3a67d4e251785d6412559ead5a51b76a31c","parents":["cb83542b039ff7a1b9fba6256ac1eb28afb044ff"],"ref":"refs/changes/35/1635/8","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1491228939,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489431202,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":30,"deletions":-12}],"sizeInsertions":135,"sizeDeletions":-71},{"number":"9","revision":"c51980337e1e36ce5502a38f08caf57047e1279d","parents":["ec79905fb214a3430f213b9e1c2725c697781477"],"ref":"refs/changes/35/1635/9","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1491323941,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491323972,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491324725,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1491324725,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":34,"deletions":-12}],"sizeInsertions":139,"sizeDeletions":-71},{"number":"10","revision":"77117e315a7a80aed8ceb8f7376b1d4afb300e94","parents":["1e449d46f3e44aeb64ab619026e2635d6f282172"],"ref":"refs/changes/35/1635/10","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1491325929,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491323972,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491324725,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1491324725,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1491325932,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":105,"deletions":-59},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":34,"deletions":-12}],"sizeInsertions":139,"sizeDeletions":-71}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}