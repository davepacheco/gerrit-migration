{"project":"joyent/sdc-hermes","branch":"master","id":"I6b614a2a2270eea782482bc46e1e5a5d84a96ded","number":"1878","subject":"AGENT-997 hermes-actor should use sdcnode","owner":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"url":"https://cr.joyent.us/1878","commitMessage":"AGENT-997 hermes-actor should use sdcnode\n","createdOn":1493491633,"lastUpdated":1547922535,"open":false,"status":"ABANDONED","comments":[{"timestamp":1493491633,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 1."},{"timestamp":1493491682,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/node/bin/node node_modules/.bin/jshint hermes.js proxy.js lib/httpserver.js lib/logsets.js lib/proxy_server.js lib/scripts.js lib/servers.js lib/zones.js lib/utils.js actor/actor.js actor/lib/cmd.js actor/lib/conn.js actor/lib/findstream.js actor/lib/logsets.js actor/lib/remember.js actor/lib/worker.js\n actor/actor.js: line 341, col 13, \u0027mod_jsprim\u0027 is not defined.\n \n 1 error\n Makefile:102: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 2"},{"timestamp":1493491871,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 2."},{"timestamp":1493491911,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495152265,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Code-Review+1\n\n(2 comments)"},{"timestamp":1500054957,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1547922535,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Abandoned\n\nMr Wilsdon is taking over on this change."}],"currentPatchSet":{"number":"2","revision":"6b614a2a2270eea782482bc46e1e5a5d84a96ded","parents":["3702adf367e3ea2a6b0c27889a0e9e0b4ac93ebc"],"ref":"refs/changes/78/1878/2","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1493491871,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493491911,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495152265,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"comments":[{"file":"Makefile","line":163,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why not use the eng.git Makefiles that handle this already?"},{"file":"lib/servers.js","line":450,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Maybe do mod_jsprim.startsWith(..., \u00277.\u0027)? It seems like if we bump the version to \"7.0.1\", or \"7.1\" for some reason, things shouldn\u0027t start breaking."},{"file":"package.json","line":22,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"It looks like the proxy-support branch is behind upstream by several commits, one of which fixed some issues with enabling keep-alives. Do you want to merge those changes into the proxy-support branch?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":21,"deletions":-13},{"file":"actor/actor.js","type":"MODIFIED","insertions":33,"deletions":-5},{"file":"lib/httpserver.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"lib/servers.js","type":"MODIFIED","insertions":10,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"tools/download_sdcnode","type":"ADDED","insertions":77,"deletions":0}],"sizeInsertions":155,"sizeDeletions":-48},"patchSets":[{"number":"1","revision":"d063f173f76ddaaa2add258219555afd187ba5f6","parents":["3702adf367e3ea2a6b0c27889a0e9e0b4ac93ebc"],"ref":"refs/changes/78/1878/1","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1493491633,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1493491682,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":21,"deletions":-13},{"file":"actor/actor.js","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"lib/httpserver.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"lib/servers.js","type":"MODIFIED","insertions":10,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"tools/download_sdcnode","type":"ADDED","insertions":77,"deletions":0}],"sizeInsertions":154,"sizeDeletions":-48},{"number":"2","revision":"6b614a2a2270eea782482bc46e1e5a5d84a96ded","parents":["3702adf367e3ea2a6b0c27889a0e9e0b4ac93ebc"],"ref":"refs/changes/78/1878/2","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1493491871,"author":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495152265,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493491911,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"Makefile","line":163,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why not use the eng.git Makefiles that handle this already?"},{"file":"lib/servers.js","line":450,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Maybe do mod_jsprim.startsWith(..., \u00277.\u0027)? It seems like if we bump the version to \"7.0.1\", or \"7.1\" for some reason, things shouldn\u0027t start breaking."},{"file":"package.json","line":22,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"It looks like the proxy-support branch is behind upstream by several commits, one of which fixed some issues with enabling keep-alives. Do you want to merge those changes into the proxy-support branch?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":21,"deletions":-13},{"file":"actor/actor.js","type":"MODIFIED","insertions":33,"deletions":-5},{"file":"lib/httpserver.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"lib/servers.js","type":"MODIFIED","insertions":10,"deletions":-8},{"file":"package.json","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"tools/download_sdcnode","type":"ADDED","insertions":77,"deletions":0}],"sizeInsertions":155,"sizeDeletions":-48}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}