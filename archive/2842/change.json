{"project":"joyent/moray","branch":"master","topic":"MORAY-424","id":"I9eb2ef20c05ae8e105fec6bc27380387fad43699","number":"2842","subject":"MORAY-424 Add new option for indexes to allow disabling Postgres index MORAY-379 Disallow changing an index\u0027s type","owner":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"url":"https://cr.joyent.us/2842","commitMessage":"MORAY-424 Add new option for indexes to allow disabling Postgres index\nMORAY-379 Disallow changing an index\u0027s type\n","createdOn":1508781822,"lastUpdated":1516743014,"open":true,"status":"NEW","comments":[{"timestamp":1508781822,"reviewer":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"message":"Uploaded patch set 1."},{"timestamp":1508781877,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508784128,"reviewer":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1508784423,"reviewer":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1508784451,"reviewer":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"message":"Patch Set 2:\n\nChanged author so git-blame sends people the right way"},{"timestamp":1508854268,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to MORAY-424"},{"timestamp":1516742988,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 3."},{"timestamp":1516743014,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"3","revision":"9eb2ef20c05ae8e105fec6bc27380387fad43699","parents":["76db9a2b1764e740d6fc666c00908fd078f21279"],"ref":"refs/changes/42/2842/3","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1516742988,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516743014,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/buckets/common.js","type":"MODIFIED","insertions":68,"deletions":-24},{"file":"lib/buckets/creat.js","type":"MODIFIED","insertions":17,"deletions":-6},{"file":"lib/buckets/update.js","type":"MODIFIED","insertions":114,"deletions":-76},{"file":"lib/errors.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/schema.js","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-106},"patchSets":[{"number":"1","revision":"701cb547dd37fc43aefb90c21284c32510b884c4","parents":["7594ea98bba375e1e68d63422d49e7bd2f1fff38"],"ref":"refs/changes/42/2842/1","uploader":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"createdOn":1508781822,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508781877,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/buckets/common.js","line":163,"reviewer":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"message":"There is some question as to whether we want DROP INDEX CONCURRENTLY HERE. However, CONCURRENTLY cannot be used in a transaction block -- more testing is needed. For now, this is the safe answer."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/buckets/common.js","type":"MODIFIED","insertions":69,"deletions":-24},{"file":"lib/buckets/creat.js","type":"MODIFIED","insertions":17,"deletions":-6},{"file":"lib/buckets/update.js","type":"MODIFIED","insertions":96,"deletions":-76},{"file":"lib/errors.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/schema.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":0,"deletions":-1}],"sizeInsertions":193,"sizeDeletions":-107},{"number":"2","revision":"e65845aef1afb4e8d1eb5d345e5070200ea2e757","parents":["7594ea98bba375e1e68d63422d49e7bd2f1fff38"],"ref":"refs/changes/42/2842/2","uploader":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"createdOn":1508784423,"author":{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},"isDraft":false,"kind":"NO_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508781877,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/buckets/common.js","type":"MODIFIED","insertions":69,"deletions":-24},{"file":"lib/buckets/creat.js","type":"MODIFIED","insertions":17,"deletions":-6},{"file":"lib/buckets/update.js","type":"MODIFIED","insertions":96,"deletions":-76},{"file":"lib/errors.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/schema.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":0,"deletions":-1}],"sizeInsertions":193,"sizeDeletions":-107},{"number":"3","revision":"9eb2ef20c05ae8e105fec6bc27380387fad43699","parents":["76db9a2b1764e740d6fc666c00908fd078f21279"],"ref":"refs/changes/42/2842/3","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1516742988,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516743014,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/buckets/common.js","type":"MODIFIED","insertions":68,"deletions":-24},{"file":"lib/buckets/creat.js","type":"MODIFIED","insertions":17,"deletions":-6},{"file":"lib/buckets/update.js","type":"MODIFIED","insertions":114,"deletions":-76},{"file":"lib/errors.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/schema.js","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":210,"sizeDeletions":-106}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Sam Gwydir","email":"sam.gwydir@joyent.com","username":"gwydirsam"},{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}]}