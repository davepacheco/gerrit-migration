{"project":"joyent/illumos-joyent","branch":"master","id":"I7847a0def2f92ff8670c7d008f9caae2b2585752","number":"6091","subject":"OS-7755 add sendmmsg() and recvmmsg() to lx Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e","owner":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"url":"https://cr.joyent.us/6091","commitMessage":"OS-7755 add sendmmsg() and recvmmsg() to lx\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\n","createdOn":1554978344,"lastUpdated":1557359620,"open":false,"status":"MERGED","comments":[{"timestamp":1554978344,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Uploaded patch set 1."},{"timestamp":1555019553,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(10 comments)\n\nAn overall comment:\n\nThe reason why we at Joyent didn\u0027t do something like this sooner is an issue that can arise with thread priority.  Similar to sendfile(), quite a bit of work can be queued up via the *mmsg interface, leading the thread to make numerous trips though in-kernel work functions without ever making a trip back to userspace.  It\u0027s that trip back to userspace which will reset the priority of the thread, releasing any excess it may have accrued while blocking for the various resources it needed to accomplish the task.  We\u0027ve seen such behavior cause sendfile()-calling threads to exert undue load on the system as their priorities rose beyond what would be normal.\n\nThere isn\u0027t a quick fix for the priority problems.  The sendmmsg() interface is flexible enough to impose an artificial limit on \u0027vlen\u0027, returning early and allowing the thread to repeat the call until all its data is sent.  I\u0027m not sure if something similar is possible for recvmmsg() without running afoul of its expected error semantics."},{"timestamp":1555077508,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Uploaded patch set 2."},{"timestamp":1555077884,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Patch Set 2:\n\n(10 comments)"},{"timestamp":1555080219,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Uploaded patch set 3."},{"timestamp":1555090357,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1555103659,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Uploaded patch set 4."},{"timestamp":1555430979,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\n(4 comments)"},{"timestamp":1555439391,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1555514287,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Uploaded patch set 5."},{"timestamp":1555608781,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 5:\n\nI filed OS-7755, not aware that this was underway."},{"timestamp":1555702198,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Uploaded patch set 6."},{"timestamp":1555972558,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4:\n\nThis looks like a good approach to limit the system time and the code looks good to me."},{"timestamp":1555972576,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1556656592,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1556704407,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Patch Set 3:\n\nI wrote up my test notes at https://gist.github.com/citrus-it/8373c25c19770bb383dd63b4d9ad9d8e"},{"timestamp":1557239896,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Patch Set 7: Patch Set 6 was rebased"},{"timestamp":1557349511,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1557357893,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 8: Patch Set 7 was rebased."},{"timestamp":1557357988,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 9: Commit message was updated."},{"timestamp":1557359620,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"9","revision":"7847a0def2f92ff8670c7d008f9caae2b2585752","parents":["43072118cd73b8e2ee400b0fff9d3c2c17c5d0ef"],"ref":"refs/changes/91/6091/9","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1557357988,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555972576,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556656592,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557349511,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1557359620,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":161,"deletions":-2}],"sizeInsertions":182,"sizeDeletions":-9},"patchSets":[{"number":"1","revision":"e703e6f3a801c975cd16937daf00fa13de8e5362","parents":["26dd5a91c086ec5f65eaaa39f0651013e22d28e9"],"ref":"refs/changes/91/6091/1","uploader":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"createdOn":1554978344,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","line":426,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Have you confirmed that the struct packing for this matches what is expected for 32-bit?"},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","line":426,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Yes, and I\u0027ve tested sending multiple messages from an lx zone using both 32 and 64-bit binaries, and other test cases where one message halfway through the set caused the run to stop."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2108,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"I believe uint_t is the typical style"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2108,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Done"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2111,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why ssize_t when all of the other involved types are long?"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2111,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"That\u0027s the documented return type for sendmsg(), changed to long."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2112,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why long when uint_t is the upper limit and no negative values are needed?"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2112,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Done"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2144,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"With the addition of the current hrtime, I don\u0027t think these checks, as a whole, are adequate to detect overflow possibilities."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2144,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Fixed my using uhrtime_t (as poll does)"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2145,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Might make sense to record the \"now\" hrtime before doing the copyins, in case timeoutp points to swapped-out memory which takes a while to copy."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2145,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Done"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2149,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"uint_t"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2149,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Done"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2169,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"WAITFORONE should probably be checked at the beginning and then masked out of the flags so it doesn\u0027t incur later lx_unsupported() calls when lx_recv_common attempts to translate it"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2169,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Done"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2535,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"long instead of ssize_t"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2535,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Done"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2536,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"uint_t instead of long"},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2536,"reviewer":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":127,"deletions":-2}],"sizeInsertions":148,"sizeDeletions":-9},{"number":"2","revision":"5ccbeec5ea1cc609279abefec27312d6f39867ce","parents":["5d9c1f58e33b02b709b5e031eec7e3e63d646ef7"],"ref":"refs/changes/91/6091/2","uploader":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"createdOn":1555077508,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2546,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Thanks for flipping this to match the others"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":135,"deletions":-2}],"sizeInsertions":156,"sizeDeletions":-9},{"number":"3","revision":"186558749f166d3897227834326f92e17729ad05","parents":["5d9c1f58e33b02b709b5e031eec7e3e63d646ef7"],"ref":"refs/changes/91/6091/3","uploader":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"createdOn":1555080219,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2118,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Since clamping vlen for recvmmsg is a deviation from what Linux presents, there should be a comment explaining that. (And probably noting that the vlen clamp for sendmmsg _is_ in keeping with Linux\u0027s expectations)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":141,"deletions":-2}],"sizeInsertions":162,"sizeDeletions":-9},{"number":"4","revision":"abc7d7c23284222ad9c1697531cae54f216d1705","parents":["5d9c1f58e33b02b709b5e031eec7e3e63d646ef7"],"ref":"refs/changes/91/6091/4","uploader":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"createdOn":1555103659,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2121,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Limit SYS time isn\u0027t the goal, but rather limiting the priority that the syscall can accrue by doing so much work in the kernel."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2123,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This isn\u0027t strictly true.  It can be expected to return fewer messages than expected when an error or timeout occurs, but absent those conditions, a return before vlen is reached would be unexpected."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2559,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Setting a max vlen value for sendmmsg() is less about limiting SYS time, in this context, since Linux also caps the value."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2562,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This, I believe, should toss EINVAL for vlen values \u003e IOV_MAX."},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","line":2562,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Sorry, I had this mixed up.  It\u0027s fine."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":153,"deletions":-2}],"sizeInsertions":174,"sizeDeletions":-9},{"number":"5","revision":"3f612b060130e158c04a89433b02850b61b932cd","parents":["6dec4a05385ed1b5f25175e319c87f8e96dd992f"],"ref":"refs/changes/91/6091/5","uploader":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"createdOn":1555514287,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":161,"deletions":-2}],"sizeInsertions":182,"sizeDeletions":-9},{"number":"6","revision":"184f605986aeaa7bc3eb5b6495e1910b909f8591","parents":["dc2a4177cf7c52e616cda6ed9f21279440d7122c"],"ref":"refs/changes/91/6091/6","uploader":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"createdOn":1555702198,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555972576,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556656592,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":161,"deletions":-2}],"sizeInsertions":182,"sizeDeletions":-9},{"number":"7","revision":"ff5983faa67f12c7e1f74ab8f68c562db7718763","parents":["7909161cccf1283e5c7a7057bb9c7f305a30e55a"],"ref":"refs/changes/91/6091/7","uploader":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"createdOn":1557239896,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555972576,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556656592,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557349511,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":161,"deletions":-2}],"sizeInsertions":182,"sizeDeletions":-9},{"number":"8","revision":"77091ecb1b334778fcdcd5bb5a83148a8064fb19","parents":["43072118cd73b8e2ee400b0fff9d3c2c17c5d0ef"],"ref":"refs/changes/91/6091/8","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1557357893,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555972576,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556656592,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557349511,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":161,"deletions":-2}],"sizeInsertions":182,"sizeDeletions":-9},{"number":"9","revision":"7847a0def2f92ff8670c7d008f9caae2b2585752","parents":["43072118cd73b8e2ee400b0fff9d3c2c17c5d0ef"],"ref":"refs/changes/91/6091/9","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1557357988,"author":{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1555972576,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1556656592,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1557359620,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557349511,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/os/lx_syscall.c","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/uts/common/brand/lx/sys/lx_socket.h","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/brand/lx/sys/lx_syscalls.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/brand/lx/syscall/lx_socket.c","type":"MODIFIED","insertions":161,"deletions":-2}],"sizeInsertions":182,"sizeDeletions":-9}],"allReviewers":[{"name":"Andy Fiddaman","email":"omnios@citrus-it.co.uk","username":"citrus-it"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}]}