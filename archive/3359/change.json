{"project":"joyent/smartos-live","branch":"master","id":"Ide9b208abc0f76d6651934c086d119370e83a0e4","number":"3359","subject":"TRITON-133 fwadm(1M) unit tests should compare ipf rule text instead of objects Reviewed by: Jason King \u003cjason.king@joyent.com\u003e Approved by: Alex Wilson \u003calex.wilson@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/3359","commitMessage":"TRITON-133 fwadm(1M) unit tests should compare ipf rule text instead of objects\nReviewed by: Jason King \u003cjason.king@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1518557812,"lastUpdated":1519259280,"open":false,"status":"MERGED","comments":[{"timestamp":1518557812,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1518557882,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518625862,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1518638570,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1518644884,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1519082103,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1519084704,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1519085193,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1519256827,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1519256878,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1519259214,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1519259261,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1519259280,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"4","revision":"d7a340fb254a2bbbd0586ef7ef457d1bea2c26f6","parents":["a004d2a41fbfb4c58b22a4eb232cc4fab065243d"],"ref":"refs/changes/59/3359/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1519259261,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518644884,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519082103,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519259214,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1519259280,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":98,"deletions":-29},{"file":"src/fw/lib/util/vm.js","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":145,"deletions":-45},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/test/node_modules/nodeunit/lib/assert.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":37,"deletions":-44},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":24,"deletions":-16},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":76,"deletions":-65},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":58,"deletions":-42},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":126,"deletions":-151},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":5,"deletions":-7},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":77,"deletions":-106},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/tools/nodeunit.patch","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":697,"sizeDeletions":-515},"patchSets":[{"number":"1","revision":"345b0fd744d0a91434020174665671d840428378","parents":["1200b421e890e8404899d1775cd8acc9ecfbbf9f"],"ref":"refs/changes/59/3359/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1518557812,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518557882,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518625862,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":98,"deletions":-28},{"file":"src/fw/lib/util/vm.js","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":156,"deletions":-45},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/test/node_modules/nodeunit/lib/assert.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":37,"deletions":-44},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":24,"deletions":-16},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":76,"deletions":-65},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":58,"deletions":-42},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":126,"deletions":-151},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":5,"deletions":-7},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":77,"deletions":-106},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/tools/nodeunit.patch","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":708,"sizeDeletions":-514},{"number":"2","revision":"de9b208abc0f76d6651934c086d119370e83a0e4","parents":["1200b421e890e8404899d1775cd8acc9ecfbbf9f"],"ref":"refs/changes/59/3359/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1518638570,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519082103,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518644884,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":98,"deletions":-29},{"file":"src/fw/lib/util/vm.js","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":145,"deletions":-45},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/test/node_modules/nodeunit/lib/assert.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":37,"deletions":-44},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":24,"deletions":-16},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":76,"deletions":-65},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":58,"deletions":-42},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":126,"deletions":-151},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":5,"deletions":-7},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":77,"deletions":-106},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/tools/nodeunit.patch","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":697,"sizeDeletions":-515},{"number":"3","revision":"90e13a99f0f703de5e2df5d8b9e958b73ea25c40","parents":["a004d2a41fbfb4c58b22a4eb232cc4fab065243d"],"ref":"refs/changes/59/3359/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1519256827,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519259214,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519082103,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518644884,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":98,"deletions":-29},{"file":"src/fw/lib/util/vm.js","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":145,"deletions":-45},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/test/node_modules/nodeunit/lib/assert.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":37,"deletions":-44},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":24,"deletions":-16},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":76,"deletions":-65},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":58,"deletions":-42},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":126,"deletions":-151},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":5,"deletions":-7},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":77,"deletions":-106},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/tools/nodeunit.patch","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":697,"sizeDeletions":-515},{"number":"4","revision":"d7a340fb254a2bbbd0586ef7ef457d1bea2c26f6","parents":["a004d2a41fbfb4c58b22a4eb232cc4fab065243d"],"ref":"refs/changes/59/3359/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1519259261,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1519259280,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519259214,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519082103,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518644884,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/fw/lib/fw.js","type":"MODIFIED","insertions":98,"deletions":-29},{"file":"src/fw/lib/util/vm.js","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"src/fw/test/lib/helpers.js","type":"MODIFIED","insertions":145,"deletions":-45},{"file":"src/fw/test/lib/mocks.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/test/node_modules/nodeunit/lib/assert.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"src/fw/test/unit/add.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/fw.test.js","type":"MODIFIED","insertions":37,"deletions":-44},{"file":"src/fw/test/unit/icmp.test.js","type":"MODIFIED","insertions":24,"deletions":-16},{"file":"src/fw/test/unit/list.test.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/fw/test/unit/owner.test.js","type":"MODIFIED","insertions":76,"deletions":-65},{"file":"src/fw/test/unit/remote-vms.test.js","type":"MODIFIED","insertions":58,"deletions":-42},{"file":"src/fw/test/unit/tags.test.js","type":"MODIFIED","insertions":126,"deletions":-151},{"file":"src/fw/test/unit/update.test.js","type":"MODIFIED","insertions":5,"deletions":-7},{"file":"src/fw/test/unit/wildcards.test.js","type":"MODIFIED","insertions":77,"deletions":-106},{"file":"src/fw/tools/bin/rebuild-node-modules","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/fw/tools/nodeunit.patch","type":"ADDED","insertions":31,"deletions":0}],"sizeInsertions":697,"sizeDeletions":-515}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}