{"project":"joyent/sdc-volapi","branch":"master","id":"Id03d3817447498188a3d4c4d25c0317edc7d6f95","number":"2201","subject":"DOCKER-1034 support docker volume ls -f dangling\u003dtrue Reviewed by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e Approved by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e","owner":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"url":"https://cr.joyent.us/2201","commitMessage":"DOCKER-1034 support docker volume ls -f dangling\u003dtrue\nReviewed by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e\nApproved by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e\n","createdOn":1499722108,"lastUpdated":1500576626,"open":false,"status":"MERGED","comments":[{"timestamp":1499722108,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 1."},{"timestamp":1499722133,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500247320,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\n(6 comments)"},{"timestamp":1500319248,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 2."},{"timestamp":1500319279,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500324935,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(6 comments)"},{"timestamp":1500492754,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 3."},{"timestamp":1500492785,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500510586,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\n(14 comments)"},{"timestamp":1500529693,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 4."},{"timestamp":1500529703,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 4:\n\n(14 comments)"},{"timestamp":1500529723,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1500531779,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1\n\nlgtm!"},{"timestamp":1500576599,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1500576626,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Julien Gilli"}],"currentPatchSet":{"number":"5","revision":"4b30acebe1310f09fad674967048023de3f45a14","parents":["9311cf68415f757e183e51d27594ac2a7c8f08b7"],"ref":"refs/changes/01/2201/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1500576599,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500529723,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500531779,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500531779,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1500576626,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/volume-reservations.js","type":"ADDED","insertions":672,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":463,"deletions":-214},{"file":"lib/errors.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"lib/middlewares/rendering.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/middlewares/volumes.js","type":"ADDED","insertions":63,"deletions":0},{"file":"lib/models/index.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/models/volume-reservations.js","type":"ADDED","insertions":226,"deletions":0},{"file":"lib/models/volumes.js","type":"MODIFIED","insertions":141,"deletions":-7},{"file":"lib/moray.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/uuid.js","type":"ADDED","insertions":19,"deletions":0},{"file":"lib/validation/predicate.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/validation/utils.js","type":"ADDED","insertions":56,"deletions":0},{"file":"lib/validation/uuid.js","type":"ADDED","insertions":30,"deletions":0},{"file":"lib/validation/volumes.js","type":"MODIFIED","insertions":34,"deletions":-17},{"file":"lib/volapi.js","type":"MODIFIED","insertions":47,"deletions":-28},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"sapi_manifests/volapi/template","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"volapi-updater.js","type":"MODIFIED","insertions":962,"deletions":-69}],"sizeInsertions":2768,"sizeDeletions":-343},"patchSets":[{"number":"1","revision":"a7bddf45c017608bb09a91ea108438738f8d4551","parents":["7b9a6cf7965233fc00085f46c18aa269a9120e13"],"ref":"refs/changes/01/2201/1","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1499722108,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1499722133,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/endpoints/volume-reservations.js","line":1,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"nit: missing copyright"},{"file":"lib/endpoints/volume-reservations.js","line":1,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/endpoints/volume-reservations.js","line":15,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"I think it could be helpful to have a block comment in this file that briefly explains what volume reservations are for, and an overview of how they work at a high level."},{"file":"lib/endpoints/volume-reservations.js","line":15,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/endpoints/volume-reservations.js","line":303,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"This seems like it might be a bug. We\u0027re only calling:\n\n    next(err);\n\nwhen err is not defined. When err *is* defined, we\u0027re not using it for anything."},{"file":"lib/endpoints/volume-reservations.js","line":303,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/middlewares/volumes.js","line":1,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"nit: This file is missing a copyright header."},{"file":"lib/middlewares/volumes.js","line":1,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/models/index.js","line":8,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"nit: ++"},{"file":"lib/models/index.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/moray.js","line":8,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"nit: ++!"},{"file":"lib/moray.js","line":8,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volume-reservations.js","type":"ADDED","insertions":602,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":458,"deletions":-213},{"file":"lib/errors.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"lib/middlewares/rendering.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/middlewares/volumes.js","type":"ADDED","insertions":51,"deletions":0},{"file":"lib/models/index.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/models/volume-reservations.js","type":"ADDED","insertions":226,"deletions":0},{"file":"lib/models/volumes.js","type":"MODIFIED","insertions":139,"deletions":-7},{"file":"lib/moray.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/uuid.js","type":"ADDED","insertions":19,"deletions":0},{"file":"lib/validation/predicate.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/validation/utils.js","type":"ADDED","insertions":56,"deletions":0},{"file":"lib/validation/volumes-reservations.js","type":"ADDED","insertions":30,"deletions":0},{"file":"lib/validation/volumes.js","type":"MODIFIED","insertions":48,"deletions":-17},{"file":"lib/volapi.js","type":"MODIFIED","insertions":47,"deletions":-28},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"sapi_manifests/volapi/template","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"volapi-updater.js","type":"MODIFIED","insertions":938,"deletions":-70}],"sizeInsertions":2667,"sizeDeletions":-341},{"number":"2","revision":"d1cfaede766d88975c764f88b0a97a82aa849d41","parents":["7b9a6cf7965233fc00085f46c18aa269a9120e13"],"ref":"refs/changes/01/2201/2","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1500319248,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500319279,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volume-reservations.js","type":"ADDED","insertions":671,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":458,"deletions":-213},{"file":"lib/errors.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"lib/middlewares/rendering.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/middlewares/volumes.js","type":"ADDED","insertions":61,"deletions":0},{"file":"lib/models/index.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/models/volume-reservations.js","type":"ADDED","insertions":226,"deletions":0},{"file":"lib/models/volumes.js","type":"MODIFIED","insertions":139,"deletions":-7},{"file":"lib/moray.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/uuid.js","type":"ADDED","insertions":19,"deletions":0},{"file":"lib/validation/predicate.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/validation/utils.js","type":"ADDED","insertions":56,"deletions":0},{"file":"lib/validation/volumes-reservations.js","type":"ADDED","insertions":30,"deletions":0},{"file":"lib/validation/volumes.js","type":"MODIFIED","insertions":48,"deletions":-17},{"file":"lib/volapi.js","type":"MODIFIED","insertions":47,"deletions":-28},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"sapi_manifests/volapi/template","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"volapi-updater.js","type":"MODIFIED","insertions":938,"deletions":-70}],"sizeInsertions":2748,"sizeDeletions":-343},{"number":"3","revision":"d85621d60490cf748c288348001ff9c5c2d9ba20","parents":["392248a8898f374939fdbf24d44d958e73e891d3"],"ref":"refs/changes/01/2201/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1500492754,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500492785,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/endpoints/volume-reservations.js","line":97,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"should this and the other parameter comparisons here be !\u003d\u003d undefined?"},{"file":"lib/endpoints/volume-reservations.js","line":97,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/endpoints/volume-reservations.js","line":172,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"is this intentionally indented 8 characters?"},{"file":"lib/endpoints/volume-reservations.js","line":172,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/endpoints/volumes.js","line":1053,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"!\u003d\u003d undefined here and below too?"},{"file":"lib/endpoints/volumes.js","line":1053,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/endpoints/volumes.js","line":1440,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"does this also need to check whether volumeObject has a .value first? ala:\n\n    if (volumeObject.value \u0026\u0026 ...\n\n?"},{"file":"lib/endpoints/volumes.js","line":1440,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"We definitely need to check the \u0027value\u0027 property is present, but I\u0027m leaning towards an assert, as otherwise it means we\u0027re dealing with an object that doesn\u0027t have the layout we expect, which I would qualify as a programmer error."},{"file":"lib/endpoints/volumes.js","line":1554,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"should this (and below) be !\u003d\u003d undefined?"},{"file":"lib/endpoints/volumes.js","line":1554,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/endpoints/volumes.js","line":1874,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"I think you mean purposely?"},{"file":"lib/endpoints/volumes.js","line":1874,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/middlewares/volumes.js","line":37,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"do we need to ensure volumeObject has a value property here first?"},{"file":"lib/middlewares/volumes.js","line":37,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Same comment as before, I\u0027m leaning towards asserting here."},{"file":"lib/models/volume-reservations.js","line":22,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"nit: does this order matter here, or could these be alphabetized?"},{"file":"lib/models/volume-reservations.js","line":22,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/models/volume-reservations.js","line":51,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"same Q as above Re: alphabetization"},{"file":"lib/models/volume-reservations.js","line":51,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/models/volume-reservations.js","line":94,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"alphabetization?"},{"file":"lib/models/volume-reservations.js","line":94,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/models/volumes.js","line":379,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"should we also:\n\n    assert.object(ctx.volumeObject.value, \u0027ctx.volumeObject.value\u0027);\n\n?"},{"file":"lib/models/volumes.js","line":379,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/models/volumes.js","line":418,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"same as above, do we need to ensure this also has .value?"},{"file":"lib/models/volumes.js","line":418,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/validation/volumes.js","line":19,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"This is pretty generic and duplicated in lib/validation/volumes-references.js, would it make sense to put this in a common validation?"},{"file":"lib/validation/volumes.js","line":19,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"},{"file":"lib/volapi.js","line":274,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"are we missing a call to next(); here?"},{"file":"lib/volapi.js","line":274,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"No, because we currently don\u0027t support serving any HTTP request when the models are not properly initialized and calling \"next\" here would start setting up the restify server.\n\nCalling \"backoff()\" schedules a retry at some point in the future and will emit a \u0027ready\u0027 event that will call \"models.init\" again, and we\u0027ll call next only if that call succeeds to proceed with the next step.\n\nIdeally, we\u0027d be able to start initializing the models layer asynchronously from when we create the restify server, the same way we do with VMAPI, but we\u0027re not there yet."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volume-reservations.js","type":"ADDED","insertions":671,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":458,"deletions":-213},{"file":"lib/errors.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"lib/middlewares/rendering.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/middlewares/volumes.js","type":"ADDED","insertions":61,"deletions":0},{"file":"lib/models/index.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/models/volume-reservations.js","type":"ADDED","insertions":226,"deletions":0},{"file":"lib/models/volumes.js","type":"MODIFIED","insertions":139,"deletions":-7},{"file":"lib/moray.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/uuid.js","type":"ADDED","insertions":19,"deletions":0},{"file":"lib/validation/predicate.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/validation/utils.js","type":"ADDED","insertions":56,"deletions":0},{"file":"lib/validation/volumes-reservations.js","type":"ADDED","insertions":30,"deletions":0},{"file":"lib/validation/volumes.js","type":"MODIFIED","insertions":48,"deletions":-17},{"file":"lib/volapi.js","type":"MODIFIED","insertions":47,"deletions":-28},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"sapi_manifests/volapi/template","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"volapi-updater.js","type":"MODIFIED","insertions":962,"deletions":-69}],"sizeInsertions":2772,"sizeDeletions":-342},{"number":"4","revision":"d03d3817447498188a3d4c4d25c0317edc7d6f95","parents":["9311cf68415f757e183e51d27594ac2a7c8f08b7"],"ref":"refs/changes/01/2201/4","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1500529693,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500529723,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500531779,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500531779,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volume-reservations.js","type":"ADDED","insertions":672,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":463,"deletions":-214},{"file":"lib/errors.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"lib/middlewares/rendering.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/middlewares/volumes.js","type":"ADDED","insertions":63,"deletions":0},{"file":"lib/models/index.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/models/volume-reservations.js","type":"ADDED","insertions":226,"deletions":0},{"file":"lib/models/volumes.js","type":"MODIFIED","insertions":141,"deletions":-7},{"file":"lib/moray.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/uuid.js","type":"ADDED","insertions":19,"deletions":0},{"file":"lib/validation/predicate.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/validation/utils.js","type":"ADDED","insertions":56,"deletions":0},{"file":"lib/validation/uuid.js","type":"ADDED","insertions":30,"deletions":0},{"file":"lib/validation/volumes.js","type":"MODIFIED","insertions":34,"deletions":-17},{"file":"lib/volapi.js","type":"MODIFIED","insertions":47,"deletions":-28},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"sapi_manifests/volapi/template","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"volapi-updater.js","type":"MODIFIED","insertions":962,"deletions":-69}],"sizeInsertions":2768,"sizeDeletions":-343},{"number":"5","revision":"4b30acebe1310f09fad674967048023de3f45a14","parents":["9311cf68415f757e183e51d27594ac2a7c8f08b7"],"ref":"refs/changes/01/2201/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1500576599,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500529723,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1500531779,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1500531779,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1500576626,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/endpoints/volume-reservations.js","type":"ADDED","insertions":672,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":463,"deletions":-214},{"file":"lib/errors.js","type":"MODIFIED","insertions":12,"deletions":0},{"file":"lib/middlewares/rendering.js","type":"ADDED","insertions":28,"deletions":0},{"file":"lib/middlewares/volumes.js","type":"ADDED","insertions":63,"deletions":0},{"file":"lib/models/index.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/models/volume-reservations.js","type":"ADDED","insertions":226,"deletions":0},{"file":"lib/models/volumes.js","type":"MODIFIED","insertions":141,"deletions":-7},{"file":"lib/moray.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/uuid.js","type":"ADDED","insertions":19,"deletions":0},{"file":"lib/validation/predicate.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/validation/utils.js","type":"ADDED","insertions":56,"deletions":0},{"file":"lib/validation/uuid.js","type":"ADDED","insertions":30,"deletions":0},{"file":"lib/validation/volumes.js","type":"MODIFIED","insertions":34,"deletions":-17},{"file":"lib/volapi.js","type":"MODIFIED","insertions":47,"deletions":-28},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"sapi_manifests/volapi/template","type":"MODIFIED","insertions":0,"deletions":-4},{"file":"volapi-updater.js","type":"MODIFIED","insertions":962,"deletions":-69}],"sizeInsertions":2768,"sizeDeletions":-343}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}