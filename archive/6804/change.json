{"project":"joyent/sdc-cloudapi","branch":"master","id":"I8aafad1c617c590596d2222717cf49a18d79f3a5","number":"6804","subject":"TRITON-1874 add migration finalize api Reviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e Approved by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e","owner":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"url":"https://cr.joyent.us/6804","commitMessage":"TRITON-1874 add migration finalize api\nReviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e\nApproved by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e\n","createdOn":1565997647,"lastUpdated":1566316297,"open":false,"status":"MERGED","comments":[{"timestamp":1565997647,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 1."},{"timestamp":1565997648,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 7f72440d8460e7db2ab7b0a5d9a7e7320168fd21\n    \n    add migration finalize api"},{"timestamp":1565997704,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565998257,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nCloudAPI migration tests all pass:\n\n    ok 33 - Get migration other # time\u003d38.765ms\n\n    # Subtest: Finalize migration\n        ok 1 - should not error\n        ok 2 - should be equal\n        1..2\n    ok 34 - Finalize migration # time\u003d5692.87ms\n\n    # Subtest: Close migrations watch client\n        1..0\n    ok 35 - Close migrations watch client # time\u003d1.946ms\n\n    1..35\nok 8 - Migrations tests # time\u003d130819.101ms\n\n# Subtest: teardown\n    ok 1 - teardown success\n    1..1\nok 9 - teardown # time\u003d1854.134ms\n\n1..9\n# time\u003d202573.023ms\n#\n# TESTS COMPLETE IN 203 SECONDS, SUMMARY:\n#\n#   PASS: 9 / 9\n#"},{"timestamp":1566310819,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1566316250,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1566316297,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Todd Whiteman"}],"currentPatchSet":{"number":"2","revision":"8aafad1c617c590596d2222717cf49a18d79f3a5","parents":["170e4612046499ec9bd1f741d816e8036a582376"],"ref":"refs/changes/04/6804/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1566316250,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565997704,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566310819,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566310819,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1566316297,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/migrations.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines/migrations.js","type":"MODIFIED","insertions":20,"deletions":0}],"sizeInsertions":41,"sizeDeletions":-5},"patchSets":[{"number":"1","revision":"b073543c0cc8f3d5b24bb2370c0b6148cd718238","parents":["170e4612046499ec9bd1f741d816e8036a582376"],"ref":"refs/changes/04/6804/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1565997647,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565997704,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566310819,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566310819,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/migrations.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines/migrations.js","type":"MODIFIED","insertions":20,"deletions":0}],"sizeInsertions":41,"sizeDeletions":-5},{"number":"2","revision":"8aafad1c617c590596d2222717cf49a18d79f3a5","parents":["170e4612046499ec9bd1f741d816e8036a582376"],"ref":"refs/changes/04/6804/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1566316250,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565997704,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566310819,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566310819,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1566316297,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/migrations.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/machines/migrations.js","type":"MODIFIED","insertions":20,"deletions":0}],"sizeInsertions":41,"sizeDeletions":-5}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}