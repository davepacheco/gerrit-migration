{"project":"joyent/manatee","branch":"master","id":"If5adc5e98d3531185dc5c1d5b6cc8262482701d2","number":"4149","subject":"MANATEE-397 `manatee-adm history` fails with `TypeError: Cannot read property \u0027zoneId\u0027 of null` (again) Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e Reviewed by: Richard Bradley \u003crichard.bradley@joyent.com\u003e Approved by: Richard Bradley \u003crichard.bradley@joy","owner":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"url":"https://cr.joyent.us/4149","commitMessage":"MANATEE-397 `manatee-adm history` fails with `TypeError: Cannot read property \u0027zoneId\u0027 of null` (again)\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\nReviewed by: Richard Bradley \u003crichard.bradley@joyent.com\u003e\nApproved by: Richard Bradley \u003crichard.bradley@joyent.com\u003e\n","createdOn":1528283552,"lastUpdated":1528899265,"open":false,"status":"MERGED","comments":[{"timestamp":1528283552,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 1."},{"timestamp":1528283553,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit f7bf1ec337cdb0fa6f09e852628e3bd5b0486758\n    \n    1"},{"timestamp":1528283584,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528323881,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1528324550,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1528325406,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1528358165,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1528382189,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 2."},{"timestamp":1528382189,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 0acd8f17611049be4633d6ca85fa91402dd52b02\n    \n    2"},{"timestamp":1528382216,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1528382832,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 3."},{"timestamp":1528382833,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit bb52e68518fcc58dbb95e10ecb9df2c972d89d4a\n    \n    3"},{"timestamp":1528382858,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1528383005,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 4."},{"timestamp":1528383005,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit ec22870887d2c6be425725f164cf0a1994f2a0b2\n    \n    4"},{"timestamp":1528383037,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n ./deps/javascriptlint/build/install/jsl --nologo --nosummary --conf\u003d./tools/jsl.node.conf ./sitter.js ./backupserver.js ./snapshotter.js ./lib/zfsClient.js ./lib/backupQueue.js ./lib/backupServer.js ./lib/shard.js ./lib/backupSender.js ./lib/snapShotter.js ./lib/confParser.js ./lib/adm.js ./lib/zookeeperMgr.js ./lib/statusServer.js ./lib/postgresMgr.js ./test/confParser.test.js ./test/zookeeperMgr.test.js ./test/testManatee.js ./test/tst.manateeAdm.js ./test/integ.test.js ./test/tst.manateeAdmUsage.js ./test/postgresMgrRepl.js bin/manatee-adm tools/mksitterconfig\n /tmp/repo/sitter.js\n /tmp/repo/backupserver.js\n /tmp/repo/snapshotter.js\n /tmp/repo/lib/zfsClient.js\n /tmp/repo/lib/backupQueue.js\n /tmp/repo/lib/backupServer.js\n /tmp/repo/lib/shard.js\n /tmp/repo/lib/backupSender.js\n /tmp/repo/lib/snapShotter.js\n /tmp/repo/lib/confParser.js\n /tmp/repo/lib/adm.js\n /tmp/repo/lib/zookeeperMgr.js\n /tmp/repo/lib/statusServer.js\n /tmp/repo/lib/postgresMgr.js\n /tmp/repo/test/confParser.test.js\n /tmp/repo/test/zookeeperMgr.test.js\n /tmp/repo/test/testManatee.js\n /tmp/repo/test/tst.manateeAdm.js\n /tmp/repo/test/integ.test.js\n /tmp/repo/test/tst.manateeAdmUsage.js\n /tmp/repo/test/postgresMgrRepl.js\n /tmp/repo/bin/manatee-adm\n /tmp/repo/tools/mksitterconfig\n json --validate -f etc/sitter.json\n json --validate -f etc/backupserver.json\n json --validate -f etc/snapshotter.json\n json --validate -f test/etc/sitter.json\n json --validate -f test/etc/backupserver.json\n json --validate -f test/etc/snapshotter.json\n json --validate -f test/etc/mdata.json\n json --validate -f test/etc/sample-sitter.json\n json --validate -f package.json\n ./deps/jsstyle/jsstyle -f ./tools/jsstyle.conf ./sitter.js ./backupserver.js ./snapshotter.js ./lib/zfsClient.js ./lib/backupQueue.js ./lib/backupServer.js ./lib/shard.js ./lib/backupSender.js ./lib/snapShotter.js ./lib/confParser.js ./lib/adm.js ./lib/zookeeperMgr.js ./lib/statusServer.js ./lib/postgresMgr.js ./test/confParser.test.js ./test/zookeeperMgr.test.js ./test/testManatee.js ./test/tst.manateeAdm.js ./test/integ.test.js ./test/tst.manateeAdmUsage.js ./test/postgresMgrRepl.js bin/manatee-adm tools/mksitterconfig\n Unescaped left brace in regex is deprecated, passed through in regex; marked by \u003c-- HERE in m/\\S{ \u003c-- HERE / at ./deps/jsstyle/jsstyle line 654.\n ./lib/adm.js: 1932: improper first line of block comment\n Makefile.targ:209: recipe for target \u0027check-jsstyle\u0027 failed\n gmake: *** [check-jsstyle] Error 1"},{"timestamp":1528383453,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 5."},{"timestamp":1528383453,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit b8a1197ecb371541cd788cc65885440d8404cbfa\n    \n    5"},{"timestamp":1528383484,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528384921,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1528542294,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1528542294,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit a050e587fdda58937750e7bca2ec8c4d9c6632b9\n    \n    5\n    \n    commit a14cd725ff1f97942e6b4cba10e057affa825395\n    \n    4\n    \n    commit 42bb077f97299935474afb24002c0353aebb4f20\n    \n    3\n    \n    commit cab5e31f108544a8a3d6c20fd4712f7a503b6218\n    \n    2\n    \n    commit 324b2bca9b6dd73606f7c048fd70df65a86c1e59\n    \n    1"},{"timestamp":1528542326,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6:\n\n\"make check\" passed ok"},{"timestamp":1528542386,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 6:\n\nRebased after MANATEE-398 integrated."},{"timestamp":1528843213,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1528846669,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6: Code-Review+1\n\nseems unlikely to break anything"},{"timestamp":1528846743,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 7."},{"timestamp":1528846744,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 7eee1bbb018c92eb4ab37bcf54ccca01088553ad\n    \n    6"},{"timestamp":1528846778,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528846782,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 8."},{"timestamp":1528846783,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit cac76bb7b237a3897c50346ff16daa2d2ae80c7f\n    \n    7"},{"timestamp":1528846813,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528846921,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 8: Code-Review+1\n\nseems fine to me"},{"timestamp":1528846944,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 9: Commit message was updated."},{"timestamp":1528886526,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 9: Code-Review+1 Integration-Approval+1"},{"timestamp":1528899212,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Uploaded patch set 10: Commit message was updated."},{"timestamp":1528899265,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Brian Bennett"}],"currentPatchSet":{"number":"10","revision":"f5adc5e98d3531185dc5c1d5b6cc8262482701d2","parents":["df92917582d785255cbf4b3bb13c24c7d1609993"],"ref":"refs/changes/49/4149/10","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528899212,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528846813,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528846921,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528886526,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528886526,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"SUBM","value":"1","grantedOn":1528899265,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":12,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"e46876b6005ee90d2fcb2e8316bc3552a61df6c7","parents":["75f395df8510bfad2da779edcedeb5a1ec3ab63f"],"ref":"refs/changes/49/4149/1","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528283552,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528283584,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528325406,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"comments":[{"file":"lib/adm.js","line":1931,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Is there a case where this wouldn\u0027t be an object, and the attempted access of `lst.sync.zoneId` in the next if would continue to crash?"},{"file":"lib/adm.js","line":1931,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"I tried to scope this as narrowly as I could so that the specific case that I know is safe will get through and any other unaccounted for cases would still crash. To the best of my understanding, if the shard is frozen then freeze will be an object. If it\u0027s unfrozen then freeze will be undefined.\n\nThe scope here is:\n\n* We are in multi-mode, not ONWM\n* We\u0027re leaving generation 0, moving to generation 1\n* The generation 0 is frozen, generation 1 is not\n* There is no sync or async in generation 1"},{"file":"lib/adm.js","line":1931,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Sounds great, thanks for clarifying, I just wanted to be sure."},{"file":"lib/adm.js","line":1931,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Here\u0027s the schema definition for this freeze property:\n\nhttps://github.com/joyent/manatee-state-machine/blob/795baa99af4b29087cae00f152d8e121c4c20e3f/lib/schemas.js#L49-L51"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":5,"deletions":0}],"sizeInsertions":5,"sizeDeletions":0},{"number":"2","revision":"dc4994fcc93fd65e680ab70084cae0c46af738b5","parents":["75f395df8510bfad2da779edcedeb5a1ec3ab63f"],"ref":"refs/changes/49/4149/2","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528382189,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1528382216,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/adm.js","line":1930,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: comparisons against null, 0, true, false, or an empty string allowing implicit type conversion (use \u003d\u003d\u003d or !\u003d\u003d)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":5,"deletions":0}],"sizeInsertions":5,"sizeDeletions":0},{"number":"3","revision":"118fbf4f8fa9497cae252ab90a983c33a210cb82","parents":["75f395df8510bfad2da779edcedeb5a1ec3ab63f"],"ref":"refs/changes/49/4149/3","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528382832,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1528382858,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/adm.js","line":1930,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: comparisons against null, 0, true, false, or an empty string allowing implicit type conversion (use \u003d\u003d\u003d or !\u003d\u003d)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":0}],"sizeInsertions":11,"sizeDeletions":0},{"number":"4","revision":"c0ba9be10e30cfd8f889a939c8e93f66d5904f19","parents":["75f395df8510bfad2da779edcedeb5a1ec3ab63f"],"ref":"refs/changes/49/4149/4","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528383005,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1528383037,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":0}],"sizeInsertions":11,"sizeDeletions":0},{"number":"5","revision":"2ec7da08feaa284b34dd3c5832bda079c0224ece","parents":["75f395df8510bfad2da779edcedeb5a1ec3ab63f"],"ref":"refs/changes/49/4149/5","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528383453,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528383484,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/adm.js","line":1930,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"The generation number increasing I believe is enough to imply that we\u0027re in multi mode (this would be worth confirming), and I\u0027m not sure the issue is related specifically to generation 0.\n\nWith that in mind, I think if we gate on `lst.sync \u003d\u003d\u003d null \u0026\u0026 nst.sync` here then that\u0027s plenty (so long as you\u0027re happy that it stops us crashing in the face of this cluster\u0027s history).\n\nDid you have a situation in mind where this kind of generalisation might mean we ignore another problem? Your comment below describes the intention of this gate well. I think it\u0027s OK to add to this if/when those other situations come up."},{"file":"lib/adm.js","line":1939,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Perhaps the following describes the situation enough?\n\n\u003e error: sync \"%s\" added while already in multi mode\n\nAs long as we\u0027re conveying that a sync should never be _added_ to a cluster (where it otherwise had none) while in multi mode then that\u0027s fine (a cluster starting in multi mode should only have a state object once a primary and sync are present, and seeing a sync _change_ is reflected elsewhere)."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":12,"sizeDeletions":0},{"number":"6","revision":"8ca4de485ce1d610e973c2e0474758310644ace6","parents":["df92917582d785255cbf4b3bb13c24c7d1609993"],"ref":"refs/changes/49/4149/6","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528542294,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528383484,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528846669,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"lib/adm.js","line":8,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"2018"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":12,"sizeDeletions":0},{"number":"7","revision":"ed4a5208840986145a135e634c1c457fcd45c80e","parents":["df92917582d785255cbf4b3bb13c24c7d1609993"],"ref":"refs/changes/49/4149/7","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528846743,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528846778,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":11,"deletions":0}],"sizeInsertions":11,"sizeDeletions":0},{"number":"8","revision":"ef117e382000dd348ca1ac99a84b5f88c92bc288","parents":["df92917582d785255cbf4b3bb13c24c7d1609993"],"ref":"refs/changes/49/4149/8","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528846782,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528846813,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528846921,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":12,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-1},{"number":"9","revision":"3020e05193121c362617d950b5fff0aed09cc3c3","parents":["df92917582d785255cbf4b3bb13c24c7d1609993"],"ref":"refs/changes/49/4149/9","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528846944,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528846813,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528846921,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528886526,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528886526,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":12,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-1},{"number":"10","revision":"f5adc5e98d3531185dc5c1d5b6cc8262482701d2","parents":["df92917582d785255cbf4b3bb13c24c7d1609993"],"ref":"refs/changes/49/4149/10","uploader":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"createdOn":1528899212,"author":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528846813,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528846921,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1528899265,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528886526,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528886526,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/adm.js","type":"MODIFIED","insertions":12,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-1}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}]}