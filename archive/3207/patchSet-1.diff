commit 1834171f90c9f02379569ab93cff9ed301075d34 (refs/changes/07/3207/1)
Author: John Levon <john.levon@joyent.com>
Date:   2018-01-12T14:12:43+00:00 (1 year, 9 months ago)
    
    OS-5796 ::dtrace_options causes mdb to dump core

diff --git a/usr/src/cmd/mdb/common/modules/dtrace/dtrace.c b/usr/src/cmd/mdb/common/modules/dtrace/dtrace.c
index 10d23128aa..fdddcfea9b 100644
--- a/usr/src/cmd/mdb/common/modules/dtrace/dtrace.c
+++ b/usr/src/cmd/mdb/common/modules/dtrace/dtrace.c
@@ -2518,9 +2518,16 @@ static struct dtrace_options {
 	{ "aggsortkey", dtrace_options_numtostr },
 	{ "aggsortrev", dtrace_options_numtostr },
 	{ "aggsortpos", dtrace_options_numtostr },
-	{ "aggsortkeypos", dtrace_options_numtostr }
+	{ "aggsortkeypos", dtrace_options_numtostr },
+	{ "temporal", dtrace_options_numtostr },
+	{ "agghist", dtrace_options_numtostr },
+	{ "aggpack", dtrace_options_numtostr },
+	{ "aggzoom", dtrace_options_numtostr },
+	{ "zone", dtrace_options_numtostr }
 };
 
+CTASSERT(ARRAY_SIZE(_dtrace_options) == DTRACEOPT_MAX);
+
 static void
 dtrace_options_help(void)
 {
