From 38af2d86dbe65072f0478b0549ca9b8559400a8f Mon Sep 17 00:00:00 2001
From: Kris Shannon <k.shannon@amaze.com.au>
Date: Thu, 29 Sep 2016 20:14:20 +1000
Subject: [PATCH] Add a --keyPath default cli option to specify file containing
 the SSH private key

---
 CHANGES.md           | 2 ++
 lib/create_client.js | 7 +++++++
 2 files changed, 9 insertions(+)

diff --git a/CHANGES.md b/CHANGES.md
index 4053dce..d25bc50 100644
--- a/CHANGES.md
+++ b/CHANGES.md
@@ -3,6 +3,8 @@
 ## not yet released
 
 - joyent/node-manta#270 Add -p to man mput
+- Add a new common cli option `--keyPath` to directly specify the path to
+  the SSH private key.
 
 ## 3.1.1
 
diff --git a/lib/create_client.js b/lib/create_client.js
index 86b753b..3342485 100644
--- a/lib/create_client.js
+++ b/lib/create_client.js
@@ -56,6 +56,13 @@ var DEFAULT_OPTIONS = [
         help: 'SSH key fingerprint',
         helpArg: 'FINGERPRINT'
     },
+    {
+        names: ['keyPath'],
+        type: 'string',
+        env: 'MANTA_KEY_PATH',
+        help: 'SSH private key file',
+        helpArg: 'FILE'
+    },
     {
         names: ['url', 'u'],
         type: 'string',
-- 
2.21.0

