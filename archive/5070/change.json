{"project":"joyent/illumos-extra","branch":"master","id":"I77df71a5fc59a53038c890c190e534f958fb1d97","number":"5070","subject":"OS-7373 gcc7 strapfix is incomplete","owner":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"url":"https://cr.joyent.us/5070","commitMessage":"OS-7373 gcc7 strapfix is incomplete\n","createdOn":1542409494,"lastUpdated":1542409508,"open":false,"status":"ABANDONED","comments":[{"timestamp":1542409494,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 1."},{"timestamp":1542409495,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 38d50440b0f9bbc743f726e7044cdcb16a0a9c7d\n    \n    Merge branch \u0027gcc-update\u0027 of https://github.com/joyent/illumos-extra into gcc-update\n    \n    commit 519226db725021917f638d9c5d62cb4fbc7bbc03\n    \n    fix\n    \n    commit 309e391f0951d8beea7fe0ab1005d8a7c965ea3b\n    \n    OS-7373 gcc7 strapfix is incomplete\n    OS-7376 binutils build has incorrect compiler flags\n    OS-7380 openssl should use the strap compiler\n    OS-7382 nss-nspr build doesn\u0027t use LDFLAGS\n    \n    commit d46ecaa850f318d13a5d7efe7f960cd266e9ee9f\n    \n    m\n    \n    commit d5bc74ee207c579491bc4bdbfc6bdb55abd2548d\n    \n    m\n    \n    commit c0580e66c7e9c22f05ad542e252cff560c883706\n    \n    m\n    \n    commit d47f5e0a5cba410f7e3f9050e241973177931f25\n    \n    OS-7380 openssl should use the strap compiler\n    \n    commit 00e31d3626e233dffe23409577201a968344d3ef\n    \n    shouldn\u0027t need binutils for proto\n    \n    commit 531356af1f352f23e445cd899d28e015405a20f4\n    \n    Need to mark subdirs as phony: I think this is because previously for\n    non-strap, the subdirs had a dependency on gcc and this triggering rebuilds for\n    everything? not clear...\n    \n    commit cd3cdc0f285bb2331f77ce5cf2e54595e8c7b7b8\n    \n    m\n    \n    commit 907c4d8479378f37c64596ee75c35e8ba9614efa\n    \n    m\n    \n    commit 19e34385c80317d3cc924b583e837098c4208ffe\n    \n    OS-XXXX binutils needs gcc fixes\n    \n    commit 4010492ed64b9040741cbceb6d362fba5171b134\n    \n    m\n    \n    commit f66a66d4cbd29f67404116d6dbb06c97e6682816\n    \n    m"},{"timestamp":1542409508,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Abandoned"}],"currentPatchSet":{"number":"1","revision":"77df71a5fc59a53038c890c190e534f958fb1d97","parents":["a8f4b93a3b68a50db6fab7c634fa58ea97f5fb1e"],"ref":"refs/changes/70/5070/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1542409494,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":31,"deletions":-17},{"file":"Makefile.defs","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"binutils/Makefile","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"gcc4/Makefile","type":"MODIFIED","insertions":49,"deletions":-40},{"file":"gcc7/Makefile","type":"MODIFIED","insertions":58,"deletions":-36},{"file":"gcc7/Patches/1001-unwind-map.patch","type":"ADDED","insertions":51,"deletions":0},{"file":"nss-nspr/Patches/ldflags.diff","type":"ADDED","insertions":25,"deletions":0},{"file":"openssl/Makefile","type":"MODIFIED","insertions":33,"deletions":-31},{"file":"openssl/Makefile.com","type":"MODIFIED","insertions":8,"deletions":-8}],"sizeInsertions":264,"sizeDeletions":-135},"patchSets":[{"number":"1","revision":"77df71a5fc59a53038c890c190e534f958fb1d97","parents":["a8f4b93a3b68a50db6fab7c634fa58ea97f5fb1e"],"ref":"refs/changes/70/5070/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1542409494,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":31,"deletions":-17},{"file":"Makefile.defs","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"binutils/Makefile","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"gcc4/Makefile","type":"MODIFIED","insertions":49,"deletions":-40},{"file":"gcc7/Makefile","type":"MODIFIED","insertions":58,"deletions":-36},{"file":"gcc7/Patches/1001-unwind-map.patch","type":"ADDED","insertions":51,"deletions":0},{"file":"nss-nspr/Patches/ldflags.diff","type":"ADDED","insertions":25,"deletions":0},{"file":"openssl/Makefile","type":"MODIFIED","insertions":33,"deletions":-31},{"file":"openssl/Makefile.com","type":"MODIFIED","insertions":8,"deletions":-8}],"sizeInsertions":264,"sizeDeletions":-135}],"allReviewers":[{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}