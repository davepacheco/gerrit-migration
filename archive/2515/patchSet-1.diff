From e6916a9342de36d5d38a47ec46d7136aacb836c1 Mon Sep 17 00:00:00 2001
From: Andrey Yatskov <andrey.yatskov@silvertreesystems.com>
Date: Mon, 24 Jul 2017 17:04:51 +0300
Subject: [PATCH] ADMINUI-2373 Want to Show Disk Layout Type in AdminUI

---
 less/server.less       | 3 ++-
 www/js/tpl/server.hbs  | 1 +
 www/js/views/server.js | 4 ++--
 3 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/less/server.less b/less/server.less
index 97057294..7c2e700d 100644
--- a/less/server.less
+++ b/less/server.less
@@ -173,7 +173,8 @@
     .disk {
       .widget-content;
       .name { display: inline-block; width: 40%; }
-      .size { display: inline-block; width: 40%; }
+      .size { display: inline-block; width: 30%; }
+      .zpool-profile { display: inline-block; width: 25%; }
     }
   }
 
diff --git a/www/js/tpl/server.hbs b/www/js/tpl/server.hbs
index 54575362..73b9e593 100644
--- a/www/js/tpl/server.hbs
+++ b/www/js/tpl/server.hbs
@@ -213,6 +213,7 @@
       <div class="disk">
         <div class="name">{{this.name}}</div>
         <div class="size">{{this.size}} GB</div>
+        <div class="zpool-profile">{{this.profile}}</div>
       </div>
       {{/each}}
     </div>
diff --git a/www/js/views/server.js b/www/js/views/server.js
index fda156bf..84e0a698 100644
--- a/www/js/views/server.js
+++ b/www/js/views/server.js
@@ -183,11 +183,11 @@ var ServerView = Backbone.Marionette.Layout.extend({
             data.total_quota += v['Size in GB'];
         });
 
-
         data.disks = _.map(data.sysinfo['Disks'], function (v, k) {
             return {
                 name: k,
-                size: v['Size in GB']
+                size: v['Size in GB'],
+                profile: data.sysinfo['Zpool Profile']
             };
         });
         data.traits = _.map(data.traits, function (v, k) {
-- 
2.21.0

