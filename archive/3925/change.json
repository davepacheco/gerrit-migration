{"project":"joyent/node-fast","branch":"master","id":"Ia194e7badcf7470b8f1a80eabe22628d2e70d14c","number":"3925","subject":"joyent/node-fast#17 node-fast could track client metrics Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Reviewed by: Kody A Kantor \u003ckody@kkantor.com\u003e Approved by: David Pacheco \u003cdap@joyent.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/3925","commitMessage":"joyent/node-fast#17 node-fast could track client metrics\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nReviewed by: Kody A Kantor \u003ckody@kkantor.com\u003e\nApproved by: David Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1525900991,"lastUpdated":1526497539,"open":false,"status":"MERGED","comments":[{"timestamp":1525900991,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1525900993,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 0f44f632bb8d6ee901ac9caaa508b2956e3973bd\n    \n    TRITON-375 node-moray should expose similar metrics to moray server (implement in node-fast)"},{"timestamp":1525900997,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525901056,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1525901057,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 3d0268a68e7530de0eb96c8b1799a30aeab5321a\n    \n    bump package.json version"},{"timestamp":1525901060,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525902363,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(2 comments)\n\nNice!  My only notes are nits."},{"timestamp":1525902503,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\nSorry, I forgot a couple of other items: would it be reasonable to add an artedi collector (and HTTP endpoint) to \"fastbench\"?  Besides being useful in itself, it\u0027s useful to be able to exercise stuff like this with the CLI tools built into the repo.\n\nThoughts on automated tests?"},{"timestamp":1525902721,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1525907102,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1525907104,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 12e85eacaa9050a981e62c89cc098e5eeec1e28e\n    \n    address CR comments"},{"timestamp":1525907107,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525907134,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\n(4 comments)\n\nAddressed the CR comments on existing changes, still working through test/example changes requested."},{"timestamp":1525961772,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1525989160,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4."},{"timestamp":1525989161,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 0fa8d96f7fbedeb6dcad52a725b896ea7fdab443\n    \n    add metrics to fastbench"},{"timestamp":1525989164,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525989699,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\n@dap:\n\n \u003e Thoughts on automated tests?\n\nI spent some time looking at the existing tests and it\u0027s not immediately clear where tests would fit in here. I expected to see some sort of simple test with a server and a client but it looks like there\u0027s some more complicated stuff going on.\n\nI could just modify test/common/client.js\u0027s ClientTestContext.prototype.establishConnection function to always pass in an artedi handle. But the way things are, it seems like we\u0027d then have to read through the ClientTestContext object to get at that handle if we wanted to use it in any tests... Do you have any specific suggestions for what tests you want to see here before this goes in?"},{"timestamp":1526079785,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4:\n\n(1 comment)\n\n\u003e @dap:\n \u003e \n \u003e \u003e Thoughts on automated tests?\n \u003e \n \u003e I spent some time looking at the existing tests and it\u0027s not\n \u003e immediately clear where tests would fit in here. I expected to see\n \u003e some sort of simple test with a server and a client but it looks\n \u003e like there\u0027s some more complicated stuff going on.\n\n\nYeah, there\u0027s kind of a complicated setup in order to cover a lot of different cases without duplicating tons of code.  Besides low-level unit tests for small functions or streams, we\u0027ve got separate client tests (which use a mock fast server) and server tests (which use a real fast client, since the client has been separately tested in isolation).\n\nThe client tests are divided into two files:\n\n\"tst.client_request.js\" has test cases that fit into a simple pattern: the test framework makes an RPC request to a mock server, and the test case implements the RPC handler for the server.  This is good for test cases involving just one RPC, since all you have to do is implement the handler and assert whatever post conditions you want.\n\nFor more free-form tests that need to control connection establishment, multiple clients or servers, etc., those go into \"tst.client_generic.js\".  This test framework is much more generic -- it just provides helper functions, but the test case has to drive the whole thing (set up the server, establish connections, etc.)\n\nSorry this isn\u0027t better documented.\n\n\n \u003e I could just modify test/common/client.js\u0027s ClientTestContext.prototype.establishConnection\n \u003e function to always pass in an artedi handle. But the way things\n \u003e are, it seems like we\u0027d then have to read through the\n \u003e ClientTestContext object to get at that handle if we wanted to use\n \u003e it in any tests... Do you have any specific suggestions for what\n \u003e tests you want to see here before this goes in?\n\nI think ideally, I would consider modifying the test runner for tst.client_request.js so that it asserts that after completing the request, a counter has been bumped by one, with at least some of the right labels (e.g., the \"rpcMethod\" name that the test uses).  That might be able to go into the test runner, right after we check the per-test-case postconditions:\nhttps://github.com/joyent/node-fast/blob/f416332ebb4eef2e61016d06dd96eba5dbf0f0df/test/tst.client_request.js#L96\n\nFor the latency metrics, I would consider adding a \"generic\" test that makes a few RPCs with deliberate latencies (e.g., 10ms, 100ms, 1000ms) and make sure the appropriate counters get bumped.  I\u0027m less sure about this one because there can obviously be variance in test execution time, and it also sucks to build sleeps into the tests.\n\nThe motivation for all of this is that I\u0027ve worked with a lot of stat frameworks where it turns out that the stats themselves have bugs.  We\u0027re going to be relying on these pretty heavily, and it seems like it _should_ be easily testable, so we may as well do it.\n\nOn the other hand, I think we decided under node-fast#9 that node-artedi doesn\u0027t have the API we need to do this sort of testing yet:\nhttps://cr.joyent.us/#/c/2652/3/test/tst.server.js@167\n\nSo maybe the best thing now would be to file a new node-fast issue to add automated tests for the artedi metrics and mark that it\u0027s blocked on the artedi RFE (unless anybody can think of something better for now)."},{"timestamp":1526344228,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1526420226,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 6."},{"timestamp":1526420227,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit a970efd53f7274f40ef400e75d634821ed59d670\n    \n    add test for artedi metrics"},{"timestamp":1526420230,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526420254,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7: Commit message was updated."},{"timestamp":1526420672,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7:\n\nI added a single test so there\u0027s at least something, and I created node-fast#18 for adding additional tests once node-artedi supports that. At this point I believe I have completed the required work for this ticket so if there\u0027s anything else that needs to be done before this can be integrated, please let me know."},{"timestamp":1526494464,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1526495302,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 7: Code-Review+1\n\n(1 comment)"},{"timestamp":1526496900,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1526496955,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 9: Commit message was updated."},{"timestamp":1526497539,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"9","revision":"73dcb46af95e47fa6c0449ec9872827dbf8bcd11","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/9","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1526496955,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526420230,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526495302,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"SUBM","value":"1","grantedOn":1526497539,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"bin/fastbench","type":"MODIFIED","insertions":58,"deletions":-13},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/common/client.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/tst.client_request.js","type":"MODIFIED","insertions":63,"deletions":-2}],"sizeInsertions":174,"sizeDeletions":-24},"patchSets":[{"number":"1","revision":"38a29e4bb70f89f19cb15cb16690480a0bd1ccd5","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1525900991,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525900997,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":42,"sizeDeletions":-7},{"number":"2","revision":"da3cbe2417a2261c15d187939abd8eab07327009","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1525901056,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525901060,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Would you mind creating a separate fast ticket about this?  If you add it to the changelog (under 2.5.0), we can publish a new version as soon as this is integrated."},{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"sure."},{"file":"README.md","line":117,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Do you think it\u0027s worth including an example in bin/fastcall ?"},{"file":"README.md","line":117,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"dap suggested I add to fastbench, should I do both or do you think that\u0027s sufficient?"},{"file":"README.md","line":117,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Adding something to fastbench sounds good. Thanks!"},{"file":"lib/fast_client.js","line":118,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Should we mention that this includes time spent in the server (and whatever is behind the server, like postgres) as well? Like \u0027end-to-end client request duration\u0027 or something?"},{"file":"lib/fast_client.js","line":118,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"sure. Good point."},{"file":"lib/fast_client_request.js","line":77,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think this is supposed to be \"frq_hrtstarted\".\n\nWould you mind moving this below to the \"RPC state\" block, since this doesn\u0027t come in as a parameter?"},{"file":"lib/fast_client_request.js","line":77,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"good catch."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-8},{"number":"3","revision":"45a82e63b84c5680e321f00a533dd45e8b470656","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1525907102,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525907107,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":48,"sizeDeletions":-8},{"number":"4","revision":"7c57374b482241955043e7639441c9d489f0a068","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1525989160,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525989164,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Can you put node-fast#17 here?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"bin/fastbench","type":"MODIFIED","insertions":58,"deletions":-13},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":107,"sizeDeletions":-21},{"number":"5","revision":"1ef262ab477fed03b67bf171973fcd8aeaf798fa","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1526344228,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525989164,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"bin/fastbench","type":"MODIFIED","insertions":58,"deletions":-13},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":107,"sizeDeletions":-21},{"number":"6","revision":"0112a2b76dbeae53e4c010105d9a1023ba8f3bec","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1526420226,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526420230,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"bin/fastbench","type":"MODIFIED","insertions":58,"deletions":-13},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/common/client.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/tst.client_request.js","type":"MODIFIED","insertions":63,"deletions":-2}],"sizeInsertions":174,"sizeDeletions":-24},{"number":"7","revision":"acd625333b5ba804d17b6020370e9beb401f068d","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1526420254,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526420230,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526495302,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"/COMMIT_MSG","line":9,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Usually we don\u0027t include the TRITON/MANTA tickets in node-fast commits.  It looks like we preface \u0027node-fast#issue\u0027 with \u0027joyent\u0027 based on the previous node-fast commits."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"bin/fastbench","type":"MODIFIED","insertions":58,"deletions":-13},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/common/client.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/tst.client_request.js","type":"MODIFIED","insertions":63,"deletions":-2}],"sizeInsertions":174,"sizeDeletions":-24},{"number":"8","revision":"a194e7badcf7470b8f1a80eabe22628d2e70d14c","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/8","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1526496900,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526420230,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526495302,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"bin/fastbench","type":"MODIFIED","insertions":58,"deletions":-13},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/common/client.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/tst.client_request.js","type":"MODIFIED","insertions":63,"deletions":-2}],"sizeInsertions":174,"sizeDeletions":-24},{"number":"9","revision":"73dcb46af95e47fa6c0449ec9872827dbf8bcd11","parents":["f416332ebb4eef2e61016d06dd96eba5dbf0f0df"],"ref":"refs/changes/25/3925/9","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1526496955,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526494464,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526420230,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1526497539,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526495302,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"bin/fastbench","type":"MODIFIED","insertions":58,"deletions":-13},{"file":"lib/fast_client.js","type":"MODIFIED","insertions":34,"deletions":-1},{"file":"lib/fast_client_request.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/common/client.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/tst.client_request.js","type":"MODIFIED","insertions":63,"deletions":-2}],"sizeInsertions":174,"sizeDeletions":-24}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}