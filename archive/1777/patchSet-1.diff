From b001a6175cf495a04c98efc9f7b5b02c86d7cc00 Mon Sep 17 00:00:00 2001
From: Robert Mustacchi <rm@joyent.com>
Date: Mon, 10 Apr 2017 19:05:57 +0000
Subject: [PATCH] OS-6042 Need to handle NVMe devices with EUI64 values

---
 usr/src/uts/common/io/nvme/nvme.c | 8 --------
 1 file changed, 8 deletions(-)

diff --git a/usr/src/uts/common/io/nvme/nvme.c b/usr/src/uts/common/io/nvme/nvme.c
index 9809410a09..cb2e9bdd22 100644
--- a/usr/src/uts/common/io/nvme/nvme.c
+++ b/usr/src/uts/common/io/nvme/nvme.c
@@ -2198,14 +2198,6 @@ nvme_init(nvme_t *nvme)
 		/*LINTED: E_BAD_PTR_CAST_ALIGN*/
 		if (*(uint64_t *)nvme->n_ns[i].ns_eui64 == 0) {
 			nvme_prepare_devid(nvme, nvme->n_ns[i].ns_id);
-		} else {
-			/*
-			 * Until EUI64 support is tested on real hardware we
-			 * will ignore namespaces with an EUI64. This can
-			 * be overriden by setting strict-version=0 in nvme.conf
-			 */
-			if (nvme->n_strict_version)
-				nvme->n_ns[i].ns_ignore = B_TRUE;
 		}
 
 		/*
-- 
2.21.0

