From 24c314aae74dd924c670b5249ec1c8a8235d504c Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Wed, 17 Jul 2019 10:55:04 -0700
Subject: [PATCH] =?UTF-8?q?TRITON-1818=20explicitly=20specify=20PEM=20key?=
 =?UTF-8?q?=20format=20for=20keys=20generated=20by=20ssh-keygen=20Reviewed?=
 =?UTF-8?q?=20by:=20Pedro=20Palaz=C3=B3n=20Candel=20<pedro@joyent.com>=20A?=
 =?UTF-8?q?pproved=20by:=20Pedro=20Palaz=C3=B3n=20Candel=20<pedro@joyent.c?=
 =?UTF-8?q?om>?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 lib/rbac.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/rbac.js b/lib/rbac.js
index 4c595e3..14c0f41 100644
--- a/lib/rbac.js
+++ b/lib/rbac.js
@@ -800,7 +800,7 @@ function executeRbacUpdatePlan(ctx, cb) {
                     },
                     function generateSshKey(ctx2, next2) {
                         var cmd = format(
-                            'ssh-keygen -t rsa -C "%s" -f %s -b 4096',
+                            'ssh-keygen -t rsa -m PEM -C "%s" -f %s -b 4096',
                             ctx2.keyName, ctx2.keyPath);
                         console.log('    Generate 4096 bit RSA key: %s[.pub]',
                             ctx2.keyPath);
-- 
2.21.0

