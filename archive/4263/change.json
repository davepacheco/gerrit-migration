{"project":"joyent/postgres","branch":"joyent/9.6.3","topic":"MANATEE-401","id":"I5f50a8f2b09c0e35d72d878c3d498a221aeeb4b8","number":"4263","subject":"MANATEE-401 postgresql should not reuse old WAL files Reviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e Approved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e","owner":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"url":"https://cr.joyent.us/4263","commitMessage":"MANATEE-401 postgresql should not reuse old WAL files\nReviewed by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\nApproved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\n","createdOn":1529440295,"lastUpdated":1533067996,"open":false,"status":"MERGED","comments":[{"timestamp":1529440295,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Uploaded patch set 1."},{"timestamp":1529441160,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1529451417,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\nThis looks great.\n\nI\u0027m not sure if it\u0027s premature, but it would be great to get this change in front of the PG community as a sanity check before we integrate it."},{"timestamp":1529931089,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\nTest notes in ticket"},{"timestamp":1530053547,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n You need to run the \u0027configure\u0027 program first. See the file\n \u0027INSTALL\u0027 for installation instructions.\n Makefile:15: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 1"},{"timestamp":1530053765,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1:\n\n\"make check\" exited with status 2\n\n You need to run the \u0027configure\u0027 program first. See the file\n \u0027INSTALL\u0027 for installation instructions.\n Makefile:15: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 1"},{"timestamp":1530133158,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\nThe joyent automation failures look like this repo is not properly supported by that tool."},{"timestamp":1532390538,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1:\n\nYes, it does seem that the make check bot shouldn\u0027t run for this repository.  I\u0027ll get that cleared up while I\u0027m working on approval."},{"timestamp":1532967960,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Topic set to MANATEE-401"},{"timestamp":1532968326,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: -CI-Testing"},{"timestamp":1532968844,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1: Integration-Approval+1\n\nTesting notes in the ticket look good to me!  Once we have the final commit hash after integration, I guess the submodule dependency in CR 4264 will need to be updated."},{"timestamp":1532969144,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1533067996,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jerry Jelinek"}],"currentPatchSet":{"number":"2","revision":"5f50a8f2b09c0e35d72d878c3d498a221aeeb4b8","parents":["563881d704954a95174be84330af3e218e30143b"],"ref":"refs/changes/63/4263/2","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1532969144,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529441160,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532968844,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1533067996,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/backend/access/transam/xlog.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/backend/utils/misc/guc.c","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"src/include/access/xlog.h","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"5a4b5261882b456bb71183969b0ad55d2c88d6b3","parents":["563881d704954a95174be84330af3e218e30143b"],"ref":"refs/changes/63/4263/1","uploader":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"createdOn":1529440295,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529441160,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532968844,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/backend/access/transam/xlog.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/backend/utils/misc/guc.c","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"src/include/access/xlog.h","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-2},{"number":"2","revision":"5f50a8f2b09c0e35d72d878c3d498a221aeeb4b8","parents":["563881d704954a95174be84330af3e218e30143b"],"ref":"refs/changes/63/4263/2","uploader":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"createdOn":1532969144,"author":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529441160,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532968844,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1533067996,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"src/backend/access/transam/xlog.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"src/backend/utils/misc/guc.c","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"src/include/access/xlog.h","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-2}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}]}