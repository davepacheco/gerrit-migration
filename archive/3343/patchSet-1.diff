From 54b3dbe27ed4cb6da82a2f68e1efa3ec1607d1a9 Mon Sep 17 00:00:00 2001
From: Julien Gilli <julien.gilli@joyent.com>
Date: Thu, 8 Feb 2018 15:37:52 -0800
Subject: [PATCH] TRITON-110 current vmapi not compatible with ancient workflow

---
 lib/workflows/nfs-volumes/index.js | 20 +++-----------------
 1 file changed, 3 insertions(+), 17 deletions(-)

diff --git a/lib/workflows/nfs-volumes/index.js b/lib/workflows/nfs-volumes/index.js
index 1af5a30..416895e 100644
--- a/lib/workflows/nfs-volumes/index.js
+++ b/lib/workflows/nfs-volumes/index.js
@@ -704,31 +704,17 @@ module.exports = {
             name: 'volapi.provision_nfs_volumes',
             timeout: 120,
             retry: 1,
-            body: provisionNfsVolumes,
-            modules: {
-                sdcClients: 'sdc-clients',
-                uuid: 'uuid',
-                vasync: 'vasync',
-                VError: 'verror'
-            }
+            body: provisionNfsVolumes
         }, {
             name: 'cnapi.wait_for_nfs_volumes_provisions',
             timeout: 120,
             retry: 1,
-            body: waitForNfsVolumeProvisions,
-            modules: {
-                sdcClients: 'sdc-clients',
-                vasync: 'vasync'
-            }
+            body: waitForNfsVolumeProvisions
         }, {
             name: 'cnapi.build_nfs_volumes_metadata',
             timeout: 10,
             retry: 1,
-            body: buildNfsVolumesMetadata,
-            modules: {
-                sdcClients: 'sdc-clients',
-                vasync: 'vasync'
-            }
+            body: buildNfsVolumesMetadata
         }
     ],
     addVolumesReferences: addVolumesReferences,
-- 
2.21.0

