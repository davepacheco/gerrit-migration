From 3691527e6184cb16020993391403a954b855e39f Mon Sep 17 00:00:00 2001
From: Julien Gilli <julien.gilli@joyent.com>
Date: Thu, 8 Feb 2018 15:37:52 -0800
Subject: [PATCH] TRITON-110 current vmapi not compatible with ancient workflow

---
 lib/workflows/nfs-volumes/index.js | 22 ++++------------------
 1 file changed, 4 insertions(+), 18 deletions(-)

diff --git a/lib/workflows/nfs-volumes/index.js b/lib/workflows/nfs-volumes/index.js
index 1af5a30..f443c65 100644
--- a/lib/workflows/nfs-volumes/index.js
+++ b/lib/workflows/nfs-volumes/index.js
@@ -5,7 +5,7 @@
  */
 
 /*
- * Copyright (c) 2017, Joyent, Inc.
+ * Copyright (c) 2018, Joyent, Inc.
  */
 
 /*
@@ -704,31 +704,17 @@ module.exports = {
             name: 'volapi.provision_nfs_volumes',
             timeout: 120,
             retry: 1,
-            body: provisionNfsVolumes,
-            modules: {
-                sdcClients: 'sdc-clients',
-                uuid: 'uuid',
-                vasync: 'vasync',
-                VError: 'verror'
-            }
+            body: provisionNfsVolumes
         }, {
             name: 'cnapi.wait_for_nfs_volumes_provisions',
             timeout: 120,
             retry: 1,
-            body: waitForNfsVolumeProvisions,
-            modules: {
-                sdcClients: 'sdc-clients',
-                vasync: 'vasync'
-            }
+            body: waitForNfsVolumeProvisions
         }, {
             name: 'cnapi.build_nfs_volumes_metadata',
             timeout: 10,
             retry: 1,
-            body: buildNfsVolumesMetadata,
-            modules: {
-                sdcClients: 'sdc-clients',
-                vasync: 'vasync'
-            }
+            body: buildNfsVolumesMetadata
         }
     ],
     addVolumesReferences: addVolumesReferences,
-- 
2.21.0

