commit 101b81f53ee6aa6096a9273d0c469ccd71792f45
Author: Marsell Kukuljevic <marsell@joyent.com>
Date:   2019-04-10T21:35:27+02:00 (6 months ago)
    
    TRITON-1384 CNAPI/DAPI blows assertion "callback (Function) is required" when doing getVm

diff --git a/lib/algorithms/hard-filter-volumes-from.js b/lib/algorithms/hard-filter-volumes-from.js
index f8fd646..220d2d7 100644
--- a/lib/algorithms/hard-filter-volumes-from.js
+++ b/lib/algorithms/hard-filter-volumes-from.js
@@ -121,7 +121,7 @@ loadVmAndFilter(log, servers, requiredVms, getVm, cb)
 
 		var vmUuid = remainingVms.shift();
 
-		return getVm({ uuid: vmUuid }, function (err, vm) {
+		return getVm({ uuid: vmUuid }, {}, function getVmCb(err, vm) {
 			if (err) {
 				log.error('Error loading VM', err);
 
