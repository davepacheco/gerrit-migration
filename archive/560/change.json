{"project":"joyent/sdcnode","branch":"master","id":"If8eca0447faf50bb6b9351cdb87fb2184afffe7c","number":"560","subject":"TOOLS-1555 sdcnode v4 builds for the gz Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e Approved by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/560","commitMessage":"TOOLS-1555 sdcnode v4 builds for the gz\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\nApproved by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1475265118,"lastUpdated":1475276478,"open":false,"status":"MERGED","comments":[{"timestamp":1475265118,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1475265120,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475268872,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1475275520,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1475275521,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 5e422c3dbdb3be998663b38825b617dd1e567b5c\n    \n    switch to elfedit (part of the platform) per rm\u0027s feedback"},{"timestamp":1475275537,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475275702,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1475276423,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1475276470,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1475276478,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"f8eca0447faf50bb6b9351cdb87fb2184afffe7c","parents":["6eea5fbb112f80f8f645295f7294f17a324799da"],"ref":"refs/changes/60/560/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475276470,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475275537,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475275702,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475276423,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475276423,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"SUBM","value":"1","grantedOn":1475276478,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"tools/build-a-node","type":"MODIFIED","insertions":50,"deletions":-5},{"file":"tools/build-all-nodes","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":66,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"a03581ccb83ffa8c44447e44d86bc18554a0a8b6","parents":["6eea5fbb112f80f8f645295f7294f17a324799da"],"ref":"refs/changes/60/560/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475265118,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475265120,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"tools/build-a-node","line":155,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In this case I\u0027d suggest using elfedit to do this, which is shipped in the platform. You can run:\n\nelfedit -e \"dyn:runpath $rpath\" $buildDir/node/bin/node\n\nYou can also confirm things manually by looking at elfdump -d, which displays the dynamic section and see what things are set to."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"tools/build-a-node","type":"MODIFIED","insertions":59,"deletions":-5},{"file":"tools/build-all-nodes","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":75,"sizeDeletions":-7},{"number":"2","revision":"71af43db34345e990e3bfe59780fbcb864a05fd8","parents":["6eea5fbb112f80f8f645295f7294f17a324799da"],"ref":"refs/changes/60/560/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475275520,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475275702,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475275537,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475276423,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475276423,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"tools/build-a-node","type":"MODIFIED","insertions":50,"deletions":-5},{"file":"tools/build-all-nodes","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":66,"sizeDeletions":-7},{"number":"3","revision":"f8eca0447faf50bb6b9351cdb87fb2184afffe7c","parents":["6eea5fbb112f80f8f645295f7294f17a324799da"],"ref":"refs/changes/60/560/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475276470,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475275702,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475275537,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1475276478,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475276423,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475276423,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"tools/build-a-node","type":"MODIFIED","insertions":50,"deletions":-5},{"file":"tools/build-all-nodes","type":"MODIFIED","insertions":4,"deletions":-1}],"sizeInsertions":66,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}