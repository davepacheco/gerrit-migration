{"project":"joyent/sdc-vmapi","branch":"master","id":"Ia53646ebc1f4b79fc138b1ad5a9d364a4c6cfd4f","number":"6741","subject":"TRITON-1841 Updating NICs in VMAPI should call out to NAPI where appropriate Reviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e Approved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/6741","commitMessage":"TRITON-1841 Updating NICs in VMAPI should call out to NAPI where appropriate\nReviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\nApproved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\n","createdOn":1564696285,"lastUpdated":1568735686,"open":false,"status":"MERGED","comments":[{"timestamp":1564696285,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1564696328,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1564696528,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1564696571,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1568367173,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2: Code-Review+1\n\nLooks fine. I will rebase and if you\u0027re Ok we\u0027ll merge this one Todd"},{"timestamp":1568367182,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1568367234,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n\"make check\" exited with status 2\n\n /tmp/repo/lib/workflows/remove-nics.js\n /tmp/repo/lib/workflows/add-nics.js\n /tmp/repo/lib/workflows/migrate-sync.js\n /tmp/repo/lib/workflows/provision.js\n /tmp/repo/lib/workflows/migrate-rollback.js\n /tmp/repo/lib/workflows/kill.js\n /tmp/repo/lib/workflows/migrate-switch.js\n /tmp/repo/lib/workflows/stop.js\n /tmp/repo/lib/workflows/job-common.js\n /tmp/repo/lib/workflows/migrate-abort.js\n /tmp/repo/lib/vm-migration/migrate.js\n /tmp/repo/lib/errors.js\n /tmp/repo/lib/endpoints/vms.js\n /tmp/repo/lib/endpoints/statuses.js\n /tmp/repo/lib/endpoints/metadata.js\n /tmp/repo/lib/endpoints/jobs.js\n /tmp/repo/lib/endpoints/ping.js\n /tmp/repo/lib/endpoints/role-tags.js\n /tmp/repo/test/vms.data-migrations.test.js\n /tmp/repo/test/vms.migrate.test.js\n /tmp/repo/test/vms.full.test.js\n /tmp/repo/test/vms.update-moray-bucket-non-transient-error.test.js\n /tmp/repo/test/vms.marker.test.js\n /tmp/repo/test/vms.exits-on-uncaught.test.js\n /tmp/repo/test/lib/uuid.js\n /tmp/repo/test/lib/moray.js\n /tmp/repo/test/lib/migration.js\n /tmp/repo/test/lib/vm.js\n /tmp/repo/test/vms.list.test.js\n /tmp/repo/test/vms.reindex-moray-bucket-transient-error.test.js\n /tmp/repo/test/vms.delete_non_existing_no_workflow.test.js\n /tmp/repo/test/fixtures/data-migrations-invalid-filenames/vms/invalid-file-name.js\n /tmp/repo/test/fixtures/vmapi-server-with-throwing-handler.js\n /tmp/repo/test/fixtures/data-migrations-valid/vms/001-foo-to-bar.js\n /tmp/repo/test/vms.changefeed.test.js\n /tmp/repo/test/vms.list-filter-internal-metadata.test.js\n /tmp/repo/test/vms.update-moray-bucket-versioning.test.js\n /tmp/repo/test/vms.volumes.test.js\n /tmp/repo/test/vms.list-sort.test.js\n /tmp/repo/test/vms.update-moray-bucket-transient-error.test.js\n /tmp/repo/test/vms.curl-head-requests.test.js\n /tmp/repo/test/vms.update-moray-bucket-removes-index-fails.test.js\n /tmp/repo/test/vms.validate.test.js\n /tmp/repo/test/common.js\n /tmp/repo/test/vms.disks.test.js\n deps/jsstyle/jsstyle -o indent\u003d4,doxygen,unparenthesized-return\u003d0,leading-right-paren-ok\u003d1 server.js tools/kvm-backfill.js tools/add-test-vms.js tools/migrations/add-docker-index.js tools/perf/random-load.js tools/perf/profile.js tools/fix-no-owner.js lib/config-loader.js lib/data-migrations/loader.js lib/data-migrations/noop-controller.js lib/data-migrations/migrations/vms/001-internal-metadata-search.js lib/data-migrations/controller.js lib/validation/sort.js lib/changefeed.js lib/restify-plugins/curl-user-agent.js lib/apis/cnapi.js lib/apis/imgapi.js lib/apis/wfapi.js lib/apis/papi.js lib/apis/moray.js lib/vmapi.js lib/common/marker.js lib/common/index.js lib/common/util.js lib/common/vm-common.js lib/common/ldap-filter.js lib/common/validation.js lib/common/predicate.js lib/moray/moray-init.js lib/moray/moray-buckets-config.js lib/moray/moray-buckets-initializer.js lib/interceptors.js lib/workflows/delete-snapshot.js lib/workflows/destroy.js lib/workflows/nfs-volumes/index.js lib/workflows/vm-migration/cleanup_source.js lib/workflows/vm-migration/rollback.js lib/workflows/vm-migration/sync.js lib/workflows/vm-migration/begin.js lib/workflows/vm-migration/pause.js lib/workflows/vm-migration/cleanup_target.js lib/workflows/vm-migration/switch.js lib/workflows/vm-migration/common.js lib/workflows/vm-migration/abort.js lib/workflows/migrate-begin.js lib/workflows/snapshot.js lib/workflows/migrate-pause.js lib/workflows/update-nics.js lib/workflows/start.js lib/workflows/update.js lib/workflows/fabric-common.js lib/workflows/reprovision.js lib/workflows/reboot.js lib/workflows/rollback.js lib/workflows/remove-nics.js lib/workflows/add-nics.js lib/workflows/migrate-sync.js lib/workflows/provision.js lib/workflows/migrate-rollback.js lib/workflows/kill.js lib/workflows/migrate-switch.js lib/workflows/stop.js lib/workflows/job-common.js lib/workflows/migrate-abort.js lib/vm-migration/migrate.js lib/errors.js lib/endpoints/vms.js lib/endpoints/statuses.js lib/endpoints/metadata.js lib/endpoints/jobs.js lib/endpoints/ping.js lib/endpoints/role-tags.js test/vms.data-migrations.test.js test/vms.migrate.test.js test/vms.full.test.js test/vms.update-moray-bucket-non-transient-error.test.js test/vms.marker.test.js test/vms.exits-on-uncaught.test.js test/lib/uuid.js test/lib/moray.js test/lib/migration.js test/lib/vm.js test/vms.list.test.js test/vms.reindex-moray-bucket-transient-error.test.js test/vms.delete_non_existing_no_workflow.test.js test/fixtures/data-migrations-invalid-filenames/vms/invalid-file-name.js test/fixtures/vmapi-server-with-throwing-handler.js test/fixtures/data-migrations-valid/vms/001-foo-to-bar.js test/vms.changefeed.test.js test/vms.list-filter-internal-metadata.test.js test/vms.update-moray-bucket-versioning.test.js test/vms.volumes.test.js test/vms.list-sort.test.js test/vms.update-moray-bucket-transient-error.test.js test/vms.curl-head-requests.test.js test/vms.update-moray-bucket-removes-index-fails.test.js test/vms.validate.test.js test/common.js test/vms.disks.test.js\n deps/eng/tools/check-copyright -q\n error: lib/workflows/update-nics.js: copyright not in RFD 164 form, \u0027 * Copyright (c) 2019, Joyent, Inc.\u0027 does not match /Copyright [0-9]{4} Joyent, Inc\\.$/\n gmake: *** [deps/eng/tools/mk/Makefile.targ:292: check-copyright] Error 1"},{"timestamp":1568385425,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4."},{"timestamp":1568385430,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 8b2be98c5efdaba3d2a330be15b2c66ddeaa5001\n    \n    Fixed Copyright issues with make check"},{"timestamp":1568385481,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1568385483,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1568385565,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5: Code-Review+1\n\nOk, done with the make check copyright notices fixes + rebasing."},{"timestamp":1568404619,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 5:\n\n(2 comments)\n\nAlso, is there a test case that will run the update nics workflow?"},{"timestamp":1568660439,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 6."},{"timestamp":1568660444,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit aede8b13b733847dfbbc715364e8c135b6464c9f\n    \n    Added test. Bumped task timeout."},{"timestamp":1568660470,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5:\n\n(2 comments)\n\n\u003e (2 comments)\n \u003e \n \u003e Also, is there a test case that will run the update nics workflow?\n\nNo that I have been able to find so I\u0027ve added a new one and verified the nic is updated in NAPI"},{"timestamp":1568660490,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1568668095,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 6:\n\n(3 comments)"},{"timestamp":1568711175,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 7."},{"timestamp":1568711180,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 319fd5c0fbb1325519da7e7dfb3357254a8f1894\n    \n    Updated test"},{"timestamp":1568711195,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 7:\n\n(3 comments)\n\nDone updating the test case"},{"timestamp":1568711227,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1568735152,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1568735621,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1568735686,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"8","revision":"a53646ebc1f4b79fc138b1ad5a9d364a4c6cfd4f","parents":["f0eed5fd326ff2ed71402e505ad6eae883926639"],"ref":"refs/changes/41/6741/8","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1568735621,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568711227,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568735152,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568735152,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"SUBM","value":"1","grantedOn":1568735686,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/workflows/migrate-abort.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-begin.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-sync.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":39,"deletions":-3},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":101,"deletions":-15}],"sizeInsertions":143,"sizeDeletions":-21},"patchSets":[{"number":"1","revision":"c40df112a45acd96235b1226d0b983c992767648","parents":["8887095d7413f4b9941f27093cefea2625d67b35"],"ref":"refs/changes/41/6741/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1564696285,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1564696328,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/workflows/update-nics.js","line":56,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: vasync"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":37,"deletions":0}],"sizeInsertions":37,"sizeDeletions":0},{"number":"2","revision":"575dd729cb434c7a99074d2eecf5ee4b0356102a","parents":["8887095d7413f4b9941f27093cefea2625d67b35"],"ref":"refs/changes/41/6741/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1564696528,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1564696571,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568367173,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":38,"deletions":-1}],"sizeInsertions":38,"sizeDeletions":-1},{"number":"3","revision":"ca578d32ec0e188156dd701c209c7451b973d830","parents":["f0eed5fd326ff2ed71402e505ad6eae883926639"],"ref":"refs/changes/41/6741/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1568367182,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1568367234,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568367173,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":38,"deletions":-1}],"sizeInsertions":38,"sizeDeletions":-1},{"number":"4","revision":"579a84c7c917e8501568d80937ff0fc7f1d9e021","parents":["8887095d7413f4b9941f27093cefea2625d67b35"],"ref":"refs/changes/41/6741/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1568385425,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568385483,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-abort.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-begin.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/workflows/migrate-sync.js","type":"MODIFIED","insertions":1,"deletions":-11},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":39,"deletions":-2},{"file":"lib/workflows/vm-migration/rollback.js","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/lib/migration.js","type":"MODIFIED","insertions":14,"deletions":-10}],"sizeInsertions":64,"sizeDeletions":-31},{"number":"5","revision":"3e1fc5a77f8f6f54c2b6ed028f01084dc01673ab","parents":["f0eed5fd326ff2ed71402e505ad6eae883926639"],"ref":"refs/changes/41/6741/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1568385481,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568385565,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"comments":[{"file":"lib/workflows/update-nics.js","line":98,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"I think it might be wise to increase this (maybe 60 seconds?), as it is updating multiple nics and NAPI could be congested."},{"file":"lib/workflows/update-nics.js","line":98,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Given the amount of times I\u0027ve seen this timing out, I\u0027ve bumped it to 2 minutes. Good call."},{"file":"lib/workflows/update-nics.js","line":102,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Restify is not used, so not needed here."},{"file":"lib/workflows/update-nics.js","line":102,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/migrate-abort.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-begin.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-sync.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":39,"deletions":-2}],"sizeInsertions":42,"sizeDeletions":-5},{"number":"6","revision":"fd01e8460a4665514dd2445e059c7c7c00841b0b","parents":["f0eed5fd326ff2ed71402e505ad6eae883926639"],"ref":"refs/changes/41/6741/6","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1568660439,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568660490,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/vms.full.test.js","line":1306,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Wrap this in an if statement:\n  if (nics \u0026\u0026 nics[0]) {\n  }"},{"file":"test/vms.full.test.js","line":1306,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/vms.full.test.js","line":1312,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Bail early if no nicMac set."},{"file":"test/vms.full.test.js","line":1312,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"test/vms.full.test.js","line":1368,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Wrap with:\n  if (Array.isArray(nics)) {\n\nSave the filtered nic(s) to a variable, then use:\n  t.ok(foundNics.length \u003e 0 \u0026\u0026 foundNics[0].allow_ip_spoofing, \u0027IP spoofing is true\u0027)"},{"file":"test/vms.full.test.js","line":1368,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/workflows/migrate-abort.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-begin.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-sync.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":39,"deletions":-3},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":84,"deletions":-15}],"sizeInsertions":126,"sizeDeletions":-21},{"number":"7","revision":"ff5921dd010b1894233176aa265e0224f2bf475c","parents":["f0eed5fd326ff2ed71402e505ad6eae883926639"],"ref":"refs/changes/41/6741/7","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1568711175,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568711227,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568735152,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568735152,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/migrate-abort.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-begin.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-sync.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":39,"deletions":-3},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":101,"deletions":-15}],"sizeInsertions":143,"sizeDeletions":-21},{"number":"8","revision":"a53646ebc1f4b79fc138b1ad5a9d364a4c6cfd4f","parents":["f0eed5fd326ff2ed71402e505ad6eae883926639"],"ref":"refs/changes/41/6741/8","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1568735621,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568711227,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1568735686,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568735152,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568735152,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/workflows/migrate-abort.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-begin.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/migrate-sync.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/workflows/update-nics.js","type":"MODIFIED","insertions":39,"deletions":-3},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":101,"deletions":-15}],"sizeInsertions":143,"sizeDeletions":-21}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}