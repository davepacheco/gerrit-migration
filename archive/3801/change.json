{"project":"joyent/node-sshpk-agent","branch":"master","id":"Ib83eed74a74e01d180c5ba48c615d79a9e9858ee","number":"3801","subject":"joyent/node-sshpk-agent#12 Simplify protocol parser code joyent/node-sshpk-agent#13 Add support for \"extension\" messages from draft-miller-ssh-agent Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/3801","commitMessage":"joyent/node-sshpk-agent#12 Simplify protocol parser code\njoyent/node-sshpk-agent#13 Add support for \"extension\" messages from draft-miller-ssh-agent\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1523409529,"lastUpdated":1523471800,"open":false,"status":"MERGED","comments":[{"timestamp":1523409529,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1523409553,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(3 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1523409689,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2."},{"timestamp":1523409713,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1523409811,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 3."},{"timestamp":1523409835,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1523419734,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 4."},{"timestamp":1523419758,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1523425620,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4:\n\n(4 comments)"},{"timestamp":1523426987,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1523427024,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 5."},{"timestamp":1523427049,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1523464352,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1523464868,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5: Integration-Approval+1"},{"timestamp":1523471800,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"}],"currentPatchSet":{"number":"5","revision":"b83eed74a74e01d180c5ba48c615d79a9e9858ee","parents":["6a59cf52536360fbc49afcb5372a9f16f28b02a4"],"ref":"refs/changes/01/3801/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1523427024,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1523427049,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1523464352,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1523464868,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1523471800,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/protocol-streams.js","type":"MODIFIED","insertions":30,"deletions":-143},{"file":"lib/protocol.js","type":"MODIFIED","insertions":245,"deletions":-338},{"file":"lib/ssh-buffer.js","type":"ADDED","insertions":174,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":451,"sizeDeletions":-483},"patchSets":[{"number":"1","revision":"18123112490dbab06f22fb694fbff4616bc6f0e0","parents":["6a59cf52536360fbc49afcb5372a9f16f28b02a4"],"ref":"refs/changes/01/3801/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1523409529,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1523409553,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/protocol-streams.js","line":40,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: i"},{"file":"lib/protocol-streams.js","line":40,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: err"},{"file":"lib/protocol-streams.js","line":89,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: err"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/protocol-streams.js","type":"MODIFIED","insertions":30,"deletions":-141},{"file":"lib/protocol.js","type":"MODIFIED","insertions":238,"deletions":-338},{"file":"lib/ssh-buffer.js","type":"ADDED","insertions":174,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":443,"sizeDeletions":-480},{"number":"2","revision":"022703905a8268d295e643217e570748fc849169","parents":["6a59cf52536360fbc49afcb5372a9f16f28b02a4"],"ref":"refs/changes/01/3801/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1523409689,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1523409713,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/protocol-streams.js","type":"MODIFIED","insertions":30,"deletions":-143},{"file":"lib/protocol.js","type":"MODIFIED","insertions":238,"deletions":-338},{"file":"lib/ssh-buffer.js","type":"ADDED","insertions":174,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":443,"sizeDeletions":-482},{"number":"3","revision":"9e5e4f949ea842992adc8b5b8f79aa26bbe6b2ea","parents":["6a59cf52536360fbc49afcb5372a9f16f28b02a4"],"ref":"refs/changes/01/3801/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1523409811,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1523409835,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/protocol.js","line":17,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"These cases are almost sorted by number. It might be good to do so so that it will be easier to review what\u0027s handled in the future."},{"file":"lib/protocol.js","line":17,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Ok, will do."},{"file":"lib/protocol.js","line":174,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Sort the cases by number?"},{"file":"lib/ssh-buffer.js","line":89,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Should this be .toString(\u0027ascii\u0027)?"},{"file":"lib/ssh-buffer.js","line":89,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Yes."},{"file":"package.json","line":32,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Why shrink the range here?"},{"file":"package.json","line":32,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Because, sadly, in the security fixes we did in sshpk we broke sshpk-agent on the 1.13.2 patch release (sshpk-agent uses some private API in sshpk so it\u0027s fine for that to have been a patch release).\n\nI intend to do a patch release of sshpk-agent with this narrowed dep, and then a new minor of sshpk-agent with the updates for newer sshpk (1.14.x) afterwards."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/protocol-streams.js","type":"MODIFIED","insertions":30,"deletions":-143},{"file":"lib/protocol.js","type":"MODIFIED","insertions":238,"deletions":-338},{"file":"lib/ssh-buffer.js","type":"ADDED","insertions":174,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":444,"sizeDeletions":-483},{"number":"4","revision":"b14c6a858b0781717d651beb7a4d6e2a6fa332e1","parents":["6a59cf52536360fbc49afcb5372a9f16f28b02a4"],"ref":"refs/changes/01/3801/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1523419734,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1523419758,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/protocol-streams.js","type":"MODIFIED","insertions":30,"deletions":-143},{"file":"lib/protocol.js","type":"MODIFIED","insertions":245,"deletions":-338},{"file":"lib/ssh-buffer.js","type":"ADDED","insertions":174,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":451,"sizeDeletions":-483},{"number":"5","revision":"b83eed74a74e01d180c5ba48c615d79a9e9858ee","parents":["6a59cf52536360fbc49afcb5372a9f16f28b02a4"],"ref":"refs/changes/01/3801/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1523427024,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1523464352,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1523464868,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1523471800,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1523427049,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/protocol-streams.js","type":"MODIFIED","insertions":30,"deletions":-143},{"file":"lib/protocol.js","type":"MODIFIED","insertions":245,"deletions":-338},{"file":"lib/ssh-buffer.js","type":"ADDED","insertions":174,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":451,"sizeDeletions":-483}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}