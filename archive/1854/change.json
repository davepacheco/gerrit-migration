{"project":"joyent/manta","branch":"master","id":"I29c7bb1726113dc40a2881e7010702b40c6aedc1","number":"1854","subject":"MANTA-3236 Documentation on Addition of New Storage Node","owner":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"url":"https://cr.joyent.us/1854","commitMessage":"MANTA-3236 Documentation on Addition of New Storage Node\n","createdOn":1493248862,"lastUpdated":1500503831,"open":true,"status":"NEW","comments":[{"timestamp":1493248862,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 1."},{"timestamp":1493248864,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493282863,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 1:\n\n(23 comments)\n\nThanks for writing this up, Jay! It\u0027s looking great.\n\nI\u0027ve added a lot of notes about specific things here but most of them are pretty picky small stuff. As well as that, here\u0027s a few general notes about the document:\n\n* Is there a MANTA ticket for this change? We should have a ticket here, and then alter the commit message to be \"$ticket_id $ticket_summary\"\n* We tend to use \"*\"s as bullet points, but I don\u0027t know how much of a requirement that is. Regardless, it would be good to change the \"-\"s we have here to be more consistent across the document\n* There\u0027s no spacing after the headings in most cases which affects readability when working with the raw markdown. Some additional spacing after each heading (and also double spacing before, if appropriate) would be great to add\n* \"Manta\" seems to be all lower case in most places, but the rest of the document has it capitalised\n* I\u0027ve noted this in the comments, but we use the four-space indentation method of writing code blocks. I\u0027m not certain, but I think it helps with rendering code blocks under bulleted lists\n\nI haven\u0027t pulled this down yet to see the rendered version, but it would be really useful if you could also link somewhere that we can see this rendered. I don\u0027t think there\u0027s a great answer for this, but I tend to push to my fork and link to the document (see https://cr.joyent.us/#/c/865/, if I can figure out how to get the link to display properly...). In this case I\u0027ll probably end up trying to either pull it down myself or copy/paste it into a gist or something.\n\nI\u0027ll keep an eye out for these changes and take another run-through when they\u0027re done. If you need help with the git pieces on squashing your commits then we have info in the \"New User Guide\", or you can ping me."},{"timestamp":1493320710,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 2."},{"timestamp":1493320717,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493320827,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 3."},{"timestamp":1493320829,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493321226,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 4."},{"timestamp":1493321228,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493368179,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 4:\n\n(8 comments)\n\nThis is looking good! Describing how to write JSON and manipulate all these files is a complicated procedure when written down, but I think we\u0027re getting close to this being a concise set of steps.\n\nThere\u0027s a fair amount of trailing whitespace that has been introduced which will show up in gerrit as red blocks. We should remove these, and you should be able to set your editor to make noise about this stuff to help you spot them.\n\nA number of the code blocks also appear to be done with backticks on their own line, where they should be indented by 4 spaces. I\u0027ve marked a few of them as comments. Also, some of the code blocks under bullet points appear to display incorrectly, where I can see whitespace at the start of some lines when it\u0027s rendered (such as the block at L1954). I\u0027ve found that getting this indentation right is a little bit finicky, and in this case it looks like there should be 6 spaces to get the indentation to work.\n\nThe document reads a lot better now, but some of the bullet points are difficult to read because it looks like the heading has been maintained (e.g. L1812). I think we should remove this heading style of introducing the bullet points and just word them out a bit. Check out this section of the operator guide as an example: https://github.com/joyent/manta/blob/master/docs/operator-guide/index.md#prerequisites. It can be quite wordy, but it fits with the rest of the guide.\n\nIn L1812\u0027s case, we could just remove the line break and I feel it would read a lot better.\n\nAnother example on L1929 would be something like:\n\n* Run `manta-adm update /var/tmp/newstorage.json` to apply these changes. This command will call...\n\nWhat do you think?"},{"timestamp":1493386443,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 5."},{"timestamp":1493386445,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493386701,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Patch Set 5:\n\n(31 comments)\n\nHi Rich,\n\nI think I got everything - take a look and see how the bullets / code spacing looks now - I have a rendered version here: https://gist.github.com/qdzlug/6b28f394259c45ad76e905e1bdae3336#common-operational-procedures\n\nIt\u0027s much tighter now, but let me know if you see more that needs to be spiffed up - I\u0027m a bit too close to it at this point to make any judgments...\n\nThanks for the help here!\n\nJay"},{"timestamp":1493391353,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 5:\n\n(10 comments)\n\nThanks for the gist! This is coming along nicely."},{"timestamp":1493470155,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 6."},{"timestamp":1493470162,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493470302,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 7."},{"timestamp":1493470304,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493470398,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 8."},{"timestamp":1493470399,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493470702,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Patch Set 8:\n\n(5 comments)\n\nHey Rich,\n\nRendered version here - https://gist.github.com/qdzlug/6b28f394259c45ad76e905e1bdae3336#common-operational-procedures - at this point I can now add Shrimp in my sleep. Not sure how useful that is.\n\nAgreed on the setup-manta bit (to add the tools) - I took that out, and figured I would look to see if there is a logical place to put it elsewhere in the document. Keep tripping up on whitespace, but think I finally got it through my head to check before I push. \n\nJay"},{"timestamp":1493722633,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 8:\n\n(4 comments)\n\nThanks, Jay! Some additional styling comments added now that I\u0027ve read it again fully, but otherwise content is looking good.\n\nSorry these changes have come in bits, but I\u0027m picking up little things as the flow of the document is changing."},{"timestamp":1493729268,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 9."},{"timestamp":1493729270,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493729317,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Patch Set 9:\n\n(4 comments)\n\nHi Rich,\n\nRendered version here - https://gist.github.com/qdzlug/ae6e8ab743ce0d1244ded0578e82bc0d#amon-alarm-updates - see my notes below for the mantamon probes bit. I\u0027ll follow up with dap this afternoon on that, and apply whatever he recommends.\n\nJay"},{"timestamp":1493816210,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 9:\n\n(1 comment)"},{"timestamp":1494925777,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 9:\n\nHey Jay, just circling back to this one and I think so long as my comment on the alarms (https://cr.joyent.us/#/c/1854/8/docs/operator-guide/index.md@1894) makes sense to you then I think this will be plenty. Dave mentioned that the alarms pieces will be changing soon, so it makes sense to refer to a separate section in the guide so that we don\u0027t have to update multiple places of the guide for this procedure."},{"timestamp":1494952273,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 9:\n\n(14 comments)\n\nThanks again for doing this, and sorry it\u0027s taken me a while to take a closer look.  I\u0027ve got a few nits and suggestions below."},{"timestamp":1497365545,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 10."},{"timestamp":1497365552,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1497365767,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Patch Set 10:\n\n(13 comments)\n\nHi Dap/Rich,\n\nThanks for the review, and sorry for the delay in getting back.\n\nRendered version is here - https://gist.github.com/qdzlug/92c0dbf85ea4532de851a5e9b9140122\n\nSome answers/questions to the questions posed in your review Dap - I can adjust those as required - just need a little guidance.\n\nThanks,\n\nJay"},{"timestamp":1497369383,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 10:\n\n(1 comment)\n\nThanks, Jay! Along with my comment on L1757 there are some trailing spaces introduced around L1838 which would need to be cleaned up."},{"timestamp":1497393201,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Uploaded patch set 11."},{"timestamp":1497393203,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1497393277,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Patch Set 11:\n\n(1 comment)\n\nRich - thanks! I put your suggestions into play. Sometime this week, if you could take 5 mins and show me your editor setup and how you avoid the trailling whitespace issue that I seem to have I\u0027d be eternally in your debt...."},{"timestamp":1500503831,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 11:\n\n(5 comments)"}],"currentPatchSet":{"number":"11","revision":"29c7bb1726113dc40a2881e7010702b40c6aedc1","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/11","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1497393201,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497393203,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide/index.md","line":1857,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think change this to \"Manta\", now that mantamon is gone."},{"file":"docs/operator-guide/index.md","line":1863,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"How about \"compute zones\"?"},{"file":"docs/operator-guide/index.md","line":1868,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Rewrap?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":167,"deletions":-3}],"sizeInsertions":167,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"af33f11269e4673eb6866eed3cfe311c0c619427","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/1","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493248862,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493248864,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide/index.md","line":1734,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I know this is a really common task, but maybe worth linking to the documentation here for completeness. I understand docs.joyent.com has undergone some major changes over the past few years, so if we\u0027re not sure about the lifetime of the links to those docs then maybe just a link to CNAPI or something:\n\nhttps://github.com/joyent/sdc-cnapi/blob/master/docs/index.md#setting-up-a-new-server"},{"file":"docs/operator-guide/index.md","line":1734,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1739,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think it\u0027s all caps for \"VXLAN\"."},{"file":"docs/operator-guide/index.md","line":1739,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1744,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Totally possible to add these tags manually, but these tags can be added by `manta-net.sh`. I believe we also provides some flexibility to their naming (although I\u0027m not sure in practice how much this ever changes between installations)."},{"file":"docs/operator-guide/index.md","line":1744,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Added a note about `manta-net.sh` - I wasn\u0027t sure if I should open the can of worms that is having different tag names here or not, so I just went with an \"assuming you\u0027ve used the standard nictags\" to note that here."},{"file":"docs/operator-guide/index.md","line":1746,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Just as a heads up, I\u0027d love to get these formalised, which I\u0027ve proposed in RFD 76.\n\nNo change required here."},{"file":"docs/operator-guide/index.md","line":1746,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1761,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"This applies to a few places in the document, but we tend to use the \"indent by four spaces\" method of writing code blocks.\n\nA good example of this is the joyent/sdc-manta README, where this method looks to play nicely with code blocks inside bullet points:\n\nhttps://github.com/joyent/sdc-manta/blob/master/README.md"},{"file":"docs/operator-guide/index.md","line":1761,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1773,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think these headings might read better if they were bullet points, at least so long as the code blocks read well enough.\n\nFor an example of how a complicated, multi-step process with code blocks is documented already, check out the \"Deploying Manta\" section:\n\nhttps://github.com/joyent/manta/blob/master/docs/operator-guide/index.md#deploying-manta"},{"file":"docs/operator-guide/index.md","line":1773,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1782,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I don\u0027t know how useful this is here, as we\u0027re asking the user to run it but not saving the results for later use. I think when it comes to build out the config below, we could maybe just refer to these details as something along the lines of \"MAC addresses can be obtained from CNAPI\"."},{"file":"docs/operator-guide/index.md","line":1782,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"I put a note above to save the data on the networks / mac addresses; I think it may be a bit easier to have the user grab it, note it, then refer to it? Maybe?"},{"file":"docs/operator-guide/index.md","line":1788,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Referring to a comment above, I don\u0027t think these NIC tags are necessarily going to have these names in every installation."},{"file":"docs/operator-guide/index.md","line":1788,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Put a note in that this assumes you are using the standard nictag names."},{"file":"docs/operator-guide/index.md","line":1789,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Looks like a typo here and on the line above."},{"file":"docs/operator-guide/index.md","line":1789,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1804,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Same note about bullet points (number list in this case) as above here.\n\nActually, after reading all of the steps, I think we could probably break it down further. Something like:\n\n1. Apply networking\n- steps 1 - 9 as bullet points\n\n2. Deploy new services\n- steps 10 - 11 as bullet points\n\n3. Updates and verification\n- remaining steps"},{"file":"docs/operator-guide/index.md","line":1804,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Agreed; doing that now and making sure the bullets and indentation plays nice."},{"file":"docs/operator-guide/index.md","line":1811,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I\u0027ll be honest, I wasn\u0027t sure this was required at any point past initial installation. I could certainly be wrong here. Do we have any docs that point to this step being required as part of the Manta deployment zone update?"},{"file":"docs/operator-guide/index.md","line":1811,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"I don\u0027t know if we have docs, but when I was upgrading OTEX and couldn\u0027t find manta-oneach, dap said \"oh, you need to re-run the setup to deploy those bits\" - I think it was in chat, but I can track this down. See https://github.com/joyent/sdc-headnode/blob/4fcf5d5465b15953e1492b9fe00232595b905725/scripts/setup_manta_zone.sh#L158"},{"file":"docs/operator-guide/index.md","line":1811,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I wonder if it\u0027s required when there are new tools added to the Manta deployment zone. I think we should leave this out of this shrimp-specific piece of the documentation, in favour of adding a separate section (in a separate change) about missing tools in the GZ."},{"file":"docs/operator-guide/index.md","line":1823,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think this section might be best replaced with a link to the \"Networking configuration\" section of the operator guide (https://github.com/joyent/manta/blob/master/docs/operator-guide/index.md#networking-configuration), but you could still do with including an example in this section outlining a single new node.\n\nThis is because adding tags to aggregations has got better support with MANTA-2587, which now has had some use in SPC (and NET-367 is fixed) is due to be added to the docs (https://cr.joyent.us/#/c/865/). This may also make a few other sections of this change unnecessary (e.g. the previous `sdc-cnapi` call for sysinfo details)."},{"file":"docs/operator-guide/index.md","line":1823,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Added a link in for now; would it make sense to leave things are are and then do an update re: aggregation once CR 865 lands? I\u0027d like to be able to link back up to that change in mine."},{"file":"docs/operator-guide/index.md","line":1823,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Yes, that seems fine to me (including for your L1831 comment)."},{"file":"docs/operator-guide/index.md","line":1824,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think this should be in all caps."},{"file":"docs/operator-guide/index.md","line":1824,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1831,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"See note above re: MANTA-2587."},{"file":"docs/operator-guide/index.md","line":1831,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Same note as above - re: shall we wait for cr 865 to land so we can link back up to that?"},{"file":"docs/operator-guide/index.md","line":1835,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"The annotations in this JSON make it quite hard to follow, but I understand it\u0027s useful to at least say something in these properties. I think we could go a long way by saying something like \"The following is an example of adding a single new storage node to a single AZ deployment called \u0027staging-1\u0027. For more information see \u0027Network configuration\u0027 section.\"\n\nI think the way it\u0027s described in the \"Network configuration\" section i a good example."},{"file":"docs/operator-guide/index.md","line":1835,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Agreed; will re-work this to show a sample and then link back up to Networking Configuration."},{"file":"docs/operator-guide/index.md","line":1837,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"See note above, but if we still make use of this example then I think this should be \"DC-NAME\". Same as in the \"azs\" section."},{"file":"docs/operator-guide/index.md","line":1837,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1886,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"`manta-net.sh` will validate the config and return any issues with it (including JSON parsing errors, afaik), so I think this step is unnecessary."},{"file":"docs/operator-guide/index.md","line":1886,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1894,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think steps 5 through 8 can be replaced with \"Follow step 4 of the \u0027Deploying Manta\u0027 section.\""},{"file":"docs/operator-guide/index.md","line":1894,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1921,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think this is actually done via `manta-net.sh`.\n\nWe can probably remove this step, but if there\u0027s a reason why this is still required then we should fix it."},{"file":"docs/operator-guide/index.md","line":1921,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1939,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"TIL about `-l`.\n\nWould be good to have this as a code span (backticks)."},{"file":"docs/operator-guide/index.md","line":1939,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1942,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Earlier we used `... show -s -j`, which is the same thing, but would be good to be consistent.\n\nI have no preference on how it\u0027s written in this guide, but I tend to use `-sj`."},{"file":"docs/operator-guide/index.md","line":1942,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1998,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think if we\u0027re following along in the guide then we\u0027re already in the Manta deployment zone."},{"file":"docs/operator-guide/index.md","line":1998,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":2008,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"This is useful information, but I don\u0027t think it belongs in this guide. Basically, I\u0027m not sure what an operator could do with information when following along."},{"file":"docs/operator-guide/index.md","line":2008,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":335,"deletions":0}],"sizeInsertions":335,"sizeDeletions":0},{"number":"2","revision":"08a5e686c0c99ba5a763bc47ac6679843e4d5e6c","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/2","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493320710,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493320717,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":274,"deletions":-3}],"sizeInsertions":274,"sizeDeletions":-3},{"number":"3","revision":"78d0a8cd3bc9f0b7a1e9e7f57122690c5ff7d82f","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/3","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493320827,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493320829,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":274,"deletions":-3}],"sizeInsertions":274,"sizeDeletions":-3},{"number":"4","revision":"2a46b87a5383aa303bb2e90b7c5a2bb35414bf08","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/4","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493321226,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493321228,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide/index.md","line":1765,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think this line should be indented by 4 spaces with the backticks removed.\n\nI\u0027ve just noticed this, but it seems we use a dollar sign here when displaying a prompt (`headnode$ ...`). There\u0027s a good example here:\n\nhttps://github.com/joyent/manta/blob/master/docs/operator-guide/index.md#amon-alarm-updates"},{"file":"docs/operator-guide/index.md","line":1765,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1767,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Now that we refer to the \"Network configuration\" section after the example config (below), I think this means we can do away with this section and go straight to \"Steps to Add New Storage Node\"."},{"file":"docs/operator-guide/index.md","line":1767,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1805,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Should this be removed? It doesn\u0027t look like the other headings contain \"Step #:\"."},{"file":"docs/operator-guide/index.md","line":1805,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1821,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think this is similar to the first comment. Probably should be 4 space indented with backticks removed."},{"file":"docs/operator-guide/index.md","line":1821,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1834,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"The indentation in this JSON looks off."},{"file":"docs/operator-guide/index.md","line":1834,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1893,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"4 space indent here, too."},{"file":"docs/operator-guide/index.md","line":1893,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1895,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Should this be an additional bullet point?"},{"file":"docs/operator-guide/index.md","line":1895,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1920,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Given that we gave an example server UUID in the networking config JSON, I think we can skip this example piece."},{"file":"docs/operator-guide/index.md","line":1920,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":274,"deletions":-3}],"sizeInsertions":274,"sizeDeletions":-3},{"number":"5","revision":"dd5dabe2000d5f8dd3a141e3b48718b8b63441bc","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/5","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493386443,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493386445,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide/index.md","line":1749,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think it might be worth removing this piece, as ensuring the NIC is tagged is one of `manta-net.sh`\u0027s jobs."},{"file":"docs/operator-guide/index.md","line":1749,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1789,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Can we put this on one line?"},{"file":"docs/operator-guide/index.md","line":1789,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1846,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Whitespace."},{"file":"docs/operator-guide/index.md","line":1846,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1883,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"The capitalisation here looks out of place. Can we also re-wrap this paragraph to ensure we make use of the 80 chars for readability?"},{"file":"docs/operator-guide/index.md","line":1883,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1891,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Can we re-wrap these lines to improve raw readability?"},{"file":"docs/operator-guide/index.md","line":1895,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Last bit of whitespace."},{"file":"docs/operator-guide/index.md","line":1895,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1903,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think this line might be \u003e80 chars. It doesn\u0027t seem worth it to place the \"| bunyan\" part on another line though, so I\u0027d say this is OK as it is."},{"file":"docs/operator-guide/index.md","line":1931,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Can this be put onto one line like the other points?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":219,"deletions":-3}],"sizeInsertions":219,"sizeDeletions":-3},{"number":"6","revision":"48887ee477bd478f8192268ab9f7275f6cf6342e","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/6","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493470155,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493470162,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":207,"deletions":-3}],"sizeInsertions":207,"sizeDeletions":-3},{"number":"7","revision":"56de9375b98e04e1f09022698c45f6e4a7b3f0de","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/7","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493470302,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493470304,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":196,"deletions":-3}],"sizeInsertions":196,"sizeDeletions":-3},{"number":"8","revision":"3845230dd0ed0ad4c023f452f0d576b615aff58a","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/8","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493470398,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493470399,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide/index.md","line":1759,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"It would be nice to do away with this heading and make the next 3 headings H3 (instead of H4)."},{"file":"docs/operator-guide/index.md","line":1759,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1763,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Given that the points in this list should be done in series, can we make them numbered lists instead? This also applies to the \"Deploy Services\" section.\n\nFor numbered lists every item should start with \"1.\" so we don\u0027t need to change them when a new item is added. Markdown will make sure these turn into the proper number order when it\u0027s rendered."},{"file":"docs/operator-guide/index.md","line":1763,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1894,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Does this alarm section specifically relate to adding a new shrimp? I wonder if we should be recommending that this should be done at all because there might be important errors that the operator should handle.\n\nSame with the drop/add steps. I wonder if these are here because we\u0027ve recommended an update to the manta-deployment zone?"},{"file":"docs/operator-guide/index.md","line":1894,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"I\u0027m going to ask dap on this one today - I had thought this was done in order to make sure you had probes on the new object that you are clearing. See #5 in this block - https://gist.github.com/qdzlug/ae6e8ab743ce0d1244ded0578e82bc0d#procedure and also https://gist.github.com/qdzlug/ae6e8ab743ce0d1244ded0578e82bc0d#amon-alarm-updates\n\nMy gut feel here would be for to flesh out that second bit and then refer to it from the other places (ie, here are the procedures to remediate, drop, and add new probes if you\u0027ve done something that requires it). That way it\u0027s in one place."},{"file":"docs/operator-guide/index.md","line":1894,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think if we just mention in this list that we need to handle the alarms and reference the other section in the guide then that will be plenty."},{"file":"docs/operator-guide/index.md","line":1907,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"The top-level items in this list are fine left unordered, but I think this item should be outside of the list on a paragraph on its own. This way it would read as if the \"madtom\" and \"marlin-dashboard\" updates can be done out of order, then once they\u0027re complete we can verify."},{"file":"docs/operator-guide/index.md","line":1907,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":196,"deletions":-3}],"sizeInsertions":196,"sizeDeletions":-3},{"number":"9","revision":"693828002e8a25432196ca0be45aa7dd8738ffa7","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/9","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1493729268,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493729270,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"The colon shouldn\u0027t be here."},{"file":"docs/operator-guide/index.md","line":1736,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Is this the canonical documentation for this?  What about https://docs.joyent.com/private-cloud/install/compute-node-setup?"},{"file":"docs/operator-guide/index.md","line":1736,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"I was torn here between linking to the doc in github versus the docs on docs.jo, and in the end I decided that the update cycle for changes would be shorter on the github side, since we really don\u0027t have anyone working on this level of docs on the docs.jo side currently. I\u0027m not married to that however - we could do it either way. Thoughts?"},{"file":"docs/operator-guide/index.md","line":1736,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"That\u0027s a fair question. This doc is supposed to be more akin to product documentation (i.e., for operators, not exclusively developers), so that\u0027s why I thought the docs.joyent.com one would be more appropriate, but  I don\u0027t really know either."},{"file":"docs/operator-guide/index.md","line":1741,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"What exactly does \"install VXLAN\" refer to?"},{"file":"docs/operator-guide/index.md","line":1741,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"This is the installation of the software defined networking - where we add the underlay nic and such to the compute nodes."},{"file":"docs/operator-guide/index.md","line":1757,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It might seem confusing that we don\u0027t mention any of these during the initial Manta setup.  Does Triton use the traits?  Or is that something Joyent-Ops-specific?  If Triton uses them, can we instead refer people to Triton documentation indicating that they should trait the CNs if they want to keep Manta services isolated?  We probably should mention that during initial setup as well."},{"file":"docs/operator-guide/index.md","line":1757,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"This is intended to keep them out of the provisioning pool - so in this sense any trait will work. This is primarily something that grew out of JPC, but on prem installs are also done this way (ie, no customers have wanted to co-locate manta nodes w/ other CN\u0027s). My thought - maybe we update the initial setup to allow for this option (isolation) and then refer back to it here?"},{"file":"docs/operator-guide/index.md","line":1757,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Your last point sounds like the best bet, but would require changes elsewhere. I wonder if for now we could simply say:\n\n\u003e ... installation process as outlined [here], including any link aggregations and traits. Note that fabrics are not supported on Manta nodes.\n\nI don\u0027t know if we explicitly don\u0027t support fabrics on Manta nodes, or just recommend against it (seeing as Manta doesn\u0027t use them). I also don\u0027t know the official Triton product name for fabrics/vxlan/underlays.\n\nFWIW, MANTA-2047 intends to standardise these traits."},{"file":"docs/operator-guide/index.md","line":1757,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"OK, so...I think that helps things immensely. I just collapsed the traits into this and went into a variant of rich\u0027s suggestion."},{"file":"docs/operator-guide/index.md","line":1762,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I\u0027d suggest referring to the \"Manta deployment zone upgrades\" section.   Although the section is currently pretty bare, I\u0027d rather avoid duplicating it in case that later involves other steps or caveats."},{"file":"docs/operator-guide/index.md","line":1762,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1766,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This should be lowercase."},{"file":"docs/operator-guide/index.md","line":1766,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1769,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Which phase is that?"},{"file":"docs/operator-guide/index.md","line":1769,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Referred to an earlier version - removed becuase it makes no sense now.\nDone."},{"file":"docs/operator-guide/index.md","line":1827,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I\u0027d suggest adding something about \"which is to run manta-net.sh\" in case the steps get renumbered."},{"file":"docs/operator-guide/index.md","line":1827,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1837,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This section (a few lines below as well) should be rewrapped for 80 columns."},{"file":"docs/operator-guide/index.md","line":1837,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1853,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I would suggest referring people to the recommendations in \"Choosing how to lay out zones\".  Again, that section could use more information, but fleshing that out will keep the details in one place."},{"file":"docs/operator-guide/index.md","line":1853,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1869,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Maybe remove the square brackets?  That notation sometimes means an argument is optional, and it\u0027s definitely not here.  You could make SERVER_UUID all caps to clarify that you have to plug that in."},{"file":"docs/operator-guide/index.md","line":1869,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1872,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"That\u0027s not the current documented Marlin update procedure.  We should refer people to that section above."},{"file":"docs/operator-guide/index.md","line":1872,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"Done"},{"file":"docs/operator-guide/index.md","line":1890,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think these should refer to a separate section (e.g., \"Updating the Marlin Dashboard and Madtom zones after zone deployments\").  There are other cases where you might want to do this."},{"file":"docs/operator-guide/index.md","line":1890,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"OK - so split this out to a new section for now (madtom and marlin-dash) at this same level (common operational tasks), then I link to it here. I also refer to your rewritten amon alarm updates (and took out the add/drop bits)."},{"file":"docs/operator-guide/index.md","line":1890,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think you updated those parts, but still kept the copy of the instructions here?"},{"file":"docs/operator-guide/index.md","line":1903,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"As I think was mentioned, this should probably refer to an existing section about updating alarms.  I\u0027m rewriting that in a separate change, but if you just refer to it by name, this will still be valid."},{"file":"docs/operator-guide/index.md","line":1903,"reviewer":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"message":"I\u0027ve updated this by removing my stuff and linking to your new mantamon bits."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":194,"deletions":-3}],"sizeInsertions":194,"sizeDeletions":-3},{"number":"10","revision":"b09b97c4b89935e0b3cac824955fd19dc4937d04","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/10","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1497365545,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497365552,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":186,"deletions":-3}],"sizeInsertions":186,"sizeDeletions":-3},{"number":"11","revision":"29c7bb1726113dc40a2881e7010702b40c6aedc1","parents":["5a6f6401fbccb83222c675dfe2f9834447dacdb7"],"ref":"refs/changes/54/1854/11","uploader":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"createdOn":1497393201,"author":{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1497393203,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide/index.md","line":1857,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think change this to \"Manta\", now that mantamon is gone."},{"file":"docs/operator-guide/index.md","line":1863,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"How about \"compute zones\"?"},{"file":"docs/operator-guide/index.md","line":1868,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Rewrap?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/operator-guide/index.md","type":"MODIFIED","insertions":167,"deletions":-3}],"sizeInsertions":167,"sizeDeletions":-3}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},{"name":"Jason Schmidt","email":"jason.schmidt@joyent.com","username":"qdzlug"},{"name":"Joyent Automation","username":"joyent-automation"}]}