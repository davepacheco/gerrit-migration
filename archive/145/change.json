{"project":"joyent/sdc-docker","branch":"master","id":"I4b453575da4b756a06b7937c1c1b2c5f74846afd","number":"145","subject":"DOCKER-845 add tests for attach/exec status codes","owner":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"url":"https://cr.joyent.us/145","commitMessage":"DOCKER-845 add tests for attach/exec status codes\n","createdOn":1469561303,"lastUpdated":1470765531,"open":false,"status":"MERGED","comments":[{"timestamp":1469561303,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 1."},{"timestamp":1469569306,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1469576165,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1: Code-Review+1\n\n(6 comments)\n\nMinor fix ups - LGTM."},{"timestamp":1469654624,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 2."},{"timestamp":1469659066,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1469696565,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 3."},{"timestamp":1469696605,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1469696884,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1470160488,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1470160518,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1470260539,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1470260569,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1470261098,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1470266639,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1470760922,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1470760963,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1470765531,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Orlando Vazquez"}],"currentPatchSet":{"number":"7","revision":"4b453575da4b756a06b7937c1c1b2c5f74846afd","parents":["940b7c385ca1e54825cb447f32a2112c215c4870"],"ref":"refs/changes/45/145/7","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1470760922,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469696605,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469696884,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470266639,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"SUBM","value":"1","grantedOn":1470765531,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":192,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"82ffc96642b579aeb58524d5042af8350723dfea","parents":["3e8d8d7536b769d8219d7be76347cec23b52e5ff"],"ref":"refs/changes/45/145/1","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1469561303,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469569306,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469576165,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"comments":[{"file":"test/integration/cli-attach.test.js","line":17,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Check if \u0027util\u0027 is used."},{"file":"test/integration/cli-attach.test.js","line":20,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Check if \u0027h\u0027 is used."},{"file":"test/integration/cli-attach.test.js","line":39,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Don\u0027t think you need vm.init (or vm module), do you?"},{"file":"test/integration/cli-attach.test.js","line":51,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Is sleep 20 so that the attach does not fire before the process has ended?"},{"file":"test/integration/cli-attach.test.js","line":151,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Rename to \u0027removeTestContainers\u0027, as it\u0027s not just Nginx, it\u0027s also Ubuntu ones too."},{"file":"test/integration/cli-attach.test.js","line":172,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Perhaps add an \u0027err\u0027 argument to the async callback - it would be good to know/record when we couldn\u0027t delete a container."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":176,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":196,"sizeDeletions":-1},{"number":"2","revision":"edcd378361ee69f16d571a9dfca8f98e760e7c62","parents":["3e8d8d7536b769d8219d7be76347cec23b52e5ff"],"ref":"refs/changes/45/145/2","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1469654624,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1469659066,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/integration/cli-attach.test.js","line":166,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer err hides an identifier in a parent scope"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":192,"sizeDeletions":-1},{"number":"3","revision":"87f29d7d72156b59e4707733e7160a35383f9bb4","parents":["3e8d8d7536b769d8219d7be76347cec23b52e5ff"],"ref":"refs/changes/45/145/3","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1469696565,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469696605,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469696884,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":192,"sizeDeletions":-1},{"number":"4","revision":"7e04793213c68bfdc72460ad85a56add83f973e2","parents":["fb28f83adf55094d3945b1e8e78a2471be15dab1"],"ref":"refs/changes/45/145/4","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1470160488,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469696605,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469696884,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":192,"sizeDeletions":-1},{"number":"5","revision":"0787d56e2ce76b8a7fa7e33e8fa75bb9829db064","parents":["8dd03e941ebe39066ce013fdfdaec716a1b47787"],"ref":"refs/changes/45/145/5","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1470260539,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469696605,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469696884,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":192,"sizeDeletions":-1},{"number":"6","revision":"9bbbbcdaf84dff87c0725b0b243c21f883841b9b","parents":["8dd03e941ebe39066ce013fdfdaec716a1b47787"],"ref":"refs/changes/45/145/6","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1470261098,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469696605,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469696884,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470266639,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":192,"sizeDeletions":-1},{"number":"7","revision":"4b453575da4b756a06b7937c1c1b2c5f74846afd","parents":["940b7c385ca1e54825cb447f32a2112c215c4870"],"ref":"refs/changes/45/145/7","uploader":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"createdOn":1470760922,"author":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469696605,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469696884,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1470765531,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470266639,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/cli-attach.test.js","type":"ADDED","insertions":172,"deletions":0},{"file":"test/lib/cli.js","type":"MODIFIED","insertions":20,"deletions":-1}],"sizeInsertions":192,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}]}