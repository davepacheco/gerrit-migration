{"project":"joyent/smartos-live","branch":"master","id":"I6ab7799a2fc1845d2f2da4237b5a559d6b05949e","number":"198","subject":"OS-5568 joyent manifest should include nis/client","owner":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"url":"https://cr.joyent.us/198","commitMessage":"OS-5568 joyent manifest should include nis/client\n\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1470242478,"lastUpdated":1470857475,"open":false,"status":"MERGED","comments":[{"timestamp":1470242478,"reviewer":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"message":"Uploaded patch set 1."},{"timestamp":1470245888,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\nI was looking around and saw that the NIS profile also talks about having the keyserv service available. Is that something that we need for folks to be able to use NIS correctly?"},{"timestamp":1470248168,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1470326953,"reviewer":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"message":"Uploaded patch set 2."},{"timestamp":1470436333,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470760323,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1470839059,"reviewer":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1470839097,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1470839138,"reviewer":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1470839953,"reviewer":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"message":"Patch Set 3: -Code-Review"},{"timestamp":1470840306,"reviewer":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"message":"Patch Set 3:\n\nThis change (and #197) was fully tested locally with two different SmartOS builds, one with the change and one without.  On both systems a fresh zone was configured and the nis/client service enabled.  I then performed a \"svccfg cleanup\" on each to mimic the operation of the manifest-import service, and on the platform without the change the nis/client service was deleted with an accompanying, and on the platform with the change the service was retained with no message.\n\nThis change (via a modified loopback-mounted file update) was also tested by the original bug submitter at Brocade, and they confirmed that it fixed the problem, and were also able to confirm that the nis/client service correctly integrated into their local NIS environment."},{"timestamp":1470840350,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1470840516,"reviewer":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1470857475,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"4","revision":"6ab7799a2fc1845d2f2da4237b5a559d6b05949e","parents":["a20e7a97949e84df9e539575bb6fbc54ceb408f7"],"ref":"refs/changes/98/198/4","uploader":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"createdOn":1470840516,"author":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470436333,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470760323,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470840350,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470840350,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1470857475,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"overlay/generic/usr/lib/brand/joyent/manifests","type":"MODIFIED","insertions":1,"deletions":-5}],"sizeInsertions":1,"sizeDeletions":-5},"patchSets":[{"number":"1","revision":"4a25e84f27c45a84c070153e0d8a6f7af15ed4b0","parents":["0b86a346956089800977dbf4691b628812eb1674"],"ref":"refs/changes/98/198/1","uploader":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"createdOn":1470242478,"author":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"isDraft":false,"kind":"REWORK","comments":[{"file":"overlay/generic/usr/lib/brand/joyent/manifests","line":31,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Listed down the bottom as well."},{"file":"overlay/generic/usr/lib/brand/joyent/manifests","line":35,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Listed down the bottom as well."},{"file":"overlay/generic/usr/lib/brand/joyent/manifests","line":57,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"These appear to be listed down the bottom.  Should probably remove as well."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"overlay/generic/usr/lib/brand/joyent/manifests","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1,"sizeDeletions":-1},{"number":"2","revision":"2e30dc6b42c1236b503e88305afd00627d228f94","parents":["0b86a346956089800977dbf4691b628812eb1674"],"ref":"refs/changes/98/198/2","uploader":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"createdOn":1470326953,"author":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470760323,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470436333,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"overlay/generic/usr/lib/brand/joyent/manifests","type":"MODIFIED","insertions":1,"deletions":-5}],"sizeInsertions":1,"sizeDeletions":-5},{"number":"3","revision":"0d8e7f66cfef63e1b7762182063aa8d6660b1649","parents":["a20e7a97949e84df9e539575bb6fbc54ceb408f7"],"ref":"refs/changes/98/198/3","uploader":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"createdOn":1470839059,"author":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470760323,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470436333,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470840350,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470840350,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"overlay/generic/usr/lib/brand/joyent/manifests","type":"MODIFIED","insertions":1,"deletions":-5}],"sizeInsertions":1,"sizeDeletions":-5},{"number":"4","revision":"6ab7799a2fc1845d2f2da4237b5a559d6b05949e","parents":["a20e7a97949e84df9e539575bb6fbc54ceb408f7"],"ref":"refs/changes/98/198/4","uploader":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"createdOn":1470840516,"author":{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470760323,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470436333,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470840350,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470840350,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1470857475,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"overlay/generic/usr/lib/brand/joyent/manifests","type":"MODIFIED","insertions":1,"deletions":-5}],"sizeInsertions":1,"sizeDeletions":-5}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Jonathan Perkin","email":"jperkin@joyent.com","username":"jperkin"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}