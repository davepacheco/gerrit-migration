{"project":"joyent/manta-marlin","branch":"master","id":"I6c6581a3bdd7f5eb050a150911723f894e6fe130","number":"871","subject":"MANTA-3004 Excise references to \"worker\" in manta-marlin documentation Reviewed by: Richard Bradley \u003crichard.bradley@joyent.com\u003e Approved by: Richard Bradley \u003crichard.bradley@joyent.com\u003e","owner":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"url":"https://cr.joyent.us/871","commitMessage":"MANTA-3004 Excise references to \"worker\" in manta-marlin documentation\nReviewed by: Richard Bradley \u003crichard.bradley@joyent.com\u003e\nApproved by: Richard Bradley \u003crichard.bradley@joyent.com\u003e\n","createdOn":1478736447,"lastUpdated":1478798780,"open":false,"status":"MERGED","comments":[{"timestamp":1478736447,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 1."},{"timestamp":1478736493,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1478774235,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 1:\n\n(7 comments)\n\nThis looks fine, short of some minor changes. The substitutions made (certainly in comments) all look OK, and the wording/grammar of the sentences all make sense with the changes.\n\nWhat I _haven\u0027t_ done is check for any missing worker/supervisor substitutions in this codebase. I also haven\u0027t run any test suites for the code changes that have been made, but from what I can tell they all look sane. I understand some of the code that _hasn\u0027t_ been changed (i.e. MarlinAgent in common/lib/marlin.js) is because this would make changes to the APIs that are in place, and as such would be breaking (I imagine there would be a fair amount of changes for this). \n\nI don\u0027t see a test suite here, but from what I understand of the scope of the code changes our linting would pick up on any issues. I\u0027d be happy to perform some testing here if you\u0027d like."},{"timestamp":1478793309,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(3 comments)\n\nThanks for taking a look.\n\n \u003e What I _haven\u0027t_ done is check for any missing worker/supervisor\n \u003e substitutions in this codebase. I also haven\u0027t run any test suites\n \u003e for the code changes that have been made, but from what I can tell\n \u003e they all look sane. I understand some of the code that _hasn\u0027t_\n \u003e been changed (i.e. MarlinAgent in common/lib/marlin.js) is because\n \u003e this would make changes to the APIs that are in place, and as such\n \u003e would be breaking (I imagine there would be a fair amount of\n \u003e changes for this).\n \u003e\n \u003e I don\u0027t see a test suite here, but from what I understand of the\n \u003e scope of the code changes our linting would pick up on any issues.\n \u003e I\u0027d be happy to perform some testing here if you\u0027d like.\n\nYes, there are some notes about this (including testing) in the JIRA ticket comments.  Except for the changes I\u0027m about to make in response to your feedback, I think I covered all of the changed code in testing."},{"timestamp":1478793434,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 2."},{"timestamp":1478793501,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1478793611,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\nThe only testing I did for the Patchset 2 (besides \"make check\") was to make sure that the job supervisor starts up, since the only code change was the trivial change to the supervisor executable file."},{"timestamp":1478795016,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\n\u003e Yes, there are some notes about this (including testing) in the JIRA ticket comments.\n\nSorry about that; I see these now. I somehow opened up MANTA-3011 as a reference for this CR, so I was looking at the wrong ticket.\n\nre: year bumps, I wondered if this might be the case. I\u0027ll bear this in mind for future reviews and possibly make it a note in the general feedback comment as opposed to individual comments per line. \n\nLooks good to me!"},{"timestamp":1478798766,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1478798780,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by David Pacheco"}],"currentPatchSet":{"number":"3","revision":"6c6581a3bdd7f5eb050a150911723f894e6fe130","parents":["a5e22ec74f0b29ffcfb5f906298da3a50714f90f"],"ref":"refs/changes/71/871/3","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1478798766,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1478793501,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478795016,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478795016,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"SUBM","value":"1","grantedOn":1478798780,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"agent/lib/agent/agent.js","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"agent/sbin/mrdeploycompute","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"client/sbin/mrjob","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"common/lib/bus.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"common/lib/marlin.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"common/lib/schema.js","type":"MODIFIED","insertions":34,"deletions":-33},{"file":"dev/test/live/common.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"docs/index.md","type":"MODIFIED","insertions":58,"deletions":-56},{"file":"jobsupervisor/lib/worker/locator.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"jobsupervisor/lib/worker/schema.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"jobsupervisor/lib/worker/server.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"jobsupervisor/lib/worker/worker.js","type":"MODIFIED","insertions":75,"deletions":-72}],"sizeInsertions":228,"sizeDeletions":-217},"patchSets":[{"number":"1","revision":"5eefbc3d5cecf32ac587ead001903dd84fc10b20","parents":["a5e22ec74f0b29ffcfb5f906298da3a50714f90f"],"ref":"refs/changes/71/871/1","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1478736447,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1478736493,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"agent/lib/agent/agent.js","line":8,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Do we want a year bump here?"},{"file":"agent/sbin/mrdeploycompute","line":9,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Another year bump?"},{"file":"agent/sbin/mrdeploycompute","line":9,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I did not previously bump the copyright on files that had changed very minimally, but I\u0027ll go ahead and do that."},{"file":"common/lib/bus.js","line":8,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Year bump?"},{"file":"docs/index.md","line":0,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"This is just an observation, but this file is the first place that I\u0027ve noticed the mix of \"job supervisors\" and just \"supervisors\". This appears to be a handover from the old version, though, and I don\u0027t think it reads badly."},{"file":"jobsupervisor/lib/worker/locator.js","line":8,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Year bump?"},{"file":"jobsupervisor/lib/worker/server.js","line":21,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"As far as I can tell this is only a local variable. Any reason not to change this, too? In which case, @44 and @47 would need to be changed."},{"file":"jobsupervisor/lib/worker/server.js","line":21,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"There\u0027s admittedly a lot of gray around what\u0027s been changed already, but generally I try to keep the \"mod_XXX\" name to closely match the actual module or file that gets included."},{"file":"jobsupervisor/lib/worker/server.js","line":24,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I don\u0027t know the reason for this declaration, but it only appears to be local (not exported and used elsewhere, from what I can tell). Any reason that I\u0027m unaware of for this to not be changed? Or even removed entirely?"},{"file":"jobsupervisor/lib/worker/server.js","line":24,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It could be changed.  I\u0027ll update that."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"agent/lib/agent/agent.js","type":"MODIFIED","insertions":11,"deletions":-10},{"file":"agent/sbin/mrdeploycompute","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"client/sbin/mrjob","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"common/lib/bus.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"common/lib/marlin.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"common/lib/schema.js","type":"MODIFIED","insertions":34,"deletions":-33},{"file":"dev/test/live/common.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"docs/index.md","type":"MODIFIED","insertions":58,"deletions":-56},{"file":"jobsupervisor/lib/worker/locator.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"jobsupervisor/lib/worker/schema.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"jobsupervisor/lib/worker/server.js","type":"MODIFIED","insertions":12,"deletions":-12},{"file":"jobsupervisor/lib/worker/worker.js","type":"MODIFIED","insertions":75,"deletions":-72}],"sizeInsertions":223,"sizeDeletions":-212},{"number":"2","revision":"46db5705cea4be4517d93c7ec83b3c702f15d97d","parents":["a5e22ec74f0b29ffcfb5f906298da3a50714f90f"],"ref":"refs/changes/71/871/2","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1478793434,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1478793501,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478795016,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478795016,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"agent/lib/agent/agent.js","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"agent/sbin/mrdeploycompute","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"client/sbin/mrjob","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"common/lib/bus.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"common/lib/marlin.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"common/lib/schema.js","type":"MODIFIED","insertions":34,"deletions":-33},{"file":"dev/test/live/common.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"docs/index.md","type":"MODIFIED","insertions":58,"deletions":-56},{"file":"jobsupervisor/lib/worker/locator.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"jobsupervisor/lib/worker/schema.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"jobsupervisor/lib/worker/server.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"jobsupervisor/lib/worker/worker.js","type":"MODIFIED","insertions":75,"deletions":-72}],"sizeInsertions":228,"sizeDeletions":-217},{"number":"3","revision":"6c6581a3bdd7f5eb050a150911723f894e6fe130","parents":["a5e22ec74f0b29ffcfb5f906298da3a50714f90f"],"ref":"refs/changes/71/871/3","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1478798766,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1478798780,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1478793501,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478795016,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478795016,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"README.md","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"agent/lib/agent/agent.js","type":"MODIFIED","insertions":12,"deletions":-11},{"file":"agent/sbin/mrdeploycompute","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"client/sbin/mrjob","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"common/lib/bus.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"common/lib/marlin.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"common/lib/schema.js","type":"MODIFIED","insertions":34,"deletions":-33},{"file":"dev/test/live/common.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"docs/index.md","type":"MODIFIED","insertions":58,"deletions":-56},{"file":"jobsupervisor/lib/worker/locator.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"jobsupervisor/lib/worker/schema.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"jobsupervisor/lib/worker/server.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"jobsupervisor/lib/worker/worker.js","type":"MODIFIED","insertions":75,"deletions":-72}],"sizeInsertions":228,"sizeDeletions":-217}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}]}