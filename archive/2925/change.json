{"project":"joyent/sdc-vmapi","branch":"master","id":"I27738b055130c448c48d2e7ae9029a431eb0b67c","number":"2925","subject":"ZAPI-810 VMAPI data migrations abort on invalid internal_metadata value Reviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e Approved by: Trent Mick \u003ctrent.mick@joyent.com\u003e","owner":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"url":"https://cr.joyent.us/2925","commitMessage":"ZAPI-810 VMAPI data migrations abort on invalid internal_metadata value\nReviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e\nApproved by: Trent Mick \u003ctrent.mick@joyent.com\u003e\n","createdOn":1510108421,"lastUpdated":1510125766,"open":false,"status":"MERGED","comments":[{"timestamp":1510108421,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 1."},{"timestamp":1510108449,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1510108503,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 2."},{"timestamp":1510108531,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1510122807,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1510125753,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1510125766,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Julien Gilli"}],"currentPatchSet":{"number":"3","revision":"131eada3251fb7e558e9e84cd89a9b6c63e5f4c5","parents":["a4ffc12f2ed72f26f78dfd21e77ce755248ecfdc"],"ref":"refs/changes/25/2925/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1510125753,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510108531,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510122807,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510122807,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1510125766,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/common/vm-common.js","type":"MODIFIED","insertions":36,"deletions":-12},{"file":"lib/data-migrations/controller.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/data-migrations/migrations/vms/001-internal-metadata-search.js","type":"MODIFIED","insertions":8,"deletions":-2}],"sizeInsertions":51,"sizeDeletions":-16},"patchSets":[{"number":"1","revision":"d0e8ba24ebb7c02c3b0ada0f39e56b249899dd33","parents":["a4ffc12f2ed72f26f78dfd21e77ce755248ecfdc"],"ref":"refs/changes/25/2925/1","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1510108421,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510108449,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/common/vm-common.js","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"lib/data-migrations/controller.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/data-migrations/migrations/vms/001-internal-metadata-search.js","type":"MODIFIED","insertions":8,"deletions":-2}],"sizeInsertions":53,"sizeDeletions":-16},{"number":"2","revision":"27738b055130c448c48d2e7ae9029a431eb0b67c","parents":["a4ffc12f2ed72f26f78dfd21e77ce755248ecfdc"],"ref":"refs/changes/25/2925/2","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1510108503,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510108531,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510122807,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510122807,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/common/vm-common.js","type":"MODIFIED","insertions":36,"deletions":-12},{"file":"lib/data-migrations/controller.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/data-migrations/migrations/vms/001-internal-metadata-search.js","type":"MODIFIED","insertions":8,"deletions":-2}],"sizeInsertions":51,"sizeDeletions":-16},{"number":"3","revision":"131eada3251fb7e558e9e84cd89a9b6c63e5f4c5","parents":["a4ffc12f2ed72f26f78dfd21e77ce755248ecfdc"],"ref":"refs/changes/25/2925/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1510125753,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510108531,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510122807,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510122807,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1510125766,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/common/vm-common.js","type":"MODIFIED","insertions":36,"deletions":-12},{"file":"lib/data-migrations/controller.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/data-migrations/migrations/vms/001-internal-metadata-search.js","type":"MODIFIED","insertions":8,"deletions":-2}],"sizeInsertions":51,"sizeDeletions":-16}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Pedro Palaz√≥n Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}