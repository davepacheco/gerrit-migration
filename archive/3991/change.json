{"project":"joyent/sdc-napi","branch":"master","id":"I6b4dc8aad4a5208ce0f147faa53beede196064fb","number":"3991","subject":"NAPI-434 Want way to automatically generate available subnets (fix unit tests) Reviewed by: Nick Zivkovic \u003cnick.zivkovic@joyent.com\u003e Approved by: Nick Zivkovic \u003cnick.zivkovic@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/3991","commitMessage":"NAPI-434 Want way to automatically generate available subnets (fix unit tests)\nReviewed by: Nick Zivkovic \u003cnick.zivkovic@joyent.com\u003e\nApproved by: Nick Zivkovic \u003cnick.zivkovic@joyent.com\u003e\n","createdOn":1527093082,"lastUpdated":1527096828,"open":false,"status":"MERGED","comments":[{"timestamp":1527093082,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1527093114,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path tools/ --dtdvalid tools/service_bundle.dtd.1 smf/manifests/napi.xml\n /tmp/repo/build/node/bin/node node_modules/.bin/eslint  server.js lib/endpoints/manage.js lib/endpoints/search.js lib/endpoints/ping.js lib/endpoints/nics.js lib/endpoints/nic-tags.js lib/endpoints/networks/common.js lib/endpoints/networks/nics.js lib/endpoints/networks/index.js lib/endpoints/networks/ips.js lib/endpoints/aggregations.js lib/endpoints/network-pools.js lib/endpoints/fabrics/common.js lib/endpoints/fabrics/networks.js lib/endpoints/fabrics/vlans.js lib/endpoints/index.js lib/apis/moray.js lib/migratectl.js lib/napi.js lib/napictl.js lib/util/ip.js lib/util/errors.js lib/util/autoalloc.js lib/util/subnet-streams.js lib/util/validate.js lib/util/oui.js lib/util/constants.js lib/util/intersect.js lib/util/common.js lib/init.js lib/config.js lib/migrate.js lib/models/aggregation.js lib/models/nic-tag.js lib/models/network-pool.js lib/models/ip/index.js lib/models/ip/provision.js lib/models/ip/common.js lib/models/nic/common.js lib/models/nic/update.js lib/models/nic/obj.js lib/models/nic/provision.js lib/models/nic/list.js lib/models/nic/create.js lib/models/nic/index.js lib/models/nic/get.js lib/models/nic/del.js lib/models/nic/bucket.js lib/models/index.js lib/models/fabric.js lib/models/network.js lib/models/vlan.js test/integration/regression-NET-281.test.js test/integration/network-owner.test.js test/integration/zz-delete-test-networks.test.js test/integration/nic-tags.test.js test/integration/fabrics-invalid.test.js test/integration/network-overlap.test.js test/integration/network-pools.test.js test/integration/aggregations.test.js test/integration/provision.test.js test/integration/fabrics.test.js test/integration/nics.test.js test/integration/ips.test.js test/integration/networks.test.js test/integration/helpers.js test/lib/log.js test/lib/config.js test/lib/err.js test/lib/fabrics.js test/lib/net.js test/lib/common.js test/lib/fabric-net.js test/lib/nic-tag.js test/lib/mock-wf.js test/lib/portolan.js test/lib/migration.js test/lib/moray.js test/lib/vlan.js test/lib/client.js test/lib/aggr.js test/lib/ip.js test/lib/pool.js test/lib/nic.js test/lib/server.js test/unit/ips.test.js test/unit/longs.test.js test/unit/aggregations.test.js test/unit/networks.test.js test/unit/search-ips.test.js test/unit/network-pools.test.js test/unit/networks-list.test.js test/unit/available-subnet-stream.test.js test/unit/fabrics.test.js test/unit/helpers.js test/unit/networks-subnet-alloc.test.js test/unit/run.js test/unit/nics.test.js test/unit/nics-list.test.js test/unit/util-ip.test.js test/unit/migration-1.2.0-networks.test.js test/unit/network-owner.test.js test/unit/util-oui.test.js test/unit/util-intersect.test.js test/unit/nic-tags.test.js test/unit/util-alloc.test.js test/unit/etags.test.js bin/ip2num bin/num2ip bin/mac2num bin/num2mac\n \n /tmp/repo/test/integration/fabrics.test.js\n   268:34  error  Missing semicolon  semi\n \n âœ– 1 problem (1 error, 0 warnings)\n \n tools/mk/Makefile.targ:201: recipe for target \u0027check-eslint\u0027 failed\n gmake: *** [check-eslint] Error 1"},{"timestamp":1527093272,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1527093336,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1527093424,"reviewer":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\nThese look good to me."},{"timestamp":1527096814,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1527096828,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"3","revision":"6b4dc8aad4a5208ce0f147faa53beede196064fb","parents":["fc16bba451baa4c227e3769115c35ce7b0aa6da7"],"ref":"refs/changes/91/3991/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1527096814,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527093336,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527093424,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527093424,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}},{"type":"SUBM","value":"1","grantedOn":1527096828,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"23bfe859af16b11a7a02405ee749c989f0c903b7","parents":["fc16bba451baa4c227e3769115c35ce7b0aa6da7"],"ref":"refs/changes/91/3991/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1527093082,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1527093114,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},{"number":"2","revision":"c5571d534e3260c930d75a5c847efe7965e9426b","parents":["fc16bba451baa4c227e3769115c35ce7b0aa6da7"],"ref":"refs/changes/91/3991/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1527093272,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527093336,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527093424,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527093424,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},{"number":"3","revision":"6b4dc8aad4a5208ce0f147faa53beede196064fb","parents":["fc16bba451baa4c227e3769115c35ce7b0aa6da7"],"ref":"refs/changes/91/3991/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1527096814,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1527096828,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527093336,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1527093424,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1527093424,"by":{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Nick Zivkovic","email":"nick.zivkovic@joyent.com","username":"nickziv"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}