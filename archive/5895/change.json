{"project":"joyent/sdc-cloud-analytics","branch":"master","id":"I57736ae61cc3ffbdff5ff2af507da9f3aac8f924","number":"5895","subject":"TRITON-884 remove cloud analytics (ca) from Triton Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/5895","commitMessage":"TRITON-884 remove cloud analytics (ca) from Triton\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1552910187,"lastUpdated":1552926636,"open":false,"status":"MERGED","comments":[{"timestamp":1552910187,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1552910189,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n CA has been deprecated and should no longer be built. See TOOLS-884.\n exit 1\n Makefile:15: recipe for target \u0027check\u0027 failed\n gmake: *** [check] Error 1"},{"timestamp":1552910194,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 2adb77abf09dc94985f175605c738401e3ffbc28\n    \n    CA makefile should blow up early given TRITON-884"},{"timestamp":1552924228,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 2."},{"timestamp":1552924234,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 82c454a1f0102c39ffcaed6e535eb449a19c7777\n    \n    revert Makefile change in favour of README update"},{"timestamp":1552924253,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n sed -e \u0027s#@@CA_VERSION@@#-20190318T155048Z-ge1c31f7-dirty#g\u0027 pkg/cabase-package.json \u003e build/pkg/cabase/package.json\n (cd deps/node; ./configure --prefix\u003d/tmp/repo/build/node --with-dtrace --openssl-libpath\u003d/opt/local/lib --openssl-includes\u003d/opt/local/include \u0026\u0026 gmake \u0026\u0026 gmake install)\n Checking for program g++ or c++          : /opt/local/bin/g++ \n Checking for program cpp                 : /opt/local/bin/cpp \n Checking for program ar                  : /opt/local/bin/ar \n Checking for program ranlib              : /opt/local/bin/ranlib \n Checking for g++                         : ok  \n Checking for program gcc or cc           : /opt/local/bin/gcc \n Checking for gcc                         : ok  \n Checking for library dl                  : yes \n Checking for program dtrace              : /usr/sbin/dtrace \n Checking for function SSL_library_init   : yes \n Checking for header openssl/crypto.h     : yes \n Checking for library util                : not found \n Checking for library rt                  : yes \n Checking for ifaddrs on solaris          : yes \n Checking for library socket              : yes \n Checking for library nsl                 : yes \n Checking for library kstat               : yes \n Checking for fdatasync(2) with c++       : no \n \u0027configure\u0027 finished successfully (2.332s)\n gmake[1]: Entering directory \u0027/tmp/repo/deps/node\u0027\n Waf: Entering directory `/tmp/repo/deps/node/out\u0027\n [ 2/39] cc: deps/http_parser/http_parser.c -\u003e out/Release/deps/http_parser/http_parser_3.o\n gcc: error: unrecognized command line option \u0027-threads\u0027\n Waf: Leaving directory `/tmp/repo/deps/node/out\u0027\n Build failed:  -\u003e task failed (err #1): \n \t{task: cc http_parser.c -\u003e http_parser_3.o}\n DEST_OS: sunos\n DEST_CPU: x64\n Parallel Jobs: 1\n Product type: program\n /opt/local/bin/gcc -threads -g -O3 -DHAVE_OPENSSL\u003d1 -DSUNOS_HAVE_IFADDRS -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS\u003d64 -DHAVE_FDATASYNC\u003d0 -DARCH\u003d\"x64\" -DPLATFORM\u003d\"sunos\" -D__POSIX__\u003d1 -Wno-unused-parameter -D_FORTIFY_SOURCE\u003d2 -IRelease/deps/http_parser -I../deps/http_parser ../deps/http_parser/http_parser.c -c -o Release/deps/http_parser/http_parser_3.o\n Makefile:21: recipe for target \u0027program\u0027 failed\n gmake[1]: *** [program] Error 1\n gmake[1]: Leaving directory \u0027/tmp/repo/deps/node\u0027\n deps/eng/tools/mk/Makefile.node.targ:36: recipe for target \u0027build/node/bin/node\u0027 failed\n gmake: *** [build/node/bin/node] Error 2"},{"timestamp":1552926104,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1552926616,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1552926636,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"}],"currentPatchSet":{"number":"3","revision":"57736ae61cc3ffbdff5ff2af507da9f3aac8f924","parents":["327c2f41ac83dcf8d7e7b5889ecd3c3da8f57b0e"],"ref":"refs/changes/95/5895/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1552926616,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1552924253,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552926104,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1552926104,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1552926636,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"05a4a424f303dba6e81f325a09c7ef4d7633212b","parents":["327c2f41ac83dcf8d7e7b5889ecd3c3da8f57b0e"],"ref":"refs/changes/95/5895/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1552910187,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1552910189,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":5,"deletions":-425}],"sizeInsertions":5,"sizeDeletions":-425},{"number":"2","revision":"e1c31f70586e9b1def833e3c2f31dc53c87d24c5","parents":["327c2f41ac83dcf8d7e7b5889ecd3c3da8f57b0e"],"ref":"refs/changes/95/5895/2","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1552924228,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1552924253,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552926104,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1552926104,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},{"number":"3","revision":"57736ae61cc3ffbdff5ff2af507da9f3aac8f924","parents":["327c2f41ac83dcf8d7e7b5889ecd3c3da8f57b0e"],"ref":"refs/changes/95/5895/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1552926616,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1552924253,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552926104,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1552926104,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1552926636,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}