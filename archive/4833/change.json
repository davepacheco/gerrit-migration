{"project":"joyent/illumos-joyent","branch":"master","id":"I8ebfdc66bf6e05607c459ce7468ce7ec72f6f8c6","number":"4833","subject":"OS-7180 ses enumerator should trim leading/trailing whitespace from labels OS-7234 ses enumerator should make protocol/label prop mutable Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e","owner":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"url":"https://cr.joyent.us/4833","commitMessage":"OS-7180 ses enumerator should trim leading/trailing whitespace from labels\nOS-7234 ses enumerator should make protocol/label prop mutable\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\n","createdOn":1536799080,"lastUpdated":1536873586,"open":false,"status":"MERGED","comments":[{"timestamp":1536799080,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 1."},{"timestamp":1536801095,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1536801638,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 2."},{"timestamp":1536801800,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1536860664,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1536869037,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 2: Integration-Approval+1\n\nBroadly, I think the testing notes look good. One question, though:\n\nIn the testing notes for OS-7134, you wrote:\n\n\u003e I built a PI with this fix and used it in conjunction with the topo map for the WDC eval unit to override label property for all of the drive bays.\n\nSorry for the ignorant question: Is the \"topo map\" here an XML file overriding the labels initially set by the ses enumerator?"},{"timestamp":1536872638,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 2:\n\nYes.  There aren\u0027t any examples of this currently in illumos, which is probably why we\u0027ve never hit this issue before.  But to see an example - see the topo map below which overrides the drive bay labels set by the ses enumerator on the Western Digital US60+8 platform:\n\nhttp://us-east.manta.joyent.com/robjohnston/public/wdc/H4060-S-disk-hc-topology.xml.txt"},{"timestamp":1536872998,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1536873531,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1536873586,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rob Johnston"}],"currentPatchSet":{"number":"4","revision":"8ebfdc66bf6e05607c459ce7468ce7ec72f6f8c6","parents":["de788a17ed4866d96c8dbb2b01b552d5ddb43ca4"],"ref":"refs/changes/33/4833/4","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1536873531,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536860664,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536869037,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"SUBM","value":"1","grantedOn":1536873585,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","type":"MODIFIED","insertions":15,"deletions":-4}],"sizeInsertions":15,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"20eabf05c131fda2172b663a2d604fbe43e76d83","parents":["76683f77aeee2619b447d8ea5843399835fbc586"],"ref":"refs/changes/33/4833/1","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1536799080,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","line":1473,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Don\u0027t we need to check if this returns NULL and not set the property if so?"},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","line":1473,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Doh!  Sorry - long day :(. Fixed."},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","line":2314,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Don\u0027t we need to check if this returns NULL and not set the property if so?"},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","line":2314,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","type":"MODIFIED","insertions":13,"deletions":-4}],"sizeInsertions":13,"sizeDeletions":-4},{"number":"2","revision":"b3bfa17ce40d700ae28d7a3361f81bd17751eb97","parents":["76683f77aeee2619b447d8ea5843399835fbc586"],"ref":"refs/changes/33/4833/2","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1536801638,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536860664,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536869037,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","type":"MODIFIED","insertions":15,"deletions":-4}],"sizeInsertions":15,"sizeDeletions":-4},{"number":"3","revision":"4ba90b1197451e78ed94a8634641059d90d50ebf","parents":["de788a17ed4866d96c8dbb2b01b552d5ddb43ca4"],"ref":"refs/changes/33/4833/3","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1536872998,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536860664,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536869037,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","type":"MODIFIED","insertions":15,"deletions":-4}],"sizeInsertions":15,"sizeDeletions":-4},{"number":"4","revision":"8ebfdc66bf6e05607c459ce7468ce7ec72f6f8c6","parents":["de788a17ed4866d96c8dbb2b01b552d5ddb43ca4"],"ref":"refs/changes/33/4833/4","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1536873531,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1536860664,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1536869037,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"SUBM","value":"1","grantedOn":1536873585,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/ses/ses.c","type":"MODIFIED","insertions":15,"deletions":-4}],"sizeInsertions":15,"sizeDeletions":-4}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}]}