{"project":"joyent/sdcadm","branch":"master","id":"I561165d1e8bbc74845a99b0fc19ab10890435c44","number":"1295","subject":"TOOLS-1648 sdcadm post-setup cmon should setup cmon-agent Reviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/1295","commitMessage":"TOOLS-1648 sdcadm post-setup cmon should setup cmon-agent\nReviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e\n","createdOn":1484843033,"lastUpdated":1485454403,"open":false,"status":"MERGED","comments":[{"timestamp":1484843033,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1484843071,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485305576,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(17 comments)"},{"timestamp":1485364101,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2."},{"timestamp":1485364138,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485366737,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3."},{"timestamp":1485366778,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485367091,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1485370435,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4."},{"timestamp":1485370471,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485370501,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4:\n\n(18 comments)\n\nOk, everything done + some more stuff I found + disallowing agent updates using this tool"},{"timestamp":1485428093,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1485428155,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1485453116,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5:\n\n(9 comments)\n\nThese are all just cosmetic."},{"timestamp":1485453902,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 6."},{"timestamp":1485453936,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 6:\n\n(9 comments)\n\nDone with all the suggestions"},{"timestamp":1485453944,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485454372,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1"},{"timestamp":1485454403,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"6","revision":"561165d1e8bbc74845a99b0fc19ab10890435c44","parents":["30551fb3ab39134093ce94b777801487b26006fa"],"ref":"refs/changes/95/1295/6","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1485453902,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485453944,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485454372,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1485454372,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1485454403,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":26,"deletions":-1},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":315,"deletions":-11},{"file":"man/man1/sdcadm.1.ronn","type":"MODIFIED","insertions":15,"deletions":-3}],"sizeInsertions":356,"sizeDeletions":-15},"patchSets":[{"number":"1","revision":"c09ef9006e97ebb6a36ce320ae2ea4be83359a26","parents":["5334e7bc0b626cbbbd155e559d931cd6b2e49630"],"ref":"refs/changes/95/1295/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1484843033,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484843071,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/post-setup/cmon.js","line":296,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Drop this line."},{"file":"lib/post-setup/cmon.js","line":296,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":310,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Typo: service"},{"file":"lib/post-setup/cmon.js","line":310,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":350,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"If using the dashdash option type I suggested, it is possible that \u0027opts.servers\u0027 is undefined or the empty array. So this test should change to:\n\n    if (opts.servers \u0026\u0026 opts.servers.length \u003e 0) {"},{"file":"lib/post-setup/cmon.js","line":350,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":356,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Filtering out of unsetup servers should be done here, instead of where it currently is below.\n\nIf filtering out of unsetup servers is done where it is below, then a user doesn\u0027t get an error when explicitly listing an unsetup server: sdcadm post-setup cmon -s CN1\n\nThere then needs to be an error raised if any of the given servers are not setup."},{"file":"lib/post-setup/cmon.js","line":356,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":364,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Instead of \u0027available\u0027 here and in the error message, how about we use \"not running\". Then it is clear what is meant."},{"file":"lib/post-setup/cmon.js","line":364,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":420,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Add a space here."},{"file":"lib/post-setup/cmon.js","line":420,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":431,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why \u0027arg\u0027 instead of server? And logging the full server object is probably overkill. Just the server.uuid perhaps."},{"file":"lib/post-setup/cmon.js","line":431,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":445,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"include: `taskId: res.id`"},{"file":"lib/post-setup/cmon.js","line":445,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":454,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Pull this log.debug outside this if-else block. Something like:\n\nself.log.debug({err: er3, taskId: res.id, svc: \u0027cmon-agent\u0027, server: server.uuid}, \u0027install_agent task completed\u0027);"},{"file":"lib/post-setup/cmon.js","line":454,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":476,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\u0027Successfully installed \"cmon-agent\" on all servers\u0027\n\nOh, actually... that should say that if there were no errors. If there were errors the message should say that."},{"file":"lib/post-setup/cmon.js","line":476,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":488,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"CMON"},{"file":"lib/post-setup/cmon.js","line":488,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":505,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Update channel from which to get the \"cmon\" and \"cmon-agent\" images."},{"file":"lib/post-setup/cmon.js","line":505,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":512,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\"Number of concurrent servers to which to install cmon-agent.\""},{"file":"lib/post-setup/cmon.js","line":512,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":513,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"There are two spaces here. Just want one."},{"file":"lib/post-setup/cmon.js","line":513,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":518,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Suggest this diff to allow \u0027-s one -s two,three\u0027:\nhttps://gist.github.com/trentm/7cb2979fc01900bdd5d1cf278e703095\n\nEventually we should use that same dashdash option type for the other commands that take -s,--server:\n\ncli/do_update.js\n424:        names: [\u0027servers\u0027, \u0027s\u0027],\n\npost-setup/ha-binder.js\n1072:        names: [\u0027servers\u0027, \u0027s\u0027],\n\npost-setup/ha-manatee.js\n747:        names: [\u0027servers\u0027, \u0027s\u0027],\n\ncli/do_check_health.js\n224:        names: [\u0027servers\u0027, \u0027s\u0027],\n\ncli/do_create.js\n183:        names: [\u0027server\u0027, \u0027s\u0027],\n\netc."},{"file":"lib/post-setup/cmon.js","line":521,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Suggest: \"Comma-separate list of servers (hostname or UUID) on which cmon-agent will be setup. If not specified, then cmon-agent will be setup on all setup servers.\""},{"file":"lib/post-setup/cmon.js","line":521,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":529,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Suggest we change this so the first line is about \"CMON\" the system, rather than \"this is about the cmon service ... oh and the agent too.\"\n\n\"Setup the Container Monitor (CMON) system.\n\nThis command will setup the \"cmon\" and \"cmon-agent\" services and create an initial instance of \"cmon\" on the\nheadnode and \"cmon-agent\" on the specify (or all setup)\nservers.\""},{"file":"lib/post-setup/cmon.js","line":529,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":263,"deletions":-6},{"file":"man/man1/sdcadm.1.ronn","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":274,"sizeDeletions":-7},{"number":"2","revision":"156f1ea07af1e04960663082fe5a79c706739187","parents":["4e2251ed1ed0b917f3b2dfde0a9d35cc8d153cd9"],"ref":"refs/changes/95/1295/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1485364101,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485364138,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/post-setup/cmon.js","line":40,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Ooops!, forgot to drop this once I changed the argument type to the new one"},{"file":"lib/post-setup/cmon.js","line":408,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"We should set \"ctx.didSomething\u003dtrue\" in here, right?"},{"file":"lib/post-setup/cmon.js","line":408,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":26,"deletions":-1},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":287,"deletions":-9},{"file":"man/man1/sdcadm.1.ronn","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":324,"sizeDeletions":-11},{"number":"3","revision":"fbf91abff0aeee237e78ba76fc3cb8b57e2177f3","parents":["4e2251ed1ed0b917f3b2dfde0a9d35cc8d153cd9"],"ref":"refs/changes/95/1295/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1485366737,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485366778,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":26,"deletions":-1},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":287,"deletions":-9},{"file":"man/man1/sdcadm.1.ronn","type":"MODIFIED","insertions":15,"deletions":-3}],"sizeInsertions":328,"sizeDeletions":-13},{"number":"4","revision":"88ed037520e1dcdfc120dc299320d7d09c2365c5","parents":["4e2251ed1ed0b917f3b2dfde0a9d35cc8d153cd9"],"ref":"refs/changes/95/1295/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1485370435,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485370471,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":26,"deletions":-1},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":313,"deletions":-9},{"file":"man/man1/sdcadm.1.ronn","type":"MODIFIED","insertions":15,"deletions":-3}],"sizeInsertions":354,"sizeDeletions":-13},{"number":"5","revision":"7b8b94529599c4eaab627db75e37a26efe3bdbcc","parents":["30551fb3ab39134093ce94b777801487b26006fa"],"ref":"refs/changes/95/1295/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1485428093,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485370471,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/post-setup/cmon.js","line":12,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhaps drop this. It is slightly out of date... and we have the help string at the bottom to say what this command does."},{"file":"lib/post-setup/cmon.js","line":12,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":173,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"We could move this down below \u0027haveCmonAgentImageALready\u0027 and then skip this step if we *do* have an image to use in the local IMGAPI. But changing this isn\u0027t that important."},{"file":"lib/post-setup/cmon.js","line":173,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":344,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I\u0027m inclined to drop this. Make it a log.debug if anything."},{"file":"lib/post-setup/cmon.js","line":344,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":378,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Drop these two words."},{"file":"lib/post-setup/cmon.js","line":378,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":399,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"are running"},{"file":"lib/post-setup/cmon.js","line":399,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":401,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Delete these two words."},{"file":"lib/post-setup/cmon.js","line":401,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":419,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\"is already\""},{"file":"lib/post-setup/cmon.js","line":419,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":520,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"cmon-agent install failed on %d server%s"},{"file":"lib/post-setup/cmon.js","line":520,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"},{"file":"lib/post-setup/cmon.js","line":521,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Drop this line."},{"file":"lib/post-setup/cmon.js","line":521,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":26,"deletions":-1},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":313,"deletions":-9},{"file":"man/man1/sdcadm.1.ronn","type":"MODIFIED","insertions":15,"deletions":-3}],"sizeInsertions":354,"sizeDeletions":-13},{"number":"6","revision":"561165d1e8bbc74845a99b0fc19ab10890435c44","parents":["30551fb3ab39134093ce94b777801487b26006fa"],"ref":"refs/changes/95/1295/6","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1485453902,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485453944,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485454372,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1485454372,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1485454403,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":26,"deletions":-1},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":315,"deletions":-11},{"file":"man/man1/sdcadm.1.ronn","type":"MODIFIED","insertions":15,"deletions":-3}],"sizeInsertions":356,"sizeDeletions":-15}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Richard Kiene","email":"richard.kiene@joyent.com","username":"richardkiene"}]}