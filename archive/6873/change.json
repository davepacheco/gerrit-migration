{"project":"joyent/sdc-manta","branch":"master","topic":"MANTA-4318","id":"I56e08497ff1591d0879f6a9a3b8920a2d42ce1f4","number":"6873","subject":"MANTA-4318 pgstatsmon needs to be able to talk to buckets postgres","owner":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"url":"https://cr.joyent.us/6873","commitMessage":"MANTA-4318 pgstatsmon needs to be able to talk to buckets postgres\n","createdOn":1567670330,"lastUpdated":1570441309,"open":true,"status":"NEW","comments":[{"timestamp":1567670330,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Uploaded patch set 1."},{"timestamp":1567670398,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1567689950,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Topic set to MANTA-4318"},{"timestamp":1570199288,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)\n\nLooks good!"},{"timestamp":1570441309,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 1:\n\n(1 comment)"}],"currentPatchSet":{"number":"1","revision":"56e08497ff1591d0879f6a9a3b8920a2d42ce1f4","parents":["59448fccf2982e6859ea42b66ec4df8f57c73be0"],"ref":"refs/changes/73/6873/1","uploader":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"createdOn":1567670330,"author":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567670398,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1570199288,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"config/services/pgstatsmon/service.json","line":19,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Do we need this in here? For some reason I thought we only needed this in our mustache templates."},{"file":"config/services/pgstatsmon/service.json","line":19,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think we need this here because the mustache template is the one that consumes it.\n\nFor example, in joyent/manta-mola, here\u0027s where we populate the available index shards in a region in its config:\n\n    https://github.com/joyent/manta-mola/blob/986c7d63c839b40a09bff14f65e9ce1a2886277a/sapi_manifests/mola/template#L5-L9\n\nIn this case, we need the \"last\" property on the object returned by SAPI so that mustache can drop the comma into the right place. Otherwise, it would end up as invalid JSON due to the trailing comma."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/pgstatsmon/service.json","type":"MODIFIED","insertions":10,"deletions":-2}],"sizeInsertions":10,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"56e08497ff1591d0879f6a9a3b8920a2d42ce1f4","parents":["59448fccf2982e6859ea42b66ec4df8f57c73be0"],"ref":"refs/changes/73/6873/1","uploader":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"createdOn":1567670330,"author":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567670398,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1570199288,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"config/services/pgstatsmon/service.json","line":19,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Do we need this in here? For some reason I thought we only needed this in our mustache templates."},{"file":"config/services/pgstatsmon/service.json","line":19,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"I think we need this here because the mustache template is the one that consumes it.\n\nFor example, in joyent/manta-mola, here\u0027s where we populate the available index shards in a region in its config:\n\n    https://github.com/joyent/manta-mola/blob/986c7d63c839b40a09bff14f65e9ce1a2886277a/sapi_manifests/mola/template#L5-L9\n\nIn this case, we need the \"last\" property on the object returned by SAPI so that mustache can drop the comma into the right place. Otherwise, it would end up as invalid JSON due to the trailing comma."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/pgstatsmon/service.json","type":"MODIFIED","insertions":10,"deletions":-2}],"sizeInsertions":10,"sizeDeletions":-2}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}]}