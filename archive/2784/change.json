{"project":"joyent/illumos-joyent","branch":"master","id":"I894fe96f17a5f51e866b546c82be4310312663fc","number":"2784","subject":"OS-6363 system went to dark side of moon for ~467 seconds OS-6404 ARC reclaim should throttle its calls to arc_kmem_reap_now() Reviewed by: Bryan Cantrill \u003cbryan@joyent.com\u003e Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Approved by: Bryan Cantrill \u003cbryan@","owner":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"url":"https://cr.joyent.us/2784","commitMessage":"OS-6363 system went to dark side of moon for ~467 seconds\nOS-6404 ARC reclaim should throttle its calls to arc_kmem_reap_now()\nReviewed by: Bryan Cantrill \u003cbryan@joyent.com\u003e\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nApproved by: Bryan Cantrill \u003cbryan@joyent.com\u003e\n","createdOn":1507939891,"lastUpdated":1508953782,"open":false,"status":"MERGED","comments":[{"timestamp":1507939891,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 1."},{"timestamp":1507940349,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 2."},{"timestamp":1507943766,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1508172939,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1508174521,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 3."},{"timestamp":1508177741,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 3:\n\n(5 comments)"},{"timestamp":1508178299,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1508178594,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 4."},{"timestamp":1508179632,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 5."},{"timestamp":1508179657,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1508179717,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 6."},{"timestamp":1508179892,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 7."},{"timestamp":1508180981,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 8."},{"timestamp":1508183386,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1508185085,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 8:\n\n(5 comments)"},{"timestamp":1508195058,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 8:\n\n(3 comments)"},{"timestamp":1508195678,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 8:\n\n(2 comments)"},{"timestamp":1508199085,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 9."},{"timestamp":1508202217,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 9: Code-Review+1\n\nLooks great -- thanks! (Just be sure to modify the Commit Message before pushing!)"},{"timestamp":1508202221,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 9: Integration-Approval+1"},{"timestamp":1508202231,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 9: -Integration-Approval"},{"timestamp":1508212666,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 9: Code-Review+1\n\nLooks like you addressed everyone\u0027s comments.  Ship it."},{"timestamp":1508257589,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 10: Commit message was updated."},{"timestamp":1508258447,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 11: Patch Set 10 was rebased"},{"timestamp":1508259989,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 12."},{"timestamp":1508260146,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 13."},{"timestamp":1508260177,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 14: Patch Set 13 was rebased"},{"timestamp":1508284543,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 15: Patch Set 14 was rebased"},{"timestamp":1508344867,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 15: Code-Review+1"},{"timestamp":1508370569,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 16: Patch Set 15 was rebased"},{"timestamp":1508949473,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 16: Code-Review+1\n\nMy +1 got wiped."},{"timestamp":1508949941,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 16: Integration-Approval+1"},{"timestamp":1508950053,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Uploaded patch set 17: Commit message was updated."},{"timestamp":1508950068,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Patch Set 18: Patch Set 17 was rebased"},{"timestamp":1508953782,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Kordas"}],"currentPatchSet":{"number":"18","revision":"daa3911f02365820bf2df2a1cdf96602eda66912","parents":["e0c6772393ee04366494174e8e95ba7bcc980ed7"],"ref":"refs/changes/84/2784/18","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508950068,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508344867,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508949473,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508949941,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"SUBM","value":"1","grantedOn":1508953782,"by":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21},"patchSets":[{"number":"1","revision":"87245d4ff7c198f1454b343fe2c2acc615f08c50","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/1","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1507939891,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":14,"deletions":-2},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":46,"sizeDeletions":-5},{"number":"2","revision":"98822a8643883287e6bfbf4eb53aca42d35c70e3","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/2","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1507940349,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4150,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"May want to use MSEC2NSEC instead ? (otherwise we can\u0027t tune to run *more* often than a second)."},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4150,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"I agree that ms is a better unit than sec."},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4150,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Done"},{"file":"usr/src/uts/common/os/taskq.c","line":1333,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Please parenthesize for readability?\n\nrv \u003d (tq-\u003etq_task.tqent_next \u003d\u003d \u0026tq-\u003etq_task) \u0026\u0026 (tq-\u003etq_active \u003d\u003d 0);"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":14,"deletions":-2},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":46,"sizeDeletions":-5},{"number":"3","revision":"843d48fe9522b95526353c866a9c45ff84c6bfda","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/3","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508174521,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4053,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"We generally don\u0027t use C99-style comments in the kernel."},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4053,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"And actually: I realize we need a massive block comment here to explain exactly the problem that we\u0027re trying to avoid, lest someone generations from now unwittingly reintroduce it. ;)"},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4053,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"see the latest changeset to review the language."},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4053,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Done"},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4147,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"We\u0027ve already done a gethrtime(), above. Maybe stash that in a variable?"},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4147,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Done"},{"file":"usr/src/uts/common/os/kmem.c","line":3299,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Add a comment here that this does *not* wait and therefore the caller should call only in moderation?"},{"file":"usr/src/uts/common/os/kmem.c","line":3299,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"Done"},{"file":"usr/src/uts/common/os/taskq.c","line":1329,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"No space between rv and the semicolon"},{"file":"usr/src/uts/common/os/vmem.c","line":28,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Is there no other mod to this file?"},{"file":"usr/src/uts/common/os/vmem.c","line":28,"reviewer":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"message":"good catch. in a previous iteration I had changed the prototype of kmem_cache_reap_now() to optionally wait. left this here by accident."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":14,"deletions":-2},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":46,"sizeDeletions":-5},{"number":"4","revision":"77b114fd4580c6ca46c2441d03b2afe744cdf9ed","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/4","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508178594,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":61,"sizeDeletions":-5},{"number":"5","revision":"ac29279d11f745d36ecaa7022c9459041e11789f","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/5","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508179632,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":26,"deletions":-4},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":18,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":79,"sizeDeletions":-7},{"number":"6","revision":"b4249f55dceeed6ad34e72a77698489f3af5ce20","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/6","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508179717,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":26,"deletions":-4},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":18,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":79,"sizeDeletions":-6},{"number":"7","revision":"ea9f696544a21a9a30676da75ec6992b74605f84","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/7","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508179892,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":25,"deletions":-4},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":18,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":78,"sizeDeletions":-6},{"number":"8","revision":"5ecd2f11ad38c66b09d75e97e3c1d2ed178c3d69","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/8","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508180981,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508183386,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"comments":[{"file":"usr/src/uts/common/fs/zfs/arc.c","line":306,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"I think we may want to have an \"_ms\" suffix on this to make it clear from the symbol (e.g., \"zfs_deadman_synctime_ms\")"},{"file":"usr/src/uts/common/fs/zfs/arc.c","line":4073,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Suggested change:\n\n        /*\n         * If a kmem reap is already active, don\u0027t schedule more.  We must\n         * check for this because kmem_cache_reap_soon() won\u0027t actually\n         * block on the cache being reaped (this is to prevent callers from\n         * becoming implicitly blocked by a system-wide kmem reap -- which,\n         * on a system with many, many full magazines, can take minutes).\n         */"},{"file":"usr/src/uts/common/os/kmem.c","line":3310,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"I think we should rename this to: \"kmem_cache_reap_soon\" -- which adds an appropriate level of ambiguity. ;)"},{"file":"usr/src/uts/common/os/taskq.c","line":29,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Our Copyright lines should match the \"eng.git\" spec; i.e.,\n\n    Copyright (c) 2017, Joyent, Inc.\n\nSee here: https://github.com/joyent/eng/blob/master/docs/index.md#copyright"},{"file":"usr/src/uts/common/os/taskq.c","line":1331,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"This could be:\n\n    ASSERT3P(tq, !\u003d, curthread-\u003et_taskq);"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":43,"deletions":-4},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":18,"deletions":-2},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":96,"sizeDeletions":-6},{"number":"9","revision":"4ce63d3b04ff2185dffbaa90580b6feda4c34f04","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/9","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508199085,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508202217,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508212666,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":126,"sizeDeletions":-21},{"number":"10","revision":"45adeea87c64002a472c23b8e41c3f5cd105c15b","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/10","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508257589,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508202217,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508212666,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":126,"sizeDeletions":-21},{"number":"11","revision":"2089ed87251b566d04a63a3762076925a9466da2","parents":["3e8f2de8060a6dc6b5940f6a15c3b444fd288b58"],"ref":"refs/changes/84/2784/11","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508258447,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508202217,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508212666,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":12,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":126,"sizeDeletions":-21},{"number":"12","revision":"5f3a8a14df28cf82e9e783503aca746bc3063453","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/12","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508259989,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21},{"number":"13","revision":"27a257ebf47012dbce1f683fb964029678e4d274","parents":["6e2565f3acfa482680efd7dc4568275eec52fcc0"],"ref":"refs/changes/84/2784/13","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508260146,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21},{"number":"14","revision":"d4ec06de93a490e5b4fee6db51a1e62867f4a60b","parents":["3e8f2de8060a6dc6b5940f6a15c3b444fd288b58"],"ref":"refs/changes/84/2784/14","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508260177,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21},{"number":"15","revision":"d948fdc808737b1a8b52b03fe343de612611f394","parents":["8359acfb8fd4655b7437bff72bed36033caf5420"],"ref":"refs/changes/84/2784/15","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508284543,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508344867,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21},{"number":"16","revision":"19bbb1214f35d8f56953039eca706a915dcaef61","parents":["683d5480866a9fbcb474d9c8d00a692a7b3f80fc"],"ref":"refs/changes/84/2784/16","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508370569,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508344867,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508949941,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508949473,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21},{"number":"17","revision":"894fe96f17a5f51e866b546c82be4310312663fc","parents":["683d5480866a9fbcb474d9c8d00a692a7b3f80fc"],"ref":"refs/changes/84/2784/17","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508950053,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508344867,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508949941,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508949473,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21},{"number":"18","revision":"daa3911f02365820bf2df2a1cdf96602eda66912","parents":["e0c6772393ee04366494174e8e95ba7bcc980ed7"],"ref":"refs/changes/84/2784/18","uploader":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"createdOn":1508950068,"author":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508344867,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1508949941,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1508949473,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"SUBM","value":"1","grantedOn":1508953782,"by":{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kmem.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/lib/libfakekernel/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/lib/libzpool/common/sys/zfs_context.h","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/lib/libzpool/common/taskq.c","type":"MODIFIED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/arc.c","type":"MODIFIED","insertions":36,"deletions":-11},{"file":"usr/src/uts/common/os/kmem.c","type":"MODIFIED","insertions":20,"deletions":-4},{"file":"usr/src/uts/common/os/taskq.c","type":"MODIFIED","insertions":17,"deletions":0},{"file":"usr/src/uts/common/os/vmem.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/sys/kmem.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/sys/taskq.h","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":127,"sizeDeletions":-21}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},{"name":"Tim Kordas","email":"tim.kordas@joyent.com","username":"timkordas"}]}