From 4ec9357e15484c54c43d878b202c6b10908eb280 Mon Sep 17 00:00:00 2001
From: John Levon <john.levon@joyent.com>
Date: Wed, 4 Apr 2018 11:54:23 +0100
Subject: [PATCH] TOOLS-2016 Gerrit README could mention tooling

---
 docs/user/README.md | 25 ++++++++++++++++---------
 1 file changed, 16 insertions(+), 9 deletions(-)

diff --git a/docs/user/README.md b/docs/user/README.md
index 665df9c..5e0cef7 100644
--- a/docs/user/README.md
+++ b/docs/user/README.md
@@ -239,14 +239,21 @@ under "Code Review".
 Even with the requisite "+1" votes, Gerrit will only allow changes to be
 integrated that can be fast-forwarded onto "master".  If someone else has
 changed "master" in the meantime, we'll need to update the change to apply
-cleanly to master.
-
-Once your change has +1s for both Code Review and Integration Approval, assuming
-you have the appropriate permissions to integrate the change (see the New User
-Instructions), then you should see the "Submit change" button show up.  Clicking
-that button will integrate the change into master.  The change should be
-replicated to GitHub within about 30 seconds.
-
+cleanly to master: this can be done in Gerrit via "Rebase".
+
+Prior to integration, you will need to update the commit message with the
+appropriate "Reviewed by" and "Approved by" lines (without any blank lines). The
+[cr-update-reviewers](https://github.com/joyent/cr-update-reviewers) tool can
+help with this, as can the more comprehensive
+[grr](https://github.com/joyent/grr). Alternatively, this can be done with a
+`git commit --amend`, but be careful to re-push *only* this change, or Gerrit
+will drop the +1 I-A.
+
+Once your change has +1s for both Code Review and Integration Approval, and the
+commit message is updated, assuming you have the appropriate permissions to
+integrate the change (see the New User Instructions), then you should see the
+"Submit change" button show up.  Clicking that button will integrate the change
+into master.  The change should be replicated to GitHub within about 30 seconds.
 
 ## Using cr.joyent.us with an existing local workspace
 
@@ -562,7 +569,7 @@ submit a new patchset:
     # Switch back to your working branch.
     $ git checkout WORKING_BRANCH
 
-Some tooling could be helpful here.
+[grr](https://github.com/joyent/grr) makes this approach very simple.
 
 As long as you started with no uncommitted changes, this procedure will never
 lose any data, and you'll wind up in the same state you started: on your working
-- 
2.21.0

