{"project":"joyent/eng","branch":"master","id":"I01f669da1f5cb1439d573fc42efd2dc43a7c6184","number":"6655","subject":"TOOLS-2300 buildimage should set \"published_at\" in image manifests","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/6655","commitMessage":"TOOLS-2300 buildimage should set \"published_at\" in image manifests\n","createdOn":1564161638,"lastUpdated":1564386059,"open":false,"status":"MERGED","comments":[{"timestamp":1564161638,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1564161646,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit c272f69e4d8979cb2103aace2951714d303ad220\n    \n    TOOLS-2300 buildimage should set published_at in image manifests"},{"timestamp":1564161666,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n curl: (22) The requested URL returned error: 404 Not Found\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/bapi.xml\n deps/javascriptlint/build/install/jsl --nologo --nosummary --conf\u003dtools/jsl.node.conf lib/index.js test/api.test.js tools/bashstyle\n /tmp/repo/lib/index.js\n /tmp/repo/test/api.test.js\n /tmp/repo/tools/bashstyle\n json --validate -f package.json\n deps/jsstyle/jsstyle -f tools/jsstyle.conf lib/index.js test/api.test.js tools/bashstyle\n bash -n tools/check-copyright\n /tmp/repo/build/node/bin/node deps/eng/tools/bashstyle tools/check-copyright\n gmake: /tmp/repo/build/node/bin/node: Command not found\n gmake: *** [deps/eng/tools/mk/Makefile.targ:245: tools/check-copyright.bashstyle] Error 127"},{"timestamp":1564164150,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1564164205,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\ntimf: Note the \u0027make check\u0027 fail. Is this going to be breaking the gerrit makecheckbot for all CRs now?"},{"timestamp":1564385949,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"},{"timestamp":1564386027,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nThe make check fail has been failing for a while for eng, as discussed in chat, it\u0027s down to sdcnode not being present for eng. I\u0027ll open a bug to fix this."},{"timestamp":1564386059,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\n\u003e The make check fail has been failing for a while for eng, as\n \u003e discussed in chat, it\u0027s down to sdcnode not being present for eng.\n \u003e I\u0027ll open a bug to fix this.\n\nNote this only impacts eng itself, not consumers of it via deps/eng"}],"currentPatchSet":{"number":"1","revision":"01f669da1f5cb1439d573fc42efd2dc43a7c6184","parents":["098851ffb6c5855e74fd5f80300fc9c2758e2677"],"ref":"refs/changes/55/6655/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1564161638,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1564161666,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1564164150,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1564164150,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1564385949,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/buildimage/bin/buildimage","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":3,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"01f669da1f5cb1439d573fc42efd2dc43a7c6184","parents":["098851ffb6c5855e74fd5f80300fc9c2758e2677"],"ref":"refs/changes/55/6655/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1564161638,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1564161666,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1564164150,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1564164150,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1564385949,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/buildimage/bin/buildimage","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":3,"sizeDeletions":0}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}