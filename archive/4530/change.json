{"project":"joyent/sdc-manta","branch":"master","id":"I87bb2931372bc8924de739b830bd2551ea789f2f","number":"4530","subject":"MANTA-3822 manta deployment zone should be aware of alternate admin nictags MANTA-3853 tst.maint_windows.js.out missing list headers Reviewed by: Kody A Kantor \u003ckody@kkantor.com\u003e Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Approved by: Cody Pete","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/4530","commitMessage":"MANTA-3822 manta deployment zone should be aware of alternate admin nictags\nMANTA-3853 tst.maint_windows.js.out missing list headers\nReviewed by: Kody A Kantor \u003ckody@kkantor.com\u003e\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1531855130,"lastUpdated":1532959470,"open":false,"status":"MERGED","comments":[{"timestamp":1531855130,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1531855204,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532372983,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1532373031,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1532373107,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3."},{"timestamp":1532373155,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1532373405,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4."},{"timestamp":1532373454,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532373848,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 5."},{"timestamp":1532373898,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532375774,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 5:\n\n(8 comments)\n\nLooks good! Thanks."},{"timestamp":1532443895,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 5:\n\n(9 comments)"},{"timestamp":1532444039,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 6."},{"timestamp":1532444088,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532453819,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 6: Code-Review+1\n\n(5 comments)"},{"timestamp":1532455359,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 7."},{"timestamp":1532455367,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 6:\n\n(5 comments)"},{"timestamp":1532455407,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532455609,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 8: Patch Set 7 was rebased."},{"timestamp":1532455668,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1532457904,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 8: Code-Review+1\n\n(1 comment)\n\nGreat!"},{"timestamp":1532458042,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 9."},{"timestamp":1532458051,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 8:\n\n(1 comment)"},{"timestamp":1532458092,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532461530,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 9: Code-Review+1"},{"timestamp":1532545316,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 10."},{"timestamp":1532545366,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532545732,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 11."},{"timestamp":1532545780,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11:\n\n\"make check\" passed ok"},{"timestamp":1532627010,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 12."},{"timestamp":1532627062,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532629207,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1532717982,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 12:\n\n(4 comments)"},{"timestamp":1532725021,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 13."},{"timestamp":1532725047,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 13:\n\n(4 comments)"},{"timestamp":1532725070,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532727296,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 13: Code-Review+1 Integration-Approval+1"},{"timestamp":1532959432,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 14: Commit message was updated."},{"timestamp":1532959470,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"14","revision":"87bb2931372bc8924de739b830bd2551ea789f2f","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/14","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532959432,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532725070,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532727296,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532727296,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1532959470,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":227,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/alarms/tst.maint_windows.js.out","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":429,"sizeDeletions":-150},"patchSets":[{"number":"1","revision":"0dfa01acab16a24a139607a49109726ec3c6ac67","parents":["00c7b85b3e9e89ecd820cfde0f65a161870d4aae"],"ref":"refs/changes/30/4530/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1531855130,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531855204,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/common.js","line":734,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"My bias is to make these VError objects and use the \u0027name\u0027 and \u0027info\u0027 properties instead of adding a custom attribute to the Error object. These are only created in manta-init.js and manta-factoryreset.js, right?"},{"file":"lib/common.js","line":734,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Fixed.\n\nYes, these are only created in manta-init and manta-factoryreset"},{"file":"lib/common.js","line":750,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"It looks like the style here and in other files is to have the return statement on a separate line from the callback invocation."},{"file":"lib/common.js","line":750,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/common.js","line":764,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Should this be a \u0027%s\u0027?"},{"file":"lib/common.js","line":764,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"nice catch."},{"file":"lib/common.js","line":784,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"add comment about soft failure."},{"file":"lib/common.js","line":791,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Wouldn\u0027t it be \u0027found\u0027 and not \u0027not found\u0027?"},{"file":"lib/common.js","line":791,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/common.js","line":791,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"space after comma."},{"file":"lib/common.js","line":835,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Should we return here in this case?"},{"file":"lib/common.js","line":835,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/common.js","line":886,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Should we do something with the error if we get one?"},{"file":"lib/common.js","line":886,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/deploy.js","line":748,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"How about \u0027!\u003d\u003d\u0027 ?"},{"file":"lib/deploy.js","line":762,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"\u0027More [than] one\u0027 ?"},{"file":"lib/deploy.js","line":762,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":29,"deletions":-52},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":25,"deletions":-51},{"file":"lib/adm.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":200,"deletions":0},{"file":"lib/deploy.js","type":"MODIFIED","insertions":125,"deletions":-39},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":387,"sizeDeletions":-144},{"number":"2","revision":"f1516148f6b4a04ac7e76aa0157793ee1bb72ac4","parents":["7d1a1c5c0e2e67c34e7de4a8e7b2fff75554a0c1"],"ref":"refs/changes/30/4530/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532372983,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531855204,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":29,"deletions":-52},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":25,"deletions":-51},{"file":"lib/adm.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":200,"deletions":0},{"file":"lib/deploy.js","type":"MODIFIED","insertions":125,"deletions":-39},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":387,"sizeDeletions":-144},{"number":"3","revision":"de5f911c8a0ce0ee719fadfb257c611fd1a8278f","parents":["7d1a1c5c0e2e67c34e7de4a8e7b2fff75554a0c1"],"ref":"refs/changes/30/4530/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532373107,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1532373155,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/common.js","line":783,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"block comment not indented by tabs"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":29,"deletions":-52},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":25,"deletions":-51},{"file":"lib/adm.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":203,"deletions":0},{"file":"lib/deploy.js","type":"MODIFIED","insertions":125,"deletions":-39},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":390,"sizeDeletions":-144},{"number":"4","revision":"18db0cc41d33491d515d26799727547df4e611cd","parents":["7d1a1c5c0e2e67c34e7de4a8e7b2fff75554a0c1"],"ref":"refs/changes/30/4530/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532373405,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532373454,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":29,"deletions":-52},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":25,"deletions":-51},{"file":"lib/adm.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":203,"deletions":0},{"file":"lib/deploy.js","type":"MODIFIED","insertions":125,"deletions":-39},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":390,"sizeDeletions":-144},{"number":"5","revision":"e21a9b4aeb31d8808aa755ca6b6d52518b1a344d","parents":["7d1a1c5c0e2e67c34e7de4a8e7b2fff75554a0c1"],"ref":"refs/changes/30/4530/5","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532373848,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532373898,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":30,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":26,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":204,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":396,"sizeDeletions":-150},{"number":"6","revision":"49aec0b0b7ce840c197fd11fa8623ca749526839","parents":["7d1a1c5c0e2e67c34e7de4a8e7b2fff75554a0c1"],"ref":"refs/changes/30/4530/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532444039,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532444088,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532453819,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"cmd/manta-factoryreset.js","line":79,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"returned callback here"},{"file":"cmd/manta-factoryreset.js","line":79,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"cmd/manta-init.js","line":192,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"two more return(callback()) here and below"},{"file":"cmd/manta-init.js","line":192,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/common.js","line":766,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Here\u0027s another return(cb())"},{"file":"lib/common.js","line":766,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/deploy.js","line":390,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"I actually think we don\u0027t need the \u0027else\u0027 here, but it\u0027s not a big deal."},{"file":"lib/deploy.js","line":390,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/deploy.js","line":775,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"return(callback())"},{"file":"lib/deploy.js","line":775,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":34,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":29,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":211,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":410,"sizeDeletions":-150},{"number":"7","revision":"0d8aff796c9173ed4912e0a49c55f1a4fbdf7c62","parents":["7d1a1c5c0e2e67c34e7de4a8e7b2fff75554a0c1"],"ref":"refs/changes/30/4530/7","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532455359,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532455407,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":212,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":127,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":414,"sizeDeletions":-150},{"number":"8","revision":"cd015ed0a448f4714e17514b8a7789935ec57631","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/8","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532455609,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532455407,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532457904,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"lib/deploy.js","line":392,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"While you\u0027re at it could this be one line now?"},{"file":"lib/deploy.js","line":392,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":212,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":127,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":414,"sizeDeletions":-150},{"number":"9","revision":"1d0eb5371bcd9ffece9d82157d062c1d1f983c28","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/9","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532458042,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532458092,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532461530,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":212,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":413,"sizeDeletions":-150},{"number":"10","revision":"db93119c6d720236c462f55435044f61308fff12","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/10","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532545316,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532545366,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":212,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":414,"sizeDeletions":-151},{"number":"11","revision":"2b9c410cbc7916b194f9f603ab8475554d8bc25d","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/11","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532545732,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532458092,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532461530,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":212,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":413,"sizeDeletions":-150},{"number":"12","revision":"268296bf0c726a5f778cfb053372d568545c3e91","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/12","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532627010,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532627062,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532629207,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"cmd/manta-factoryreset.js","line":58,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I think this would be clearer as network_owners. \"network_uuids\" makes it seems like it\u0027s an array of network UUIDs, but they\u0027re actually owners of a single network."},{"file":"cmd/manta-factoryreset.js","line":58,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"cmd/manta-init.js","line":184,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Same thing here. This is an array of owners."},{"file":"cmd/manta-init.js","line":184,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"},{"file":"lib/common.js","line":725,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"It\u0027s better to write this as:\n\n    function _updateNetworkUserCommon(network, cb) {\n\nSo that the function has a name in stack traces and can be found more easily using ::jsfunctions."},{"file":"lib/common.js","line":725,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"done.  Also updated _updateNetworkUserByUUID() below."},{"file":"lib/common.js","line":776,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"If we update a pool, should we then skip updating a network? Currently, if there\u0027s a pool named \"admin\" and a network named \"admin\", this will update both."},{"file":"lib/common.js","line":776,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"It does seem that if there is a network with the same name as the pool it is in, it will update that network twice."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":212,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/alarms/tst.maint_windows.js.out","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":414,"sizeDeletions":-150},{"number":"13","revision":"d43d1c8df23be14a5807e369b49bb1a84d380895","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/13","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532725021,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532727296,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532727296,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532725070,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":227,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/alarms/tst.maint_windows.js.out","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":429,"sizeDeletions":-150},{"number":"14","revision":"87bb2931372bc8924de739b830bd2551ea789f2f","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/30/4530/14","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1532959432,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1532727296,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1532727296,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532725070,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1532959470,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"cmd/manta-factoryreset.js","type":"MODIFIED","insertions":35,"deletions":-53},{"file":"cmd/manta-init.js","type":"MODIFIED","insertions":30,"deletions":-52},{"file":"lib/adm.js","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":227,"deletions":-1},{"file":"lib/deploy.js","type":"MODIFIED","insertions":126,"deletions":-40},{"file":"networking/manta-net.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/alarms/tst.maint_windows.js.out","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":429,"sizeDeletions":-150}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}]}