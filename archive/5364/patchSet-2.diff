From 24938287b6ed895c8ed187d5728a3f15b9051915 Mon Sep 17 00:00:00 2001
From: Alex Wilson <alex.wilson@joyent.com>
Date: Mon, 14 Jan 2019 15:42:14 -0800
Subject: [PATCH] TRITON-1087 cnsadm broken after TRITON-1044 jsprim update

---
 bin/cnsadm       | 2 +-
 lib/cmd-utils.js | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/bin/cnsadm b/bin/cnsadm
index ebc7a40..0b60a26 100755
--- a/bin/cnsadm
+++ b/bin/cnsadm
@@ -143,7 +143,7 @@ sapi.get('/configs/' + zoneName, function (err, req, res, obj) {
 
 	Object.keys(config).forEach(function (k) {
 		if (obj.metadata.hasOwnProperty(k)) {
-			if (!jsprim.deepEquals(config[k], obj.metadata[k]))
+			if (!jsprim.deepEqual(config[k], obj.metadata[k]))
 				waiting[k] = true;
 			config[k] = obj.metadata[k];
 		}
diff --git a/lib/cmd-utils.js b/lib/cmd-utils.js
index 57b398c..e6e60a3 100644
--- a/lib/cmd-utils.js
+++ b/lib/cmd-utils.js
@@ -102,7 +102,7 @@ function parseModifiers(args, oldObj, schema) {
 			for (i = 0; i < orig.length; ++i) {
 				var add = true;
 				for (var j = 0; j < val.length; ++j) {
-					if (jsprim.deepEquals(
+					if (jsprim.deepEqual(
 					    orig[i], val[j])) {
 						add = false;
 						break;
-- 
2.21.0

