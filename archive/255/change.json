{"project":"joyent/smartos-live","branch":"master","id":"I43bc914ed3afec37104db88f804fc4762a6767da","number":"255","subject":"OS-5582 Use busybox:1.24.0 for example Docker image in tests Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Reviewed by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e Reviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e Approved by: Patrick Mooney \u003cpatrick.moone","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/255","commitMessage":"OS-5582 Use busybox:1.24.0 for example Docker image in tests\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e\nReviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1470702810,"lastUpdated":1470774203,"open":false,"status":"MERGED","comments":[{"timestamp":1470702810,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1470702852,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470704514,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1: Code-Review+1\n\nWould it make sense to use an image-agnostic name for the env variable? (Like DOCKER_BASE_IMAGE?)  It might make it easier to switch again, should that be required in the future."},{"timestamp":1470714783,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1: Code-Review+1\n\nlgtm"},{"timestamp":1470758795,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1470759663,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1470759706,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1470759782,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1470759804,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\n(1 comment)\n\n@pmooney: I\u0027ve renamed the variable names to be more generic."},{"timestamp":1470760019,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1470760572,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: Integration-Approval+1\n\nApproved, pending clean test results from the most recent patch."},{"timestamp":1470760710,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1470774203,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"4","revision":"a20e7a97949e84df9e539575bb6fbc54ceb408f7","parents":["0b86a346956089800977dbf4691b628812eb1674"],"ref":"refs/changes/55/255/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1470760710,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470759706,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470759782,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470760572,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1470774203,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/img/test/docker.test.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/common/vmtest.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/runtest","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"src/vm/tests/test-reprovision.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":20,"sizeDeletions":-18},"patchSets":[{"number":"1","revision":"108815ae1abe2d584668bddd4842d0458bf0da31","parents":["0b86a346956089800977dbf4691b628812eb1674"],"ref":"refs/changes/55/255/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1470702810,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470702852,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470704514,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470758795,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470714783,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"src/img/test/docker.test.js","line":53,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhapd update the comment: to say that we need an image from Docker Hub that exists in the v1 Registry API (because that is currently what imgadm in vanilla SmartOS supports)."},{"file":"src/img/test/docker.test.js","line":53,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/img/test/docker.test.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"src/vm/common/vmtest.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/runtest","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"src/vm/tests/test-reprovision.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":18,"sizeDeletions":-18},{"number":"2","revision":"43bc914ed3afec37104db88f804fc4762a6767da","parents":["0b86a346956089800977dbf4691b628812eb1674"],"ref":"refs/changes/55/255/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1470759663,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470759706,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470759782,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/img/test/docker.test.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/common/vmtest.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/runtest","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"src/vm/tests/test-reprovision.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":20,"sizeDeletions":-18},{"number":"3","revision":"8c0c6632bf502c0f5a5dc05071a2c9dac8d87a6b","parents":["0b86a346956089800977dbf4691b628812eb1674"],"ref":"refs/changes/55/255/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1470760019,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470759706,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470759782,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470760572,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/img/test/docker.test.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/common/vmtest.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/runtest","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"src/vm/tests/test-reprovision.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":20,"sizeDeletions":-18},{"number":"4","revision":"a20e7a97949e84df9e539575bb6fbc54ceb408f7","parents":["0b86a346956089800977dbf4691b628812eb1674"],"ref":"refs/changes/55/255/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1470760710,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1470774203,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1470759706,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1470759782,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1470760572,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"src/img/test/docker.test.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"src/vm/common/vmtest.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"src/vm/runtest","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"src/vm/tests/test-docker.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"src/vm/tests/test-reprovision.js","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":20,"sizeDeletions":-18}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}