{"project":"joyent/triton-prometheus","branch":"master","id":"I8f86f924bbc2bb812e0d8e904c19f9d5e549b6db","number":"6620","subject":"TRITON-1650 prometheus image should discover global zones Reviewed by: Isaac Davis \u003cisaac.davis@joyent.com\u003e Approved by: Isaac Davis \u003cisaac.davis@joyent.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/6620","commitMessage":"TRITON-1650 prometheus image should discover global zones\nReviewed by: Isaac Davis \u003cisaac.davis@joyent.com\u003e\nApproved by: Isaac Davis \u003cisaac.davis@joyent.com\u003e\n","createdOn":1563407362,"lastUpdated":1568162623,"open":false,"status":"MERGED","comments":[{"timestamp":1563407362,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1563407364,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 9f34ab9c05482d7cf7ff3430e7b13ff0e3d7f3cd\n    \n    update changes from TRITON-1650 branch"},{"timestamp":1563407383,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1563456582,"reviewer":{"username":"Smithx10"},"message":"Patch Set 1:\n\nMorning Josh,   I stumbled upon this problem awhile ago and wound up fixing it in the prometheus service discovery config.  You can see the changes here:  https://github.com/prometheus/prometheus/compare/master...Smithx10:triton_gz  \n\nI also feel like perhaps instead of using the GZ keyword,  we could have prometheus SD understand \"account_type\" and have \"user\" and \"admin\" types that also include discovery of the GZ targets.   I think having this upstreamed to prometheus wouldn\u0027t be too diffiicult.\n\nHope I did this correctly.... I\u0027ve never used gerrit ./rolls the dice."},{"timestamp":1563471810,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1563471811,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 07f2f0ebbcf0df033623e520dc219a4b6aac1d9e\n    \n    fix copyright header to make lawyers happier\n    \n    commit 40219e8fd18d936ec956ea0bcd95ba5a1ea9c75c\n    \n    do DNS ourselves since our setup doesn\u0027t work\n    \n    commit d2a3e60132092342fdfedc8e39a240590e941d4f\n    \n    fix permissions"},{"timestamp":1563471830,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1563474638,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1563474639,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 800a37e1889941c56b166cbcd3ca2181b9f1eecb\n    \n    oops"},{"timestamp":1563474660,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1563500571,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\n\u003e Morning Josh,   I stumbled upon this problem awhile ago and wound\n \u003e up fixing it in the prometheus service discovery config.  You can\n \u003e see the changes here:  https://github.com/prometheus/prometheus/compare/master...Smithx10:triton_gz\n \u003e \n \u003e I also feel like perhaps instead of using the GZ keyword,  we could\n \u003e have prometheus SD understand \"account_type\" and have \"user\" and\n \u003e \"admin\" types that also include discovery of the GZ targets.   I\n \u003e think having this upstreamed to prometheus wouldn\u0027t be too\n \u003e diffiicult.\n \u003e \n \u003e Hope I did this correctly.... I\u0027ve never used gerrit ./rolls the\n \u003e dice.\n\n \u003e Morning Josh,   I stumbled upon this problem awhile ago and wound\n \u003e up fixing it in the prometheus service discovery config.  You can\n \u003e see the changes here:  https://github.com/prometheus/prometheus/compare/master...Smithx10:triton_gz\n \u003e \n \u003e I also feel like perhaps instead of using the GZ keyword,  we could\n \u003e have prometheus SD understand \"account_type\" and have \"user\" and\n \u003e \"admin\" types that also include discovery of the GZ targets.   I\n \u003e think having this upstreamed to prometheus wouldn\u0027t be too\n \u003e diffiicult.\n \u003e \n \u003e Hope I did this correctly.... I\u0027ve never used gerrit ./rolls the\n \u003e dice.\n\nHi Smithx10.\n\nI\u0027ve passed your change along to Richard Kiene who has done the Prometheus service discovery work. Having a change in upstream Prometheus that supports GZ discovery would be useful, but in the meantime this change exists to handle the current versions.\n\nThanks for your input.\n\nJosh"},{"timestamp":1563842990,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 3:\n\n(5 comments)\n\nThanks for doing this! Looks good, other than some style nits."},{"timestamp":1563843030,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1567720955,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4."},{"timestamp":1567720957,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 2633da5f494a5a2185af3f4f323939392169b024\n    \n    denittery"},{"timestamp":1567720983,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1567721086,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 5."},{"timestamp":1567721087,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 9dfff726d51355015020de256fe230c27b92b4f2\n    \n    denittery\n    \n    commit 248f8fc28cfd66ff3705670d725ad5c85861d239\n    \n    oops\n    \n    commit 7274c10a4d099add0ea47df42e03d34d149cbdd0\n    \n    fix copyright header to make lawyers happier\n    \n    commit 2c94b85da0937e02003765e946b0e13134928cdf\n    \n    do DNS ourselves since our setup doesn\u0027t work\n    \n    commit 41af69dfece41264e55f3c846b4dbb2b7bcdf3e9\n    \n    fix permissions\n    \n    commit c5d4a8d28dc6f98f40ae050ec8beec6ff2f7612a\n    \n    update changes from TRITON-1650 branch"},{"timestamp":1567721107,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1567724298,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 6."},{"timestamp":1567724300,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit dadc76a5d9d50beb227031ac0b17c1b55187f18d\n    \n    does not work\n    \n    commit 4e4696c37c38d690d26e338a0bc99d134c48baa6\n    \n    home is where /root is\n    \n    commit bcfa387ac97e87c67faa5cdb3d5ee2ffeb1133c8\n    \n    Thanks prometheus/promu#165"},{"timestamp":1567724318,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1567724404,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 7."},{"timestamp":1567724405,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 363e275108cf8d321129f784208e85881aaccff9\n    \n    note go bump"},{"timestamp":1567724430,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1567725659,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7:\n\nAddressed nits. Tested build a00a1d6a-f61c-48e6-813d-a14b77f9b7bc (grr-TRITON-1650 branch) with my test setup and GZs were discovered and prometheus seems to work as expected."},{"timestamp":1568068383,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1568161366,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 8."},{"timestamp":1568161367,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit 11e469e4ccecf513894c7ae9a8ae34222c74357e\n    \n    blah\n    \n    commit 0bb2b6d7c46576fbf2eff8bddec38aa3eb89418a\n    \n    does not work\n    \n    commit a35acfcc7f92011099f7a314c0ed4fb4afb763e0\n    \n    home is where /root is\n    \n    commit e765fac822e26df2fae98a548220aa22b115101c\n    \n    denittery\n    \n    commit b81e9dfc8aade48d09b812285982149a5955b4d2\n    \n    oops\n    \n    commit 8a3289af6e3a67c16202cd7e2ee5ddedb78a2bb5\n    \n    fix copyright header to make lawyers happier\n    \n    commit 0c39b4c79b53bb7bf381a455cb03d14741613c39\n    \n    do DNS ourselves since our setup doesn\u0027t work\n    \n    commit 287706c53e5f16b7a9783f5f01bd96dd35c77f10\n    \n    fix permissions\n    \n    commit 7ad9d09fd5d538ee89ae128b8aa211fa69c3240a\n    \n    update changes from TRITON-1650 branch"},{"timestamp":1568161390,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1568161754,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1\n\nLooks good! Thanks for doing this!"},{"timestamp":1568162500,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 9: Commit message was updated."},{"timestamp":1568162623,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"9","revision":"8f86f924bbc2bb812e0d8e904c19f9d5e549b6db","parents":["5eb95aa04dba81b17f353623f62867e286cb9e8c"],"ref":"refs/changes/20/6620/9","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1568162500,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568161390,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568161754,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568161754,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"SUBM","value":"1","grantedOn":1568162623,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":119,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"2ae969cb8a7dbd8c2505d6e4888fa7e7786b4272","parents":["c199c74437dfe561bab0c4fec6522e174c348488"],"ref":"refs/changes/20/6620/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1563407362,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1563407383,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":57,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":27,"deletions":0},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":99,"sizeDeletions":-1},{"number":"2","revision":"b9d0641e71a6ead0b48a2816d8e8a602d53697c9","parents":["c199c74437dfe561bab0c4fec6522e174c348488"],"ref":"refs/changes/20/6620/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1563471810,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1563471830,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":27,"deletions":0},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":113,"sizeDeletions":-1},{"number":"3","revision":"372f0a0f40c0079f6b22a1f1bd88afc0b859f9be","parents":["c199c74437dfe561bab0c4fec6522e174c348488"],"ref":"refs/changes/20/6620/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1563474638,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1563474660,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"boot/setup.sh","line":178,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Nit: use the ROOT_DIR variable here rather than hard-coding the path -- I realize that not all of the code in this file does this, but I\u0027d like to get in the habit, at least."},{"file":"boot/setup.sh","line":178,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Nit: My rule-of-thumb re: single/double quotes is to use single quotes by default and double quotes only when necessary. I\u0027ve attempted to enforce this throughout this repo."},{"file":"boot/setup.sh","line":185,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Nit: the rest of the bash variables in this repo use the curly brace syntax (e.g. ${foo}). It\u0027s pedantic, but I\u0027d like to enforce it throughout.\n\n(I\u0027m not going to go through and mark each individual occurrence, for fear of comment spam)"},{"file":"boot/setup.sh","line":190,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"ROOT_DIR here too"},{"file":"boot/setup.sh","line":192,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Typo -- \"unable to import\"?"},{"file":"boot/setup.sh","line":192,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"Nit: single-quote here too."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":27,"deletions":0},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":113,"sizeDeletions":-1},{"number":"4","revision":"8d1cdd051803be180abde61756aa66fb6046faa5","parents":["c199c74437dfe561bab0c4fec6522e174c348488"],"ref":"refs/changes/20/6620/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1567720955,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567720983,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":118,"sizeDeletions":-6},{"number":"5","revision":"d75f6cec4bb6c64b27d75f8b90540ca8c1b6b470","parents":["435d35031be4bcbd2e6f8c7b77182a8bc2e3657c"],"ref":"refs/changes/20/6620/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1567721086,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567721107,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":119,"sizeDeletions":-7},{"number":"6","revision":"9be3baf47ffbe3382cb11eb005d643d5fce954c4","parents":["435d35031be4bcbd2e6f8c7b77182a8bc2e3657c"],"ref":"refs/changes/20/6620/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1567724298,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567724318,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":120,"sizeDeletions":-8},{"number":"7","revision":"a97333d327d60802c6bab30e604beea2229a5f41","parents":["435d35031be4bcbd2e6f8c7b77182a8bc2e3657c"],"ref":"refs/changes/20/6620/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1567724404,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567724430,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"CHANGES.md","line":4,"reviewer":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},"message":"One more nit, which I should have caught earlier: I\u0027d like to see the ticket number in the changelog. It would also be nice to have a separate ticket filed for the Go version bump -- this change can then address both tickets at once."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":121,"sizeDeletions":-8},{"number":"8","revision":"a51cf4c48663245e1395c96fab0187a100ee3d81","parents":["5eb95aa04dba81b17f353623f62867e286cb9e8c"],"ref":"refs/changes/20/6620/8","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1568161366,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568161390,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568161754,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568161754,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":119,"sizeDeletions":-7},{"number":"9","revision":"8f86f924bbc2bb812e0d8e904c19f9d5e549b6db","parents":["5eb95aa04dba81b17f353623f62867e286cb9e8c"],"ref":"refs/changes/20/6620/9","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1568162500,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1568161390,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1568162623,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1568161754,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1568161754,"by":{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"bin/update_global_zones.sh","type":"ADDED","insertions":71,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":32,"deletions":-5},{"file":"deps/eng","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"etc/prometheus.yml.in","type":"MODIFIED","insertions":10,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":119,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Isaac Davis","email":"isaac.davis@joyent.com","username":"isaacdavis"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"username":"Smithx10"}]}