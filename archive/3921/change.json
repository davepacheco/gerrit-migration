{"project":"joyent/illumos-joyent","branch":"master","id":"I954158f9265ac07fdc3bf32148c92bdb65f72e06","number":"3921","subject":"OS-6924 Double-free in crypto tests on failure Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Reviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e Approved by: Mike Zeller \u003cmike.zeller@joyent.com\u003e","owner":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"url":"https://cr.joyent.us/3921","commitMessage":"OS-6924 Double-free in crypto tests on failure\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nReviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\nApproved by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\n","createdOn":1525834092,"lastUpdated":1526065072,"open":false,"status":"MERGED","comments":[{"timestamp":1525834092,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 1."},{"timestamp":1525972244,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1526064840,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1526065006,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1526065032,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1526065072,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jason King"}],"currentPatchSet":{"number":"3","revision":"954158f9265ac07fdc3bf32148c92bdb65f72e06","parents":["61219925bb32ebb8717b9f71c65d328d79f7dcaa"],"ref":"refs/changes/21/3921/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1526065032,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525972244,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"SUBM","value":"1","grantedOn":1526065072,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_kcf.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_pkcs.c","type":"MODIFIED","insertions":0,"deletions":-2}],"sizeInsertions":1,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"5bd5ccf4151a158688d20f70ade29a55ada85d45","parents":["28cd1d4864940265e40eecac8df838b0dd72ca5c"],"ref":"refs/changes/21/3921/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1525834092,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525972244,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_kcf.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_pkcs.c","type":"MODIFIED","insertions":0,"deletions":-2}],"sizeInsertions":1,"sizeDeletions":-4},{"number":"2","revision":"f4388e8effd1fdaf85ef3015c59c912fe0042df9","parents":["28cd1d4864940265e40eecac8df838b0dd72ca5c"],"ref":"refs/changes/21/3921/2","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1526065006,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525972244,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_kcf.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_pkcs.c","type":"MODIFIED","insertions":0,"deletions":-2}],"sizeInsertions":1,"sizeDeletions":-4},{"number":"3","revision":"954158f9265ac07fdc3bf32148c92bdb65f72e06","parents":["61219925bb32ebb8717b9f71c65d328d79f7dcaa"],"ref":"refs/changes/21/3921/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1526065032,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526064840,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"SUBM","value":"1","grantedOn":1526065072,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525972244,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_kcf.c","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/test/crypto-tests/tests/common/cryptotest_pkcs.c","type":"MODIFIED","insertions":0,"deletions":-2}],"sizeInsertions":1,"sizeDeletions":-4}],"allReviewers":[{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}]}