From e4b8a467514dc29d0021c3fc346340a8037ada8c Mon Sep 17 00:00:00 2001
From: Alex Wilson <alex.wilson@joyent.com>
Date: Tue, 7 Feb 2017 14:36:34 -0800
Subject: [PATCH] joyent/node-cueball#88 Uncaught Error: Invalid FSM
 transition: backoff => closed

---
 lib/connection-fsm.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/lib/connection-fsm.js b/lib/connection-fsm.js
index 5723d21..e78abf2 100644
--- a/lib/connection-fsm.js
+++ b/lib/connection-fsm.js
@@ -336,7 +336,7 @@ SocketMgrFSM.prototype.state_error = function (S) {
 };
 
 SocketMgrFSM.prototype.state_backoff = function (S) {
-	S.validTransitions(['failed', 'connecting']);
+	S.validTransitions(['failed', 'connecting', 'closed']);
 
 	/*
 	 * Unfortunately, "retries" actually means "attempts" in the cueball
-- 
2.21.0

