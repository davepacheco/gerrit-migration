{"project":"joyent/node-sshpk-agent","branch":"master","id":"If938e85bacc06c879405f124bdad65f7c4a63707","number":"1747","subject":"joyent/node-sshpk-agent#10 add support for rsa-sha2-256 signatures Reviewed by: Brittany Wald \u003cbrittany.wald@joyent.com\u003e Approved by: Brittany Wald \u003cbrittany.wald@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/1747","commitMessage":"joyent/node-sshpk-agent#10 add support for rsa-sha2-256 signatures\nReviewed by: Brittany Wald \u003cbrittany.wald@joyent.com\u003e\nApproved by: Brittany Wald \u003cbrittany.wald@joyent.com\u003e\n","createdOn":1491337969,"lastUpdated":1492046386,"open":false,"status":"MERGED","comments":[{"timestamp":1491337969,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1491337990,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(2 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1491338163,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2."},{"timestamp":1491338194,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491364271,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Code-Review+1\n\n(2 comments)"},{"timestamp":1491419246,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 3."},{"timestamp":1491419267,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1491419272,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1491518820,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1491871229,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 3:\n\n(1 comment)\n\nJust one small thing!"},{"timestamp":1492036845,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1492044155,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1492046380,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1492046386,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"}],"currentPatchSet":{"number":"4","revision":"f6d36e7b9ddbaa92fe214712b6215c8c083d335e","parents":["dfb19d8efbb2d66af1afe7d224104b4b98882f36"],"ref":"refs/changes/47/1747/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1492046380,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491419267,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491518820,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1492044155,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}},{"type":"SUBM","value":"1","grantedOn":1492046386,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":22,"deletions":-19},{"file":"lib/protocol.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":21,"deletions":-14},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":6,"deletions":-7},{"file":"test/ssh-agent-ctl.js","type":"MODIFIED","insertions":26,"deletions":-2}],"sizeInsertions":85,"sizeDeletions":-44},"patchSets":[{"number":"1","revision":"b58ce45d42ad16c9f3e2ad96ffc37bff54230bb0","parents":["dfb19d8efbb2d66af1afe7d224104b4b98882f36"],"ref":"refs/changes/47/1747/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1491337969,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1491337990,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/client.js","line":189,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: variable is declared but never referenced: self"},{"file":"lib/client.js","line":193,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer errs hides an identifier in a parent scope"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":53,"deletions":-19},{"file":"lib/protocol.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":21,"deletions":-13},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":6,"deletions":-6}],"sizeInsertions":90,"sizeDeletions":-40},{"number":"2","revision":"e47fb47ea19bb42971eb60a3da6ec6ca3bf17615","parents":["dfb19d8efbb2d66af1afe7d224104b4b98882f36"],"ref":"refs/changes/47/1747/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1491338163,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491364271,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491338194,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/client.js","line":168,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Is continuing the right thing to do here? This would leave sig.hashAlgorithm undefined. Should you throw an error with key.type in the message?"},{"file":"lib/client.js","line":168,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Fixed"},{"file":"test/basic.test.js","line":231,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Can you write a helper to compare the three numeric values here and elsewhere instead? Relying on the toString() behaviour for arrays and lexical string comparison feels fraught, since it will break once any value is \u003e\u003d 10."},{"file":"test/basic.test.js","line":231,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"aye aye cap\u0027n"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":21,"deletions":-19},{"file":"lib/protocol.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":21,"deletions":-13},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":6,"deletions":-6}],"sizeInsertions":58,"sizeDeletions":-40},{"number":"3","revision":"f938e85bacc06c879405f124bdad65f7c4a63707","parents":["dfb19d8efbb2d66af1afe7d224104b4b98882f36"],"ref":"refs/changes/47/1747/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1491419246,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491518820,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491419267,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1492044155,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}}],"comments":[{"file":"lib/client.js","line":153,"reviewer":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},"message":"Is there no case where the RSA algorithm is set to sha256?"},{"file":"lib/client.js","line":153,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Nope. This is the default if we don\u0027t have anything set by the parser in sshpk."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":22,"deletions":-19},{"file":"lib/protocol.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":21,"deletions":-14},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":6,"deletions":-7},{"file":"test/ssh-agent-ctl.js","type":"MODIFIED","insertions":26,"deletions":-2}],"sizeInsertions":85,"sizeDeletions":-44},{"number":"4","revision":"f6d36e7b9ddbaa92fe214712b6215c8c083d335e","parents":["dfb19d8efbb2d66af1afe7d224104b4b98882f36"],"ref":"refs/changes/47/1747/4","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1492046380,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1491518820,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1492046386,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1491419267,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1492044155,"by":{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":22,"deletions":-19},{"file":"lib/protocol.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":21,"deletions":-14},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":6,"deletions":-7},{"file":"test/ssh-agent-ctl.js","type":"MODIFIED","insertions":26,"deletions":-2}],"sizeInsertions":85,"sizeDeletions":-44}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Brittany Wald","email":"brittany.wald@joyent.com","username":"princesspretzel"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}