{"project":"joyent/sdc-booter","branch":"master","id":"I0e513df9bb90b408407f1e167f907c03b4202dc5","number":"1643","subject":"NET-371 add support for multiple headnodes to hn-netfile Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/1643","commitMessage":"NET-371 add support for multiple headnodes to hn-netfile\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1489100849,"lastUpdated":1495142593,"open":false,"status":"MERGED","comments":[{"timestamp":1489100849,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1489100851,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 68c1e848ca72ddb9ae1a08e412f30185a2744e5b\n    \n    multi-headnode support"},{"timestamp":1489100875,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489194396,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Code-Review+1\n\n(3 comments)"},{"timestamp":1495060337,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1495060338,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit a25f0ca34bda161310f1a85d210a1327b382aeca\n    \n    updates from CR; drop log.debug in genNetFile because mod_net_file.generate does better and avoids logging the log object and the napi and cnapi clients"},{"timestamp":1495060367,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495060457,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1495060458,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit af1e1992fbf7e39acd54fe9b1f0f37b80ebdc243\n    \n    use https urls for public building, per CR comments"},{"timestamp":1495060482,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495060541,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(4 comments)"},{"timestamp":1495065986,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1495142574,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nI tested it with stage-fabrics-setup on nightly-2."},{"timestamp":1495142578,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1495142592,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1495142593,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"4","revision":"0e513df9bb90b408407f1e167f907c03b4202dc5","parents":["0a8883d96540a9bce0e3791fa612f1569231dba1"],"ref":"refs/changes/43/1643/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1495142578,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495060482,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495065986,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1495142592,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1495142593,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"bin/hn-netfile","type":"MODIFIED","insertions":169,"deletions":-38},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/rsync-to","type":"ADDED","insertions":47,"deletions":0}],"sizeInsertions":221,"sizeDeletions":-42},"patchSets":[{"number":"1","revision":"fc7c2b3e0950eb803ddd84e533478d719f50f4de","parents":["0a8883d96540a9bce0e3791fa612f1569231dba1"],"ref":"refs/changes/43/1643/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1489100849,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1489194396,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489100875,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"bin/hn-netfile","line":95,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Maybe use %j instead of \"%s\", in case stdout/stderr contain newlines?"},{"file":"bin/hn-netfile","line":95,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Done."},{"file":"bin/hn-netfile","line":158,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Perhaps place a log.debug() at the beginning of getNics()?"},{"file":"bin/hn-netfile","line":158,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Done."},{"file":"bin/hn-netfile","line":180,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I dropped this one because mod_net_file.generate does log.debug and avoids logging the log object and the napi and cnapi clients."},{"file":"package.json","line":15,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Can you make this and the one below a \"git+https\" URL?"},{"file":"package.json","line":15,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Done."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/hn-netfile","type":"MODIFIED","insertions":168,"deletions":-38},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"tools/rsync-to","type":"ADDED","insertions":47,"deletions":0}],"sizeInsertions":218,"sizeDeletions":-40},{"number":"2","revision":"95a21bb91a8f0250df427fc8ab431fbf44e6c697","parents":["0a8883d96540a9bce0e3791fa612f1569231dba1"],"ref":"refs/changes/43/1643/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1495060337,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495060367,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"bin/hn-netfile","type":"MODIFIED","insertions":169,"deletions":-38},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"tools/rsync-to","type":"ADDED","insertions":47,"deletions":0}],"sizeInsertions":219,"sizeDeletions":-40},{"number":"3","revision":"b13d68f8d99b59446f33fcfb744e16b549353620","parents":["0a8883d96540a9bce0e3791fa612f1569231dba1"],"ref":"refs/changes/43/1643/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1495060457,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495065986,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495060482,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/hn-netfile","type":"MODIFIED","insertions":169,"deletions":-38},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/rsync-to","type":"ADDED","insertions":47,"deletions":0}],"sizeInsertions":221,"sizeDeletions":-42},{"number":"4","revision":"0e513df9bb90b408407f1e167f907c03b4202dc5","parents":["0a8883d96540a9bce0e3791fa612f1569231dba1"],"ref":"refs/changes/43/1643/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1495142578,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495065986,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495060482,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1495142592,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1495142593,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"bin/hn-netfile","type":"MODIFIED","insertions":169,"deletions":-38},{"file":"package.json","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"tools/rsync-to","type":"ADDED","insertions":47,"deletions":0}],"sizeInsertions":221,"sizeDeletions":-42}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}