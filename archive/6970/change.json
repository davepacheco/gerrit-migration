{"project":"joyent/manta-muskie","branch":"master","id":"I4604c604630ed7537f951783d84de6efe4ee9366","number":"6970","subject":"MANTA-4614 medusa requests need to use marlin client Reviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e Approved by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e","owner":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"url":"https://cr.joyent.us/6970","commitMessage":"MANTA-4614 medusa requests need to use marlin client\nReviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e\nApproved by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e\n","createdOn":1571083603,"lastUpdated":1571175875,"open":false,"status":"MERGED","comments":[{"timestamp":1571083603,"reviewer":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"message":"Uploaded patch set 1."},{"timestamp":1571088449,"reviewer":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1571089244,"reviewer":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1571172203,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\nNice work! This was my fault so thanks for cleaning my bug!"},{"timestamp":1571175856,"reviewer":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1571175875,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mohamed Khalfella"}],"currentPatchSet":{"number":"2","revision":"83404162f3087d888d6fa5fba1d2efe88afbec2f","parents":["b78064d491b3b99ea0a7d2d00f984b5c5ad3a0dc"],"ref":"refs/changes/70/6970/2","uploader":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"createdOn":1571175856,"author":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1571172203,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1571172203,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"SUBM","value":"1","grantedOn":1571175875,"by":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/auth.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":8,"sizeDeletions":-11},"patchSets":[{"number":"1","revision":"4604c604630ed7537f951783d84de6efe4ee9366","parents":["b78064d491b3b99ea0a7d2d00f984b5c5ad3a0dc"],"ref":"refs/changes/70/6970/1","uploader":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"createdOn":1571083603,"author":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1571172203,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1571172203,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"comments":[{"file":"lib/common.js","line":1119,"reviewer":{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"},"message":"The bug indicates the medusa client is needed for marlin request types, but this looks as if it will also set the marlin client for medusa requests; is that intended?"},{"file":"lib/common.js","line":1119,"reviewer":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"message":"Apologies if I didn\u0027t make this clear. Currently, medusa requests don\u0027t get marlin client in `req` object, which is causing interactive jobs to fail. So this bug is about \u0027medusa requests need to have a pointer for marlin client\u0027. I will see if I can update the bug description to make it clearer."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/auth.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":8,"sizeDeletions":-11},{"number":"2","revision":"83404162f3087d888d6fa5fba1d2efe88afbec2f","parents":["b78064d491b3b99ea0a7d2d00f984b5c5ad3a0dc"],"ref":"refs/changes/70/6970/2","uploader":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"createdOn":1571175856,"author":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1571172203,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1571172203,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}},{"type":"SUBM","value":"1","grantedOn":1571175875,"by":{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/auth.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/common.js","type":"MODIFIED","insertions":3,"deletions":-7},{"file":"lib/server.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":8,"sizeDeletions":-11}],"allReviewers":[{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},{"name":"Mohamed Khalfella","email":"khalfella@gmail.com","username":"khalfella"},{"name":"Jon Anderson","email":"jon.anderson@joyent.com","username":"bowrocker"}]}