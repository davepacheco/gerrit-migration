{"project":"joyent/mountain-gorilla","branch":"master","topic":"MANTA-3846","id":"Iba27e36eb9d1b8b40d852712943024297dfe6a08","number":"4577","subject":"MANTA-3846 create \"manta-garbage-collector\" zone image Reviewed by: Kody A Kantor \u003ckody.kantor@joyent.com\u003e Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"url":"https://cr.joyent.us/4577","commitMessage":"MANTA-3846 create \"manta-garbage-collector\" zone image\nReviewed by: Kody A Kantor \u003ckody.kantor@joyent.com\u003e\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1532554511,"lastUpdated":1533846441,"open":false,"status":"MERGED","comments":[{"timestamp":1532554511,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 1."},{"timestamp":1532554601,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Topic set to MANTA-3846"},{"timestamp":1532555383,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1533667926,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)"},{"timestamp":1533669393,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 3."},{"timestamp":1533669934,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1533757447,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1533758664,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n@jan  Actually I think I may be wrong. I now suspect that nothing uses the \"image_version\" values in the \"targets.json.in\" file. The\n\nI think its presence now is just cargo-culting. So basically, I\u0027m fine with image_version left in, or removed from targets.json.in.\n\n\n@jan, did you have testing notes anywhere?"},{"timestamp":1533844008,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 3:\n\n@trent Just added them to the ticket. I\u0027ve done two successful builds with the latest changes here."},{"timestamp":1533845333,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1533846419,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1533846441,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jan Wyszynski"}],"currentPatchSet":{"number":"4","revision":"43f70e8708ef51e68ab6e15bed9b80bc81ffa419","parents":["cde6982634a7d4fdb53deb2ffbb50ffac1161e85"],"ref":"refs/changes/77/4577/4","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533846419,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533669934,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533845333,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533845333,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1533846441,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":41,"deletions":0},{"file":"targets.json.in","type":"MODIFIED","insertions":23,"deletions":0}],"sizeInsertions":64,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"38f0440018c010a841f1593d72a26b1867d77fd2","parents":["ac3bec65991e4ae6ff455cc0a1033db8b1cda460"],"ref":"refs/changes/77/4577/1","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1532554511,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":41,"deletions":0},{"file":"targets.json.in","type":"MODIFIED","insertions":24,"deletions":0}],"sizeInsertions":65,"sizeDeletions":0},{"number":"2","revision":"6dccde48affcf943c9064ac50eed73c5edc2feef","parents":["cde6982634a7d4fdb53deb2ffbb50ffac1161e85"],"ref":"refs/changes/77/4577/2","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1532555383,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533667926,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"targets.json.in","line":1457,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"I don\u0027t think this matters, but I don\u0027t see other Manta services using this field aside from the Manta deployment zone which is really a Triton service."},{"file":"targets.json.in","line":1457,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"This field is used by MG/tools/prep_dataset_in_jpc.sh. I suspect the creation of the image would fail without this value in there."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":41,"deletions":0},{"file":"targets.json.in","type":"MODIFIED","insertions":24,"deletions":0}],"sizeInsertions":65,"sizeDeletions":0},{"number":"3","revision":"ba27e36eb9d1b8b40d852712943024297dfe6a08","parents":["cde6982634a7d4fdb53deb2ffbb50ffac1161e85"],"ref":"refs/changes/77/4577/3","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533669393,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533845333,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533845333,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533669934,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"targets.json.in","line":1456,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\"image_version\" wasn\u0027t required to get a working build?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":41,"deletions":0},{"file":"targets.json.in","type":"MODIFIED","insertions":23,"deletions":0}],"sizeInsertions":64,"sizeDeletions":0},{"number":"4","revision":"43f70e8708ef51e68ab6e15bed9b80bc81ffa419","parents":["cde6982634a7d4fdb53deb2ffbb50ffac1161e85"],"ref":"refs/changes/77/4577/4","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533846419,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533845333,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533845333,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533669934,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"SUBM","value":"1","grantedOn":1533846441,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":41,"deletions":0},{"file":"targets.json.in","type":"MODIFIED","insertions":23,"deletions":0}],"sizeInsertions":64,"sizeDeletions":0}],"allReviewers":[{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}]}