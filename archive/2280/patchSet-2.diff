From 57c19300b3f5d67d3b45124fb5c71be40c38e6ff Mon Sep 17 00:00:00 2001
From: Nick Zivkovic <nick.zivkovic@joyent.com>
Date: Tue, 25 Jul 2017 21:31:24 +0000
Subject: [PATCH] DOCKER-1077 docker tests should expect invalid params error

---
 test/integration/api-create.test.js | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/test/integration/api-create.test.js b/test/integration/api-create.test.js
index 9ea4069..91628ee 100644
--- a/test/integration/api-create.test.js
+++ b/test/integration/api-create.test.js
@@ -649,12 +649,13 @@ test('create with NetworkMode (docker run --net=)', function (tt) {
     });
 
     tt.test('create with a network that doesn\'t exist', function (t) {
+        var uuid = libuuid.create();
         h.createDockerContainer({
             vmapiClient: VMAPI,
             dockerClient: DOCKER_ALICE,
             test: t,
-            extra: { 'HostConfig.NetworkMode': 'netmodefoobar' },
-            expectedErr: '(Error) network netmodefoobar not found',
+            extra: { 'HostConfig.NetworkMode': uuid },
+            expectedErr: '(Error) network ' + uuid + ' not found',
             start: true
         }, oncreate);
 
@@ -785,7 +786,7 @@ test('create with NetworkMode (docker run --net=)', function (tt) {
             test: t,
             extra: { 'HostConfig.NetworkMode': adminNetwork.name },
             start: false,
-            expectedErr: '(Error) network admin not found'
+            expectedErr: '(InvalidParameters) Invalid parameters'
         }, oncreate);
 
         function oncreate(err, result) {
@@ -804,7 +805,7 @@ test('create with NetworkMode (docker run --net=)', function (tt) {
                 'HostConfig.PublishAllPorts': true
             },
             start: false,
-            expectedErr: '(Error) network admin not found'
+            expectedErr: '(InvalidParameters) Invalid parameters'
         }, oncreate);
 
         function oncreate(err, result) {
-- 
2.21.0

