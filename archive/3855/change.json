{"project":"joyent/sdc-napi","branch":"master","id":"Ifcc863dd52c5d1f148bde5dd39dd9b6736dd6019","number":"3855","subject":"TRITON-297 Overlapping fabric networks should be scoped by vnet_id and not owner Reviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e Approved by: Mike Zeller \u003cmike.zeller@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/3855","commitMessage":"TRITON-297 Overlapping fabric networks should be scoped by vnet_id and not owner\nReviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\nApproved by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\n","createdOn":1524267562,"lastUpdated":1524607375,"open":false,"status":"MERGED","comments":[{"timestamp":1524267562,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1524267628,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1524519394,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1524527262,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1524596591,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1524596652,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1524600099,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1524602821,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1524605051,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1524607375,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"3","revision":"58b731b72d5ba183598aa376d2e14ce4c1c0a114","parents":["a8045972a35d2bbd5b9d8e48458ff5e4eb86d208"],"ref":"refs/changes/55/3855/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524602821,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524267628,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524600099,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524605051,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"SUBM","value":"1","grantedOn":1524607375,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/models/network.js","type":"MODIFIED","insertions":30,"deletions":-17}],"sizeInsertions":30,"sizeDeletions":-17},"patchSets":[{"number":"1","revision":"879746a227cf6aad2fe96a64f5c8d2026a1e6eda","parents":["33b04932e0fab959165c4a28cb7b4de09b3079a9"],"ref":"refs/changes/55/3855/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524267562,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524267628,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/models/network.js","line":923,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"I am not super familiar with how the moray sql statements work. Does $1, $2, $3 refer to the order of these args in the array?  If so then \u0027(subnet \u003e\u003e $1 OR subnet_start \u003c\u003c $2)\u0027 doesn\u0027t look like it matches up."},{"file":"lib/models/network.js","line":923,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"The \"\u003e\u003e\" operator is \"contains\", and \"\u003c\u003c\" is \"contained by\". So this is the correct order, since we want to see whether \"any subnet contains this subnet start, or whether anyone\u0027s subnet start is contained by this subnet\"."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/models/network.js","type":"MODIFIED","insertions":30,"deletions":-17}],"sizeInsertions":30,"sizeDeletions":-17},{"number":"2","revision":"fcc863dd52c5d1f148bde5dd39dd9b6736dd6019","parents":["a8045972a35d2bbd5b9d8e48458ff5e4eb86d208"],"ref":"refs/changes/55/3855/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524596591,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524267628,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524600099,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/models/network.js","type":"MODIFIED","insertions":30,"deletions":-17}],"sizeInsertions":30,"sizeDeletions":-17},{"number":"3","revision":"58b731b72d5ba183598aa376d2e14ce4c1c0a114","parents":["a8045972a35d2bbd5b9d8e48458ff5e4eb86d208"],"ref":"refs/changes/55/3855/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1524602821,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1524607375,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1524267628,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1524600099,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1524605051,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/models/network.js","type":"MODIFIED","insertions":30,"deletions":-17}],"sizeInsertions":30,"sizeDeletions":-17}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}