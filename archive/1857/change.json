{"project":"joyent/sdc-napi","branch":"master","id":"Ib1c9aaec65cfa0f5aac3eb50e6b02e602ce8f5f8","number":"1857","subject":"NAPI-385 NAPI allowed multiple NIC MACs to have same IP NAPI-146 Specifying IPs w/o any network_uuid should take subnet into account NAPI-358 Updating \"cn_uuid\" should generate shootdown messages NAPI-365 Use node-moray-sandbox in unit tests NAPI-396 NIC ","owner":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"url":"https://cr.joyent.us/1857","commitMessage":"NAPI-385 NAPI allowed multiple NIC MACs to have same IP\nNAPI-146 Specifying IPs w/o any network_uuid should take subnet into account\nNAPI-358 Updating \"cn_uuid\" should generate shootdown messages\nNAPI-365 Use node-moray-sandbox in unit tests\nNAPI-396 NIC provisions shouldn\u0027t retry forever\nNAPI-397 Calling UpdateNic on a fabric NIC crashes NAPI\nNAPI-400 Use Moray client v2\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\nReviewed by: Richard Kiene \u003crichard.kiene@joyent.com\u003e\nApproved by: Richard Kiene \u003crichard.kiene@joyent.com\u003e\n","createdOn":1493253576,"lastUpdated":1493253657,"open":false,"status":"ABANDONED","comments":[{"timestamp":1493253576,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 1."},{"timestamp":1493253615,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Abandoned\n\nMerge goofup"},{"timestamp":1493253657,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"1","revision":"b1c9aaec65cfa0f5aac3eb50e6b02e602ce8f5f8","parents":["03481022a2210b824fae958fea1d68fb1331ad44"],"ref":"refs/changes/57/1857/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1493253576,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":16,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-12},{"file":"README.md","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/migrate.js","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":49,"deletions":-26},{"file":"lib/models/ip/common.js","type":"MODIFIED","insertions":32,"deletions":-16},{"file":"lib/models/ip/provision.js","type":"MODIFIED","insertions":148,"deletions":-167},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"lib/models/network.js","type":"MODIFIED","insertions":126,"deletions":-46},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":144,"deletions":-109},{"file":"lib/models/nic/create.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":37,"deletions":-42},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"lib/models/nic/provision.js","type":"MODIFIED","insertions":431,"deletions":-193},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":83,"deletions":-203},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/napi.js","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/util/errors.js","type":"MODIFIED","insertions":25,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":435,"deletions":-15},{"file":"test/integration/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/integration/networks.test.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/integration/nics.test.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"test/integration/provision.test.js","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/lib/common.js","type":"MODIFIED","insertions":25,"deletions":-1},{"file":"test/lib/err.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/lib/migration.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/mock-moray.js","type":"DELETED","insertions":0,"deletions":-778},{"file":"test/lib/moray.js","type":"MODIFIED","insertions":46,"deletions":-117},{"file":"test/lib/net.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":123,"deletions":-15},{"file":"test/lib/server.js","type":"MODIFIED","insertions":117,"deletions":-42},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/unit/aggregations.test.js","type":"MODIFIED","insertions":21,"deletions":-18},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":32,"deletions":-31},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":34,"deletions":-19},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":73,"deletions":-23},{"file":"test/unit/networks.test.js","type":"MODIFIED","insertions":136,"deletions":-73},{"file":"test/unit/nic-tags.test.js","type":"MODIFIED","insertions":67,"deletions":-55},{"file":"test/unit/nics.test.js","type":"MODIFIED","insertions":786,"deletions":-190},{"file":"test/unit/run.js","type":"ADDED","insertions":42,"deletions":0},{"file":"test/unit/search-ips.test.js","type":"MODIFIED","insertions":2,"deletions":-6}],"sizeInsertions":3139,"sizeDeletions":-2293},"patchSets":[{"number":"1","revision":"b1c9aaec65cfa0f5aac3eb50e6b02e602ce8f5f8","parents":["03481022a2210b824fae958fea1d68fb1331ad44"],"ref":"refs/changes/57/1857/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1493253576,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":16,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-12},{"file":"README.md","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/apis/moray.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/migrate.js","type":"MODIFIED","insertions":8,"deletions":-6},{"file":"lib/models/aggregation.js","type":"MODIFIED","insertions":49,"deletions":-26},{"file":"lib/models/ip/common.js","type":"MODIFIED","insertions":32,"deletions":-16},{"file":"lib/models/ip/provision.js","type":"MODIFIED","insertions":148,"deletions":-167},{"file":"lib/models/network-pool.js","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"lib/models/network.js","type":"MODIFIED","insertions":126,"deletions":-46},{"file":"lib/models/nic/common.js","type":"MODIFIED","insertions":144,"deletions":-109},{"file":"lib/models/nic/create.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"lib/models/nic/del.js","type":"MODIFIED","insertions":37,"deletions":-42},{"file":"lib/models/nic/obj.js","type":"MODIFIED","insertions":7,"deletions":-6},{"file":"lib/models/nic/provision.js","type":"MODIFIED","insertions":431,"deletions":-193},{"file":"lib/models/nic/update.js","type":"MODIFIED","insertions":83,"deletions":-203},{"file":"lib/models/vlan.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/napi.js","type":"MODIFIED","insertions":9,"deletions":-8},{"file":"lib/util/constants.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/util/errors.js","type":"MODIFIED","insertions":25,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"test/integration/fabrics-invalid.test.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":435,"deletions":-15},{"file":"test/integration/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/integration/networks.test.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/integration/nics.test.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"test/integration/provision.test.js","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"test/lib/common.js","type":"MODIFIED","insertions":25,"deletions":-1},{"file":"test/lib/err.js","type":"MODIFIED","insertions":1,"deletions":-3},{"file":"test/lib/fabric-net.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/lib/migration.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/lib/mock-moray.js","type":"DELETED","insertions":0,"deletions":-778},{"file":"test/lib/moray.js","type":"MODIFIED","insertions":46,"deletions":-117},{"file":"test/lib/net.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/lib/nic-tag.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/lib/nic.js","type":"MODIFIED","insertions":4,"deletions":-6},{"file":"test/lib/portolan.js","type":"MODIFIED","insertions":123,"deletions":-15},{"file":"test/lib/server.js","type":"MODIFIED","insertions":117,"deletions":-42},{"file":"test/lib/vlan.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/unit/aggregations.test.js","type":"MODIFIED","insertions":21,"deletions":-18},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":32,"deletions":-31},{"file":"test/unit/ips.test.js","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"test/unit/network-owner.test.js","type":"MODIFIED","insertions":34,"deletions":-19},{"file":"test/unit/network-pools.test.js","type":"MODIFIED","insertions":73,"deletions":-23},{"file":"test/unit/networks.test.js","type":"MODIFIED","insertions":136,"deletions":-73},{"file":"test/unit/nic-tags.test.js","type":"MODIFIED","insertions":67,"deletions":-55},{"file":"test/unit/nics.test.js","type":"MODIFIED","insertions":786,"deletions":-190},{"file":"test/unit/run.js","type":"ADDED","insertions":42,"deletions":0},{"file":"test/unit/search-ips.test.js","type":"MODIFIED","insertions":2,"deletions":-6}],"sizeInsertions":3139,"sizeDeletions":-2293}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"}]}