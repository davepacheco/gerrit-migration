{"project":"joyent/node-sshpk-agent","branch":"master","id":"I191e543a3e70bf08d6f69672c761835aa8c205cf","number":"157","subject":"joyent/node-sshpk-agent#5 Add certificate support after sshpk 1.9.0 Reviewed by: Cody Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/157","commitMessage":"joyent/node-sshpk-agent#5 Add certificate support after sshpk 1.9.0\nReviewed by: Cody Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1469662368,"lastUpdated":1469729437,"open":false,"status":"MERGED","comments":[{"timestamp":1469662368,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1469662396,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1469728339,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1469728917,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1469729233,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2."},{"timestamp":1469729261,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1469729385,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1469729437,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"}],"currentPatchSet":{"number":"2","revision":"191e543a3e70bf08d6f69672c761835aa8c205cf","parents":["125b362bfb91048ec8c2255a67291479d323fbae"],"ref":"refs/changes/57/157/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1469729233,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469729261,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469729385,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1469729385,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1469729437,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":31,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":138,"deletions":0},{"file":"lib/protocol.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":30,"deletions":-5},{"file":"test/id_ecdsa3","type":"ADDED","insertions":5,"deletions":0},{"file":"test/id_ecdsa3-cert.pub","type":"ADDED","insertions":1,"deletions":0},{"file":"test/id_ecdsa3.pub","type":"ADDED","insertions":1,"deletions":0},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":85,"deletions":0},{"file":"test/ssh-agent-ctl.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":303,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"5d5e07fae2e2b44803636b4dd925f49bd8a0b2fe","parents":["125b362bfb91048ec8c2255a67291479d323fbae"],"ref":"refs/changes/57/157/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1469662368,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469728339,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469662396,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/client.js","line":46,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Is there a better way to check if this is a cert before attempting and failing the parseKey()? Do you get any additional information in the agent\u0027s response that would help here?"},{"file":"lib/client.js","line":46,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"The only alternative would be to look inside the blob for the type header at the front and check if it contains the string \"cert\". Which is an option, I guess -- we already do that basically in certToBuffer()"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":31,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":139,"deletions":0},{"file":"lib/protocol.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":30,"deletions":-5},{"file":"test/id_ecdsa3","type":"ADDED","insertions":5,"deletions":0},{"file":"test/id_ecdsa3-cert.pub","type":"ADDED","insertions":1,"deletions":0},{"file":"test/id_ecdsa3.pub","type":"ADDED","insertions":1,"deletions":0},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":85,"deletions":0},{"file":"test/ssh-agent-ctl.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":304,"sizeDeletions":-10},{"number":"2","revision":"191e543a3e70bf08d6f69672c761835aa8c205cf","parents":["125b362bfb91048ec8c2255a67291479d323fbae"],"ref":"refs/changes/57/157/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1469729233,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469729385,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1469729385,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1469729437,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1469729261,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"README.md","type":"MODIFIED","insertions":31,"deletions":0},{"file":"lib/client.js","type":"MODIFIED","insertions":138,"deletions":0},{"file":"lib/protocol.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"test/basic.test.js","type":"MODIFIED","insertions":30,"deletions":-5},{"file":"test/id_ecdsa3","type":"ADDED","insertions":5,"deletions":0},{"file":"test/id_ecdsa3-cert.pub","type":"ADDED","insertions":1,"deletions":0},{"file":"test/id_ecdsa3.pub","type":"ADDED","insertions":1,"deletions":0},{"file":"test/key-mgmt.test.js","type":"MODIFIED","insertions":85,"deletions":0},{"file":"test/ssh-agent-ctl.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":303,"sizeDeletions":-10}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}