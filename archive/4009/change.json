{"project":"joyent/sdcnode","branch":"master","id":"I0b6ad0a332214bd962374d6e7fb53e6e9a017b90","number":"4009","subject":"TRITON-309 add new triton-origin-multiarch-18.1.0 image Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"url":"https://cr.joyent.us/4009","commitMessage":"TRITON-309 add new triton-origin-multiarch-18.1.0 image\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1527276377,"lastUpdated":1528829131,"open":false,"status":"MERGED","comments":[{"timestamp":1527276377,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 1."},{"timestamp":1527276379,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1527534687,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(2 comments)\n\nAlso, FWIW, the current nodeconfig.json entries are sorted by \"version\" field."},{"timestamp":1527619853,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\nMy understanding of how we have separated node versions from pkgsrc is that we want to be able to update the node version without changing the image, and the image without updating the node version. (In this case to be able to use 18.1.0 without changing their node version.)\n\nIf there are old versions of node that we are building but not using, we should stop building them everywhere, right?"},{"timestamp":1528165435,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n\u003e If there are old versions of node that we are building but not using, we should stop building them everywhere, right?\n\nIndeed.\n\n\u003e ... and the image without updating the node version. \n\nFair.\n\nHowever, I think the only barrier for updating to the latest 0.10.x is doing some basic sanity testing of the service. Given that one would have to do that sanity testing to update to a new origin image, I think it would be *okay* to nudge that change to also update to the latest 0.10.x sdcnode.\n\nI\u0027m fine either way. :)"},{"timestamp":1528811339,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 2."},{"timestamp":1528811341,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528822669,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1528826061,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1528826074,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 3."},{"timestamp":1528826076,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528826309,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1528829127,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1528829131,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Chris Burroughs"}],"currentPatchSet":{"number":"4","revision":"da9e6cc06d56d4be41a0c632a451d5665ae08d24","parents":["7b1d2e164a9c0b94d8ddd3b6107d087e54fe0c8d"],"ref":"refs/changes/09/4009/4","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1528829127,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528826076,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528826309,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528826309,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1528829131,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":198,"deletions":-3}],"sizeInsertions":198,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"07aadfc2dba3dd96075b032a629f257f38681d31","parents":["ba9549d3e9baefb61d639e41b1cd524eebd329f1"],"ref":"refs/changes/09/4009/1","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1527276377,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1527276379,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"nodeconfigs.json","line":218,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why all the older v4.x version builds?"},{"file":"nodeconfigs.json","line":263,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why an older v0.10.* ?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":265,"deletions":0}],"sizeInsertions":265,"sizeDeletions":0},{"number":"2","revision":"8ec2dfaa9cdee8f27cf145fc95dd9d603735cfe3","parents":["7b1d2e164a9c0b94d8ddd3b6107d087e54fe0c8d"],"ref":"refs/changes/09/4009/2","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1528811339,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528811341,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"nodeconfigs.json","line":3,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"just \"minimal-multiarch\" right?  not \"sdc\" and not \"lts\".\n\n```\n$ updates-imgadm get 1ad363ec-3b83-11e8-8521-2f68a4a34d5d\n{\n  \"v\": 2,\n  \"uuid\": \"1ad363ec-3b83-11e8-8521-2f68a4a34d5d\",\n  \"owner\": \"00000000-0000-0000-0000-000000000000\",\n  \"name\": \"minimal-multiarch\",\n  \"version\": \"18.1.0\",\n```\n\nditto for the entries below"},{"file":"nodeconfigs.json","line":215,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why v4.9.0 *and* v4.8.7 and older v4 versions?"},{"file":"nodeconfigs.json","line":215,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"They are the ones that survived the purge by virtue of being used in a few (manta-y) places.  I\u0027d really like  to have up to date images and not-EOL nodejs, so I don\u0027t want to add any friction to updating (by saying you need to do both at once)."},{"file":"nodeconfigs.json","line":215,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Cool, makes sense."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":198,"deletions":-3}],"sizeInsertions":198,"sizeDeletions":-3},{"number":"3","revision":"0b6ad0a332214bd962374d6e7fb53e6e9a017b90","parents":["7b1d2e164a9c0b94d8ddd3b6107d087e54fe0c8d"],"ref":"refs/changes/09/4009/3","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1528826074,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528826076,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528826309,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528826309,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":198,"deletions":-3}],"sizeInsertions":198,"sizeDeletions":-3},{"number":"4","revision":"da9e6cc06d56d4be41a0c632a451d5665ae08d24","parents":["7b1d2e164a9c0b94d8ddd3b6107d087e54fe0c8d"],"ref":"refs/changes/09/4009/4","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1528829127,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528826076,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1528826309,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1528826309,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1528829131,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"nodeconfigs.json","type":"MODIFIED","insertions":198,"deletions":-3}],"sizeInsertions":198,"sizeDeletions":-3}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}