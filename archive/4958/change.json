{"project":"joyent/mountain-gorilla","branch":"master","id":"I457a80908c7d1d5d6ae0634068c29c427bfe3123","number":"4958","subject":"TOOLS-2090 MG should support ./configure arguments TOOLS-2091 MG uploads should be visible as Jenkins build artifacts TOOLS-2092 MG shouldn\u0027t hard-code the target from the job name Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm","owner":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"url":"https://cr.joyent.us/4958","commitMessage":"TOOLS-2090 MG should support ./configure arguments\nTOOLS-2091 MG uploads should be visible as Jenkins build artifacts\nTOOLS-2092 MG shouldn\u0027t hard-code the target from the job name\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1539608121,"lastUpdated":1539781613,"open":false,"status":"MERGED","comments":[{"timestamp":1539608121,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 1."},{"timestamp":1539608716,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 2."},{"timestamp":1539618334,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2:\n\nI still need to figure out the best way to get these properly tested, but I thought I\u0027d send this out now in case anybody hated the approach I took."},{"timestamp":1539715757,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(3 comments)\n\nOtherwise, LGTM, thanks!"},{"timestamp":1539716427,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1539716443,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 3."},{"timestamp":1539717381,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\nThanks!\n\nI don\u0027t *think* this should break anything, but if you wanted to have a test run through Jenkins to verify that, you could push this to a feature branch on GitHub and then do a \"TRY_BRANCH\" build of whatever target to verify.\n\nPerhaps we could add a \"PLAT_CONFIGURE_ARGS\" parameter to the \"platform*\" Jenkins jobs, so that could be passed in?"},{"timestamp":1539717465,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nAlso note that you might want to ping timf about this change. He\u0027s riding a large set of changes to the builds that will obviate MG altogether. He might want to maintain parts of this functionality."},{"timestamp":1539717631,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nTim knows about these changes and is taking a look as well.\n\nRe: Jenkins, I did run a bunch of variants for these changes (in concert with my gcc tree) by using TRY_BRANCH, as well as the other new configuration parameters to make sure they all worked as expected, at least for platform, cnapi, and vmapi. I\u0027m not sure which other jobs to test.\n\nWhen this and the gcc changes are back, I\u0027ll look at officially adding the new parameters to the standard jobs."},{"timestamp":1539719036,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nCool, thanks."},{"timestamp":1539767671,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1539781613,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by John Levon"}],"currentPatchSet":{"number":"4","revision":"457a80908c7d1d5d6ae0634068c29c427bfe3123","parents":["79660b48f9c3ad40aeba865baf7f7d61ef45a9f3"],"ref":"refs/changes/58/4958/4","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539767671,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539717381,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1539717381,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1539781613,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":28,"deletions":-20},{"file":"docs/index.md","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":13,"deletions":-7},{"file":"tools/local-bitsdir-copy","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/manta-upload","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"tools/mantaput-bits","type":"MODIFIED","insertions":10,"deletions":-6}],"sizeInsertions":70,"sizeDeletions":-52},"patchSets":[{"number":"1","revision":"1150df35e60fdbefa8f21773f3f09c9b47e3034f","parents":["79660b48f9c3ad40aeba865baf7f7d61ef45a9f3"],"ref":"refs/changes/58/4958/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539608121,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":28,"deletions":-20},{"file":"docs/index.md","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":13,"deletions":-7},{"file":"tools/local-bitsdir-copy","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/manta-upload","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"tools/mantaput-bits","type":"MODIFIED","insertions":11,"deletions":-6}],"sizeInsertions":70,"sizeDeletions":-51},{"number":"2","revision":"8a0692141f7ca49175415cfda2c426dfe31745a4","parents":["79660b48f9c3ad40aeba865baf7f7d61ef45a9f3"],"ref":"refs/changes/58/4958/2","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539608716,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"tools/mantaput-bits","line":9,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: eng.git form is meant to have the \"(c)\", e.g.\n\n        Copyright (c) 2014, Joyent, Inc.\n\nper https://github.com/joyent/eng/blob/master/docs/index.md#copyright\n\nDitto in the other changed files."},{"file":"tools/mantaput-bits","line":9,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"tools/mantaput-bits","line":55,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"4-space indent to follow what is already in this file please"},{"file":"tools/mantaput-bits","line":55,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"},{"file":"tools/mantaput-bits","line":119,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"spaces for indentation"},{"file":"tools/mantaput-bits","line":119,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":28,"deletions":-20},{"file":"docs/index.md","type":"MODIFIED","insertions":7,"deletions":-7},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":13,"deletions":-7},{"file":"tools/local-bitsdir-copy","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/manta-upload","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"tools/mantaput-bits","type":"MODIFIED","insertions":10,"deletions":-6}],"sizeInsertions":69,"sizeDeletions":-51},{"number":"3","revision":"409b98a5e171cf94c698f1502acf52f71f6d286c","parents":["79660b48f9c3ad40aeba865baf7f7d61ef45a9f3"],"ref":"refs/changes/58/4958/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539716443,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539717381,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1539717381,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":28,"deletions":-20},{"file":"docs/index.md","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":13,"deletions":-7},{"file":"tools/local-bitsdir-copy","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/manta-upload","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"tools/mantaput-bits","type":"MODIFIED","insertions":10,"deletions":-6}],"sizeInsertions":70,"sizeDeletions":-52},{"number":"4","revision":"457a80908c7d1d5d6ae0634068c29c427bfe3123","parents":["79660b48f9c3ad40aeba865baf7f7d61ef45a9f3"],"ref":"refs/changes/58/4958/4","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1539767671,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1539717381,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1539717381,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1539781613,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":28,"deletions":-20},{"file":"docs/index.md","type":"MODIFIED","insertions":8,"deletions":-8},{"file":"tools/jenkins-build","type":"MODIFIED","insertions":13,"deletions":-7},{"file":"tools/local-bitsdir-copy","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/manta-upload","type":"MODIFIED","insertions":6,"deletions":-6},{"file":"tools/mantaput-bits","type":"MODIFIED","insertions":10,"deletions":-6}],"sizeInsertions":70,"sizeDeletions":-52}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}