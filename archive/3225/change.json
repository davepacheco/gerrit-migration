{"project":"joyent/mdb_v8","branch":"master","id":"I28f2bface843503eaf0805a12d7c699e9d854bf5","number":"3225","subject":"joyent/mdb_v8#27 want streaming way to iterate array elements joyent/mdb_v8#100 jsprint shows more \"hole\" values than it should joyent/mdb_v8#101 test suite could use common mechanism for standalone tests joyent/mdb_v8#104 test suite should take more care","owner":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"url":"https://cr.joyent.us/3225","commitMessage":"joyent/mdb_v8#27 want streaming way to iterate array elements\njoyent/mdb_v8#100 jsprint shows more \"hole\" values than it should\njoyent/mdb_v8#101 test suite could use common mechanism for standalone tests\njoyent/mdb_v8#104 test suite should take more care to avoid GC during gcore\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\nApproved by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1516147874,"lastUpdated":1518212986,"open":false,"status":"MERGED","comments":[{"timestamp":1516147874,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 1."},{"timestamp":1516210055,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 2."},{"timestamp":1516210059,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516849783,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(4 comments)\n\nLeaving some feedback as I go, more feedback to come shortly."},{"timestamp":1516850242,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1516924443,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1516925304,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1516926407,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(11 comments)\n\nThanks for taking a close look!  I\u0027ve responded below, and I\u0027ll hope to get an updated patchset out by the end of the week."},{"timestamp":1516988982,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(5 comments)"},{"timestamp":1517013447,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1517013645,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1517867217,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1517867762,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 3."},{"timestamp":1517867766,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1517955518,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1518212978,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1518212986,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by David Pacheco"}],"currentPatchSet":{"number":"4","revision":"28f2bface843503eaf0805a12d7c699e9d854bf5","parents":["ab8ef1715488ccf49fd16d66fa7dc0c6778f17c3"],"ref":"refs/changes/25/3225/4","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1518212978,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517867766,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517955518,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517955518,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"SUBM","value":"1","grantedOn":1518212986,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":2,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"GNUmakefile","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"docs/usage.md","type":"MODIFIED","insertions":106,"deletions":0},{"file":"package.json","type":"ADDED","insertions":10,"deletions":0},{"file":"src/mdb_v8.c","type":"MODIFIED","insertions":211,"deletions":-33},{"file":"src/mdb_v8_array.c","type":"ADDED","insertions":152,"deletions":0},{"file":"src/mdb_v8_dbg.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"src/mdb_v8_function.c","type":"MODIFIED","insertions":18,"deletions":-3},{"file":"src/mdb_v8_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"src/mdb_v8_subr.c","type":"MODIFIED","insertions":89,"deletions":-27},{"file":"test/standalone/common.js","type":"MODIFIED","insertions":290,"deletions":-3},{"file":"test/standalone/gcore_self.js","type":"ADDED","insertions":168,"deletions":0},{"file":"test/standalone/tst.arrays.js","type":"ADDED","insertions":574,"deletions":0},{"file":"test/standalone/tst.jsclosure.js","type":"MODIFIED","insertions":20,"deletions":-28},{"file":"test/standalone/tst.postmortem_basic.js","type":"MODIFIED","insertions":26,"deletions":-64},{"file":"test/standalone/tst.postmortem_details.js","type":"MODIFIED","insertions":14,"deletions":-18},{"file":"test/standalone/tst.postmortem_load.js","type":"DELETED","insertions":0,"deletions":-64},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"version","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1825,"sizeDeletions":-249},"patchSets":[{"number":"1","revision":"14748093892af76e2813f87665b6e4627254d193","parents":["ab8ef1715488ccf49fd16d66fa7dc0c6778f17c3"],"ref":"refs/changes/25/3225/1","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1516147874,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":true,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":2,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"GNUmakefile","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"docs/usage.md","type":"MODIFIED","insertions":103,"deletions":0},{"file":"issue-27-notes.txt","type":"ADDED","insertions":50,"deletions":0},{"file":"package.json","type":"ADDED","insertions":10,"deletions":0},{"file":"src/mdb_v8.c","type":"MODIFIED","insertions":211,"deletions":-33},{"file":"src/mdb_v8_array.c","type":"ADDED","insertions":151,"deletions":0},{"file":"src/mdb_v8_dbg.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"src/mdb_v8_function.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"src/mdb_v8_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"src/mdb_v8_subr.c","type":"MODIFIED","insertions":86,"deletions":-27},{"file":"test/standalone/common.js","type":"MODIFIED","insertions":364,"deletions":-3},{"file":"test/standalone/tst.arrays.js","type":"ADDED","insertions":573,"deletions":0},{"file":"test/standalone/tst.jsclosure.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/standalone/tst.postmortem_basic.js","type":"MODIFIED","insertions":26,"deletions":-64},{"file":"test/standalone/tst.postmortem_load.js","type":"DELETED","insertions":0,"deletions":-64},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"version","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1741,"sizeDeletions":-204},{"number":"2","revision":"c2979d60a7b191167288390f77c4ac51d5a81cef","parents":["ab8ef1715488ccf49fd16d66fa7dc0c6778f17c3"],"ref":"refs/changes/25/3225/2","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1516210055,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516210059,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/usage.md","line":624,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I\u0027d imagine that this does not work on JSTypedArrays, is that correct? If so, it might be worth it to call that out here, since the nomenclature might be confusing for people not aware of the difference between the two."},{"file":"docs/usage.md","line":624,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I\u0027ve never used typed arrays.  Is that something that\u0027s exposed to JavaScript users or just add-on authors?  I\u0027m not sure if this works on them or not.  Sorry for my ignorance here."},{"file":"docs/usage.md","line":624,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Typed arrays are exposed to JavaScript users. They\u0027re not \"JSArray\" instances, and they don\u0027t derive from it. They are instances of the \"JSTypedArray\" class which derives from \"JSArrayBufferView\".\n\nAs that name indicate, a typed array is a view into a memory buffer that can be used as an array.\n\nSo what I\u0027m saying is that the use of \"JavaScript array\" here might benefit from the clarification that we mean *only* \"JSArray\" instances here, and not any other object that can be used as an array, like typed arrays.\n\nIt might be a mouthful though, so it\u0027s not a big deal if you don\u0027t want to make changes to that section."},{"file":"docs/usage.md","line":624,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"How about clarifying this to say that it works on instances of the JavaScript \"Array\" class?  (I don\u0027t want to mention JSArray because that\u0027s a V8 detail and not something I\u0027d expect a Node programmer to know about.)"},{"file":"docs/usage.md","line":624,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Yes, I think that\u0027d be good enough. I agree that we should not mention the JSArray class."},{"file":"docs/usage.md","line":955,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"I\u0027m totally unfamiliar with walkers (besides having used maybe one or two of them). What\u0027s the advantage of using a walker instead of the jsarray dcmd? Would it be worth it to mention it here? Otherwise it seems unclear to me why I would use one instead of the other."},{"file":"docs/usage.md","line":955,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"There\u0027s not much difference from a CLI user\u0027s perspective.  I would have only done the walker, but I wanted the \"-i\" flag for `::jsarray` to print indexes as a way to exercise that internal interface.\n\nThe main value that walkers provide is a programmatic interface.  For example, this would allow somebody who was writing a separate mdb module that depended on mdb_v8 to iterate a JavaScript array.  That\u0027s not likely to come up any time soon, but it was easy to add and it seemed convenient for mdb users familiar with walkers (who might reach for that first)."},{"file":"docs/usage.md","line":955,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Thanks for the clarification, sounds good to me!"},{"file":"package.json","line":7,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: I generally have a preference for non-range semver version numbers, even though it might be less risky in this case to use a range since we maintain those packages."},{"file":"package.json","line":7,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I can definitely understand that.  I generally prefer to use \"^\" for dependencies that we control and specific version numbers otherwise.  Otherwise, we wind up with a lot of make-work when we update a dependency -- and a lot of packages that are far behind on their dependencies.  (Obviously, there\u0027s room for both sides -- I don\u0027t consider this a rule either way.)\n\nEspecially with this being only for the test suite, where there\u0027s no risk of accidentally shipping something we don\u0027t expect, I\u0027d prefer to leave this as a range."},{"file":"package.json","line":7,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Sounds good to me!"},{"file":"src/mdb_v8_function.c","line":485,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Do we need to v8fixedarray_free(arrayp) here?"},{"file":"src/mdb_v8_function.c","line":485,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think so!  Nice catch."},{"file":"src/mdb_v8_subr.c","line":123,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"That\u0027s not documenting its current behavior, is it?\n\nThe way it\u0027s written is a bit confusing, it seems like it\u0027s saying that the code tries to use v8fixedarray_iter_elements when that is possible, but it seems it\u0027s not the case."},{"file":"src/mdb_v8_subr.c","line":123,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"The text that you\u0027ve highlighted is intended as a note to developers that they should use v8fixedarray_iter_elements() instead of v8fixedarray_as_array().  I see how that\u0027s confusing, and I\u0027ll reword this."},{"file":"test/standalone/common.js","line":66,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is there a reason why we didn\u0027t choose to use assert-plus here?"},{"file":"test/standalone/common.js","line":66,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Only that the dependency wasn\u0027t already here.  I can go ahead and add that."},{"file":"test/standalone/common.js","line":66,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Up to you. If we determine we want to do this, we can also do that in a follow-up CR."},{"file":"test/standalone/common.js","line":81,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert that this.mdb_child is not null or undefined and is an object?"},{"file":"test/standalone/common.js","line":81,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Sure."},{"file":"test/standalone/common.js","line":301,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Why do we call finish only if no error? If there\u0027s an error, what is responsible for closing mdb\u0027s stdin?"},{"file":"test/standalone/common.js","line":301,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"That looks like a mistake.  I\u0027ll take a closer look and fix it."},{"file":"test/standalone/common.js","line":301,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I expect this was working by accident before because callers of this function typically throw any error that they get.  That would cause the Node program to exit, so it would cause the \"mdb\" child process to see EOF on its stdin.\n\nI\u0027m changing this to invoke `finish` with the error.\n\nI\u0027ve also removed the part in `finish` that emits `error` in this case, basically because we don\u0027t want to do that here.  The error semantics are potentially a little confused now.  It might be more general to have `standaloneTest` watch for any errors emitted by the MdbSession and pass them through to the callback if the pipeline completed without ay other error.  But at this point I\u0027m not sure that\u0027s any more useful, so I was just going to leave it until we find a use-case for caring about this.  (In the meantime, the only place where we emit `error` is when mdb exits with a non-zero code, and I think in that case it\u0027s reasonable for that to be uncaught and cause the test to fail.)"},{"file":"test/standalone/gcore_self.js","line":120,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"How could \"err\" not be truthy here?"},{"file":"test/standalone/gcore_self.js","line":120,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Yeah, that looks wrong.  I expect this was missed while refactoring from an async version."},{"file":"test/standalone/tst.arrays.js","line":14,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Does it also print them out using the new walker? If not why?"},{"file":"test/standalone/tst.arrays.js","line":14,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Yup.  I\u0027ll update the comment."},{"file":"test/standalone/tst.jsclosure.js","line":63,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Why is this not using \"standaloneTest\"?"},{"file":"test/standalone/tst.jsclosure.js","line":63,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Only for the same reason that I have not refactored all of the other tests to use `standaloneTest` -- I wanted to split that into a separate change so that these changes can get back sooner."},{"file":"test/standalone/tst.jsclosure.js","line":63,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Sounds good, no need to do that now, it can wait for a follow-up CR."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":2,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"GNUmakefile","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"docs/usage.md","type":"MODIFIED","insertions":105,"deletions":0},{"file":"package.json","type":"ADDED","insertions":10,"deletions":0},{"file":"src/mdb_v8.c","type":"MODIFIED","insertions":211,"deletions":-33},{"file":"src/mdb_v8_array.c","type":"ADDED","insertions":152,"deletions":0},{"file":"src/mdb_v8_dbg.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"src/mdb_v8_function.c","type":"MODIFIED","insertions":17,"deletions":-3},{"file":"src/mdb_v8_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"src/mdb_v8_subr.c","type":"MODIFIED","insertions":86,"deletions":-27},{"file":"test/standalone/common.js","type":"MODIFIED","insertions":291,"deletions":-3},{"file":"test/standalone/gcore_self.js","type":"ADDED","insertions":165,"deletions":0},{"file":"test/standalone/tst.arrays.js","type":"ADDED","insertions":573,"deletions":0},{"file":"test/standalone/tst.jsclosure.js","type":"MODIFIED","insertions":20,"deletions":-28},{"file":"test/standalone/tst.postmortem_basic.js","type":"MODIFIED","insertions":26,"deletions":-64},{"file":"test/standalone/tst.postmortem_details.js","type":"MODIFIED","insertions":14,"deletions":-18},{"file":"test/standalone/tst.postmortem_load.js","type":"DELETED","insertions":0,"deletions":-64},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"version","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1817,"sizeDeletions":-249},{"number":"3","revision":"be6e15b14b06999dd2810534a1d7ad880c1f399c","parents":["ab8ef1715488ccf49fd16d66fa7dc0c6778f17c3"],"ref":"refs/changes/25/3225/3","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1517867762,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517867766,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517955518,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517955518,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":2,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"GNUmakefile","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"docs/usage.md","type":"MODIFIED","insertions":106,"deletions":0},{"file":"package.json","type":"ADDED","insertions":10,"deletions":0},{"file":"src/mdb_v8.c","type":"MODIFIED","insertions":211,"deletions":-33},{"file":"src/mdb_v8_array.c","type":"ADDED","insertions":152,"deletions":0},{"file":"src/mdb_v8_dbg.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"src/mdb_v8_function.c","type":"MODIFIED","insertions":18,"deletions":-3},{"file":"src/mdb_v8_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"src/mdb_v8_subr.c","type":"MODIFIED","insertions":89,"deletions":-27},{"file":"test/standalone/common.js","type":"MODIFIED","insertions":290,"deletions":-3},{"file":"test/standalone/gcore_self.js","type":"ADDED","insertions":168,"deletions":0},{"file":"test/standalone/tst.arrays.js","type":"ADDED","insertions":574,"deletions":0},{"file":"test/standalone/tst.jsclosure.js","type":"MODIFIED","insertions":20,"deletions":-28},{"file":"test/standalone/tst.postmortem_basic.js","type":"MODIFIED","insertions":26,"deletions":-64},{"file":"test/standalone/tst.postmortem_details.js","type":"MODIFIED","insertions":14,"deletions":-18},{"file":"test/standalone/tst.postmortem_load.js","type":"DELETED","insertions":0,"deletions":-64},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"version","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1825,"sizeDeletions":-249},{"number":"4","revision":"28f2bface843503eaf0805a12d7c699e9d854bf5","parents":["ab8ef1715488ccf49fd16d66fa7dc0c6778f17c3"],"ref":"refs/changes/25/3225/4","uploader":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"createdOn":1518212978,"author":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1518212986,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517867766,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1517955518,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1517955518,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":2,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"GNUmakefile","type":"MODIFIED","insertions":19,"deletions":-4},{"file":"docs/usage.md","type":"MODIFIED","insertions":106,"deletions":0},{"file":"package.json","type":"ADDED","insertions":10,"deletions":0},{"file":"src/mdb_v8.c","type":"MODIFIED","insertions":211,"deletions":-33},{"file":"src/mdb_v8_array.c","type":"ADDED","insertions":152,"deletions":0},{"file":"src/mdb_v8_dbg.h","type":"MODIFIED","insertions":15,"deletions":-2},{"file":"src/mdb_v8_function.c","type":"MODIFIED","insertions":18,"deletions":-3},{"file":"src/mdb_v8_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"src/mdb_v8_subr.c","type":"MODIFIED","insertions":89,"deletions":-27},{"file":"test/standalone/common.js","type":"MODIFIED","insertions":290,"deletions":-3},{"file":"test/standalone/gcore_self.js","type":"ADDED","insertions":168,"deletions":0},{"file":"test/standalone/tst.arrays.js","type":"ADDED","insertions":574,"deletions":0},{"file":"test/standalone/tst.jsclosure.js","type":"MODIFIED","insertions":20,"deletions":-28},{"file":"test/standalone/tst.postmortem_basic.js","type":"MODIFIED","insertions":26,"deletions":-64},{"file":"test/standalone/tst.postmortem_details.js","type":"MODIFIED","insertions":14,"deletions":-18},{"file":"test/standalone/tst.postmortem_load.js","type":"DELETED","insertions":0,"deletions":-64},{"file":"tools/mk/Makefile.node_modules.defs","type":"ADDED","insertions":68,"deletions":0},{"file":"tools/mk/Makefile.node_modules.targ","type":"ADDED","insertions":31,"deletions":0},{"file":"version","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1825,"sizeDeletions":-249}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}]}