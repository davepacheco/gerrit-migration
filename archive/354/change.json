{"project":"joyent/sdc-docker-build","branch":"master","id":"I85f00f5d3a15e96a4c2a9a5f0121e3ae7e51404a","number":"354","subject":"DOCKER-919 Docker build fails to copy correctly for root directory Reviewed by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e","owner":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"url":"https://cr.joyent.us/354","commitMessage":"DOCKER-919 Docker build fails to copy correctly for root directory\nReviewed by: Josh Wilsdon \u003cjwilsdon@joyent.com\u003e\n","createdOn":1472168791,"lastUpdated":1472495409,"open":false,"status":"MERGED","comments":[{"timestamp":1472168791,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 1."},{"timestamp":1472252749,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1: Code-Review+1\n\n(1 comment)"},{"timestamp":1472253707,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1472253976,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 2."},{"timestamp":1472254194,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2: Code-Review+1\n\nlgtm"},{"timestamp":1472495249,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1472495409,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Todd Whiteman"}],"currentPatchSet":{"number":"2","revision":"85f00f5d3a15e96a4c2a9a5f0121e3ae7e51404a","parents":["cf9195ef74c689b09ae7874b16e44435cb7fe71b"],"ref":"refs/changes/54/354/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1472253976,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1472254194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1472495249,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1472495409,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/build.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/test_build.js","type":"MODIFIED","insertions":203,"deletions":-18}],"sizeInsertions":206,"sizeDeletions":-20},"patchSets":[{"number":"1","revision":"b8ff25616efbcc7e234b5517d2d4eb407fa9817b","parents":["cf9195ef74c689b09ae7874b16e44435cb7fe71b"],"ref":"refs/changes/54/354/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1472168791,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1472252749,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"lib/build.js","line":2051,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"When would containerRelativePath be false-y here? Only when it originally contained only \u0027/\u0027 and .slice() truncated it to \u0027\u0027? If so, maybe check against \u0027\u0027 to make that more clear?"},{"file":"lib/build.js","line":2051,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/build.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/test_build.js","type":"MODIFIED","insertions":203,"deletions":-18}],"sizeInsertions":206,"sizeDeletions":-20},{"number":"2","revision":"85f00f5d3a15e96a4c2a9a5f0121e3ae7e51404a","parents":["cf9195ef74c689b09ae7874b16e44435cb7fe71b"],"ref":"refs/changes/54/354/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1472253976,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1472254194,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1472495249,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1472495409,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/build.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/test_build.js","type":"MODIFIED","insertions":203,"deletions":-18}],"sizeInsertions":206,"sizeDeletions":-20}],"allReviewers":[{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}