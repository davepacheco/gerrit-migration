{"project":"joyent/sdc-cloudapi","branch":"master","id":"I8a7c59f3ae196a53d4957914d22bc97be7c39588","number":"5448","subject":"TRITON-811 cloudapi isNet() functions need to be factored out TRITON-850 sdc-cloudapi translateNetwork() needs to consider RAN when determining public networks Reviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e Approved by: Marsell Kukuljevic \u003cmarsell@j","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/5448","commitMessage":"TRITON-811 cloudapi isNet() functions need to be factored out\nTRITON-850 sdc-cloudapi translateNetwork() needs to consider RAN when determining public networks\nReviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e\nApproved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n","createdOn":1548793900,"lastUpdated":1549317725,"open":false,"status":"MERGED","comments":[{"timestamp":1548793900,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1548793939,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548879978,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2."},{"timestamp":1548880016,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548880666,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 2:\n\nlast PS was for copyright update only."},{"timestamp":1548881283,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2:\n\n(1 comment)\n\nChanges look good so far. Have you ran the test suite with these included?"},{"timestamp":1548883558,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 2:\n\n(1 comment)\n\nYes.  I attached the test output and the summary to each bug listed."},{"timestamp":1548950590,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1549317466,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1549317685,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1549317702,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1549317725,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1549317725,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"4","revision":"8a7c59f3ae196a53d4957914d22bc97be7c39588","parents":["6b67fc246ad6fe858a44465b147a90458ff038d7"],"ref":"refs/changes/48/5448/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1549317702,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548880016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548950590,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549317466,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1549317725,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/machines.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"lib/networks.js","type":"MODIFIED","insertions":2,"deletions":-63},{"file":"lib/plugin-manager.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":35,"sizeDeletions":-95},"patchSets":[{"number":"1","revision":"43ee36be9aecdf06b5ee3e6712d7ecf51bb44e07","parents":["362d4c355649de8d00a014b1f59be4478159e71b"],"ref":"refs/changes/48/5448/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548793900,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548793939,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/machines.js","type":"MODIFIED","insertions":9,"deletions":-6},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":7,"deletions":-9},{"file":"lib/networks.js","type":"MODIFIED","insertions":1,"deletions":-62},{"file":"lib/plugin-manager.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":29,"sizeDeletions":-89},{"number":"2","revision":"db0b3f40a3415b6f2d8739c01e1ba4bf7dfd3b3c","parents":["362d4c355649de8d00a014b1f59be4478159e71b"],"ref":"refs/changes/48/5448/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548879978,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548880016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548950590,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549317466,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"comments":[{"file":"package.json","line":4,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"We\u0027re not adding anything to CloudAPI in terms of functionality. I wouldn\u0027t bump version here."},{"file":"package.json","line":4,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"According to semver.org we should bump the patch version when we make backwards-compatible bug fixes.  It would also be nice to know which version this refactor work got pulled into.  \n\nI\u0027d also argue that TRITON-850 is a bug."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/machines.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"lib/networks.js","type":"MODIFIED","insertions":2,"deletions":-63},{"file":"lib/plugin-manager.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":35,"sizeDeletions":-95},{"number":"3","revision":"57e69fef6137be1a037c7927219309c420297d72","parents":["6b67fc246ad6fe858a44465b147a90458ff038d7"],"ref":"refs/changes/48/5448/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1549317685,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548880016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548950590,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549317466,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/machines.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"lib/networks.js","type":"MODIFIED","insertions":2,"deletions":-63},{"file":"lib/plugin-manager.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":35,"sizeDeletions":-95},{"number":"4","revision":"8a7c59f3ae196a53d4957914d22bc97be7c39588","parents":["6b67fc246ad6fe858a44465b147a90458ff038d7"],"ref":"refs/changes/48/5448/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1549317702,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548880016,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548950590,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549317466,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}},{"type":"SUBM","value":"1","grantedOn":1549317725,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/endpoints/networks.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/machines.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"lib/networks.js","type":"MODIFIED","insertions":2,"deletions":-63},{"file":"lib/plugin-manager.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"sapi_manifests/cloudapi/template","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":35,"sizeDeletions":-95}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}]}