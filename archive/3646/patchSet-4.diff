From 8ab41f1405ab4e3c2580bddc93c305dae874733b Mon Sep 17 00:00:00 2001
From: Brian Bennett <brian.bennett@joyent.com>
Date: Thu, 21 Jun 2018 13:48:41 -0700
Subject: [PATCH] joyent/node-manta#343 Want `mjob wait` as alias for `mjob
 watch` Reviewed by: Trent Mick <trentm@gmail.com>

---
 CHANGES.md      | 2 ++
 bin/mjob        | 3 ++-
 man/man1/mjob.1 | 6 +++---
 3 files changed, 7 insertions(+), 4 deletions(-)

diff --git a/CHANGES.md b/CHANGES.md
index 179698b..24dde36 100644
--- a/CHANGES.md
+++ b/CHANGES.md
@@ -2,6 +2,8 @@
 
 ## not yet released
 
+- Add `mjob wait` as an alias to `mjob watch`.
+
 ## 5.1.1
 
 - joyent/node-manta#315 document mlogin session termination conditions
diff --git a/bin/mjob b/bin/mjob
index b8196de..c3bfe4f 100755
--- a/bin/mjob
+++ b/bin/mjob
@@ -1,7 +1,7 @@
 #!/usr/bin/env node
 // -*- mode: js -*-
 /*
- * Copyright 2016 Joyent, Inc.
+ * Copyright 2018 Joyent, Inc.
  */
 
 var EventEmitter = require('events').EventEmitter;
@@ -1364,6 +1364,7 @@ MJob.prototype.do_watch.help = (
         '{{options}}'
 );
 
+MJob.prototype.do_watch.aliases = ['wait'];
 
 
 //-- Close
diff --git a/man/man1/mjob.1 b/man/man1/mjob.1
index aed8749..b1cdc62 100644
--- a/man/man1/mjob.1
+++ b/man/man1/mjob.1
@@ -56,8 +56,8 @@ The following commands and options are supported:
 .PP
 Creates a job that executes the commands against keys that will be specified
 via \fB\fCaddinputs\fR\&.  \fB\fCexpression\fR can specify an arbitrary UNIX pipeline, with
-map/reduce \fIphases\fP separated by the \fB\fC^\fR or \fB\fC^^\fR 
-.BR character (s), 
+map/reduce \fIphases\fP separated by the \fB\fC^\fR or \fB\fC^^\fR
+.BR character (s),
 respectively.
 .PP
 For example, to specify a simple \fB\fCgrep | sort | uniq\fR job in Manta, the
@@ -217,7 +217,7 @@ Returns the \fB\fCstatus\fR JSON document for a job.
 $ mjob get 3ec32136\-b125\-11e2\-8487\-1b418dd6974b
 .fi
 .RE
-.SS watch JOB
+.SS [watch|wait] JOB
 .PP
 Waits for a given job to reach the \fB\fCdone\fR state.
 .PP
-- 
2.21.0

