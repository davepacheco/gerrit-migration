{"project":"joyent/sdc-vmapi","branch":"master","id":"I19e32b4a07c386231716ce18460f03f66a31aa82","number":"2844","subject":"NAPI-258 Delete NAT instance when last vm using the network is deleted Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Approved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"url":"https://cr.joyent.us/2844","commitMessage":"NAPI-258 Delete NAT instance when last vm using the network is deleted\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1508801925,"lastUpdated":1519322160,"open":false,"status":"MERGED","comments":[{"timestamp":1508801925,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 1."},{"timestamp":1508801927,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit cf2373968b9f16bafa31361b70aad35067cf13c0\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1508801958,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1508801980,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1508801981,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 4eced36eb8193a2dee2b44b55f6bb69accc50316\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1508802008,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1509665399,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1512149901,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 2:\n\n(4 comments)"},{"timestamp":1512167977,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 3."},{"timestamp":1512167978,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 115ff85e659c869925f4caf356084b6985d6235c\n    \n    address CR comments (add a limit, use .some() filter, active state in tests)\n    \n    commit 1ec750a35dfc62e157564fded1f11f0a419b229b\n    \n    bump package.json version\n    \n    commit 98cd991cb8f2a8bbbe304d1118094240d5ad778c\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1512168006,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1513021127,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1517425613,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 4."},{"timestamp":1517425614,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit be19267fb4e9333723b03d4117bee76aa8357397\n    \n    address CR comments (add a limit, use .some() filter, active state in tests)\n    \n    commit 76dd8d121525804ceb9ab26c4950807d8b88ecff\n    \n    bump package.json version\n    \n    commit 02390438a458fc4021a4ddc877ef67ccba1bb184\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1517425655,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518026193,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 5."},{"timestamp":1518026194,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 2a6aeabe50edc9c8ca69fb6da93a953955f81b1a\n    \n    address CR comments (add a limit, use .some() filter, active state in tests)\n    \n    commit 92ca17a45fbf2764c8dd8a8056dc3e98a9f95bbe\n    \n    bump package.json version\n    \n    commit ac222c7d85189f5e4a2aa1844bf37e0aaf93e2cf\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1518026247,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518203713,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1518208843,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 6."},{"timestamp":1518208845,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 201fce9d10661d144a74e931402fb95dcf4fd1ca\n    \n    bump destroy workflow version number\n    \n    commit 40248971cef18ee8c355d76b493d5c46c0ea37df\n    \n    address CR comments (add a limit, use .some() filter, active state in tests)\n    \n    commit 9499d499ce314ea62a019d774a6e85ee55e066e6\n    \n    bump package.json version\n    \n    commit 9552af241a71deecec96004b4c80edba9e1e88f8\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1518208852,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1518208881,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1518220020,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1518220107,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6:\n\nThis looks good to me. Can you add testing notes to the ticket?"},{"timestamp":1519161376,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 7."},{"timestamp":1519161412,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1519162147,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1519231666,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 8."},{"timestamp":1519231669,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit 83aaeb599c75f195962f4bcf3563e4f63da9ae42\n    \n    simplify vm create params - to avoid CNAPI cpu_cap designation error\n    \n    commit 5ccad4c76d931ab8af4e3adcf0af3442f83492f7\n    \n    bump destroy workflow version number\n    \n    commit cf183fac1b5147f4ba992f7651e0ada0aa84c7f1\n    \n    address CR comments (add a limit, use .some() filter, active state in tests)\n    \n    commit 0ade4ba13c4a0963f847bd141df5f6b06961235a\n    \n    bump package.json version\n    \n    commit a819ee557fd332e4e6b1a6e0e31982627ec2207e\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1519231702,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1519232476,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 8:\n\nHad to update the test case, otherwise it would fail with a CNAPI provision error:\n\"Servers which have same existence of cpu_cap as package\"\n\nAll vmapi tests now pass:\n\n# Completed in 630 seconds.\n# PASS: 2225 / 2225"},{"timestamp":1519233033,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 9."},{"timestamp":1519233035,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 9:\n\nNew commits:\n    \n    commit 2b66c6507cb0e4d08a096948f9f54fb8645e6547\n    \n    simplify vm create params - to avoid CNAPI cpu_cap designation error\n    \n    commit f170c4c5fda82d37d756064607036291eba6afea\n    \n    bump destroy workflow version number\n    \n    commit a6a601b1f08b17502a7c68b4639f28129636e2f0\n    \n    address CR comments (add a limit, use .some() filter, active state in tests)\n    \n    commit bd40d8bc1db1c50027442189c4e0889c31538a84\n    \n    bump package.json version\n    \n    commit 78a90c38d20ba9ca836f63b526896920dc889ac8\n    \n    NAPI-258 Delete NAT instance when last vm using the network is deleted"},{"timestamp":1519233071,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1519240278,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 9: Code-Review+1 Integration-Approval+1"},{"timestamp":1519322063,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 10: Commit message was updated."},{"timestamp":1519322160,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Todd Whiteman"}],"currentPatchSet":{"number":"10","revision":"19e32b4a07c386231716ce18460f03f66a31aa82","parents":["01d496730462b27b41d38b6e3cd0c685f09cfb05"],"ref":"refs/changes/44/2844/10","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1519322063,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519233071,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519240278,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519240278,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1519322160,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":27,"deletions":-5},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":225,"deletions":0}],"sizeInsertions":560,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"c7fce320073a96ac5c47fc49b41ae041e0c2fb27","parents":["e4a103b63811c7042f89e8d608cf47d463cdad57"],"ref":"refs/changes/44/2844/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1508801925,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508801958,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":28,"deletions":-6},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":308,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":194,"deletions":0}],"sizeInsertions":531,"sizeDeletions":-11},{"number":"2","revision":"32b063ce20fbf8706a974d878a93226515d81dfb","parents":["537b4b18ca98e88636862313ab903374bfda1546"],"ref":"refs/changes/44/2844/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1508801980,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508801958,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/workflows/fabric-common.js","line":543,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This could take a small \"limit\" of 5 or 10, so that we aren\u0027t receiving up to possibly 1000 NICs on the network."},{"file":"lib/workflows/fabric-common.js","line":543,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Good idea - returning more nics ain\u0027t going to help anyone."},{"file":"lib/workflows/fabric-common.js","line":565,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You could use .some() here instead so that you can stop at the first non-gateway NIC."},{"file":"lib/workflows/fabric-common.js","line":565,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Good catch - will do."},{"file":"test/vms.full.test.js","line":2274,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Should the \"state\" filter be part of the test? If there\u0027s a stopped/provisioning VM the test should fail, right?"},{"file":"test/vms.full.test.js","line":2274,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"It is possible to have multiple \"nat-{$networkUuid}\" zones created/destroyed.\n\nI am trying to avoid the \"destroyed\" vms, so I think this should use the \"active\" state instead - which is all vms that are not \"destroyed\" or \"failed\"."},{"file":"test/vms.full.test.js","line":2421,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Should we remove this part of the query, and validate that we get a single result with state \"destroyed\" instead?"},{"file":"test/vms.full.test.js","line":2421,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"It should use \"active\" too. It is possible to have multiple \"destroyed\" zones with the same \"nat-${uuid}\" alias."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":28,"deletions":-6},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":308,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":194,"deletions":0}],"sizeInsertions":531,"sizeDeletions":-11},{"number":"3","revision":"88ef314bdd229025256309988e2f521673f3bf88","parents":["7962daaede38296b95bdf6da54d87bab03c66347"],"ref":"refs/changes/44/2844/3","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1512167977,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513021127,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512168006,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":26,"deletions":-4},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":229,"deletions":0}],"sizeInsertions":563,"sizeDeletions":-9},{"number":"4","revision":"67287ed2c2f433d3c2c3614ab5ba20cabcf362eb","parents":["3ce6a7de61610641325f0bb6cccca27104c5ecc2"],"ref":"refs/changes/44/2844/4","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1517425613,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517425655,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":26,"deletions":-4},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":229,"deletions":0}],"sizeInsertions":563,"sizeDeletions":-9},{"number":"5","revision":"3b3f31fe77dbaf828e8a329b46b8937146846a14","parents":["12fdf6192a9469fc79d9ebcbd4badc96991420d4"],"ref":"refs/changes/44/2844/5","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1518026193,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518026247,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/workflows/destroy.js","line":23,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This will need to be bumped again to 7.1.3."},{"file":"lib/workflows/destroy.js","line":23,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":26,"deletions":-4},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":229,"deletions":0}],"sizeInsertions":563,"sizeDeletions":-9},{"number":"6","revision":"3c7bccf211386f1679538d702951bd384cbb1b32","parents":["e5d90505ac2bcc7434ce793346318b0392332b0d"],"ref":"refs/changes/44/2844/6","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1518208843,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518220020,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1518208881,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":27,"deletions":-5},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":229,"deletions":0}],"sizeInsertions":564,"sizeDeletions":-10},{"number":"7","revision":"db365a7e1d87feecb668e3da9b9efdf35562a6c1","parents":["3764700b4ea41479f0950f4471e19f4fd0f824d0"],"ref":"refs/changes/44/2844/7","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1519161376,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519162147,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519161412,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":27,"deletions":-5},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":229,"deletions":0}],"sizeInsertions":564,"sizeDeletions":-10},{"number":"8","revision":"3538bb3faab7d85e51fd84069c1c22773c0ad7aa","parents":["3764700b4ea41479f0950f4471e19f4fd0f824d0"],"ref":"refs/changes/44/2844/8","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1519231666,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519231702,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":27,"deletions":-5},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":225,"deletions":0}],"sizeInsertions":560,"sizeDeletions":-10},{"number":"9","revision":"ed6dd4f423f60fc168ac213e4911e92ddb29addf","parents":["01d496730462b27b41d38b6e3cd0c685f09cfb05"],"ref":"refs/changes/44/2844/9","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1519233033,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519240278,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519240278,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519233071,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":27,"deletions":-5},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":225,"deletions":0}],"sizeInsertions":560,"sizeDeletions":-10},{"number":"10","revision":"19e32b4a07c386231716ce18460f03f66a31aa82","parents":["01d496730462b27b41d38b6e3cd0c685f09cfb05"],"ref":"refs/changes/44/2844/10","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1519322063,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519240278,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519240278,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519233071,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1519322160,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/workflows/destroy.js","type":"MODIFIED","insertions":27,"deletions":-5},{"file":"lib/workflows/fabric-common.js","type":"MODIFIED","insertions":307,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":225,"deletions":0}],"sizeInsertions":560,"sizeDeletions":-10}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}