{"project":"joyent/sdc-napi","branch":"master","id":"I1a19dd4d4c9a93c669b5737cec797748ee07ddc9","number":"2507","subject":"NAPI-430 Integration tests sometimes fail to get the proper Triton admin user\u0027s UUID Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e Approved by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/2507","commitMessage":"NAPI-430 Integration tests sometimes fail to get the proper Triton admin user\u0027s UUID\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\nApproved by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1504756806,"lastUpdated":1504796086,"open":false,"status":"MERGED","comments":[{"timestamp":1504756806,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1504756892,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1504792441,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1504795631,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1504795696,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1504795712,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\nI\u0027ve added a call to the validation function in test/lib/config.js, and updated the validation function to assert that it\u0027s a valid UUID. I ran the unit tests in my build zone, and the integration tests in nightly1."},{"timestamp":1504795737,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1504796070,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1504796086,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"3","revision":"1a19dd4d4c9a93c669b5737cec797748ee07ddc9","parents":["487e972b31d7e41ded35b42996d3fdc7cefe678c"],"ref":"refs/changes/07/2507/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1504795737,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504795696,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504796070,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1504796070,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"SUBM","value":"1","grantedOn":1504796086,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/config.json","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":0,"deletions":-35},{"file":"test/integration/ips.test.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":3,"deletions":-13},{"file":"test/integration/networks.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/integration/nics.test.js","type":"MODIFIED","insertions":2,"deletions":-13},{"file":"test/integration/provision.test.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"test/lib/config.js","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":22,"sizeDeletions":-115},"patchSets":[{"number":"1","revision":"71d78a848327859d43c492f8a04fe254699d07f9","parents":["487e972b31d7e41ded35b42996d3fdc7cefe678c"],"ref":"refs/changes/07/2507/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1504756806,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504756892,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504792441,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1504792441,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"comments":[{"file":"test/integration/fabrics.test.js","line":41,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert if ADMIN_OWNER is not a valid UUID? (Same comment for all other tests)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":0,"deletions":-35},{"file":"test/integration/ips.test.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":3,"deletions":-13},{"file":"test/integration/networks.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/integration/nics.test.js","type":"MODIFIED","insertions":2,"deletions":-13},{"file":"test/integration/provision.test.js","type":"MODIFIED","insertions":3,"deletions":-12}],"sizeInsertions":14,"sizeDeletions":-113},{"number":"2","revision":"c221db4b344f63587471093bb5ed24014200869d","parents":["487e972b31d7e41ded35b42996d3fdc7cefe678c"],"ref":"refs/changes/07/2507/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1504795631,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504795696,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/config.json","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":0,"deletions":-35},{"file":"test/integration/ips.test.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":3,"deletions":-13},{"file":"test/integration/networks.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/integration/nics.test.js","type":"MODIFIED","insertions":2,"deletions":-13},{"file":"test/integration/provision.test.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"test/lib/config.js","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":22,"sizeDeletions":-115},{"number":"3","revision":"1a19dd4d4c9a93c669b5737cec797748ee07ddc9","parents":["487e972b31d7e41ded35b42996d3fdc7cefe678c"],"ref":"refs/changes/07/2507/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1504795737,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1504796086,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504795696,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504796070,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1504796070,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/config.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/config.json","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/integration/fabrics.test.js","type":"MODIFIED","insertions":1,"deletions":-13},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":0,"deletions":-35},{"file":"test/integration/ips.test.js","type":"MODIFIED","insertions":2,"deletions":-12},{"file":"test/integration/network-owner.test.js","type":"MODIFIED","insertions":3,"deletions":-13},{"file":"test/integration/networks.test.js","type":"MODIFIED","insertions":3,"deletions":-15},{"file":"test/integration/nics.test.js","type":"MODIFIED","insertions":2,"deletions":-13},{"file":"test/integration/provision.test.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"test/lib/config.js","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":22,"sizeDeletions":-115}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}