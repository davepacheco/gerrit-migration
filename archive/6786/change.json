{"project":"joyent/illumos-joyent","branch":"master","id":"Icab2af0b45b31c7a21e8f2bf68bc42b8e9e64361","number":"6786","subject":"OS-7951 CUBIC module should react immediately to CC_RTO congestion signal Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Approved by: Dan McDonald \u003cdanmcd@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/6786","commitMessage":"OS-7951 CUBIC module should react immediately to CC_RTO congestion signal\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nApproved by: Dan McDonald \u003cdanmcd@joyent.com\u003e\n","createdOn":1565651811,"lastUpdated":1567538247,"open":false,"status":"MERGED","comments":[{"timestamp":1565651811,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1565655534,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1565655594,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1565725531,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 3: Code-Review+1 Integration-Approval-1\n\nThe code change is straightforward and tracks with what\u0027s in the bug reporting.\n\nI\u0027ll lift the -1 on IA once:\n\n1.) You see and report if the FreeBSD folks stumbled into this.  (In fact, a more generic bug may be to resynch with their CC algs.)\n\n2.) You try your tests not just between two netstacks, but between multiple iperfs on multiple netstacks to one (or more) iperf server(s).  One thing I always worry about when testing congestion changes is that the change merely isn\u0027t \"optimizing my flow\" vs. \"better using the network\".\n\nBoth shouldn\u0027t take long.  If either of these is too annoying, please lemme know."},{"timestamp":1566573117,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 3: -Integration-Approval\n\nSaw some of the upstream requests... did you improve the testing there?  It looked like maybe you did."},{"timestamp":1567537656,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1567538007,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1567538151,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1567538189,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1567538247,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"6","revision":"1ed9823d08fd2b08c4d4f0d9a57075899d36b295","parents":["391bfda4cfa65547cb06c514c00f3b9b70864abc"],"ref":"refs/changes/86/6786/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1567538189,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565725531,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567537656,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"SUBM","value":"1","grantedOn":1567538247,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"MODIFIED","insertions":7,"deletions":-11}],"sizeInsertions":7,"sizeDeletions":-11},"patchSets":[{"number":"1","revision":"9cbebfd2db78ec8335b8f95f0ecd4d75b26fdb16","parents":["24cbc0f417199b039db14dc886cc8f838594d4c2"],"ref":"refs/changes/86/6786/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565651811,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"MODIFIED","insertions":6,"deletions":-11}],"sizeInsertions":6,"sizeDeletions":-11},{"number":"2","revision":"44b09bb0434b572101feb75e0c1c186d98562135","parents":["d1152fc83c4a70a919630e040129862cc476b588"],"ref":"refs/changes/86/6786/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565655534,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"MODIFIED","insertions":6,"deletions":-11}],"sizeInsertions":6,"sizeDeletions":-11},{"number":"3","revision":"fdfcf10b85e840bbbb53682bff1416a63e2ae29d","parents":["d1152fc83c4a70a919630e040129862cc476b588"],"ref":"refs/changes/86/6786/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565655594,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565725531,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567537656,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"MODIFIED","insertions":7,"deletions":-11}],"sizeInsertions":7,"sizeDeletions":-11},{"number":"4","revision":"13dcce21704b0b3d3ab7459b936930b210c21860","parents":["df3850281ea4def494e12172cae5a6181823c77d"],"ref":"refs/changes/86/6786/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1567538007,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"MODIFIED","insertions":7,"deletions":-11}],"sizeInsertions":7,"sizeDeletions":-11},{"number":"5","revision":"cab2af0b45b31c7a21e8f2bf68bc42b8e9e64361","parents":["d1152fc83c4a70a919630e040129862cc476b588"],"ref":"refs/changes/86/6786/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1567538151,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565725531,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567537656,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"MODIFIED","insertions":7,"deletions":-11}],"sizeInsertions":7,"sizeDeletions":-11},{"number":"6","revision":"1ed9823d08fd2b08c4d4f0d9a57075899d36b295","parents":["391bfda4cfa65547cb06c514c00f3b9b70864abc"],"ref":"refs/changes/86/6786/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1567538189,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1567538247,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565725531,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567537656,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"MODIFIED","insertions":7,"deletions":-11}],"sizeInsertions":7,"sizeDeletions":-11}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}