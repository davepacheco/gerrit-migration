From fede514d5cd59e0624169ddbfe2dcf74eb8ce860 Mon Sep 17 00:00:00 2001
From: Cody Peter Mello <cody.mello@joyent.com>
Date: Sat, 16 Jun 2018 03:49:29 +0000
Subject: [PATCH] remove core-util-is

---
 lib/verror.js | 10 +++++++++-
 package.json  |  3 +--
 2 files changed, 10 insertions(+), 3 deletions(-)

diff --git a/lib/verror.js b/lib/verror.js
index 8663dde..0956fda 100644
--- a/lib/verror.js
+++ b/lib/verror.js
@@ -6,9 +6,17 @@ var mod_assertplus = require('assert-plus');
 var mod_util = require('util');
 
 var mod_extsprintf = require('extsprintf');
-var mod_isError = require('core-util-is').isError;
 var sprintf = mod_extsprintf.sprintf;
 
+function mod_isError(e) {
+	if (e instanceof Error) {
+		return true;
+	}
+
+	return (Object.prototype.toString.call(e) === '[object Error]');
+}
+
+
 /*
  * Public interface
  */
diff --git a/package.json b/package.json
index 79295c5..4aef6ec 100644
--- a/package.json
+++ b/package.json
@@ -1,6 +1,6 @@
 {
 	"name": "verror",
-	"version": "1.10.0",
+	"version": "1.10.1",
 	"description": "richer JavaScript errors",
 	"main": "./lib/verror.js",
 	"repository": {
@@ -9,7 +9,6 @@
 	},
 	"dependencies": {
 		"assert-plus": "^1.0.0",
-		"core-util-is": "1.0.2",
 		"extsprintf": "^1.2.0"
 	},
 	"engines": [
-- 
2.21.0

