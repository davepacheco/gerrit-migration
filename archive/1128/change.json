{"project":"joyent/smartos-live","branch":"master","id":"I0174f3228f25591094e94aa94890399e937edbd0","number":"1128","subject":"OS-5807 Support IPv6 in ipfilter service Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Brian Bennett \u003cbrian.bennett@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/1128","commitMessage":"OS-5807 Support IPv6 in ipfilter service\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Brian Bennett \u003cbrian.bennett@joyent.com\u003e\n","createdOn":1481831362,"lastUpdated":1481853695,"open":false,"status":"MERGED","comments":[{"timestamp":1481831362,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1481831410,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1481831904,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(1 comment)\n\nI tested this change by creating an /etc/ipf/ipf6.conf file inside a zone and checking that its rules were loaded after I enabled the ipfilter service by running `ipfstat -6 -nio\u0027. I did the same thing in the GZ by creating /var/fw/ipf6.conf and making sure it got linked to /etc/ipf/ipf.conf and the rules loaded."},{"timestamp":1481849559,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1481853284,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1481853354,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1481853695,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"2","revision":"3a97afe3b5d19dd7c4824167946af688fe53cea5","parents":["8074b65033c088e50f9abaed4294358704396d0f"],"ref":"refs/changes/28/1128/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1481853354,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1481831410,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481849559,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481849559,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481853284,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"SUBM","value":"1","grantedOn":1481853695,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"overlay/generic/lib/svc/manifest/network/ipfilter.xml","type":"MODIFIED","insertions":149,"deletions":-3},{"file":"overlay/generic/lib/svc/method/ipfilter","type":"MODIFIED","insertions":13,"deletions":-7}],"sizeInsertions":162,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"0174f3228f25591094e94aa94890399e937edbd0","parents":["8074b65033c088e50f9abaed4294358704396d0f"],"ref":"refs/changes/28/1128/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1481831362,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481849559,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481849559,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1481831410,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481853284,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}}],"comments":[{"file":"overlay/generic/lib/svc/method/ipfilter","line":176,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"All of this file is syncing up with the illumos-gate changes except for this line, which takes care of treating ipf6.conf in the GZ the same way we do ipf.conf and ipnat.conf."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"overlay/generic/lib/svc/manifest/network/ipfilter.xml","type":"MODIFIED","insertions":149,"deletions":-3},{"file":"overlay/generic/lib/svc/method/ipfilter","type":"MODIFIED","insertions":13,"deletions":-7}],"sizeInsertions":162,"sizeDeletions":-10},{"number":"2","revision":"3a97afe3b5d19dd7c4824167946af688fe53cea5","parents":["8074b65033c088e50f9abaed4294358704396d0f"],"ref":"refs/changes/28/1128/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1481853354,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1481853695,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1481849559,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481849559,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1481831410,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1481853284,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"overlay/generic/lib/svc/manifest/network/ipfilter.xml","type":"MODIFIED","insertions":149,"deletions":-3},{"file":"overlay/generic/lib/svc/method/ipfilter","type":"MODIFIED","insertions":13,"deletions":-7}],"sizeInsertions":162,"sizeDeletions":-10}],"allReviewers":[{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}