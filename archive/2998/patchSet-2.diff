From f8779d134a11174909d958655a12460537ae3c35 Mon Sep 17 00:00:00 2001
From: Jonathan Perkin <jperkin@joyent.com>
Date: Thu, 7 Feb 2019 03:41:55 +0000
Subject: [PATCH] OS-6469 CTF incorrect data object handling

---
 usr/src/common/ctf/ctf_types.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/usr/src/common/ctf/ctf_types.c b/usr/src/common/ctf/ctf_types.c
index 18d2d3d88a..95bb3f34f2 100644
--- a/usr/src/common/ctf/ctf_types.c
+++ b/usr/src/common/ctf/ctf_types.c
@@ -1083,6 +1083,8 @@ ctf_object_iter(ctf_file_t *fp, ctf_object_f *func, void *arg)
 			continue;
 		id = *(ushort_t *)((uintptr_t)fp->ctf_buf +
 		    fp->ctf_sxlate[i]);
+		if (id == 0)
+			continue;
 
 		/*
 		 * Validate whether or not we're looking at a data object as
-- 
2.21.0

