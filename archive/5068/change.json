{"project":"joyent/smartos-live","branch":"master","id":"I2255127725b4cfc2ce39c52288456a0792eb4e90","number":"5068","subject":"OS-7343 bhyve image creation blocked by tightening of quota Reviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e","owner":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"url":"https://cr.joyent.us/5068","commitMessage":"OS-7343 bhyve image creation blocked by tightening of quota\nReviewed by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Mike Gerdts \u003cmike.gerdts@joyent.com\u003e\n","createdOn":1542344007,"lastUpdated":1543622494,"open":false,"status":"MERGED","comments":[{"timestamp":1542344007,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Uploaded patch set 1."},{"timestamp":1542344008,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 745abb6ea48b271244609a0b914f179f215afa09\n    \n    temporarily remove quota when creating bhyve image"},{"timestamp":1542344058,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542344084,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1542344085,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 742f97638c853275f0a0f5c10b816ec21e6cc601\n    \n    temporarily remove quota when creating bhyve image"},{"timestamp":1542344134,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1542344461,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Uploaded patch set 3."},{"timestamp":1542344462,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit e1df8a0dbf8ca40a68c2abb4e02a81679b00aa6e\n    \n    fix typo"},{"timestamp":1542344511,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1542402218,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3:\n\n(1 comment)\n\nJust one tiny nit."},{"timestamp":1543350103,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Uploaded patch set 4."},{"timestamp":1543350103,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 4601d8d7a3f25c4d8ffa7e02a064c1d10ff56f39\n    \n    linting fix\n    \n    commit fb4fd821e226ff70a5313038fdfe7d9e60d66ce4\n    \n    follow conventions\n    \n    commit 492b4b6bb44d46a00ed33737e3f5b126d9deb9f6\n    \n    refactor\n    \n    commit 731d147435fb6812d7da526c15e8c9e949786265\n    \n    fix typo\n    \n    commit faa90271c1c1c26ad3b0081e00938f92c01fcdd1\n    \n    temporarily remove quota when creating bhyve image"},{"timestamp":1543350160,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1543350216,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1543445568,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1543549267,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1\n\n(1 comment)"},{"timestamp":1543551936,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Uploaded patch set 5."},{"timestamp":1543551937,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit e675c72209db9ddd0c595c6ea10dcf6f0ab8cd14\n    \n    use jsprim\n    \n    commit e54a6ea5e005f5ba9a42d9712790aacaa51d2854\n    \n    linting fix\n    \n    commit 91b84808385332fb1886f6517b27c016242e64de\n    \n    follow conventions\n    \n    commit 9c3df9a500462377e0dd585912906e16da858a4b\n    \n    refactor\n    \n    commit a7cae9fe77a32cd90e12aab541927de6bd04673f\n    \n    fix typo\n    \n    commit 506adec7d7add19632fb1dd4a15313ac7a6a69bf\n    \n    temporarily remove quota when creating bhyve image"},{"timestamp":1543551992,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1543552017,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1543581186,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1543617836,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Uploaded patch set 6."},{"timestamp":1543617836,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 47e5ba84749d882bc8e96a3f0bde6e088530dc44\n    \n    use jsprim\n    \n    commit 30aa24fa69377b606dde48f2d209de61291539a0\n    \n    linting fix\n    \n    commit 536be7ed08091171d1f6732494d255da07d07035\n    \n    follow conventions\n    \n    commit 44da430d691682700ac154ba6568c9bbfb17eb1a\n    \n    refactor\n    \n    commit 11571c02825c2f7905f2a0b43e6594b634aa4dcc\n    \n    fix typo\n    \n    commit ad667fee8580769481a8189916cb375ca9b50438\n    \n    temporarily remove quota when creating bhyve image"},{"timestamp":1543617887,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1543621156,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1543621645,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1543622214,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1543622273,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Uploaded patch set 7."},{"timestamp":1543622273,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit a68aa1f050f82e53b7cf6c023a120fda83481c18\n    \n    use jsprim\n    \n    commit a5cafb27bc3dd603456ecb6d242f7d0823ddf63d\n    \n    linting fix\n    \n    commit 69900471581f859f42e12287100c3da22c6dc956\n    \n    follow conventions\n    \n    commit 7d9b3fa9d2232f582b418b14c79506c223dabafb\n    \n    refactor\n    \n    commit b70d796d6dc116b8b3586bd9c5e704506d38c163\n    \n    fix typo\n    \n    commit 5d646d81f60d33a349deb53ecf25d0828369489e\n    \n    temporarily remove quota when creating bhyve image"},{"timestamp":1543622329,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1543622418,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1543622494,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Dylan Yep"}],"currentPatchSet":{"number":"7","revision":"2255127725b4cfc2ce39c52288456a0792eb4e90","parents":["a8f151de322a81a0f77a89f38727c302755b46c9"],"ref":"refs/changes/68/5068/7","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1543622273,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1543622329,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543622418,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543622418,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1543622494,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":40,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":312,"deletions":-4}],"sizeInsertions":352,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"7409fbd8499c8db43736698d2212395a09f9735a","parents":["d4982e056e750e83e4d44e94c41395c75a07b766"],"ref":"refs/changes/68/5068/1","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1542344007,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542344058,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":27,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":312,"deletions":-4}],"sizeInsertions":339,"sizeDeletions":-4},{"number":"2","revision":"92cfe07db33453ed061cd6ea8b2082cd849867bd","parents":["87aa89bd1fa57bc910461ca672d3a4b856ed448c"],"ref":"refs/changes/68/5068/2","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1542344084,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542344058,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":27,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":312,"deletions":-4}],"sizeInsertions":339,"sizeDeletions":-4},{"number":"3","revision":"99e9bbd8d78a795cd872817d7acf232af9791a2f","parents":["87aa89bd1fa57bc910461ca672d3a4b856ed448c"],"ref":"refs/changes/68/5068/3","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1542344461,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1542344511,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/img/test/create.test.js","line":282,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"mmmmm, m\u0027s"},{"file":"src/img/test/create.test.js","line":282,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":27,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":311,"deletions":-3}],"sizeInsertions":338,"sizeDeletions":-3},{"number":"4","revision":"09b862bb37a204b013988df15ec96d75d2301f7a","parents":["42ee47eb957ff65d0ec90a1efefadf94c7e1eca4"],"ref":"refs/changes/68/5068/4","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1543350103,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1543350160,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543549267,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543549267,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543445568,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"comments":[{"file":"src/img/test/create.test.js","line":293,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Tiny nit: you could replaces the instances of parse + stringify in this file with the `deepCopy` function of the jsprim module which I think we have access to here."},{"file":"src/img/test/create.test.js","line":293,"reviewer":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":40,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":311,"deletions":-4}],"sizeInsertions":351,"sizeDeletions":-4},{"number":"5","revision":"38385bae6e5eca68fa4fdcdfebafcbf4457488c2","parents":["b61f428dbd31b04fc7d5d8d6396cf375d2a17a5d"],"ref":"refs/changes/68/5068/5","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1543551936,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1543551992,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543581186,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":40,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":312,"deletions":-4}],"sizeInsertions":352,"sizeDeletions":-4},{"number":"6","revision":"9a5b6a1870f3f6192b09841a4fa2f3679bf28c83","parents":["14509c7be8e7c3c6077a4795ce50296e80f468f0"],"ref":"refs/changes/68/5068/6","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1543617836,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1543617887,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543621645,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543621156,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543622214,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":40,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":312,"deletions":-4}],"sizeInsertions":352,"sizeDeletions":-4},{"number":"7","revision":"2255127725b4cfc2ce39c52288456a0792eb4e90","parents":["a8f151de322a81a0f77a89f38727c302755b46c9"],"ref":"refs/changes/68/5068/7","uploader":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"createdOn":1543622273,"author":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1543622329,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543622418,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1543622418,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1543622494,"by":{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/img/lib/imgadm.js","type":"MODIFIED","insertions":40,"deletions":0},{"file":"src/img/test/create.test.js","type":"MODIFIED","insertions":312,"deletions":-4}],"sizeInsertions":352,"sizeDeletions":-4}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Dylan Yep","email":"dyep49@gmail.com","username":"dyep49"}]}