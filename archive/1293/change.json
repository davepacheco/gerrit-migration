{"project":"joyent/node-triton","branch":"master","id":"I1098a192d45509d597a16e0cb07719f04ebc2467","number":"1293","subject":"PUBAPI-1292: Add support for nics, fabric vlans and networks to node-triton. Reviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e","owner":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"url":"https://cr.joyent.us/1293","commitMessage":"PUBAPI-1292: Add support for nics, fabric vlans and networks to node-triton.\nReviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e\n","createdOn":1484839216,"lastUpdated":1529928624,"open":false,"status":"ABANDONED","comments":[{"timestamp":1484839216,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 1."},{"timestamp":1484839254,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484839342,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 1:\n\nIntermediate push; finished cli tests will be forthcoming."},{"timestamp":1484839352,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Removed the following votes:\n\n* CI-Testing+1 by Joyent Automation (1000005)\n"},{"timestamp":1485270440,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 2."},{"timestamp":1485270480,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485790772,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 3."},{"timestamp":1485790801,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485999282,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1485999316,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1486442002,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1486442032,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1486631697,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 6."},{"timestamp":1486631731,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487653193,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1487653229,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1487824582,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 8: Patch Set 7 was rebased."},{"timestamp":1487824611,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1488325466,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 8:\n\n(22 comments)\n\nMarsell,\n\nThanks. Here is a start. I haven\u0027t made it through the do_* files and test suite yet."},{"timestamp":1488802599,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 9."},{"timestamp":1488802634,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1488978563,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 10: Patch Set 9 was rebased."},{"timestamp":1488978593,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1489092460,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 10:\n\n(4 comments)\n\nComments on patchset 9."},{"timestamp":1489114905,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 10:\n\n(1 comment)"},{"timestamp":1489115499,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 11."},{"timestamp":1489115528,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1490091853,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 12: Patch Set 11 was rebased."},{"timestamp":1490091888,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12:\n\n\"make check\" passed ok"},{"timestamp":1491268120,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 13: Patch Set 12 was rebased"},{"timestamp":1491268148,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13:\n\n\"make check\" passed ok"},{"timestamp":1492593306,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 14: Patch Set 13 was rebased"},{"timestamp":1492593339,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 14:\n\n\"make check\" passed ok"},{"timestamp":1494931539,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 14:\n\nTrent, I know you\u0027re a busy fellow, but don\u0027t forget this wad. :p"},{"timestamp":1498732374,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 15: Patch Set 14 was rebased"},{"timestamp":1498732407,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 15:\n\n\"make check\" passed ok"},{"timestamp":1499195798,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 16: Patch Set 15 was rebased"},{"timestamp":1499195827,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 16:\n\n\"make check\" passed ok"},{"timestamp":1500975176,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 17: Patch Set 16 was rebased"},{"timestamp":1500975206,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 17:\n\n\"make check\" passed ok"},{"timestamp":1502104559,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 18: Patch Set 17 was rebased"},{"timestamp":1502104589,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 18:\n\n\"make check\" passed ok"},{"timestamp":1504830124,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 19."},{"timestamp":1504830155,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 19: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1505437493,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 20."},{"timestamp":1505437534,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 20: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1505950586,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 20:\n\n(69 comments)"},{"timestamp":1529928624,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Abandoned\n\nAbandoning in favour of CR 4423"}],"currentPatchSet":{"number":"20","revision":"1098a192d45509d597a16e0cb07719f04ebc2467","parents":["8438f446cc4e5fc129ad06bfc7bc517a0c568eb3"],"ref":"refs/changes/93/1293/20","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1505437493,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505437534,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/cloudapi2.js","line":369,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is \"opts\" used?"},{"file":"lib/cloudapi2.js","line":374,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/cloudapi2.js","line":384,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Do we use snake case here for \"default_network\" because that\u0027s how it\u0027s exposed by CloudAPI? Shouldn\u0027t we use camel case instead to be consistent, since it\u0027s the name of a property?\n\nAlso, is the default network the only value stored in an account\u0027s configuration? If not, would it make more sense to have an \"updateDefaultFabricNetwork\" method?"},{"file":"lib/cloudapi2.js","line":433,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: drop the (specifically: ...), and just keep \"Creates a network on a fabric VLAN\"."},{"file":"lib/cloudapi2.js","line":459,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert that \"cb\" is a function?"},{"file":"lib/cloudapi2.js","line":470,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/cloudapi2.js","line":539,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert on \"cb\" being a function?"},{"file":"lib/cloudapi2.js","line":544,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this function."},{"file":"lib/cloudapi2.js","line":545,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: using curly braces for if statements whose body has only one line seems more consistent with the rest of the code base."},{"file":"lib/cloudapi2.js","line":553,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this function."},{"file":"lib/cloudapi2.js","line":591,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this function."},{"file":"lib/cloudapi2.js","line":617,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Typo in \"opts.rule\"?"},{"file":"lib/cloudapi2.js","line":622,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: in general, I would suggest to just name all the callbacks that are currently not named."},{"file":"lib/cloudapi2.js","line":1724,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What happens if CloudAPI misses the changes that fix PUBAPI-1216?"},{"file":"lib/cloudapi2.js","line":1732,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Missing assert on \"cb\" being a function?"},{"file":"lib/cloudapi2.js","line":1830,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should the caller be able to supply a timeout toi avoid waiting forever in case the given nic doesn\u0027t transition to the desired state?"},{"file":"lib/cloudapi2.js","line":1841,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Just thinking out loud: this makes a value of \"0\" valid and default to 1000. Is this intentional? Instead we could assert on a value of 0, which would make the behavior of this function a tiny bit more explicit.\n\nEDIT: just saw the assert below, maybe we could move it to be run before the assignment?"},{"file":"lib/do_instance/do_nic/do_create.js","line":20,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we also assert on \"subcmd\"?"},{"file":"lib/do_instance/do_nic/do_create.js","line":21,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is that supported since PUBAPI-1216 seems to not be resolved? Or is it something different?"},{"file":"lib/do_instance/do_nic/do_create.js","line":48,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on all three parameters."},{"file":"lib/do_instance/do_nic/do_create.js","line":60,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on all three parameters."},{"file":"lib/do_instance/do_nic/do_create.js","line":79,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Just so I understand better what\u0027s going on: Is that really sdc-cloudapi\u0027s behavior? Should it ideally return an error in this case?"},{"file":"lib/do_instance/do_nic/do_create.js","line":87,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces."},{"file":"lib/do_instance/do_nic/do_create.js","line":141,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What about Cody\u0027s comment in PUBAPI-1292 that says:\n\n\u003e I suppose that this would also affect triton instance nic create/update: there should be a way to specify either a single IPv4 network, a single IPv6 network, or both. There will also need to be a way to request multiple addresses on the specified networks. So I should be able to create a NIC that will have 4 IPv6 addresses, and then update it later to also have 3 IPv4 addresses.\n\n?"},{"file":"lib/do_instance/do_nic/do_delete.js","line":22,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we also assert on \"subcmd\"?"},{"file":"lib/do_instance/do_nic/do_delete.js","line":74,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on parameters."},{"file":"lib/do_instance/do_nic/do_delete.js","line":84,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: should console output be done by the caller instead?"},{"file":"lib/do_instance/do_nic/do_list.js","line":20,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What about Cody\u0027s comment at https://devhub.joyent.com/jira/browse/PUBAPI-1292:\n\n\u003e I do have thoughts on the the output of triton instance nic list:\nInstead of showing an ip field and netmask field, I\u0027d like us to print an ips field with each IP address written in CIDR notation with their subnet\u0027s prefix length.\nInstead of showing a gateway field, I\u0027d like to have a gateways array field\n\n?"},{"file":"lib/do_instance/do_nic/do_list.js","line":87,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is this just replacing the long network ID with the short ID? If so is it safe to do?"},{"file":"lib/do_instance/do_nic/do_list.js","line":115,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert on \"netmask\"\u0027s type?\n\nAlso, it would not hurt to document the expected format of \"netmask\" and the format of the output."},{"file":"lib/do_network/do_create.js","line":165,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Am I understanding correctly that triton users will thus only be able to create networks on fabrics\u0027 VLANs and will never be able to create other types of networks?\n\nIf so, isn\u0027t it confusing that triton network list can list all types of networks, but triton network create can only create networks on fabrics\u0027 VLANs?"},{"file":"lib/do_network/do_create.js","line":173,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Isn\u0027t this missing the VLAN argument?"},{"file":"lib/do_network/do_set_default.js","line":51,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Shouldn\u0027t it be \"defaultnetwork\" without the underscore? I thought \"default_network\" is how it\u0027s stored in UFDS. For instance, the UpdateConfig handler seems to refer to \"params.defaultnetwork\" at https://github.com/joyent/sdc-cloudapi/blob/master/lib/config.js#L106.\n\nAnother question is: it seems this default network is used as a default *fabric* network by at least sdc-docker (see https://github.com/joyent/sdc-docker/blob/master/lib/backends/sdc/containers.js#L709-L749). However this implementation seems to suggest that this is about setting a default network in general, regardless of it being a fabric network. Is it because this is implied and understood by all users, or am I missing something?"},{"file":"lib/do_vlan/do_create.js","line":41,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Using just the unary \"+\" operator seems a bit brittle and like it would lead to poor UX. For instance, I\u0027m wondering what error message is outputted when the user passes a string that is not a number on the command line as the vlan argument?\n\nWould performing some client side validation using the new jsprim.parseInteger function (https://www.npmjs.com/package/jsprim#parseintegerstr-options) help?"},{"file":"lib/do_vlan/do_create.js","line":110,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should the help mention this is about *fabric* VLANs? Also, the command is \"triton vlan create\", but I\u0027m wondering if it\u0027d be less confusing to rename the \"vlan\" command to \"fabric-vlan\" (although it\u0027d be a mouthful)?"},{"file":"lib/do_vlan/do_delete.js","line":22,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What about asserting on the rest of the parameters?"},{"file":"lib/do_vlan/do_list.js","line":26,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on other parameters?"},{"file":"lib/do_vlan/do_list.js","line":43,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces?"},{"file":"lib/do_vlan/do_list.js","line":62,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback and the one below."},{"file":"lib/do_vlan/do_list.js","line":115,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is there a plan to have those filters available server side?"},{"file":"lib/do_vlan/do_update.js","line":20,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Blank line between module declarations and other declarations?"},{"file":"lib/do_vlan/do_update.js","line":92,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we listen on process.stdin error events too?"},{"file":"lib/do_vlan/do_update.js","line":108,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on ctx.data?"},{"file":"lib/do_vlan/do_update.js","line":142,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":285,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on \"arg\" itself and \"next\"?"},{"file":"lib/tritonapi.js","line":294,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback?"},{"file":"lib/tritonapi.js","line":322,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":325,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":327,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":337,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":345,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":994,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":1976,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: alphabetize variables declaration."},{"file":"lib/tritonapi.js","line":1991,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":1993,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What\u0027s the use case?"},{"file":"lib/tritonapi.js","line":1999,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":2029,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Same question, what\u0027s the use case?"},{"file":"lib/tritonapi.js","line":2034,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name callback."},{"file":"lib/tritonapi.js","line":2067,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"ditto."},{"file":"lib/tritonapi.js","line":2072,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"ditto."},{"file":"test/integration/api-networks.test.js","line":95,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces."},{"file":"test/integration/api-networks.test.js","line":96,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after t.end();"},{"file":"test/integration/api-networks.test.js","line":99,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: rename err2 to \"delNetErr\"."},{"file":"test/integration/api-networks.test.js","line":103,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: rename err3 to \"getNetErr\""},{"file":"test/integration/api-networks.test.js","line":111,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What\u0027s the goal of this part of the test?"},{"file":"test/integration/api-nics.test.js","line":28,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should this be \"TritonApi nics\"?"},{"file":"test/integration/api-nics.test.js","line":40,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces."},{"file":"test/integration/api-vlans.test.js","line":27,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should this be \"TritonApi vlan\" or \"TritonApi vlans\"?"},{"file":"test/integration/cli-networks.test.js","line":44,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we create one instead? What happens if there\u0027s no vlan available?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":156,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":164,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":120,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":420,"deletions":-1},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3652,"sizeDeletions":-12},"patchSets":[{"number":"1","revision":"41cf3de2d98f0ec38f4a262d8e9edf2b968191bd","parents":["c7c91aea8314c972cb09d406f98ce02b032bafc3"],"ref":"refs/changes/93/1293/1","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1484839216,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":374,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":111,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":121,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":106,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":178,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":84,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":84,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":99,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":310,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":47,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2}],"sizeInsertions":2600,"sizeDeletions":-13},{"number":"2","revision":"1572c74e28c6617441c6e59134ca57560a835638","parents":["c7c91aea8314c972cb09d406f98ce02b032bafc3"],"ref":"refs/changes/93/1293/2","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1485270440,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485270480,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":419,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":108,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":99,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":310,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":169,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":267,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3296,"sizeDeletions":-14},{"number":"3","revision":"91c1d83e0f3c48f91c81e65e1b483b7220acea4c","parents":["68e5b685832293bff25c888733c963dbcbe9ed6e"],"ref":"refs/changes/93/1293/3","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1485790772,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485790801,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":419,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":310,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3468,"sizeDeletions":-14},{"number":"4","revision":"63d29762846046071ad876cebb9681fe3706166a","parents":["75cb032f3a4d143ca9fe65e5d4d02ad040c537fb"],"ref":"refs/changes/93/1293/4","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1485999282,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485790801,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":419,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":310,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3468,"sizeDeletions":-14},{"number":"5","revision":"2ae89d235a102c9b8b2d6541f6474a3328cb35ae","parents":["1503088abd917f40368d5d80ce1c1e2c83ea5a96"],"ref":"refs/changes/93/1293/5","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1486442002,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485790801,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":419,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":310,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3468,"sizeDeletions":-14},{"number":"6","revision":"55b3eebb4532fb87e76f6d618cb7b60d103fa035","parents":["1503088abd917f40368d5d80ce1c1e2c83ea5a96"],"ref":"refs/changes/93/1293/6","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1486631697,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486631731,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":419,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":311,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3469,"sizeDeletions":-14},{"number":"7","revision":"786118ba2ef22d36f52d9b65b2e117695136c349","parents":["dba8915d4f600173d8646a01815c3010d1f5c6ca"],"ref":"refs/changes/93/1293/7","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1487653193,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486631731,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":419,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":311,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3469,"sizeDeletions":-14},{"number":"8","revision":"a18c826313688419d67c3f2e7e6962fe69cc37cc","parents":["d91e0326c2ea8f28b7cb7c4028b8b7efc76824b3"],"ref":"refs/changes/93/1293/8","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1487824582,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1486631731,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/cloudapi2.js","line":431,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I guess there wasn\u0027t a need for getFabricNetwork?"},{"file":"lib/cloudapi2.js","line":462,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Let\u0027s not mutate the given object. Create a new reqOpts with the explicit fields to pass, or clone the given opts before modifying it."},{"file":"lib/cloudapi2.js","line":466,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"nit: that could be a \u0027%d\u0027"},{"file":"lib/cloudapi2.js","line":482,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\"networks\""},{"file":"lib/cloudapi2.js","line":583,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I\u0027d prefer this to be an object with a \u0027id\u0027 field. This\u0027ll match getImage and getPackage more closely.  There *is* some inconsistency here in cloudapi2.js for getFoo methods already. \u0027getMachine\u0027 accepts both forms. \u0027getFirewallRule\u0027 takes an \u0027id\u0027.\n\nThe argument for (at least preferring) the \u0027opts.id\u0027 style is (a) to have a common `function (opts, cb)` call signature for all methods if possible and (b) to blend better with those `getFoo` calls that need to take two or more identifiers, e.g. \u0027getMachineTag\u0027 that takes:\n\n    assert.uuid(opts.id, \u0027opts.id\u0027);\n    assert.string(opts.tag, \u0027opts.tag\u0027);"},{"file":"lib/cloudapi2.js","line":1692,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhaps add a comment here that this depends on PUBAPI-1216."},{"file":"lib/cloudapi2.js","line":1772,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Oh gross that CloudAPI called this \"remove\" instead of \"delete\" like every other DELETE endpoint."},{"file":"lib/do_vlan/do_networks.js","line":30,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"That won\u0027t work for a VLAN *name*."},{"file":"lib/do_vlan/do_networks.js","line":39,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I\u0027m inclined to change this to just \"VLAN\" here and in other synopses, given that it accepts an ID or name."},{"file":"lib/do_vlan/do_networks.js","line":42,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"s"},{"file":"lib/do_vlan/do_update.js","line":38,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Want to allow args for FIELD\u003dVALUE updates."},{"file":"lib/do_vlan/do_update.js","line":191,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"add \u0027)\u0027 here"},{"file":"lib/do_vlan/do_update.js","line":193,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"drop this"},{"file":"lib/do_vlan/index.js","line":25,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"add \"Fabric \" here"},{"file":"lib/tritonapi.js","line":239,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Call this \"_stepNetId\" so the name of the added field is the same as in the function name, please."},{"file":"lib/tritonapi.js","line":808,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Could consider having a _stepFabricNetId that uses arg.vlanId and arg.network to find the fabric network uuid."},{"file":"lib/tritonapi.js","line":809,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"This would ignore a vlan_id\u003d5000 (or whatever number outside of the range). I don\u0027t think it should. Either that should error (invalid vlan_id), or it should pass it through to the cloudapi endpoint so it can be sure to NOT find that network UUID (bcause the vlan_id scope won\u0027t match)."},{"file":"lib/tritonapi.js","line":818,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"This will allow deleting a named network on a vlan *other than the one specified*. Perhaps there should be a check that if vlan_id was specified that it matches net.vlan_id here."},{"file":"lib/tritonapi.js","line":1877,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"call it \"removeNic\" here"},{"file":"lib/tritonapi.js","line":2204,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"s/net/vlan/ ?\n\nAnd in the rest of this function."},{"file":"lib/tritonapi.js","line":2234,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\"VLAN\""},{"file":"lib/tritonapi.js","line":2259,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Could consider having a _stepVlanId similar to some of the \"_step*\" functions above, then use that here."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":419,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":198,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":311,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3469,"sizeDeletions":-14},{"number":"9","revision":"a01cea1b990815c79dee77430c96d815df799b72","parents":["d14ac041f448b1782f7e7fc9deb721291f7c8bec"],"ref":"refs/changes/93/1293/9","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1488802599,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488802634,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":425,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":356,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3517,"sizeDeletions":-14},{"number":"10","revision":"8c75d40162002cfa33f05ab4215ad858bd805367","parents":["a3071585aa8b36bded88fa1860332977280b0537"],"ref":"refs/changes/93/1293/10","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1488978563,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488802634,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/cloudapi2.js","line":462,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Drop the \u0027+\u0027. The assert.number assures it is a number already.\n\nActually can drop the \u0027vlanId\u0027 var and just use `opts.vlan_id` directly in the _request call below."},{"file":"lib/do_vlan/do_networks.js","line":30,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Still this won\u0027t work for a VLAN name."},{"file":"lib/tritonapi.js","line":854,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why was the assert check on opts.vlan_id dropped?"},{"file":"lib/tritonapi.js","line":854,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"vlan_id can be a number, string, or undefined. I decided that check wasn\u0027t worth its weight in code, and left it to lower layers which do the checks."},{"file":"lib/tritonapi.js","line":1933,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"update this name"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":425,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":356,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":315,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3517,"sizeDeletions":-14},{"number":"11","revision":"03f4aff43f4fe6727736bc55c489bbd0863a00de","parents":["a3071585aa8b36bded88fa1860332977280b0537"],"ref":"refs/changes/93/1293/11","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1489115499,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":425,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":421,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3643,"sizeDeletions":-15},{"number":"12","revision":"3ea7de659c8337b05e8132d1ce1f21cf667922ac","parents":["a8f4b57ba3fcf56c96a8cfc9e63c1abfd0b1625b"],"ref":"refs/changes/93/1293/12","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1490091853,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":425,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":421,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3643,"sizeDeletions":-15},{"number":"13","revision":"3bca1d827ded6ee86c538bb31efa7d55249228f1","parents":["33ff58c3d3d5573904c08010a24dc232ba3c346a"],"ref":"refs/changes/93/1293/13","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1491268120,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":425,"deletions":-1},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":421,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3643,"sizeDeletions":-15},{"number":"14","revision":"cd229fea5bf7f2ae8463b45b5994345e9c28cd89","parents":["8493c52be3cc71b110bc5d08d4531032f5a282b8"],"ref":"refs/changes/93/1293/14","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1492593306,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":421,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3642,"sizeDeletions":-14},{"number":"15","revision":"b75710da655dc5cd38793b352691c43e495f5f8e","parents":["9f17d668c987b9db4a1507837094d6d474397271"],"ref":"refs/changes/93/1293/15","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1498732374,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":421,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3642,"sizeDeletions":-14},{"number":"16","revision":"20f70fc90b507991a9c8afc8ec925cb946d52c80","parents":["87b196ac314ed791ff8c724509d29560bda95bb7"],"ref":"refs/changes/93/1293/16","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1499195798,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":421,"deletions":-2},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3642,"sizeDeletions":-14},{"number":"17","revision":"06b8d7c054784bfce2715b4809431f1bf46e6318","parents":["dc1b6c75b72c5413f16a49d324321ab3c0607f05"],"ref":"refs/changes/93/1293/17","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1500975176,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":420,"deletions":-1},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3641,"sizeDeletions":-13},{"number":"18","revision":"9788fdb29f678e17b4b26eaa05712cf8098ea478","parents":["c56d0a25da0f70ed9c2f91ce2f6f361cb6ef5f29"],"ref":"refs/changes/93/1293/18","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1502104559,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1489115528,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":161,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":117,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":420,"deletions":-1},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3641,"sizeDeletions":-13},{"number":"19","revision":"dc72f179517377837f525ed6a9efe5d920b4e592","parents":["8438f446cc4e5fc129ad06bfc7bc517a0c568eb3"],"ref":"refs/changes/93/1293/19","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1504830124,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1504830155,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":150,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":164,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":120,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":420,"deletions":-1},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3646,"sizeDeletions":-12},{"number":"20","revision":"1098a192d45509d597a16e0cb07719f04ebc2467","parents":["8438f446cc4e5fc129ad06bfc7bc517a0c568eb3"],"ref":"refs/changes/93/1293/20","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1505437493,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505437534,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/cloudapi2.js","line":369,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is \"opts\" used?"},{"file":"lib/cloudapi2.js","line":374,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/cloudapi2.js","line":384,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Do we use snake case here for \"default_network\" because that\u0027s how it\u0027s exposed by CloudAPI? Shouldn\u0027t we use camel case instead to be consistent, since it\u0027s the name of a property?\n\nAlso, is the default network the only value stored in an account\u0027s configuration? If not, would it make more sense to have an \"updateDefaultFabricNetwork\" method?"},{"file":"lib/cloudapi2.js","line":433,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: drop the (specifically: ...), and just keep \"Creates a network on a fabric VLAN\"."},{"file":"lib/cloudapi2.js","line":459,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert that \"cb\" is a function?"},{"file":"lib/cloudapi2.js","line":470,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/cloudapi2.js","line":539,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert on \"cb\" being a function?"},{"file":"lib/cloudapi2.js","line":544,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this function."},{"file":"lib/cloudapi2.js","line":545,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: using curly braces for if statements whose body has only one line seems more consistent with the rest of the code base."},{"file":"lib/cloudapi2.js","line":553,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this function."},{"file":"lib/cloudapi2.js","line":591,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this function."},{"file":"lib/cloudapi2.js","line":617,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Typo in \"opts.rule\"?"},{"file":"lib/cloudapi2.js","line":622,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: in general, I would suggest to just name all the callbacks that are currently not named."},{"file":"lib/cloudapi2.js","line":1724,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What happens if CloudAPI misses the changes that fix PUBAPI-1216?"},{"file":"lib/cloudapi2.js","line":1732,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Missing assert on \"cb\" being a function?"},{"file":"lib/cloudapi2.js","line":1830,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should the caller be able to supply a timeout toi avoid waiting forever in case the given nic doesn\u0027t transition to the desired state?"},{"file":"lib/cloudapi2.js","line":1841,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Just thinking out loud: this makes a value of \"0\" valid and default to 1000. Is this intentional? Instead we could assert on a value of 0, which would make the behavior of this function a tiny bit more explicit.\n\nEDIT: just saw the assert below, maybe we could move it to be run before the assignment?"},{"file":"lib/do_instance/do_nic/do_create.js","line":20,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we also assert on \"subcmd\"?"},{"file":"lib/do_instance/do_nic/do_create.js","line":21,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is that supported since PUBAPI-1216 seems to not be resolved? Or is it something different?"},{"file":"lib/do_instance/do_nic/do_create.js","line":48,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on all three parameters."},{"file":"lib/do_instance/do_nic/do_create.js","line":60,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on all three parameters."},{"file":"lib/do_instance/do_nic/do_create.js","line":79,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Just so I understand better what\u0027s going on: Is that really sdc-cloudapi\u0027s behavior? Should it ideally return an error in this case?"},{"file":"lib/do_instance/do_nic/do_create.js","line":87,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces."},{"file":"lib/do_instance/do_nic/do_create.js","line":141,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What about Cody\u0027s comment in PUBAPI-1292 that says:\n\n\u003e I suppose that this would also affect triton instance nic create/update: there should be a way to specify either a single IPv4 network, a single IPv6 network, or both. There will also need to be a way to request multiple addresses on the specified networks. So I should be able to create a NIC that will have 4 IPv6 addresses, and then update it later to also have 3 IPv4 addresses.\n\n?"},{"file":"lib/do_instance/do_nic/do_delete.js","line":22,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we also assert on \"subcmd\"?"},{"file":"lib/do_instance/do_nic/do_delete.js","line":74,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on parameters."},{"file":"lib/do_instance/do_nic/do_delete.js","line":84,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: should console output be done by the caller instead?"},{"file":"lib/do_instance/do_nic/do_list.js","line":20,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What about Cody\u0027s comment at https://devhub.joyent.com/jira/browse/PUBAPI-1292:\n\n\u003e I do have thoughts on the the output of triton instance nic list:\nInstead of showing an ip field and netmask field, I\u0027d like us to print an ips field with each IP address written in CIDR notation with their subnet\u0027s prefix length.\nInstead of showing a gateway field, I\u0027d like to have a gateways array field\n\n?"},{"file":"lib/do_instance/do_nic/do_list.js","line":87,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is this just replacing the long network ID with the short ID? If so is it safe to do?"},{"file":"lib/do_instance/do_nic/do_list.js","line":115,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we assert on \"netmask\"\u0027s type?\n\nAlso, it would not hurt to document the expected format of \"netmask\" and the format of the output."},{"file":"lib/do_network/do_create.js","line":165,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Am I understanding correctly that triton users will thus only be able to create networks on fabrics\u0027 VLANs and will never be able to create other types of networks?\n\nIf so, isn\u0027t it confusing that triton network list can list all types of networks, but triton network create can only create networks on fabrics\u0027 VLANs?"},{"file":"lib/do_network/do_create.js","line":173,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Isn\u0027t this missing the VLAN argument?"},{"file":"lib/do_network/do_set_default.js","line":51,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Shouldn\u0027t it be \"defaultnetwork\" without the underscore? I thought \"default_network\" is how it\u0027s stored in UFDS. For instance, the UpdateConfig handler seems to refer to \"params.defaultnetwork\" at https://github.com/joyent/sdc-cloudapi/blob/master/lib/config.js#L106.\n\nAnother question is: it seems this default network is used as a default *fabric* network by at least sdc-docker (see https://github.com/joyent/sdc-docker/blob/master/lib/backends/sdc/containers.js#L709-L749). However this implementation seems to suggest that this is about setting a default network in general, regardless of it being a fabric network. Is it because this is implied and understood by all users, or am I missing something?"},{"file":"lib/do_vlan/do_create.js","line":41,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Using just the unary \"+\" operator seems a bit brittle and like it would lead to poor UX. For instance, I\u0027m wondering what error message is outputted when the user passes a string that is not a number on the command line as the vlan argument?\n\nWould performing some client side validation using the new jsprim.parseInteger function (https://www.npmjs.com/package/jsprim#parseintegerstr-options) help?"},{"file":"lib/do_vlan/do_create.js","line":110,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should the help mention this is about *fabric* VLANs? Also, the command is \"triton vlan create\", but I\u0027m wondering if it\u0027d be less confusing to rename the \"vlan\" command to \"fabric-vlan\" (although it\u0027d be a mouthful)?"},{"file":"lib/do_vlan/do_delete.js","line":22,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What about asserting on the rest of the parameters?"},{"file":"lib/do_vlan/do_list.js","line":26,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on other parameters?"},{"file":"lib/do_vlan/do_list.js","line":43,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces?"},{"file":"lib/do_vlan/do_list.js","line":62,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback and the one below."},{"file":"lib/do_vlan/do_list.js","line":115,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is there a plan to have those filters available server side?"},{"file":"lib/do_vlan/do_update.js","line":20,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Blank line between module declarations and other declarations?"},{"file":"lib/do_vlan/do_update.js","line":92,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we listen on process.stdin error events too?"},{"file":"lib/do_vlan/do_update.js","line":108,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on ctx.data?"},{"file":"lib/do_vlan/do_update.js","line":142,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":285,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: assert on \"arg\" itself and \"next\"?"},{"file":"lib/tritonapi.js","line":294,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback?"},{"file":"lib/tritonapi.js","line":322,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":325,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":327,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":337,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":345,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after next();"},{"file":"lib/tritonapi.js","line":994,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":1976,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: alphabetize variables declaration."},{"file":"lib/tritonapi.js","line":1991,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":1993,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What\u0027s the use case?"},{"file":"lib/tritonapi.js","line":1999,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this callback."},{"file":"lib/tritonapi.js","line":2029,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Same question, what\u0027s the use case?"},{"file":"lib/tritonapi.js","line":2034,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name callback."},{"file":"lib/tritonapi.js","line":2067,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"ditto."},{"file":"lib/tritonapi.js","line":2072,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"ditto."},{"file":"test/integration/api-networks.test.js","line":95,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces."},{"file":"test/integration/api-networks.test.js","line":96,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: return after t.end();"},{"file":"test/integration/api-networks.test.js","line":99,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: rename err2 to \"delNetErr\"."},{"file":"test/integration/api-networks.test.js","line":103,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: rename err3 to \"getNetErr\""},{"file":"test/integration/api-networks.test.js","line":111,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What\u0027s the goal of this part of the test?"},{"file":"test/integration/api-nics.test.js","line":28,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should this be \"TritonApi nics\"?"},{"file":"test/integration/api-nics.test.js","line":40,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: curly braces."},{"file":"test/integration/api-vlans.test.js","line":27,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should this be \"TritonApi vlan\" or \"TritonApi vlans\"?"},{"file":"test/integration/cli-networks.test.js","line":44,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we create one instead? What happens if there\u0027s no vlan available?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/cli.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/cloudapi2.js","type":"MODIFIED","insertions":424,"deletions":0},{"file":"lib/do_instance/do_nic/do_create.js","type":"ADDED","insertions":156,"deletions":0},{"file":"lib/do_instance/do_nic/do_delete.js","type":"ADDED","insertions":124,"deletions":0},{"file":"lib/do_instance/do_nic/do_get.js","type":"ADDED","insertions":89,"deletions":0},{"file":"lib/do_instance/do_nic/do_list.js","type":"ADDED","insertions":164,"deletions":0},{"file":"lib/do_instance/do_nic/index.js","type":"ADDED","insertions":50,"deletions":0},{"file":"lib/do_instance/index.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/do_network/do_create.js","type":"ADDED","insertions":180,"deletions":0},{"file":"lib/do_network/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_network/do_get_default.js","type":"ADDED","insertions":78,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"lib/do_network/do_set_default.js","type":"ADDED","insertions":92,"deletions":0},{"file":"lib/do_network/index.js","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"lib/do_vlan/do_create.js","type":"ADDED","insertions":123,"deletions":0},{"file":"lib/do_vlan/do_delete.js","type":"ADDED","insertions":85,"deletions":0},{"file":"lib/do_vlan/do_get.js","type":"ADDED","insertions":88,"deletions":0},{"file":"lib/do_vlan/do_list.js","type":"ADDED","insertions":120,"deletions":0},{"file":"lib/do_vlan/do_networks.js","type":"ADDED","insertions":52,"deletions":0},{"file":"lib/do_vlan/do_update.js","type":"ADDED","insertions":195,"deletions":0},{"file":"lib/do_vlan/index.js","type":"ADDED","insertions":55,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":420,"deletions":-1},{"file":"test/integration/api-networks.test.js","type":"MODIFIED","insertions":55,"deletions":-5},{"file":"test/integration/api-nics.test.js","type":"ADDED","insertions":110,"deletions":0},{"file":"test/integration/api-vlans.test.js","type":"ADDED","insertions":107,"deletions":0},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":158,"deletions":-1},{"file":"test/integration/cli-nics.test.js","type":"ADDED","insertions":222,"deletions":0},{"file":"test/integration/cli-subcommands.test.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"test/integration/cli-vlans.test.js","type":"ADDED","insertions":376,"deletions":0},{"file":"test/integration/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":3652,"sizeDeletions":-12}],"allReviewers":[{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Joyent Automation","username":"joyent-automation"}]}