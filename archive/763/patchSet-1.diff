From 27f5dad48cb74aecec2b30bc4db306fdb06f1de3 Mon Sep 17 00:00:00 2001
From: Jerry Jelinek <jerry.jelinek@joyent.com>
Date: Fri, 21 Oct 2016 16:32:45 +0000
Subject: [PATCH] OS-5735 secflags changes break quine-relay

---
 usr/src/uts/common/exec/elf/elf.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/usr/src/uts/common/exec/elf/elf.c b/usr/src/uts/common/exec/elf/elf.c
index aa5d6dc05e..23c198897d 100644
--- a/usr/src/uts/common/exec/elf/elf.c
+++ b/usr/src/uts/common/exec/elf/elf.c
@@ -1583,9 +1583,6 @@ mapelfexec(
 	for (i = nphdrs; i > 0; i--) {
 		switch (phdr->p_type) {
 		case PT_LOAD:
-			if ((*intphdr != NULL) && (*uphdr == NULL))
-				return (0);
-
 			ptload = 1;
 			prot = PROT_USER;
 			if (phdr->p_flags & PF_R)
-- 
2.21.0

