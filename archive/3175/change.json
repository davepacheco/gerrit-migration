{"project":"joyent/illumos-joyent","branch":"master","topic":"IKEV2","id":"If0388698878810d34e50b5599ac405683e77adc7","number":"3175","subject":"libipsecutil: stringify functions","owner":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"url":"https://cr.joyent.us/3175","commitMessage":"libipsecutil: stringify functions\n","createdOn":1515461870,"lastUpdated":1518806148,"open":true,"status":"NEW","comments":[{"timestamp":1515461870,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 1."},{"timestamp":1515461890,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Topic set to IKEV2"},{"timestamp":1515513660,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Code-Review+1\n\nFix the copyright dates..."},{"timestamp":1515515721,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1:\n\nLook at print_sadb_msg(), see if you can/should get it to use these new functions."},{"timestamp":1515536975,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1515536981,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: -Code-Review -Integration-Approval"},{"timestamp":1515605146,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1:\n\nI should be able to -- though some of the strings are slightly different between the two (e.g. \u0027DELETE PAIR\u0027 in print_sadb_msg() vs. \u0027X_DELPAIR\u0027).  I have no opinion on one over the other (those two functions are using the values that I think came pretty much verbatim from the last public IKEv2 drop waaaaay back)."},{"timestamp":1515608786,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1:\n\n\u003e I should be able to -- though some of the strings are slightly\n \u003e different between the two (e.g. \u0027DELETE PAIR\u0027 in print_sadb_msg()\n \u003e vs. \u0027X_DELPAIR\u0027).  I have no opinion on one over the other (those\n \u003e two functions are using the values that I think came pretty much\n \u003e verbatim from the last public IKEv2 drop waaaaay back).\n\nYeah... I don\u0027t think anyone parses DUMP output.  (I could be wrong, though.)"},{"timestamp":1516947533,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1518801419,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 2."},{"timestamp":1518806148,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2: Code-Review+1\n\nI think you got all of the concerns covered.\n\nRobert --\u003e Definitions come from symbol names in net/pfkeyv2.h."}],"currentPatchSet":{"number":"2","revision":"f0388698878810d34e50b5599ac405683e77adc7","parents":["dcfabe727de41d525e4b2a94b88c62f519a259de"],"ref":"refs/changes/75/3175/2","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1518801419,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518806148,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.c","type":"MODIFIED","insertions":84,"deletions":-87},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.h","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libipsecutil/common/mapfile-vers","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":94,"sizeDeletions":-88},"patchSets":[{"number":"1","revision":"c6898bda4c51b46fb67e6f99024e51d94e92c4ce","parents":["dcfabe727de41d525e4b2a94b88c62f519a259de"],"ref":"refs/changes/75/3175/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1515461870,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/libipsecutil/common/ipsec_util.c","line":368,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Would you mind commenting on where these come from? Both because I want to be able to compare them, but also it\u0027s useful to know where the actual definitions come from.\n\nShould we make these static at a global level rather than a function level? It\u0027s not a pattern I\u0027m used to seeing."},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.c","line":385,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Similar questions about scope, etc."},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.c","line":398,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is there a reason that the two functions use different string formats for unknown values? Should these be identical?"},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.h","line":177,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should these be returning a const value?\n\nIs a truncated buffer the right behavior here? Should we have a way to communicate an error? This may  match existing behavior and be fine for the consumer. I\u0027m not 100% certain I understand all the surround."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.c","type":"MODIFIED","insertions":40,"deletions":-1},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.h","type":"MODIFIED","insertions":9,"deletions":0},{"file":"usr/src/lib/libipsecutil/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":51,"sizeDeletions":-1},{"number":"2","revision":"f0388698878810d34e50b5599ac405683e77adc7","parents":["dcfabe727de41d525e4b2a94b88c62f519a259de"],"ref":"refs/changes/75/3175/2","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1518801419,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1518806148,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.c","type":"MODIFIED","insertions":84,"deletions":-87},{"file":"usr/src/lib/libipsecutil/common/ipsec_util.h","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/lib/libipsecutil/common/mapfile-vers","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":94,"sizeDeletions":-88}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}]}