{"project":"joyent/sdc-cn-agent","branch":"master","id":"I52e08cba1349897bdf85763893eed2d6dbd35374","number":"5560","subject":"TRITON-1209 cn-agent command_execute timeout should return correct error code Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/5560","commitMessage":"TRITON-1209 cn-agent command_execute timeout should return correct error code\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1549684757,"lastUpdated":1550092699,"open":false,"status":"MERGED","comments":[{"timestamp":1549684757,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1549684759,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit d69cccc3a2950aefbc2e4b1b0c72d876ce58519e\n    \n    fix for mockcloud\n    \n    commit 0fd44fb633f4fc3ae6b369b7efd3e8ebe0bb65cc\n    \n    wip"},{"timestamp":1549922824,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1549956023,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1550010762,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1550010763,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 9bf03d4a56b0d1be2c37f32b94da510599c4fe11\n    \n    address review feedback"},{"timestamp":1550016240,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)"},{"timestamp":1550016380,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1550016494,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1550016495,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 44e6ff1f772ea0c7bb42d4d2422822c55597c0bc\n    \n    update based on CR feedback"},{"timestamp":1550016620,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1550017210,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1550017224,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"},{"timestamp":1550088820,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1:\n\n\"make check\" passed ok"},{"timestamp":1550089204,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1:\n\n\"make check\" passed ok"},{"timestamp":1550092235,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1550092699,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"4","revision":"52e08cba1349897bdf85763893eed2d6dbd35374","parents":["f4686cd81d5c392962383ecc270fd37a59ad44a3"],"ref":"refs/changes/60/5560/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1550017210,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550016620,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550016620,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1550017224,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"MODIFIED","insertions":15,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":27,"sizeDeletions":-19},"patchSets":[{"number":"1","revision":"08d9570a0ad6e407c21ab52b15dc086fd56d3e70","parents":["f4686cd81d5c392962383ecc270fd37a59ad44a3"],"ref":"refs/changes/60/5560/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1549684757,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","comments":[{"file":"lib/backends/smartos/tasks/command_execute.js","line":88,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Can\u0027t the \u0027writeFile\u0027 and \u0027makeExecutable\u0027 steps still fail?"},{"file":"lib/backends/smartos/tasks/command_execute.js","line":88,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Yes. Yes they can. Thanks."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"MODIFIED","insertions":17,"deletions":-13},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":29,"sizeDeletions":-21},{"number":"2","revision":"5e971a6ca8157047af72fc614958608080ab9fd8","parents":["f4686cd81d5c392962383ecc270fd37a59ad44a3"],"ref":"refs/changes/60/5560/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1550010762,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550016240,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"lib/backends/smartos/tasks/command_execute.js","line":68,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"why drop the func name here?"},{"file":"lib/backends/smartos/tasks/command_execute.js","line":68,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"That was unintentional."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"MODIFIED","insertions":15,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":27,"sizeDeletions":-19},{"number":"3","revision":"dff65fd50cad69d62f782396fe7b0994553bb26a","parents":["f4686cd81d5c392962383ecc270fd37a59ad44a3"],"ref":"refs/changes/60/5560/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1550016494,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550016620,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550016620,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"MODIFIED","insertions":15,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":27,"sizeDeletions":-19},{"number":"4","revision":"52e08cba1349897bdf85763893eed2d6dbd35374","parents":["f4686cd81d5c392962383ecc270fd37a59ad44a3"],"ref":"refs/changes/60/5560/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1550017210,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1550016620,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1550016620,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1550017224,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/backends/dummy/tasks/command_execute.js","type":"MODIFIED","insertions":10,"deletions":-7},{"file":"lib/backends/smartos/tasks/command_execute.js","type":"MODIFIED","insertions":15,"deletions":-11},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":27,"sizeDeletions":-19}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}