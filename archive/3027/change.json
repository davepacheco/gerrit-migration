{"project":"joyent/sdc-booter","branch":"master","id":"Icb3bf50387133f074d7f48d716bf447f33fb46c2","number":"3027","subject":"TRITON-21 sdc-booter `make test` fails on clean checkout TRITON-22 bring sdc-booter towards modern unit testing Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"url":"https://cr.joyent.us/3027","commitMessage":"TRITON-21 sdc-booter `make test` fails on clean checkout\nTRITON-22 bring sdc-booter towards modern unit testing\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1512161640,"lastUpdated":1512748628,"open":false,"status":"MERGED","comments":[{"timestamp":1512161640,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 1."},{"timestamp":1512161666,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1512161703,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1512161728,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1512427609,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\n(2 comments)"},{"timestamp":1512486607,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 3."},{"timestamp":1512486634,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1512486748,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 4."},{"timestamp":1512486774,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1512486798,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1512695219,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1512748563,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1512748628,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Chris Burroughs"}],"currentPatchSet":{"number":"5","revision":"a957c4076a757676bbb8f71a2bb563b0c02d6f29","parents":["f0634763aefa77f80d34f555de9bf3d8a40ddc50"],"ref":"refs/changes/27/3027/5","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512748563,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512486774,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1512695219,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1512695219,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1512748627,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"README.md","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/bootparams.test.js","type":"MODIFIED","insertions":78,"deletions":-93},{"file":"test/menulst.test.js","type":"MODIFIED","insertions":22,"deletions":-38}],"sizeInsertions":122,"sizeDeletions":-144},"patchSets":[{"number":"1","revision":"af5e732086cf8d0f23a55be72a1660e554a1be79","parents":["554cb97172454939e905fcc4d50e4b078eb3d19c"],"ref":"refs/changes/27/3027/1","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512161640,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512161666,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"README.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/bootparams.test.js","type":"MODIFIED","insertions":78,"deletions":-93},{"file":"test/menulst.test.js","type":"MODIFIED","insertions":22,"deletions":-38}],"sizeInsertions":121,"sizeDeletions":-143},{"number":"2","revision":"c04ca2a9138c12d0adb800b0c2fdf1761689124d","parents":["f0634763aefa77f80d34f555de9bf3d8a40ddc50"],"ref":"refs/changes/27/3027/2","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512161703,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512161666,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1512427609,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1512427609,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"README.md","line":8,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"copyright year"},{"file":"package.json","line":24,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Any reason to not use \"^4.8.0\". I was initially confused at using the \"^\" and the \".x\" syntax. node-semver\u0027s README has this to say:\n\n```\nWhen parsing caret ranges, a missing patch value desugars to the number 0, but will allow flexibility within that value, even if the major and minor versions are both 0.\n\n    ^1.2.x :\u003d \u003e\u003d1.2.0 \u003c2.0.0\n```\n\nwhich is still confusing for me. ;)"},{"file":"package.json","line":24,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"I can\u0027t recall what I intended by combining the two syntaxes, and what they would mean together now confuses me as well."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"README.md","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/bootparams.test.js","type":"MODIFIED","insertions":78,"deletions":-93},{"file":"test/menulst.test.js","type":"MODIFIED","insertions":22,"deletions":-38}],"sizeInsertions":121,"sizeDeletions":-143},{"number":"3","revision":"383fdec9738a661106116a0807279a6bdfc829eb","parents":["f0634763aefa77f80d34f555de9bf3d8a40ddc50"],"ref":"refs/changes/27/3027/3","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512486607,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512486634,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"README.md","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/bootparams.test.js","type":"MODIFIED","insertions":78,"deletions":-93},{"file":"test/menulst.test.js","type":"MODIFIED","insertions":22,"deletions":-38}],"sizeInsertions":122,"sizeDeletions":-144},{"number":"4","revision":"cb3bf50387133f074d7f48d716bf447f33fb46c2","parents":["f0634763aefa77f80d34f555de9bf3d8a40ddc50"],"ref":"refs/changes/27/3027/4","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512486748,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512486774,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1512695219,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1512695219,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"README.md","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/bootparams.test.js","type":"MODIFIED","insertions":78,"deletions":-93},{"file":"test/menulst.test.js","type":"MODIFIED","insertions":22,"deletions":-38}],"sizeInsertions":122,"sizeDeletions":-144},{"number":"5","revision":"a957c4076a757676bbb8f71a2bb563b0c02d6f29","parents":["f0634763aefa77f80d34f555de9bf3d8a40ddc50"],"ref":"refs/changes/27/3027/5","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1512748563,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512486774,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1512695219,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1512695219,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1512748627,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"README.md","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/bootparams.test.js","type":"MODIFIED","insertions":78,"deletions":-93},{"file":"test/menulst.test.js","type":"MODIFIED","insertions":22,"deletions":-38}],"sizeInsertions":122,"sizeDeletions":-144}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}]}