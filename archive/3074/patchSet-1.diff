commit 3686a089bb23407cca795d1973e1db484ede647e (refs/changes/74/3074/1)
Author: Rui Loura <rui@joyent.com>
Date:   2017-12-08T19:59:20+00:00 (1 year, 10 months ago)
    
    SAPI-298 remove network validation from SAPI

diff --git a/config/services/authcache/service.json b/config/services/authcache/service.json
index f497d81..3db06ab 100644
--- a/config/services/authcache/service.json
+++ b/config/services/authcache/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 1024
-	}
-}
+    "params": {
+        "ram": 1024,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/electric-moray/service.json b/config/services/electric-moray/service.json
index ce40041..7ba652b 100644
--- a/config/services/electric-moray/service.json
+++ b/config/services/electric-moray/service.json
@@ -1,7 +1,14 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 2048,
-		"mdata_exec_timeout": 3600
-	}
-}
+    "params": {
+        "ram": 2048,
+        "mdata_exec_timeout": 3600,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/jobpuller/service.json b/config/services/jobpuller/service.json
index c6e662d..ad1a200 100644
--- a/config/services/jobpuller/service.json
+++ b/config/services/jobpuller/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 256
-	}
-}
+    "params": {
+        "ram": 256,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/jobsupervisor/service.json b/config/services/jobsupervisor/service.json
index c6e662d..ad1a200 100644
--- a/config/services/jobsupervisor/service.json
+++ b/config/services/jobsupervisor/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 256
-	}
-}
+    "params": {
+        "ram": 256,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/loadbalancer/service.json b/config/services/loadbalancer/service.json
index 4aa0e35..b7b52f1 100644
--- a/config/services/loadbalancer/service.json
+++ b/config/services/loadbalancer/service.json
@@ -1,6 +1,16 @@
 {
-	"params": {
-		"networks": [ "external", "manta", "admin" ],
-		"ram": 512
-	}
-}
+    "params": {
+        "ram": 512,
+        "networks": [
+            {
+                "name": "external"
+            },
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/madtom/service.json b/config/services/madtom/service.json
index fa21752..62f8155 100644
--- a/config/services/madtom/service.json
+++ b/config/services/madtom/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 512
-	}
-}
+    "params": {
+        "ram": 512,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/marlin-dashboard/service.json b/config/services/marlin-dashboard/service.json
index c6e662d..ad1a200 100644
--- a/config/services/marlin-dashboard/service.json
+++ b/config/services/marlin-dashboard/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 256
-	}
-}
+    "params": {
+        "ram": 256,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/marlin/service.json b/config/services/marlin/service.json
index b796c87..0b51487 100644
--- a/config/services/marlin/service.json
+++ b/config/services/marlin/service.json
@@ -1,11 +1,15 @@
 {
-	"params": {
-		"networks": [ "mantanat" ],
-		"ram": 256,
-		"limit_priv": "default,-sys_admin",
-		"delegate_dataset": false,
-		"zfs_io_priority": 0,
-		"fs_allowed": "-",
-		"tmpfs": 0
-	}
-}
+    "params": {
+        "ram": 256,
+        "limit_priv": "default,-sys_admin",
+        "delegate_dataset": false,
+        "zfs_io_priority": 0,
+        "fs_allowed": "-",
+        "tmpfs": 0,
+        "networks": [
+            {
+                "name": "mantanat"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/medusa/service.json b/config/services/medusa/service.json
index fa21752..62f8155 100644
--- a/config/services/medusa/service.json
+++ b/config/services/medusa/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 512
-	}
-}
+    "params": {
+        "ram": 512,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/moray/service.json b/config/services/moray/service.json
index 2160cbc..f5a9efd 100644
--- a/config/services/moray/service.json
+++ b/config/services/moray/service.json
@@ -1,9 +1,16 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 256
-	},
-	"metadata": {
-		"MORAY_MAX_PG_CONNS": 16
-	}
-}
+    "params": {
+        "ram": 256,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    },
+    "metadata": {
+        "MORAY_MAX_PG_CONNS": 16
+    }
+}
\ No newline at end of file
diff --git a/config/services/nameservice/service.json b/config/services/nameservice/service.json
index fa21752..62f8155 100644
--- a/config/services/nameservice/service.json
+++ b/config/services/nameservice/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 512
-	}
-}
+    "params": {
+        "ram": 512,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/ops/service.json b/config/services/ops/service.json
index c6e662d..ad1a200 100644
--- a/config/services/ops/service.json
+++ b/config/services/ops/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 256
-	}
-}
+    "params": {
+        "ram": 256,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/postgres/service.json b/config/services/postgres/service.json
index 8a347c3..88e70c8 100644
--- a/config/services/postgres/service.json
+++ b/config/services/postgres/service.json
@@ -1,10 +1,17 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 2048,
-		"max_lwps": 256000
-	},
-	"metadata": {
-		"PG_DIR": "/manatee/pg/data"
-	}
-}
+    "params": {
+        "ram": 2048,
+        "max_lwps": 256000,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    },
+    "metadata": {
+        "PG_DIR": "/manatee/pg/data"
+    }
+}
\ No newline at end of file
diff --git a/config/services/propeller/service.json b/config/services/propeller/service.json
index c6e662d..ad1a200 100644
--- a/config/services/propeller/service.json
+++ b/config/services/propeller/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 256
-	}
-}
+    "params": {
+        "ram": 256,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/storage/service.json b/config/services/storage/service.json
index cbb0e94..c18e89c 100644
--- a/config/services/storage/service.json
+++ b/config/services/storage/service.json
@@ -1,8 +1,15 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 256,
-		"quota": 0,
-		"zfs_io_priority": 0
-	}
-}
+    "params": {
+        "ram": 256,
+        "quota": 0,
+        "zfs_io_priority": 0,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
diff --git a/config/services/webapi/service.json b/config/services/webapi/service.json
index 3b99536..a51e44e 100644
--- a/config/services/webapi/service.json
+++ b/config/services/webapi/service.json
@@ -1,6 +1,13 @@
 {
-	"params": {
-		"networks": [ "manta", "admin" ],
-		"ram": 768
-	}
-}
+    "params": {
+        "ram": 768,
+        "networks": [
+            {
+                "name": "manta"
+            },
+            {
+                "name": "admin"
+            }
+        ]
+    }
+}
\ No newline at end of file
