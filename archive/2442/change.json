{"project":"joyent/smartos-live","branch":"master","id":"Iecb292cc3719695d2b27617ddee9cab1895d3e17","number":"2442","subject":"OS-6300 vmadm and vmadmd create zonecfg race Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e Approved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e","owner":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"url":"https://cr.joyent.us/2442","commitMessage":"OS-6300 vmadm and vmadmd create zonecfg race\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\nApproved by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1503430895,"lastUpdated":1507047837,"open":false,"status":"MERGED","comments":[{"timestamp":1503430895,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 1."},{"timestamp":1503430898,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit ec5af5fbf6d1e3919ba27eb45bb6a6cbd686414a\n    \n    initial commit"},{"timestamp":1503430938,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1503431509,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1503505637,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 2."},{"timestamp":1503505641,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit c0d1a04a0a93596de62b0dd63668c303a1733f64\n    \n    change file to stdin"},{"timestamp":1503505677,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1505838774,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 3."},{"timestamp":1505838778,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 62a67a8b53d9b56bcc33a730542f962d367ed37a\n    \n    care about zonecfg unlock error if it happens"},{"timestamp":1505838816,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1506370405,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1506372099,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1506372135,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1506372180,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1506372276,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 5."},{"timestamp":1506372280,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 0dcf294093182870bd26ec35380f6328775295ed\n    \n    cb -\u003e callback, cb2 -\u003e cb"},{"timestamp":1506372317,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1506372347,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1506637731,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 6."},{"timestamp":1506637735,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 608ed4bd17a10df9499e9bf96c43504ea33a1b22\n    \n    zonecfg changes\n    \n    commit 151d3976e9bfef5613384d330ef9434ac3be1703\n    \n    cb -\u003e callback, cb2 -\u003e cb\n    \n    commit 00fdf6c49cace5991fb6f8344feb35c3ef375aa1\n    \n    care about zonecfg unlock error if it happens\n    \n    commit 9d5bf733dc3ccaf44e71b37a7dee520c747902e6\n    \n    change file to stdin\n    \n    commit 16fb012235149355b71d3155257330d2bf2c54b9\n    \n    initial commit"},{"timestamp":1506637774,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1506697889,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(1 comment)\n\nThe zonename/uuid update looks nice."},{"timestamp":1506700258,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1506700341,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1506700889,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 7."},{"timestamp":1506700894,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 773bf7b01334671a598b962c854d647f7a1ddb78\n    \n    zonecfg only take array of string"},{"timestamp":1506700940,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1506701292,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1506702411,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1506987642,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1\n\nThanks for doing this. It definitely cleans up the code too."},{"timestamp":1507047756,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 9: Patch Set 8 was rebased"},{"timestamp":1507047790,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 10: Commit message was updated."},{"timestamp":1507047798,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9:\n\n\"make check\" passed ok"},{"timestamp":1507047837,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Dave Eddy"}],"currentPatchSet":{"number":"10","revision":"ecb292cc3719695d2b27617ddee9cab1895d3e17","parents":["36a30993fae1390dad77542287c42ac987a4c95e"],"ref":"refs/changes/42/2442/10","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1507047790,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1506700940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506701292,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1507047837,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":83,"deletions":-119},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":163,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":64,"deletions":-54}],"sizeInsertions":312,"sizeDeletions":-173},"patchSets":[{"number":"1","revision":"fc42846e331e4c23533f757418dd5e9ba38e2e41","parents":["ed7577cb855337d9a93e66fa0eb73eb604fe8f04"],"ref":"refs/changes/42/2442/1","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1503430895,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1503430938,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/node_modules/VM.js","line":13399,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"change file to stdin"},{"file":"src/vm/node_modules/zonecfg.js","line":133,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"I\u0027m open to rethinking this approach"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":66,"deletions":-103},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":137,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":35,"deletions":-47}],"sizeInsertions":240,"sizeDeletions":-150},{"number":"2","revision":"64dce889d379eda1b5bf17d8f68dae2a00f7f810","parents":["ed7577cb855337d9a93e66fa0eb73eb604fe8f04"],"ref":"refs/changes/42/2442/2","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1503505637,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1503505677,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":68,"deletions":-105},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":137,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":35,"deletions":-47}],"sizeInsertions":242,"sizeDeletions":-152},{"number":"3","revision":"4742dd45d8f0b9ddc5eebd18e47b3f11717767f3","parents":["faa8f38c6c58e2324583d187f8fb89981fba1216"],"ref":"refs/changes/42/2442/3","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1505838774,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505838816,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/node_modules/VM.js","line":8606,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"The semi-redundant \u0027-u \u003czone uuid\u003e\u0027 or \u0027-z \u003czone name\u003e\u0027 inclusion for every call seems a little unfortunate, given that we\u0027re passing in the ID anyways.  1. Is there any concern that there\u0027d be a race between commands specifying zonename and zoneuuid? 2. What do you think about some sort of interface where the name/uuid is automatically converted into appropriate arguments during the call, rather than requiring the args be spelled out?  If the name/uuid distinction is necessary, maybe an boolean flag in the options (uuid: true)?"},{"file":"src/vm/node_modules/VM.js","line":8606,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"I agree that it is unfortunate.\n\n1. AFAIK all zones should have a zonename that is the same as the UUID property - if these differ I think a lot of other VM.js logic would break, unless I\u0027m missing something.  If that\u0027s the case, there shouldn\u0027t be any concern for a race wrt to using zonename vs zoneuuid\n\n2. I don\u0027t know, I worry about potentially overcomplicating the zonecfg.js library.  Specifying `{uuid: true}` or prefixing the args with `[\u0027-u\u0027, zonename]` both require the caller to know if `-u` or `-z` is appropriate.\n\n`-u` is pretty much preferred when possible. `-z` is only used 1. when the zone doesn\u0027t exist yet (ie. during create) or 2. when the zone is deleted, as marked by the comment below \"XXX for some reason -u \u003cuuid\u003e doesn\u0027t work with delete\".   I could see the library assuming `-u` but also allowing for `-z` to be specified - I don\u0027t really know personally what the best course of action is here."},{"file":"src/vm/node_modules/zonecfg.js","line":59,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Maybe name this \u0027callback\u0027 so you don\u0027t need \u0027cb2\u0027 for all the internal logic?"},{"file":"src/vm/node_modules/zonecfg.js","line":59,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":68,"deletions":-105},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":135,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":35,"deletions":-47}],"sizeInsertions":240,"sizeDeletions":-152},{"number":"4","revision":"9affa3fe999f75987470f727e03cbddf91c892e3","parents":["aa879239b6ea631bdad8ab48b52b09a262e17da4"],"ref":"refs/changes/42/2442/4","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1506372135,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1505838816,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":68,"deletions":-105},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":135,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":35,"deletions":-47}],"sizeInsertions":240,"sizeDeletions":-152},{"number":"5","revision":"91a7128b86b87610dc1585dfded41a9a40cd63e0","parents":["aa879239b6ea631bdad8ab48b52b09a262e17da4"],"ref":"refs/changes/42/2442/5","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1506372276,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1506372317,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/node_modules/zonecfg.js","line":65,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"@pmooney: interesting enough, I have this artifact leftover that doesn\u0027t seem to be used anywhere - it appears I may have already had the idea as well for this module to construct the proper arguments with -u or -z..."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":68,"deletions":-105},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":135,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":35,"deletions":-47}],"sizeInsertions":240,"sizeDeletions":-152},{"number":"6","revision":"3cd8cfd4ef58f015a223a35b38e50b75e3ebd6a4","parents":["f881d616c90f8aadceea775718696e0f4f8d0a34"],"ref":"refs/changes/42/2442/6","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1506637731,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1506637774,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/node_modules/zonecfg.js","line":90,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Style nit: I\u0027d be inclined to force this one way or the other - Either expecting array-of-strings from all callers, or plain strings.  It\u0027s probably not a huge deal from a correctness standpoint, but the strictness might help direct folks\u0027 attention down the road.  It\u0027s up to you."},{"file":"src/vm/node_modules/zonecfg.js","line":90,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Agreed - I was on the fence about allowing a string or array-of-strings for the args argument.  I\u0027ll leave it as an array-of-string to allow for cases where multiple arguments need to be supplied (ie. [\u0027delete\u0027, \u0027-f\u0027])"},{"file":"src/vm/node_modules/zonecfg.js","line":90,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Great.  The explicit approach seems better in the long run."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":83,"deletions":-119},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":169,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":40,"deletions":-52}],"sizeInsertions":294,"sizeDeletions":-171},{"number":"7","revision":"0a1fa53bc24690bfb92384056561725e039af0df","parents":["f881d616c90f8aadceea775718696e0f4f8d0a34"],"ref":"refs/changes/42/2442/7","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1506700889,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1506700940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506701292,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":83,"deletions":-119},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":163,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":64,"deletions":-54}],"sizeInsertions":312,"sizeDeletions":-173},{"number":"8","revision":"56a22bde003d437ba34ffe940fe7ee055830b829","parents":["f881d616c90f8aadceea775718696e0f4f8d0a34"],"ref":"refs/changes/42/2442/8","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1506702411,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1506700940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506701292,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":83,"deletions":-119},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":163,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":64,"deletions":-54}],"sizeInsertions":312,"sizeDeletions":-173},{"number":"9","revision":"056c6c6db38adfd3ef4b174eba65cc15915a1f8c","parents":["36a30993fae1390dad77542287c42ac987a4c95e"],"ref":"refs/changes/42/2442/9","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1507047756,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1506700940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506701292,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":83,"deletions":-119},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":163,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":64,"deletions":-54}],"sizeInsertions":312,"sizeDeletions":-173},{"number":"10","revision":"ecb292cc3719695d2b27617ddee9cab1895d3e17","parents":["36a30993fae1390dad77542287c42ac987a4c95e"],"ref":"refs/changes/42/2442/10","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1507047790,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1506700940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506701292,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1506987642,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1507047837,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"src/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/manifest","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":83,"deletions":-119},{"file":"src/vm/node_modules/zonecfg.js","type":"ADDED","insertions":163,"deletions":0},{"file":"src/vm/sbin/vmadmd.js","type":"MODIFIED","insertions":64,"deletions":-54}],"sizeInsertions":312,"sizeDeletions":-173}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}]}