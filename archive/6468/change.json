{"project":"joyent/boray","branch":"master","id":"Iafad39ca8bcb6339bc193a36befa9ec698bfe46c","number":"6468","subject":"MANTA-4361 Add object update handler to boray","owner":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"url":"https://cr.joyent.us/6468","commitMessage":"MANTA-4361 Add object update handler to boray\n","createdOn":1560970767,"lastUpdated":1561120166,"open":false,"status":"MERGED","comments":[{"timestamp":1560970767,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 1."},{"timestamp":1560970769,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 65873c8b5c9d2c36b589767dc558858dcaaac791\n    \n    MANTA-4361 Add object update handler to boray"},{"timestamp":1560970866,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/boray.xml\n cargo check\n     Checking boray v0.1.0 (/tmp/repo)\n error[E0658]: imports can only refer to extern crate names passed with `--extern` on stable channel (see issue #53130)\n   --\u003e src/main.rs:23:5\n    |\n 5  | pub mod config;\n    | --------------- not an extern crate passed with `--extern`\n ...\n 23 | use config::Config;\n    |     ^^^^^^\n    |\n note: this import refers to the module defined here\n   --\u003e src/main.rs:5:1\n    |\n 5  | pub mod config;\n    | ^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `boray`.\n \n To learn more, run the command again with --verbose.\n gmake: *** [deps/eng/tools/mk/Makefile.targ:269: check-rust] Error 101"},{"timestamp":1560979613,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 2."},{"timestamp":1560979615,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 37e7bfff5121fc10847faf82aa9128b3758456ba\n    \n    MANTA-4361 Add object update handler to boray"},{"timestamp":1560979711,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/boray.xml\n cargo check\n     Checking boray v0.1.0 (/tmp/repo)\n error[E0658]: imports can only refer to extern crate names passed with `--extern` on stable channel (see issue #53130)\n   --\u003e src/main.rs:23:5\n    |\n 5  | pub mod config;\n    | --------------- not an extern crate passed with `--extern`\n ...\n 23 | use config::Config;\n    |     ^^^^^^\n    |\n note: this import refers to the module defined here\n   --\u003e src/main.rs:5:1\n    |\n 5  | pub mod config;\n    | ^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `boray`.\n \n To learn more, run the command again with --verbose.\n gmake: *** [deps/eng/tools/mk/Makefile.targ:269: check-rust] Error 101"},{"timestamp":1561036207,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 3."},{"timestamp":1561036209,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 1c6a29503ebacda40e4dd2e4f3eb3b1052572430\n    \n    MANTA-4361 Add object update handler to boray"},{"timestamp":1561036312,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path deps/eng/tools/ --dtdvalid deps/eng/tools/service_bundle.dtd.1 smf/manifests/boray.xml\n cargo check\n     Checking boray v0.1.0 (/tmp/repo)\n error[E0658]: imports can only refer to extern crate names passed with `--extern` on stable channel (see issue #53130)\n   --\u003e src/main.rs:23:5\n    |\n 5  | pub mod config;\n    | --------------- not an extern crate passed with `--extern`\n ...\n 23 | use config::Config;\n    |     ^^^^^^\n    |\n note: this import refers to the module defined here\n   --\u003e src/main.rs:5:1\n    |\n 5  | pub mod config;\n    | ^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0658`.\n error: Could not compile `boray`.\n \n To learn more, run the command again with --verbose.\n gmake: *** [deps/eng/tools/mk/Makefile.targ:269: check-rust] Error 101"},{"timestamp":1561058245,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\n(1 comment)\n\n`cargo check` works on my machine :) looks good."},{"timestamp":1561065944,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1561120166,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kelly McLaughlin"}],"currentPatchSet":{"number":"3","revision":"afad39ca8bcb6339bc193a36befa9ec698bfe46c","parents":["ef59c3c0bdc0a2e91915274963e9cfbfb9ec459f"],"ref":"refs/changes/68/6468/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1561036207,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1561036312,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561058245,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561058245,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1561120166,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"comments":[{"file":"src/lib.rs","line":81,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"I thought you don\u0027t need a semicolon if the return is implicit, but do need one if the return is explicit? I could be wrong of course."},{"file":"src/lib.rs","line":81,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"So in this case it doesn\u0027t actually matter if we use a smicolon at the end or not, but only because it\u0027s a `return` expression. Normally the semicolon makes it so the result of the statement is basically replaced with a unit type result, but since `return` sets its argument as the return type and returns control to the caller it doesn\u0027t matter what the return type of the whole statement is so it works out fine either way. In this case the code builds fine with or without a semicolon on the end here."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/lib.rs","type":"MODIFIED","insertions":23,"deletions":-9},{"file":"src/object.rs","type":"MODIFIED","insertions":106,"deletions":-1},{"file":"src/sql.rs","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":75,"deletions":-2}],"sizeInsertions":208,"sizeDeletions":-14},"patchSets":[{"number":"1","revision":"192aeb832d7bf280ff7405400cdacfed3732c6df","parents":["ef59c3c0bdc0a2e91915274963e9cfbfb9ec459f"],"ref":"refs/changes/68/6468/1","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1560970767,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1560970866,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/lib.rs","type":"MODIFIED","insertions":23,"deletions":-9},{"file":"src/object.rs","type":"MODIFIED","insertions":107,"deletions":-1},{"file":"src/sql.rs","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":73,"deletions":-2}],"sizeInsertions":207,"sizeDeletions":-14},{"number":"2","revision":"faa61dfe3a16d31b619b11e8beebfa432a3aa1b2","parents":["ef59c3c0bdc0a2e91915274963e9cfbfb9ec459f"],"ref":"refs/changes/68/6468/2","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1560979613,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1560979711,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/lib.rs","type":"MODIFIED","insertions":23,"deletions":-9},{"file":"src/object.rs","type":"MODIFIED","insertions":107,"deletions":-1},{"file":"src/sql.rs","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":73,"deletions":-2}],"sizeInsertions":207,"sizeDeletions":-14},{"number":"3","revision":"afad39ca8bcb6339bc193a36befa9ec698bfe46c","parents":["ef59c3c0bdc0a2e91915274963e9cfbfb9ec459f"],"ref":"refs/changes/68/6468/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1561036207,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1561036312,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561058245,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561058245,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1561120166,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"comments":[{"file":"src/lib.rs","line":81,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"I thought you don\u0027t need a semicolon if the return is implicit, but do need one if the return is explicit? I could be wrong of course."},{"file":"src/lib.rs","line":81,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"So in this case it doesn\u0027t actually matter if we use a smicolon at the end or not, but only because it\u0027s a `return` expression. Normally the semicolon makes it so the result of the statement is basically replaced with a unit type result, but since `return` sets its argument as the return type and returns control to the caller it doesn\u0027t matter what the return type of the whole statement is so it works out fine either way. In this case the code builds fine with or without a semicolon on the end here."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/lib.rs","type":"MODIFIED","insertions":23,"deletions":-9},{"file":"src/object.rs","type":"MODIFIED","insertions":106,"deletions":-1},{"file":"src/sql.rs","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":75,"deletions":-2}],"sizeInsertions":208,"sizeDeletions":-14}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}]}