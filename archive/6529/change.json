{"project":"joyent/smartos-live","branch":"master","id":"Id4a098e3323c151f99533177a9d2417c840bd144","number":"6529","subject":"currently broken","owner":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"url":"https://cr.joyent.us/6529","commitMessage":"currently broken\n\nok 159 deleted VM: a0809b48-2088-c60a-dc40-950c2019097b\nnot ok 160 error creating VM: failed to obtain new refreservation\n  ---\n    type:    AssertionError\n    message: error creating VM: failed to obtain new refreservation\n    code:    ~\n    errno:   ~\n    file:    /usr/vm/node_modules/vasync/lib/vasync.js\n    line:    839\n    column:  15\n    stack:\n      - /usr/vm/test/tests/test-quota.js:234:23\n      - /usr/vm/node_modules/VM.js:11777:9\n      - next (/usr/vm/node_modules/vasync/lib/vasync.js:839:15)\n      - /usr/vm/node_modules/VM.js:11760:25\n      - _onZfsDestroy (/usr/vm/node_modules/VM.js:3791:21)\n      - /usr/vm/node_modules/VM.js:4194:13\n      - ChildProcess.exithandler (child_process.js:635:7)\n      - ChildProcess.EventEmitter.emit (events.js:98:17)\n      - maybeClose (child_process.js:743:16)\n    wanted:  true\n    found:   false\n  ...\nUncaught AssertionError: uuid (uuid) is required\n\nFROM\n_toss (/usr/node/0.10/node_modules/assert-plus.js:22:11)\nFunction.out.(anonymous function) [as uuid] (/usr/node/0.10/node_modules/assert-plus.js:122:17)\nzoneConfigLockpath (/usr/vm/node_modules/VM.js:18709:12)\nasync.series.vminfod.VminfodEventStream.name (/usr/vm/node_modules/VM.js:16286:24)\n/usr/node/0.10/node_modules/async.js:595:21\n/usr/node/0.10/node_modules/async.js:235:13\niterate (/usr/node/0.10/node_modules/async.js:142:13)\nasync.eachSeries (/usr/node/0.10/node_modules/async.js:158:9)\n_asyncMap (/usr/node/0.10/node_modules/async.js:234:9)\nObject.mapSeries (/usr/node/0.10/node_modules/async.js:224:23)\nObject.async.series (/usr/node/0.10/node_modules/async.js:593:19)\nObject.exports.update (/usr/vm/node_modules/VM.js:16284:11)\n_updateQuotaUp (/usr/vm/test/tests/test-quota.js:272:16)\nfn (/usr/node/0.10/node_modules/async.js:626:34)\nObject._onImmediate (/usr/node/0.10/node_modules/async.js:542:34)\nprocessImmediate [as _immediateCallback] (timers.js:330:15)\n","createdOn":1561936444,"lastUpdated":1561940249,"open":false,"status":"ABANDONED","comments":[{"timestamp":1561936444,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 1."},{"timestamp":1561936536,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1561940249,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Abandoned\n\noops, wrong directory"}],"currentPatchSet":{"number":"1","revision":"d4a098e3323c151f99533177a9d2417c840bd144","parents":["c4169c5afac261214a81f61e38ab03b667626ccd"],"ref":"refs/changes/29/6529/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1561936444,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561936536,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":50,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":72,"deletions":-44}],"sizeInsertions":72,"sizeDeletions":-44},"patchSets":[{"number":"1","revision":"d4a098e3323c151f99533177a9d2417c840bd144","parents":["c4169c5afac261214a81f61e38ab03b667626ccd"],"ref":"refs/changes/29/6529/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1561936444,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561936536,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":50,"deletions":0},{"file":"src/vm/node_modules/VM.js","type":"MODIFIED","insertions":72,"deletions":-44}],"sizeInsertions":72,"sizeDeletions":-44}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"}]}