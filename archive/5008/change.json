{"project":"joyent/illumos-joyent","branch":"master","id":"Ie6151003c8efce19988229b39ba3dbb5551dc6f1","number":"5008","subject":"OS-2340 vnics should support LSO OS-6778 MAC loopback traffic should avoid cksum work OS-6794 want LSO support in viona OS-7319 dangling ref in mac_sw_cksum() OS-7331 mac_sw_cksum() drops valid UDP traffic Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyen","owner":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"url":"https://cr.joyent.us/5008","commitMessage":"OS-2340 vnics should support LSO\nOS-6778 MAC loopback traffic should avoid cksum work\nOS-6794 want LSO support in viona\nOS-7319 dangling ref in mac_sw_cksum()\nOS-7331 mac_sw_cksum() drops valid UDP traffic\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nApproved by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\n","createdOn":1540836474,"lastUpdated":1541095168,"open":false,"status":"MERGED","comments":[{"timestamp":1540836474,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 1."},{"timestamp":1540836580,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 2."},{"timestamp":1540836654,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 3."},{"timestamp":1540836771,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 3:\n\nI did this in three stages:\n\npatch set 1: A revert of the revert in CR 4991.\npatch set 2: The patch for OS-7319.\npatch set 3: The patch for OS-7331."},{"timestamp":1540837383,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 3: Code-Review+1\n\nNeeds test results in the bug report (esp. for 7331)."},{"timestamp":1541011924,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1541032156,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 4."},{"timestamp":1541032177,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 4:\n\nFixed and retested."},{"timestamp":1541085399,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 4: Code-Review+1\n\nI\u0027m sorry I missed the leaks, and thank you for updating the testing information."},{"timestamp":1541093521,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1541093746,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 5."},{"timestamp":1541093764,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1541093803,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1541093839,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1541093865,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 5: Integration-Approval+1"},{"timestamp":1541093891,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 5: Code-Review+1 -Integration-Approval\n\nHit wrong button.  But ship it."},{"timestamp":1541094522,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1541095054,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1541095157,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1541095168,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Ryan Zezeski"}],"currentPatchSet":{"number":"7","revision":"e6151003c8efce19988229b39ba3dbb5551dc6f1","parents":["6382b25ab1c6dc8c5a3b13b52fa0389bfb4de681"],"ref":"refs/changes/08/5008/7","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1541095157,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093803,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093891,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1541095054,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1541095168,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1172,"deletions":-260},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1797,"sizeDeletions":-466},"patchSets":[{"number":"1","revision":"4c4c73121710e8280b66fc9226dc80dc3a7eefbf","parents":["1e5525cf6b00bbfe060cc5ddbb47cd59171ae49b"],"ref":"refs/changes/08/5008/1","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1540836474,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1154,"deletions":-246},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1779,"sizeDeletions":-452},{"number":"2","revision":"f61034d932393ab986a13c149adbf7a3b3c2f2a2","parents":["1e5525cf6b00bbfe060cc5ddbb47cd59171ae49b"],"ref":"refs/changes/08/5008/2","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1540836580,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1173,"deletions":-260},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1798,"sizeDeletions":-466},{"number":"3","revision":"6a2a95b2d091cad1a56d03ac22335d53e7198e31","parents":["1e5525cf6b00bbfe060cc5ddbb47cd59171ae49b"],"ref":"refs/changes/08/5008/3","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1540836654,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1540837383,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"comments":[{"file":"usr/src/uts/common/io/mac/mac_util.c","line":243,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Leaks skipped_hdr"},{"file":"usr/src/uts/common/io/mac/mac_util.c","line":306,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"These bail-outs have the potential to leak skipped_hdr."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1162,"deletions":-260},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1787,"sizeDeletions":-466},{"number":"4","revision":"c26bde9f5c55d65c876760953daca96b8a4fc121","parents":["1e5525cf6b00bbfe060cc5ddbb47cd59171ae49b"],"ref":"refs/changes/08/5008/4","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1541032156,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541085399,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"comments":[{"file":"usr/src/uts/common/io/mac/mac_util.c","line":176,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This should probably be \"\" to keep vsnprintf() in mac_drop_pkt() happy."},{"file":"usr/src/uts/common/io/mac/mac_util.c","line":176,"reviewer":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1172,"deletions":-260},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1797,"sizeDeletions":-466},{"number":"5","revision":"67f6dc8ff36aa6fe91d73784df4513ad5b8c2b7f","parents":["1e5525cf6b00bbfe060cc5ddbb47cd59171ae49b"],"ref":"refs/changes/08/5008/5","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1541093746,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093803,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093891,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"comments":[{"file":"usr/src/uts/common/io/mac/mac_util.c","line":176,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"My nit to keep vsnprintf happy if someone missed setting \u0027err\u0027"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1172,"deletions":-260},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1797,"sizeDeletions":-466},{"number":"6","revision":"64c79b0e0fa7b454ff4c69c327b52d3b751ca264","parents":["6382b25ab1c6dc8c5a3b13b52fa0389bfb4de681"],"ref":"refs/changes/08/5008/6","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1541094522,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093803,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1541095054,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093891,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1172,"deletions":-260},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1797,"sizeDeletions":-466},{"number":"7","revision":"e6151003c8efce19988229b39ba3dbb5551dc6f1","parents":["6382b25ab1c6dc8c5a3b13b52fa0389bfb4de681"],"ref":"refs/changes/08/5008/7","uploader":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"createdOn":1541095157,"author":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093803,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1541095054,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1541095168,"by":{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1541093891,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":14,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_input.c","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"usr/src/uts/common/inet/ip_impl.h","type":"MODIFIED","insertions":21,"deletions":-2},{"file":"usr/src/uts/common/io/bridge.c","type":"MODIFIED","insertions":149,"deletions":-43},{"file":"usr/src/uts/common/io/dls/dls_link.c","type":"MODIFIED","insertions":47,"deletions":0},{"file":"usr/src/uts/common/io/mac/mac.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_bcast.c","type":"MODIFIED","insertions":2,"deletions":-8},{"file":"usr/src/uts/common/io/mac/mac_client.c","type":"MODIFIED","insertions":54,"deletions":-23},{"file":"usr/src/uts/common/io/mac/mac_datapath_setup.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_flow.c","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_provider.c","type":"MODIFIED","insertions":13,"deletions":-6},{"file":"usr/src/uts/common/io/mac/mac_sched.c","type":"MODIFIED","insertions":46,"deletions":-59},{"file":"usr/src/uts/common/io/mac/mac_soft_ring.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/io/mac/mac_util.c","type":"MODIFIED","insertions":1172,"deletions":-260},{"file":"usr/src/uts/common/io/simnet/simnet.c","type":"MODIFIED","insertions":2,"deletions":-6},{"file":"usr/src/uts/common/io/vnic/vnic_dev.c","type":"MODIFIED","insertions":23,"deletions":0},{"file":"usr/src/uts/common/sys/mac.h","type":"MODIFIED","insertions":31,"deletions":-1},{"file":"usr/src/uts/common/sys/mac_client.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/sys/mac_client_impl.h","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"usr/src/uts/common/sys/mac_impl.h","type":"MODIFIED","insertions":14,"deletions":-3},{"file":"usr/src/uts/common/sys/pattr.h","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/uts/common/sys/vnic_impl.h","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/xen/io/xnb.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/uts/i86pc/io/viona/viona.c","type":"MODIFIED","insertions":180,"deletions":-40}],"sizeInsertions":1797,"sizeDeletions":-466}],"allReviewers":[{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Ryan Zezeski","email":"rpz@joyent.com","username":"rzezeski"}]}