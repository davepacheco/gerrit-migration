From b1b437e5ce85ae52d9423fa59ffb6313ad49c1f7 Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Fri, 23 Nov 2018 16:29:16 -0800
Subject: [PATCH] MANTA-4030 many images using node 0.10 or 0.12 broken by
 transitive lru-cache@4.1.4 dep

---
 package.json | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

diff --git a/package.json b/package.json
index 39d6d4f..7eebacf 100644
--- a/package.json
+++ b/package.json
@@ -1,10 +1,11 @@
 {
         "name": "mola",
         "description": "Manta Garbage Collection, Audit, etc",
-        "version": "1.0.1",
+        "version": "1.0.2",
         "author": "Joyent (joyent.com)",
         "license": "MPL-2.0",
         "private": true,
+        "// lru-cache": "attempting to pin version while satisfying transitive deps, because lru-cache@4.1.4 includes yallist@3 which breaks node --abort-on-uncaught-exception with node <v4",
         "dependencies": {
                 "assert-plus": "^1.0.0",
                 "bunyan": "1.2.1",
@@ -13,14 +14,15 @@
                 "forkexec": "^1.1.0",
                 "jsprim": "2.0.0",
                 "lstream": "0.0.4",
-                "once": "1.3.1",
+                "lru-cache": "4.1.3",
                 "manta-hk": "git+https://github.com/joyent/manta-hk.git#master",
-                "mahi": "2.0.1",
+                "mahi": "2.2.2",
                 "marlin": "git+https://github.com/joyent/manta-marlin.git#master",
                 "memorystream": "0.2.0",
-                "node-manta": "git+https://github.com/joyent/node-manta.git#master",
                 "manta-thoth": "git+https://github.com/joyent/manta-thoth#master",
                 "moray": "git+https://github.com/joyent/node-moray.git#fd5781bc25a9bfe2ba82167664639753fb9f0ca5",
+                "node-manta": "git+https://github.com/joyent/node-manta.git#master",
+                "once": "1.3.1",
                 "posix-getopt": "1.0.0",
                 "sprintf-js": "0.0.7",
                 "vasync": "2.1.0",
-- 
2.21.0

