{"project":"joyent/illumos-joyent","branch":"master","topic":"TRITON-885","id":"If65d832d24dc7ce3410fb9b6119472383567f60f","number":"5012","subject":"OS-7329 Want pluggable TCP congestion control algorithms Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Reviewed by: Robert Mustacchi \u003crobert.mustacchi@joyent.com\u003e Approved by: Robert Mustacchi \u003crobert.mustacchi@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/5012","commitMessage":"OS-7329 Want pluggable TCP congestion control algorithms\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nReviewed by: Robert Mustacchi \u003crobert.mustacchi@joyent.com\u003e\nApproved by: Robert Mustacchi \u003crobert.mustacchi@joyent.com\u003e\n","createdOn":1540918280,"lastUpdated":1565391257,"open":false,"status":"MERGED","comments":[{"timestamp":1540918280,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1540918316,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Topic set to TRITON-885"},{"timestamp":1544038874,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1544039094,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1549929607,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1550008708,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5."},{"timestamp":1550098858,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5:\n\n(10 comments)\n\nI didn\u0027t look too closely at the actual congestion logic that was in the algorithms. In general, this is good; however, I think that the way that congestion modules are listed and determined what loads or not probably could be improved. I think we probably want some way to indicate intent about what modules should be used by the system, regardless of which ones actively are. It\u0027s clear that\u0027s what the ipadm logic was trying to get at. I\u0027m not sure that mere presence in an architecture directory is the right way and more so, it\u0027s not going to work across architectures."},{"timestamp":1550528026,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 5:\n\n(8 comments)\n\nNot wholly done yet, but close."},{"timestamp":1550540214,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1550600827,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1550601585,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 5:\n\n(1 comment)"},{"timestamp":1553694821,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 5:\n\n(1 comment)\n\nGood news here..."},{"timestamp":1563483927,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 6."},{"timestamp":1563483994,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 6:\n\nDon\u0027t re-review this yet. Patchset 6 is just a non-trivial rebase that fixes conflicts with a bunch of copyright changes."},{"timestamp":1565028674,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 7."},{"timestamp":1565028943,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 7:\n\n(13 comments)\n\nI\u0027ve done some initial retesting with these changes, but I\u0027m going to go through everything in the ticket again."},{"timestamp":1565029404,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1565031145,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 7:\n\n(5 comments)\n\nTL;DR -\u003e be careful about using 32-bit ints when switching to nsec timing."},{"timestamp":1565207957,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 8: Patch Set 7 was rebased."},{"timestamp":1565208015,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 9."},{"timestamp":1565208105,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 9:\n\n(6 comments)"},{"timestamp":1565208638,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 9:\n\n(6 comments)\n\nFixed all of my patchset 7 comments.  Will need to take one more look before I +1 this."},{"timestamp":1565212352,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 9:\n\n(8 comments)\n\nThanks for going through and making the changes here. This looks pretty good. I have a few additional notes based on what\u0027s changed since the last time."},{"timestamp":1565220340,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 10."},{"timestamp":1565220386,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 10:\n\n(6 comments)"},{"timestamp":1565286530,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 10: Code-Review+1"},{"timestamp":1565289294,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 10: Code-Review+1\n\nThank you for your work here."},{"timestamp":1565390520,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 10: Integration-Approval+1"},{"timestamp":1565391234,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 11: Commit message was updated."},{"timestamp":1565391248,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 12: Patch Set 11 was rebased"},{"timestamp":1565391257,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"12","revision":"9cba20af356f81a5f469ca8aa89ed17ee827b6a6","parents":["b456ecdeb57b9ceefc89cd60f374f8fff83acf91"],"ref":"refs/changes/12/5012/12","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565391248,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565286530,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565289294,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565390520,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1565391256,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":214,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE.descrip","type":"ADDED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":200,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":180,"deletions":-66},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":78,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/ip/Makefile","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sparc/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/ip/Makefile","type":"MODIFIED","insertions":14,"deletions":-7}],"sizeInsertions":2630,"sizeDeletions":-128},"patchSets":[{"number":"1","revision":"db186afc502bb73ee9539c2a2533897c04686326","parents":["64c9970e2672af83a2f07a428ab8c0f06d43cc55"],"ref":"refs/changes/12/5012/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1540918280,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":44,"deletions":-2},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":212,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":163,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":427,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":223,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":179,"deletions":-65},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":55,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/sys/queue.h","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0}],"sizeInsertions":2411,"sizeDeletions":-124},{"number":"2","revision":"90c4bafc9338823a131c51500c1c7d21c5059715","parents":["c24e7a4984d8d12d4758f3a7616b01869893f06f"],"ref":"refs/changes/12/5012/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1544038874,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":44,"deletions":-2},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":212,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":163,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":427,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":223,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":179,"deletions":-65},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":55,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/sys/queue.h","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0}],"sizeInsertions":2411,"sizeDeletions":-124},{"number":"3","revision":"a72f9a17f1c180fb17673ab350b91056cc77a156","parents":["c24e7a4984d8d12d4758f3a7616b01869893f06f"],"ref":"refs/changes/12/5012/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1544039094,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":55,"deletions":-2},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":215,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":180,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":179,"deletions":-65},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":76,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/sys/queue.h","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0}],"sizeInsertions":2463,"sizeDeletions":-124},{"number":"4","revision":"8d54df97375fc935eba9169f361b290555a604b8","parents":["2b9de06ac534f51bb201ebf62dad3ee10511ccae"],"ref":"refs/changes/12/5012/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1549929607,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":55,"deletions":-2},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":215,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":180,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":179,"deletions":-65},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":76,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/sys/queue.h","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0}],"sizeInsertions":2463,"sizeDeletions":-124},{"number":"5","revision":"7366172afacab2e2a9d09e3031dd9ca907213c7c","parents":["3453cf547aaf37e055fc823b49ce02454f7d3066"],"ref":"refs/changes/12/5012/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1550008708,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"REWORK","comments":[{"file":"manifest","line":3079,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why is this being shipped? There\u0027s no user API here, right?"},{"file":"manifest","line":3079,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"I believe it was done to encourage people to develop their own CC algorithms (or port from FreeBSD) without needing to clone illumos.  People (esp. 3rd-parties) do build independent kernel modules."},{"file":"manifest","line":3079,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This isn\u0027t a public interface. Just because it\u0027s in the illumos IPS manifests, doesn\u0027t mean we should. If it\u0027s required for existing headers then we should keep it. We aren\u0027t making any promises about this being a DDI framework that we\u0027re going to keep API and ABI compatible."},{"file":"manifest","line":3079,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve removed this line. I don\u0027t think we need to support out-of-gate algorithms for now. If we decide at any point that that\u0027s something we\u0027d like to do, we can at that point decide whether to ship this header (or some other one)."},{"file":"manifest","line":3079,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Understood.  Be ready, however, to add it once you\u0027ve upstreamed this to -gate.  (You do have a timetable for that?)"},{"file":"manifest","line":3079,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027m not sure I understand why it should be added back when upstreamed, if the plan is to keep the interface consolidation private for the time being.\n\nMy plan is to upstream this after it\u0027s merged in illumos-joyent, and we\u0027ve cut a release."},{"file":"manifest","line":3079,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Ok."},{"file":"manifest","line":3079,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Right, we shouldn\u0027t ship this in illumos yet. We should just put it in the packaging exception list."},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","line":838,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is totally going to break on SPARC or any other platform that we have that\u0027s not x86 some day. THIs seems the wrong way to go about getting this. Is the problem that you can list a new algorithm by string that that\u0027ll trigger a module to be loaded? Is there a reason that the infrastructure for what should and shouldn\u0027t be loaded has basically been delegated to what one sets the property on?"},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","line":838,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve removed this special getter, and replaced it with the default one so that we always query the kernel for the available algorithms.\n\nI\u0027ve also removed the kernel code that tries to modload the algorithms when they\u0027re requested, and instead made the ip module depend on the three algorithms, so that they get loaded when the system first boots.\n\nI\u0027d initially thought about making a soconfig(1M)-style tool that would need to be run when the system comes up, but decided that that seemed unnecessary since we currently just have three algorithms, and they can all be loaded and used. If we end up adding many more algorithms (and maybe especially if we add any that aren\u0027t Internet-friendly), we can take a look at adding more configuration options."},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","line":838,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK. That seems like a reasonable path for the moment."},{"file":"usr/src/pkg/manifests/system-header.mf","line":411,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"If I lose the argument over in manifest, this file should not be altered either."},{"file":"usr/src/pkg/manifests/system-header.mf","line":411,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve removed the changes in this file."},{"file":"usr/src/uts/common/Makefile.files","line":123,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why does the congestion control core live in genunix and not as a part of the ip module? Is there something other than ip that would consume it? Especially since ip is the one that initializes this entirely."},{"file":"usr/src/uts/common/Makefile.files","line":123,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Doesn\u0027t IP have some weird-as-hell rules about exporting symbols? I can\u0027t recall WHY they\u0027re there, but I think Seb may have just taken the easy way out.\n\nHaving said that, I agree that in a perfect world, cc.o and its symbols should belong in IP. I wonder what fresh hell would surface if that was attempted?"},{"file":"usr/src/uts/common/Makefile.files","line":123,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I believe that this was initially placed in genunix since placing it in ip creates a cyclic dependency. The TCP initialization code loads the \"cc_sunreno\" module, which needs to be able to see the congestion control algorithm module registration functions. When cc.o is in ip, then the registration functions aren\u0027t visible until the ip module has fully loaded.\n\nI\u0027ve decided to move this out of genunix though, and into its own misc/cc module, which ip can depend on."},{"file":"usr/src/uts/common/Makefile.files","line":123,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"If any protocol not part of TCP/IP (and therefore not part of the IP module) would use this, then it should stay in genunix.\n\nI can\u0027t think of any protocol that wouldn\u0027t be part of IP, however, so I\u0027m voting for moving this into IP (and yes, this might mean exporting some more globals in usr/src/uts/$MACH/ip/*global-objs*."},{"file":"usr/src/uts/common/Makefile.files","line":123,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This can\u0027t go in ip, because it creates a cyclic module dependency. Before splitting it into misc/cc, I tried putting it in ip, and realized that it forms a cycle when it failed to boot.\n\nIf a non-TCP protocol wants to use this, then they can now depend on the misc/cc module."},{"file":"usr/src/uts/common/Makefile.files","line":123,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Ok."},{"file":"usr/src/uts/common/inet/cc/cc.c","line":103,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why do we only match on a substring here? If we were passed a name that was longer than CC_ALGO_NAME_MAX, shouldn\u0027t we reject that?"},{"file":"usr/src/uts/common/inet/cc/cc.c","line":103,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve added a check before this that verifies the name doesn\u0027t contain at least CC_ALGO_NAME_MAX characters."},{"file":"usr/src/uts/common/inet/cc/cc.c","line":120,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"If we overflow this, shouldn\u0027t that be an error?"},{"file":"usr/src/uts/common/inet/cc/cc.c","line":120,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve removed the module loading code as part of how I\u0027ve set up loading the algorithms modules."},{"file":"usr/src/uts/common/inet/cc/cc.c","line":163,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Shouldn\u0027t we verify that we have a null-terminated string in add_cc-\u003ename?"},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","line":105,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"If everything else is measuring the time in hrtime_t\u0027s why are we using lbolt here?"},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","line":105,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This is how the FreeBSD module does it, and Seb converted it to use ddi_get_lbolt() instead of their \"ticks\" symbol. Using nanoseconds in these measurements would probably be better though, to handle short RTTs better. I\u0027ve converted this module to use nanoseconds instead."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":36,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"I think we\u0027re going to need a THIRDPARTYLICENSE file for some of these."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":36,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":81,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Cubic is now RFC 8312. Maybe not a dealbreaker, but DEFINITELY a followup bug needs filing."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":84,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Oh boy.  ANY FP arithmetic in-kernel requires disabling thread preemption for the lifetime of the use of FP registers.  You\u0027ll have to pepper these in here OR make sure cc_cubic.c uses them."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":84,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I missed all this originally. The use of floating point in these contexts isn\u0027t going to be valid."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":84,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"AES uses FP registers (AES-NI) with kpreempt_disable()/kpreempt_enable() blocks.  The REALLY HARD problem is that we may need to do FP register save/restore.  It might behoove us, IF we keep this algorithm, to rewrite these in assembly (so we only need to save/restore the bare amount of FP registers we need)."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":84,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"The good news (Thanks Cody) is that these are reference functions, and not actually used.  I\u0027m not sure if these should be put in block-comments, if #0\u0027ed, or just kept here.  (I do worry a bit about unused function warnings.)"},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":84,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"This function isn\u0027t actually used in the module, but is, as I understand it, just meant to show what the theoretical calculation is. The cubic_k() one on line 131 is what gets used instead, and it doesn\u0027t use any floating point arithmetic."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":163,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"cc_landlord ?"},{"file":"usr/src/uts/common/inet/tcp/tcp.c","line":1477,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"We should make sure a full run with smatch doesn\u0027t barf because of this change."},{"file":"usr/src/uts/common/inet/tcp/tcp.c","line":1477,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I set smatch and gcc7 as shadow compilers, ran \"dmake clean; dmake install_h\" in usr/src/uts, and then ran \"dmake\" in usr/src/uts/intel/ip. It finished cleanly. I\u0027ll run a full smatch build after rebasing onto the OS-7790 changes. \n\nSeb removed one cast from one of this function\u0027s consumers. The latest patchset removes the other."},{"file":"usr/src/uts/common/inet/tcp/tcp.c","line":1477,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I reran ./configure to generate a new illumos.sh with a SHADOW_CCS containing GCC7 and smatch. I then clobbered everything, and ran a full, successful build."},{"file":"usr/src/uts/common/inet/tcp/tcp.c","line":1477,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Ok."},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","line":256,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I feel like we should be making sure that this name isn\u0027t longer than CC_ALGO_NAME_MAX and that it is null terminated before handing it off."},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","line":256,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I\u0027ve added a check at the start of cc_load_algo() that verifies that the name passed in doesn\u0027t contain CC_ALGO_NAME_MAX characters or more."},{"file":"usr/src/uts/intel/cc_cubic/Makefile","line":47,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Given that this loads newreno in its attach function it should probably depend on it. Unrelated, I believe this module should depend on ip, since it\u0027s basically relying on setting various structures that belong to ip."},{"file":"usr/src/uts/intel/cc_cubic/Makefile","line":47,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"ESPECIALLY if you move the cc.c framework into ip instead of genunix."},{"file":"usr/src/uts/intel/cc_cubic/Makefile","line":47,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","line":47,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is dereferencing the tcp_t, it probably deserves a dependency on ip."},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","line":47,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":55,"deletions":-2},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":215,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":180,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":179,"deletions":-65},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":76,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0}],"sizeInsertions":2453,"sizeDeletions":-119},{"number":"6","revision":"d5de27865b49102954a8fd1b72c0e4a595b1567c","parents":["889cb868c7e6156ca106a6be4f909af385e8f6ef"],"ref":"refs/changes/12/5012/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1563483927,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":55,"deletions":-2},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-header.mf","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":215,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":180,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":179,"deletions":-65},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":76,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0}],"sizeInsertions":2453,"sizeDeletions":-119},{"number":"7","revision":"1725f95148b922ced083f67565aec8f553af06d2","parents":["889cb868c7e6156ca106a6be4f909af385e8f6ef"],"ref":"refs/changes/12/5012/7","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565028674,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","line":152,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"is \"int\" big enough for nsec (2^31 holds slightly more than 2secs of nsec).  I\u0027d suggest hrtime_t, int64_t, or long."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","line":152,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Thanks for catching this. This should definitely be an hrtime_t since it\u0027s storing the result of operating on two hrtime_t values."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","line":152,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Thank you."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":175,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Looking at this again, I\u0027m realizing that the hz part of this might be problematic with the change to nanoseconds, although it doesn\u0027t seem to have impacted the tests I ran. I\u0027ll take a look at whether this needs to be altered or removed."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":175,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"While you\u0027re digging here, look at the return type.  As I say in cc_cubic.c, 32-bits isn\u0027t enough for more than 2sec, and some long-lived segments may exceed that time."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":175,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"The \"hz\" bit here is to convert the K seconds to ticks before comparing with ticks_since_cong, and then at the end convert the ticks to seconds. I\u0027ve updated this to convert K seconds to milliseconds, and I\u0027ve added a new variable t that contains nsecs_since_cong shifted and converted to milliseconds.\n\nThe return type is correct, since this function is calculating the congestion window, which is stored in the tcp_t as an unsigned 32-bit number (tcp_cwnd)."},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":175,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Okay, this makes sense, esp. since you caught my real concern in cc_cubic.c."},{"file":"usr/src/uts/intel/ip/Makefile","line":101,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Not a showstopper, but I\u0027m curious, are these strictly needed if the load-the-module logic is doing the right thing already?  (I can totally understand misc/cc being needed.)"},{"file":"usr/src/uts/intel/ip/Makefile","line":101,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Yes, these are needed because I removed the module loading logic from cc_load_algo(). This also ensures that cc/cc_sunreno is loaded before tcp_stack_init() tries to load it."},{"file":"usr/src/uts/intel/ip/Makefile","line":101,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Ok."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":214,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE.descrip","type":"ADDED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":187,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":180,"deletions":-66},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":78,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/cc/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/ip/Makefile","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/ip/Makefile","type":"MODIFIED","insertions":13,"deletions":-7}],"sizeInsertions":2608,"sizeDeletions":-127},{"number":"8","revision":"d411fbc7d21c9f46e075615ffbda402a2015e0c9","parents":["31891197ecb87e2742aca4828b47451926228841"],"ref":"refs/changes/12/5012/8","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565207957,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":214,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE.descrip","type":"ADDED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":187,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":208,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":180,"deletions":-66},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":78,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/cc/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/ip/Makefile","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/ip/Makefile","type":"MODIFIED","insertions":13,"deletions":-7}],"sizeInsertions":2608,"sizeDeletions":-127},{"number":"9","revision":"327b7d5df837dd5d201e3d428e799dbb5aba097a","parents":["31891197ecb87e2742aca4828b47451926228841"],"ref":"refs/changes/12/5012/9","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565208015,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/inet/cc/cc.c","line":119,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"We should probably comment that this is getting arguments that other parts of the stack haven\u0027t checked from userland. Basically this needs to assume name is a hostile value."},{"file":"usr/src/uts/common/inet/cc/cc.c","line":119,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"usr/src/uts/common/inet/cc/cc.c","line":165,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Shouldn\u0027t we be verifying that the name is valid to be looked up when here? While we have the character array with cc_name, if it doesn\u0027t have a null terminator, then we\u0027ll always fail to find it cc_load_algo(). We probably also want to reject a name that\u0027s just a single \u0027\\0\u0027."},{"file":"usr/src/uts/common/inet/cc/cc.c","line":165,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":189,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Don\u0027t we need MILLISEC to actually to be converted to a fixed point integer before we do any of this math? Otherwise isn\u0027t it going to be adjusting this incorrectly?"},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","line":189,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Since we\u0027re only doing division and multiplication with MILLISEC, it doesn\u0027t need to be converted. Since the shifts are effectively multiplying values by 2^CUBIC_SHIFT, it\u0027s only important for addition and subtraction, so that the shift can be factored out later on."},{"file":"usr/src/uts/intel/cc/Makefile","line":2,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"These lines aren\u0027t needed. Please match the prototype file."},{"file":"usr/src/uts/intel/cc/Makefile","line":2,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"},{"file":"usr/src/uts/sparc/Makefile.sparc","line":210,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Don\u0027t we need to add the cc module here?"},{"file":"usr/src/uts/sparc/Makefile.sparc","line":210,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Yes, we do. Added."},{"file":"usr/src/uts/sparc/cc/Makefile","line":1,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"See Intel note here."},{"file":"usr/src/uts/sparc/cc/Makefile","line":1,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":214,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE.descrip","type":"ADDED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":186,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":180,"deletions":-66},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":78,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/cc/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/ip/Makefile","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/sparc/cc/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/ip/Makefile","type":"MODIFIED","insertions":14,"deletions":-7}],"sizeInsertions":2623,"sizeDeletions":-128},{"number":"10","revision":"e14df74f91cb2b51a782f7269e058d0ae1131d82","parents":["31891197ecb87e2742aca4828b47451926228841"],"ref":"refs/changes/12/5012/10","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565220340,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565286530,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565390520,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565289294,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":214,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE.descrip","type":"ADDED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":200,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":180,"deletions":-66},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":78,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/ip/Makefile","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sparc/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/ip/Makefile","type":"MODIFIED","insertions":14,"deletions":-7}],"sizeInsertions":2630,"sizeDeletions":-128},{"number":"11","revision":"f65d832d24dc7ce3410fb9b6119472383567f60f","parents":["31891197ecb87e2742aca4828b47451926228841"],"ref":"refs/changes/12/5012/11","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565391234,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565286530,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565390520,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565289294,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":214,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE.descrip","type":"ADDED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":200,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":180,"deletions":-66},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":78,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/ip/Makefile","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sparc/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/ip/Makefile","type":"MODIFIED","insertions":14,"deletions":-7}],"sizeInsertions":2630,"sizeDeletions":-128},{"number":"12","revision":"9cba20af356f81a5f469ca8aa89ed17ee827b6a6","parents":["b456ecdeb57b9ceefc89cd60f374f8fff83acf91"],"ref":"refs/changes/12/5012/12","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1565391248,"author":{"name":"Sebastien Roy","email":"seb@delphix.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565286530,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565390520,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1565391256,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565289294,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"exception_lists/cstyle","type":"MODIFIED","insertions":4,"deletions":0},{"file":"exception_lists/hdrchk","type":"MODIFIED","insertions":2,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libipadm/common/ipadm_prop.c","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/man/man1m/ipadm.1m","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/pkg/manifests/system-kernel.mf","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/Makefile.targ","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/uts/Makefile.uts","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"usr/src/uts/common/inet/Makefile","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"usr/src/uts/common/inet/cc.h","type":"ADDED","insertions":214,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE","type":"ADDED","insertions":29,"deletions":0},{"file":"usr/src/uts/common/inet/cc/THIRDPARTYLICENSE.descrip","type":"ADDED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc.c","type":"ADDED","insertions":200,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.c","type":"ADDED","insertions":428,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_cubic.h","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_module.h","type":"ADDED","insertions":56,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_newreno.c","type":"ADDED","insertions":268,"deletions":0},{"file":"usr/src/uts/common/inet/cc/cc_sunreno.c","type":"ADDED","insertions":222,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/inet/tcp.h","type":"MODIFIED","insertions":7,"deletions":-3},{"file":"usr/src/uts/common/inet/tcp/tcp.c","type":"MODIFIED","insertions":28,"deletions":-5},{"file":"usr/src/uts/common/inet/tcp/tcp_input.c","type":"MODIFIED","insertions":180,"deletions":-66},{"file":"usr/src/uts/common/inet/tcp/tcp_output.c","type":"MODIFIED","insertions":15,"deletions":-4},{"file":"usr/src/uts/common/inet/tcp/tcp_timers.c","type":"MODIFIED","insertions":2,"deletions":-31},{"file":"usr/src/uts/common/inet/tcp/tcp_tunables.c","type":"MODIFIED","insertions":78,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_impl.h","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"usr/src/uts/common/inet/tcp_stack.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/intel/Makefile.intel","type":"MODIFIED","insertions":7,"deletions":0},{"file":"usr/src/uts/intel/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/intel/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/intel/ip/Makefile","type":"MODIFIED","insertions":8,"deletions":-2},{"file":"usr/src/uts/sparc/Makefile.sparc","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/uts/sparc/cc/Makefile","type":"ADDED","insertions":69,"deletions":0},{"file":"usr/src/uts/sparc/cc_cubic/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_newreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/cc_sunreno/Makefile","type":"ADDED","insertions":73,"deletions":0},{"file":"usr/src/uts/sparc/ip/Makefile","type":"MODIFIED","insertions":14,"deletions":-7}],"sizeInsertions":2630,"sizeDeletions":-128}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}