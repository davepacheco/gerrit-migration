From a8b794384822a52eea5ed3b2f192a780b7909609 Mon Sep 17 00:00:00 2001
From: Alex Wilson <alex.wilson@joyent.com>
Date: Fri, 29 Jul 2016 17:55:02 -0700
Subject: [PATCH] joyent/node-sshpk#12 x509 certificates not parseable by Go
 TLS Reviewed by: Cody Mello <cody.mello@joyent.com>

---
 lib/formats/x509.js | 2 +-
 package.json        | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/lib/formats/x509.js b/lib/formats/x509.js
index 34f70b8..a297540 100644
--- a/lib/formats/x509.js
+++ b/lib/formats/x509.js
@@ -393,7 +393,7 @@ function writeTBSCert(cert, der) {
 	der.writeInt(2);
 	der.endSequence();
 
-	der.writeBuffer(cert.serial, asn1.Ber.Integer);
+	der.writeBuffer(utils.mpNormalize(cert.serial), asn1.Ber.Integer);
 
 	der.startSequence();
 	der.writeOID(SIGN_ALGS[sig.algo]);
diff --git a/package.json b/package.json
index 98f3d6e..621a5a8 100644
--- a/package.json
+++ b/package.json
@@ -1,6 +1,6 @@
 {
   "name": "sshpk",
-  "version": "1.9.1",
+  "version": "1.9.2",
   "description": "A library for finding and using SSH public keys",
   "main": "lib/index.js",
   "scripts": {
-- 
2.21.0

