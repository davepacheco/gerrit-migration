{"project":"joyent/node-triton-netconfig","branch":"master","id":"I9dfa7512a2fc8ff6b9f8116edefeb9d1f1b033b4","number":"5386","subject":"TRITON-1094 isNet() functions should be more compatible with network pools TRITON-1157 add agentIpFromSysinfo to node-triton-netconfig Reviewed by: Robert Bogart \u003cRobert.bogart@joyent.com\u003e Approved by: Robert Bogart \u003cRobert.bogart@joyent.com\u003e","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/5386","commitMessage":"TRITON-1094 isNet() functions should be more compatible with network pools\nTRITON-1157 add agentIpFromSysinfo to node-triton-netconfig\nReviewed by: Robert Bogart \u003cRobert.bogart@joyent.com\u003e\nApproved by: Robert Bogart \u003cRobert.bogart@joyent.com\u003e\n","createdOn":1547843989,"lastUpdated":1548792914,"open":false,"status":"MERGED","comments":[{"timestamp":1547843989,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1547844017,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547846026,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2."},{"timestamp":1547846045,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547847321,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1548183886,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3."},{"timestamp":1548183928,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548184075,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1548184149,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3: Code-Review-1\n\nI don\u0027t think we should add the check for CN Agent IP to adminIpFromSysinfo(). We had discussed adding a new function netconfig.agentIpFromSysinfo(). As it\u0027s written we\u0027d always get \u0027CN Agent IP\u0027 even when we want \u0027Admin IP\u0027. \u0027CN Agent IP\u0027 is only needed when an API is trying to connect to an agent on the CN. Which is why I suggested a separate function."},{"timestamp":1548186154,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4."},{"timestamp":1548186180,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548186262,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 5."},{"timestamp":1548186291,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548186415,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5: -Code-Review"},{"timestamp":1548197521,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 6."},{"timestamp":1548197543,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548197586,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1548777590,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 7."},{"timestamp":1548777612,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548790257,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1548791231,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 8."},{"timestamp":1548791248,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1548792720,"reviewer":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1\n\nThank you for the added test case for `agentIpFromSysinfo()\u0027."},{"timestamp":1548792745,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 9: Commit message was updated."},{"timestamp":1548792914,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"9","revision":"9dfa7512a2fc8ff6b9f8116edefeb9d1f1b033b4","parents":["37eb9f934cd1c2c16d2ab40f331e91001452416c"],"ref":"refs/changes/86/5386/9","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548792745,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548791248,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548792720,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548792720,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"SUBM","value":"1","grantedOn":1548792914,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":49,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":187,"deletions":0}],"sizeInsertions":294,"sizeDeletions":-4},"patchSets":[{"number":"1","revision":"00c03b7a44bee8052969b97944e3606b4adea844","parents":["25c7bbd46f294852304f3d2b9ef1e7f9c0a32d6b"],"ref":"refs/changes/86/5386/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547843989,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547844017,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":30,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":29,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":67,"deletions":0}],"sizeInsertions":131,"sizeDeletions":-4},{"number":"2","revision":"7df1272cee31ad80d1df3a54a1735d111b73d7dd","parents":["25c7bbd46f294852304f3d2b9ef1e7f9c0a32d6b"],"ref":"refs/changes/86/5386/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547846026,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547846045,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1547847321,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"comments":[{"file":"test/unit/main.test.js","line":2,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Typo?"},{"file":"test/unit/main.test.js","line":2,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Oops.  Fixed."},{"file":"test/unit/main.test.js","line":60,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"It would be good to also have some positive tests for isNetAdmin()."},{"file":"test/unit/main.test.js","line":60,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":36,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":29,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":67,"deletions":0}],"sizeInsertions":137,"sizeDeletions":-4},{"number":"3","revision":"32b9d45eca76999149e098b0aec402f5e12cd8ac","parents":["25c7bbd46f294852304f3d2b9ef1e7f9c0a32d6b"],"ref":"refs/changes/86/5386/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548183886,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548183928,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1548184149,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":47,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":40,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":173,"deletions":0}],"sizeInsertions":265,"sizeDeletions":-5},{"number":"4","revision":"3edc44affaaeda7f6710abb98fc7ceec4522b257","parents":["25c7bbd46f294852304f3d2b9ef1e7f9c0a32d6b"],"ref":"refs/changes/86/5386/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548186154,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548186180,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1548184149,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":41,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":30,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":67,"deletions":0}],"sizeInsertions":143,"sizeDeletions":-5},{"number":"5","revision":"218867ea18bd4dc6819f7596f8ca73a672353d40","parents":["25c7bbd46f294852304f3d2b9ef1e7f9c0a32d6b"],"ref":"refs/changes/86/5386/5","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548186262,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548186291,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":41,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":29,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":67,"deletions":0}],"sizeInsertions":142,"sizeDeletions":-5},{"number":"6","revision":"0f611b196acb6517fd95e26a391257b5e05f2b52","parents":["25c7bbd46f294852304f3d2b9ef1e7f9c0a32d6b"],"ref":"refs/changes/86/5386/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548197521,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548197543,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":41,"deletions":-4},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":81,"deletions":0}],"sizeInsertions":159,"sizeDeletions":-5},{"number":"7","revision":"ce3c20b11b84dd44ef35df9b478bdb61dcf03855","parents":["37eb9f934cd1c2c16d2ab40f331e91001452416c"],"ref":"refs/changes/86/5386/7","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548777590,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548777612,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548790257,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548790257,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":32,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":187,"deletions":0}],"sizeInsertions":277,"sizeDeletions":-4},{"number":"8","revision":"79e5f529533dc42a92387c554269536131ff8bb1","parents":["37eb9f934cd1c2c16d2ab40f331e91001452416c"],"ref":"refs/changes/86/5386/8","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548791231,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548791248,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548792720,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548792720,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":49,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":187,"deletions":0}],"sizeInsertions":294,"sizeDeletions":-4},{"number":"9","revision":"9dfa7512a2fc8ff6b9f8116edefeb9d1f1b033b4","parents":["37eb9f934cd1c2c16d2ab40f331e91001452416c"],"ref":"refs/changes/86/5386/9","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1548792745,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1548791248,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1548792914,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1548792720,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1548792720,"by":{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/index.js","type":"MODIFIED","insertions":52,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/unit/main.test.js","type":"MODIFIED","insertions":49,"deletions":0},{"file":"test/unit/testdata.json","type":"MODIFIED","insertions":187,"deletions":0}],"sizeInsertions":294,"sizeDeletions":-4}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Robert Bogart","email":"Robert.bogart@joyent.com","username":"rhb2"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}]}