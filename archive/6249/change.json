{"project":"joyent/eng","branch":"master","id":"Id25b8fc60fb8c649559924870fe3aaf75e7421d5","number":"6249","subject":"TOOLS-2256 eng check target for rust code Reviewed by: Tim Foster \u003ctim.foster@joyent.com\u003e Approved by: Tim Foster \u003ctim.foster@joyent.com\u003e","owner":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"url":"https://cr.joyent.us/6249","commitMessage":"TOOLS-2256 eng check target for rust code\nReviewed by: Tim Foster \u003ctim.foster@joyent.com\u003e\nApproved by: Tim Foster \u003ctim.foster@joyent.com\u003e\n","createdOn":1557938306,"lastUpdated":1557944087,"open":false,"status":"MERGED","comments":[{"timestamp":1557938306,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 1."},{"timestamp":1557938309,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 2f9a31f010e77d9c3c823a7f01e5aed49ca612a4\n    \n    initial commit"},{"timestamp":1557938472,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 2."},{"timestamp":1557938475,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit dede5518fbd5b0c9c919ca52ea75952c05028258\n    \n    whoops, forgot this"},{"timestamp":1557939783,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1557943116,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\nThis looks good.\n\nOffline, we talked about whether $(RUST_CODE) was the most descriptive\nway of enrolling repositories in this check, since it\u0027s actually\nrunning \u0027$(CARGO) check\u0027. The rationale for this name was that\ntoday, we\u0027re only running \u0027cargo check\u0027, but perhaps in the future,\nwe may want to run other checks on rust code or binaries.\n\nOne question was whether we\u0027d ever have rust code that _wouldn\u0027t_ be\nusing cargo or would want to avoid running \u0027cargo check\u0027 but otherwise\nstill represent itself as rust code for some other reason.\n\nThat seems unlikely at the moment - we expect that the large majority\nof rust projects would be using cargo, so we decided to go for this\nfor now.\n\nRelated to this change, is TOOLS-2178. We need the deps/eng\nsubmodule in boray (and a bunch of other repos) in order to avail of\nthat fix - assuming there\u0027s a boray deps/eng bump as part of this\nticket, that\u0027ll bring in those changes for us."},{"timestamp":1557944079,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1557944087,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Dave Eddy"}],"currentPatchSet":{"number":"3","revision":"d25b8fc60fb8c649559924870fe3aaf75e7421d5","parents":["3186017e91e2b45aa9bc8698e2445b056bd5f3ab"],"ref":"refs/changes/49/6249/3","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1557944079,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557943116,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557943116,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"SUBM","value":"1","grantedOn":1557944087,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":12,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"d09cee6773933d956a3e793f754f480dc1552d0d","parents":["3186017e91e2b45aa9bc8698e2445b056bd5f3ab"],"ref":"refs/changes/49/6249/1","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1557938306,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":11,"deletions":0}],"sizeInsertions":11,"sizeDeletions":0},{"number":"2","revision":"d3f649f4c3f07334845149d321a8fee92bf94002","parents":["3186017e91e2b45aa9bc8698e2445b056bd5f3ab"],"ref":"refs/changes/49/6249/2","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1557938472,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557943116,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557943116,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"comments":[{"file":"tools/mk/Makefile.targ","line":105,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"I don\u0027t know if setting this explicitly is best, or if we should determine this automatically.  This can be done by checking for the existence of Cargo.toml at the root of the project."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":12,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-1},{"number":"3","revision":"d25b8fc60fb8c649559924870fe3aaf75e7421d5","parents":["3186017e91e2b45aa9bc8698e2445b056bd5f3ab"],"ref":"refs/changes/49/6249/3","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1557944079,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1557944087,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557943116,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557943116,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":12,"deletions":-1}],"sizeInsertions":12,"sizeDeletions":-1}],"allReviewers":[{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}]}