{"project":"joyent/manta","branch":"master","topic":"MANTA-3321","id":"Ide42d82152c804194f60690cc7025b152179f8de","number":"3200","subject":"MANTA-3321 Need public documentation for multipart uploads MANTA-3548 API docs lead users astray in generating MANTA_KEY_ID Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Reviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e Reviewed by: Brian Bennett ","owner":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"url":"https://cr.joyent.us/3200","commitMessage":"MANTA-3321 Need public documentation for multipart uploads\nMANTA-3548 API docs lead users astray in generating MANTA_KEY_ID\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nReviewed by: Kelly McLaughlin \u003ckelly.mclaughlin@joyent.com\u003e\nReviewed by: Brian Bennett \u003cbrian.bennett@joyent.com\u003e\nReviewed by: Richard Bradley \u003crichard.bradley@joyent.com\u003e\nApproved by: Brian Bennett \u003cbrian.bennett@joyent.com\u003e\n","createdOn":1515708512,"lastUpdated":1526403701,"open":false,"status":"MERGED","comments":[{"timestamp":1515708512,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 1."},{"timestamp":1515708514,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515708529,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Topic set to MANTA-3321"},{"timestamp":1515709883,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 2."},{"timestamp":1515709884,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515710460,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 3."},{"timestamp":1515710462,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1515799087,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 4."},{"timestamp":1515799088,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516139332,"reviewer":{"name":"Tomas Celaya","email":"tjcelaya@gmail.com","username":"tjcelaya"},"message":"Patch Set 4:\n\n(1 comment)\n\nLeft a comment on the general user guide list of top-level directories."},{"timestamp":1516140022,"reviewer":{"name":"Tomas Celaya","email":"tjcelaya@gmail.com","username":"tjcelaya"},"message":"Patch Set 4:\n\n(1 comment)\n\nFound a minor issue with the operator\u0027s guide caused by the section names being the same."},{"timestamp":1516223392,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4:\n\n(9 comments)"},{"timestamp":1516282589,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 4:\n\n(7 comments)"},{"timestamp":1516303909,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 4:\n\n(5 comments)"},{"timestamp":1516397156,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 5."},{"timestamp":1516397159,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516397649,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 5:\n\n(23 comments)\n\nThanks for your thoughtful reviews! I believe I addressed all of your comments; please let me know if I missed something.\n\nYou can find rendered versions of this change including PS4 here:\n- operator\u0027s guide: https://us-east.manta.joyent.com/jhendricks/public/MANTA-3321/operator-guide/operator-guide.html\n- home page for API docs: https://us-east.manta.joyent.com/jhendricks/public/MANTA-3321/manta-docs/index.html"},{"timestamp":1516409342,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Code-Review+1\n\n(4 comments)"},{"timestamp":1516712494,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1516724717,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1525302801,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 6."},{"timestamp":1525302803,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525302884,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 6:\n\nPS 6 is a non-trivial rebase with docs/operator-guide.md."},{"timestamp":1525390063,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 6:\n\n(2 comments)"},{"timestamp":1526292579,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 6: Code-Review+1\n\nPS5 to PS6 delta LGTM!"},{"timestamp":1526323976,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 7."},{"timestamp":1526323978,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526324003,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 7:\n\n(2 comments)"},{"timestamp":1526326633,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1526398697,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1526400692,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1526402880,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 8: Patch Set 7 was rebased"},{"timestamp":1526402883,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1526403377,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 9."},{"timestamp":1526403379,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9:\n\n\"make check\" passed ok"},{"timestamp":1526403612,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 10: Patch Set 9 was rebased."},{"timestamp":1526403615,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1526403701,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jordan Hendricks"}],"currentPatchSet":{"number":"10","revision":"de42d82152c804194f60690cc7025b152179f8de","parents":["6df699add1d254f233203077a4ff404da75b3e6b"],"ref":"refs/changes/00/3200/10","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1526403612,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526323978,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526326633,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526398697,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526400692,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"SUBM","value":"1","grantedOn":1526403701,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":110,"deletions":-6},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":225,"deletions":0}],"sizeInsertions":340,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"4a63f2648d0cd719fcd1d1d82933cf24a6a7f192","parents":["7b09d79de3734a79896995c6b71e2005618bfeac"],"ref":"refs/changes/00/3200/1","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1515708512,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515708514,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":202,"deletions":0}],"sizeInsertions":206,"sizeDeletions":-1},{"number":"2","revision":"ed9af5d2d859a923afe20b50246ed084f88722ee","parents":["7b09d79de3734a79896995c6b71e2005618bfeac"],"ref":"refs/changes/00/3200/2","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1515709883,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515709884,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":202,"deletions":0}],"sizeInsertions":206,"sizeDeletions":-1},{"number":"3","revision":"dd272fa9749d12b674dcda431fcabc6a3ecd7e8a","parents":["7b09d79de3734a79896995c6b71e2005618bfeac"],"ref":"refs/changes/00/3200/3","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1515710460,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515710462,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":202,"deletions":0}],"sizeInsertions":206,"sizeDeletions":-1},{"number":"4","revision":"ed66db6b9ab92bcb16a0159ad989d2b2d9c79c2a","parents":["7b09d79de3734a79896995c6b71e2005618bfeac"],"ref":"refs/changes/00/3200/4","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1515799087,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1515799088,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/operator-guide.md","line":511,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\"Muskie\""},{"file":"docs/operator-guide.md","line":511,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/operator-guide.md","line":514,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"nit: either \"bucket in Moray\" or \"table in Postgres\"?"},{"file":"docs/operator-guide.md","line":514,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/operator-guide.md","line":521,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This level of detail seems more appropriate for the internals section later in the document.  (We don\u0027t seem to have much discussion of the corresponding details of object PUTs today in this section.)"},{"file":"docs/operator-guide.md","line":521,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Are you suggesting adding a new section for multipart upload internals? (The only \"internals\" section I see is for Marlin.)"},{"file":"docs/operator-guide.md","line":521,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Yeah, basically.  But not necessarily adding more content -- just putting this there.  (It\u0027s not a big deal, but this content is a little deeper than I think most operators probably need to know unless they\u0027re digging into issues, and I think that sort of content mostly appears in the later sections in this guide.)"},{"file":"docs/operator-guide.md","line":541,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\"cleaning\"?"},{"file":"docs/operator-guide.md","line":541,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Reworded."},{"file":"docs/operator-guide.md","line":996,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Very nitty, but this got misaligned now."},{"file":"docs/operator-guide.md","line":996,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I\u0027m not sure I see that. Are you seeing this in the html version?"},{"file":"docs/operator-guide.md","line":996,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"No, in the raw text.  It\u0027s just the pipe in the last column."},{"file":"docs/operator-guide.md","line":1903,"reviewer":{"name":"Tomas Celaya","email":"tjcelaya@gmail.com","username":"tjcelaya"},"message":"Minor issue: this section has the same name as the one in \"Architecture basics\" so the the sidebar highlights that section when reading this part. Clicking the sidebar link works though so the link itself is fine, only the current-section highlighting is broken."},{"file":"docs/operator-guide.md","line":1903,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Good catch! I\u0027ve renamed it so the highlighting will work."},{"file":"docs/operator-guide.md","line":1922,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Instead of just \"...in a Manta\" how about \"..in a Manta deployment\" to match the language from the preceding example?"},{"file":"docs/operator-guide.md","line":1922,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/operator-guide.md","line":1946,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Rewrap."},{"file":"docs/operator-guide.md","line":1946,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/index.md","line":137,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"This change works for me in setting a key id, but the previous incantation also works. Any specific reason for changing?"},{"file":"docs/user-guide/index.md","line":137,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"This way ensures the key is in MD5 format, which means it will work with the example way to use the API in the REST API section. (This is for the other ticket in this change: MANTA-3548)."},{"file":"docs/user-guide/index.md","line":244,"reviewer":{"name":"Tomas Celaya","email":"tjcelaya@gmail.com","username":"tjcelaya"},"message":"Would it make sense to include the uploads folder in this list of top-level directories?"},{"file":"docs/user-guide/index.md","line":244,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Definitely! Good catch."},{"file":"docs/user-guide/mpu-reference.md","line":0,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think there needs to be a note or two on metering / billing for MPU parts."},{"file":"docs/user-guide/mpu-reference.md","line":0,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Agreed; I\u0027m working through the details of how metering and billing for MPU will work at the moment. I\u0027ve filed MANTA-3565 for storage metering and emailed Linda and Angela about billing."},{"file":"docs/user-guide/mpu-reference.md","line":19,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Should we avoid using the second person in the user-facing docs and go with \"the user\" instead?"},{"file":"docs/user-guide/mpu-reference.md","line":19,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I don\u0027t have a strong opinion either way, but I used second person mostly to be consistent with the other reference pages (e.g., storage)."},{"file":"docs/user-guide/mpu-reference.md","line":52,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think an example here would help, perhaps including a diagram (even if it\u0027s ASCII).  I\u0027m thinking something like:\n\n    /$account/uploads/abc/abcdef.../part1\n\nwith arrows pointing to the upload id, the upload directory, the parts directory, and a part object."},{"file":"docs/user-guide/mpu-reference.md","line":52,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Added one. Let me know if it matches what you had in mind."},{"file":"docs/user-guide/mpu-reference.md","line":52,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Yes.  Thanks!"},{"file":"docs/user-guide/mpu-reference.md","line":58,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Perhaps an ordered list is appropriate for this list?"},{"file":"docs/user-guide/mpu-reference.md","line":58,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/mpu-reference.md","line":69,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"\"multipart upload\". Nitty, but we seem to refer to this in full elsewhere."},{"file":"docs/user-guide/mpu-reference.md","line":69,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/mpu-reference.md","line":71,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\"temporary\"\n\nA confused user might think the target object itself is collected."},{"file":"docs/user-guide/mpu-reference.md","line":71,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I\u0027m not sure I follow your suggestion here."},{"file":"docs/user-guide/mpu-reference.md","line":71,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"A confused reader might interpret the phrase \"After the multipart upload is committed, its associated data...are garbage collected\" to mean that the target object is collected, since that\u0027s technically data associated with the multipart upload.  I don\u0027t think that\u0027s likely since it doesn\u0027t really make sense, but I think it would eliminate that reading if it said \"After the multipart upload is committed, its associated temporary data, including the upload directory and the parts stored in it, are garbage collected after a system-wide grace period.\""},{"file":"docs/user-guide/mpu-reference.md","line":80,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"MB? Similar to the notes I made in https://cr.joyent.us/#/c/3199/."},{"file":"docs/user-guide/mpu-reference.md","line":80,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/mpu-reference.md","line":90,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"?"},{"file":"docs/user-guide/mpu-reference.md","line":90,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/mpu-reference.md","line":95,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"use?"},{"file":"docs/user-guide/mpu-reference.md","line":95,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/mpu-reference.md","line":104,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Is the listing of parts available after an upload is committed since the parts are eventually GC\u0027d? I would explicitly mention when this operation is valid."},{"file":"docs/user-guide/mpu-reference.md","line":104,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Sure, that\u0027s a good point. I added a note to the end of this section. I added a similar note for the \"Listing All Multipart Uploads for an Account\" section."},{"file":"docs/user-guide/mpu-reference.md","line":113,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"$ mmpu parts?\n\nI can see in this document there are a few cases like this so it looks intentional, but might be worth clarifying with a \"$\" that these are commands that can be run on the user\u0027s shell (though the examples do cover this)."},{"file":"docs/user-guide/mpu-reference.md","line":113,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/mpu-reference.md","line":124,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"\"-q\" flag required here? Might look simpler without.\n\nIs UPLOAD_DIR a bash variable in this case? Should we prefix it with \"$\"?\n\nNot sure we need to pipe to json in this example."},{"file":"docs/user-guide/mpu-reference.md","line":124,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"The `-q` flag is not required, but without it, the progress bar will be in the output That isn\u0027t something I wanted to show in the output of this command. We could remove the `-q` and the example output would not be literal. Similarly, without the pipe to json the output would not be formatted prettily. I was opting toward being able to run the example command as a user literally and see the same output as the example.\n\nUPLOAD_DIR is just meant to be the argument. I\u0027ve edited the example command and preceding text to hopefully make it a bit clearer."},{"file":"docs/user-guide/mpu-reference.md","line":203,"reviewer":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},"message":"\"upload\""},{"file":"docs/user-guide/mpu-reference.md","line":203,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":113,"deletions":-7},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":204,"deletions":0}],"sizeInsertions":321,"sizeDeletions":-8},{"number":"5","revision":"9ceb23e096e0ac7f54e2b9f050e286f94ad66281","parents":["3847bcae8c83e406d33e43c9da309092a45d969c"],"ref":"refs/changes/00/3200/5","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1516397156,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1516409342,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516397159,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1516712494,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1516724717,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":112,"deletions":-7},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":225,"deletions":0}],"sizeInsertions":342,"sizeDeletions":-8},{"number":"6","revision":"08bc3451746a91da6c08f834ac5567a6c3abe019","parents":["f6022d9512ad8615d05b9f1460d09d5fc5b8a479"],"ref":"refs/changes/00/3200/6","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1525302801,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525302803,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526292579,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"comments":[{"file":"docs/user-guide/mpu-reference.md","line":98,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"The comment about zero-byte objects seems to be in conflict with the constraint that individual parts must be 5MB. Maybe instead say \n\n\u003e Multipart uploads consisting of zero parts will create a zero-byte object at the target URI."},{"file":"docs/user-guide/mpu-reference.md","line":98,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"docs/user-guide/mpu-reference.md","line":194,"reviewer":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},"message":"This feels like an incomplete sentence. Should probably be\n\n\u003e within the system-wide grace period for garbage collection."},{"file":"docs/user-guide/mpu-reference.md","line":194,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":111,"deletions":-7},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":225,"deletions":0}],"sizeInsertions":341,"sizeDeletions":-8},{"number":"7","revision":"eafe013ffb0d713854588c46df608dfa1a2b8021","parents":["f6022d9512ad8615d05b9f1460d09d5fc5b8a479"],"ref":"refs/changes/00/3200/7","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1526323976,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526323978,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526326633,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526400692,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526398697,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":111,"deletions":-7},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":225,"deletions":0}],"sizeInsertions":341,"sizeDeletions":-8},{"number":"8","revision":"e2898d8ea89f3ca7a82e72a60f3be09bfcd09d8d","parents":["6df699add1d254f233203077a4ff404da75b3e6b"],"ref":"refs/changes/00/3200/8","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1526402880,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526323978,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526326633,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526400692,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526398697,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":110,"deletions":-6},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":225,"deletions":0}],"sizeInsertions":340,"sizeDeletions":-7},{"number":"9","revision":"1a93bfe893c1b5ed7d3731117de240036bbe107c","parents":["f6022d9512ad8615d05b9f1460d09d5fc5b8a479"],"ref":"refs/changes/00/3200/9","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1526403377,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526323978,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526326633,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526400692,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526398697,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":111,"deletions":-7},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":225,"deletions":0}],"sizeInsertions":341,"sizeDeletions":-8},{"number":"10","revision":"de42d82152c804194f60690cc7025b152179f8de","parents":["6df699add1d254f233203077a4ff404da75b3e6b"],"ref":"refs/changes/00/3200/10","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1526403612,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526323978,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526326633,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1526400692,"by":{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"}},{"type":"SUBM","value":"1","grantedOn":1526403701,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1526398697,"by":{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"docs/operator-guide.md","type":"MODIFIED","insertions":110,"deletions":-6},{"file":"docs/user-guide/commands-reference.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/user-guide/index.md","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"docs/user-guide/mpu-reference.md","type":"ADDED","insertions":225,"deletions":0}],"sizeInsertions":340,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Richard Bradley","email":"richard.bradley@joyent.com","username":"chudley"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},{"name":"Brian Bennett","email":"brian.bennett@joyent.com","username":"bahamat"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Tomas Celaya","email":"tjcelaya@gmail.com","username":"tjcelaya"}]}