{"project":"joyent/illumos-extra","branch":"master","id":"Ib90ebff225fc60d39168ae4a83df9915cb889c9a","number":"3096","subject":"OS-6515 Update openssl1x to openssl 1.0.2n OS-6516 openssl1x symbol check is broken Reviewed by: Cody Mello \u003cmelloc@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Jerr","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/3096","commitMessage":"OS-6515 Update openssl1x to openssl 1.0.2n\nOS-6516 openssl1x symbol check is broken\nReviewed by: Cody Mello \u003cmelloc@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1513095108,"lastUpdated":1513123028,"open":false,"status":"MERGED","comments":[{"timestamp":1513095108,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1513095864,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1513100393,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1513100670,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1513100677,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1513108870,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1513121928,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1513122983,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1513123028,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"2","revision":"b90ebff225fc60d39168ae4a83df9915cb889c9a","parents":["5a6e22cb7614a41657e9824f23b1778e4e3c6da4"],"ref":"refs/changes/96/3096/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1513122983,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513095864,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513100670,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513108870,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513121928,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1513123028,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"openssl1x/Makefile","type":"MODIFIED","insertions":5,"deletions":-14},{"file":"openssl1x/Patches/0007-Fix-gcc-4.4.4-bad-uninitialized-variable-warning.patch","type":"ADDED","insertions":28,"deletions":0},{"file":"openssl1x/openssl-1.0.2k.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssl1x/openssl-1.0.2n.tar.gz","type":"ADDED","insertions":0,"deletions":0},{"file":"openssl1x/sunw_prefix.h","type":"MODIFIED","insertions":16,"deletions":0},{"file":"openssl1x/tools/checksyms.bash","type":"ADDED","insertions":77,"deletions":0}],"sizeInsertions":126,"sizeDeletions":-14},"patchSets":[{"number":"1","revision":"696c0248728bb9bf48d0942e2297081095f2fb05","parents":["5a6e22cb7614a41657e9824f23b1778e4e3c6da4"],"ref":"refs/changes/96/3096/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1513095108,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513100670,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513095864,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513121928,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513108870,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":"openssl1x/Patches/0007-Fix-gcc-4.4.4-bad-uninitialized-variable-warning.patch","line":22,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I was curious what this looked like in recent releases, and saw that it was fixed by this commit:\n\nhttps://github.com/openssl/openssl/commit/e670db0183079b5f6325ce2abd9d785e0f966890\n\nI wonder if we should also make the same OPENSSL_clear_free() change here, too? Or maybe not, since if it was important, it would have been backported to 1.0.2n?"},{"file":"openssl1x/Patches/0007-Fix-gcc-4.4.4-bad-uninitialized-variable-warning.patch","line":22,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I think the equivalent is already done:\n\n239  cleanup:\n240     if (db !\u003d NULL) {\n241         OPENSSL_cleanse(db, dblen);\n242         OPENSSL_free(db);\n243     }\n244     if (em !\u003d NULL) {\n245         OPENSSL_cleanse(em, num);\n246         OPENSSL_free(em);\n247     }\n\n\nThey just forgot to do the initialization."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"openssl1x/Makefile","type":"MODIFIED","insertions":5,"deletions":-14},{"file":"openssl1x/Patches/0007-Fix-gcc-4.4.4-bad-uninitialized-variable-warning.patch","type":"ADDED","insertions":28,"deletions":0},{"file":"openssl1x/openssl-1.0.2k.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssl1x/openssl-1.0.2n.tar.gz","type":"ADDED","insertions":0,"deletions":0},{"file":"openssl1x/sunw_prefix.h","type":"MODIFIED","insertions":16,"deletions":0},{"file":"openssl1x/tools/checksyms.bash","type":"ADDED","insertions":77,"deletions":0}],"sizeInsertions":126,"sizeDeletions":-14},{"number":"2","revision":"b90ebff225fc60d39168ae4a83df9915cb889c9a","parents":["5a6e22cb7614a41657e9824f23b1778e4e3c6da4"],"ref":"refs/changes/96/3096/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1513122983,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1513123028,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513100670,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513095864,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513121928,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513108870,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"openssl1x/Makefile","type":"MODIFIED","insertions":5,"deletions":-14},{"file":"openssl1x/Patches/0007-Fix-gcc-4.4.4-bad-uninitialized-variable-warning.patch","type":"ADDED","insertions":28,"deletions":0},{"file":"openssl1x/openssl-1.0.2k.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssl1x/openssl-1.0.2n.tar.gz","type":"ADDED","insertions":0,"deletions":0},{"file":"openssl1x/sunw_prefix.h","type":"MODIFIED","insertions":16,"deletions":0},{"file":"openssl1x/tools/checksyms.bash","type":"ADDED","insertions":77,"deletions":0}],"sizeInsertions":126,"sizeDeletions":-14}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}