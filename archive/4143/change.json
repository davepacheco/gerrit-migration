{"project":"joyent/haproxy-1.8","branch":"master","id":"I5ae187ab5944dbf93fd7c12cc221023212372d41","number":"4143","subject":"MANTA-3730 update muppet to haproxy v1.8.20","owner":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"url":"https://cr.joyent.us/4143","commitMessage":"MANTA-3730 update muppet to haproxy v1.8.20\n","createdOn":1528225037,"lastUpdated":1561051197,"open":false,"status":"ABANDONED","comments":[{"timestamp":1528225037,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Uploaded patch set 1."},{"timestamp":1528225210,"reviewer":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"message":"Patch Set 1: Integration-Approval-1\n\nI\u0027m still actively testing this with Muppet, but I wanted to get this out there so you could start looking at it"},{"timestamp":1552647520,"reviewer":{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1557511462,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(6 comments)\n\nIn general, this looks pretty good. Most of the things I\u0027ve mentioned have to do with some changes in haproxy. It\u0027s not clear if the decision to have only a single event port was intentional or not as part of the porting of the change to 1.8.x. If it is, then many of the comments may not apply, but then we should make that clear in the comments somewhere."},{"timestamp":1557739685,"reviewer":{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"},"message":"Patch Set 2:\n\n\u003e (6 comments)\n \u003e \n \u003e In general, this looks pretty good. Most of the things I\u0027ve\n \u003e mentioned have to do with some changes in haproxy. It\u0027s not clear\n \u003e if the decision to have only a single event port was intentional or\n \u003e not as part of the porting of the change to 1.8.x. If it is, then\n \u003e many of the comments may not apply, but then we should make that\n \u003e clear in the comments somewhere.\n\nI appreciate your comments, and the time taken, but I don\u0027t know what to do next. I can\u0027t speak as to the intent of the original author. I don\u0027t have any C skills at all. I\u0027ll speak to Elijah and see if I can\u0027t get someone (maybe the original author, Josh) to answer your review questions. I don\u0027t feel like \"Russell learns C then we ship it\" is a very reasonable time frame."},{"timestamp":1558451728,"reviewer":{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"},"message":"Patch Set 2:\n\n\u003e \u003e (6 comments)\n \u003e \u003e\n \u003e \u003e In general, this looks pretty good. Most of the things I\u0027ve\n \u003e \u003e mentioned have to do with some changes in haproxy. It\u0027s not clear\n \u003e \u003e if the decision to have only a single event port was intentional\n \u003e or\n \u003e \u003e not as part of the porting of the change to 1.8.x. If it is, then\n \u003e \u003e many of the comments may not apply, but then we should make that\n \u003e \u003e clear in the comments somewhere.\n \u003e \n \u003e I appreciate your comments, and the time taken, but I don\u0027t know\n \u003e what to do next. I can\u0027t speak as to the intent of the original\n \u003e author. I don\u0027t have any C skills at all. I\u0027ll speak to Elijah and\n \u003e see if I can\u0027t get someone (maybe the original author, Josh) to\n \u003e answer your review questions. I don\u0027t feel like \"Russell learns C\n \u003e then we ship it\" is a very reasonable time frame.\n\nLooks like support for event ports landed in haproxy master http://git.haproxy.org/?p\u003dhaproxy.git"},{"timestamp":1559725749,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 3."},{"timestamp":1559726166,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nI\u0027ve only done basic testing of this version, but would welcome comments.\n\nTo build this I:\n\n - updated to haproxy v1.8.20\n - took the integrated evports version from master\n - merged it into the v1.8.20 branch\n - fixed up basic compile stuff\n - did a three-way comparison between it, 1.8.20\u0027s ev_kqueue.c, and\n   the previous ev_evports.c code to identify any differences.\n\nThe latter found a few cases where we had to go back to previous locking methods etc (and a bunch of missing code in Jared\u0027s forward port) but on the whole the core of the poll routine is much the same.\n\nI\u0027m also trying to work through the 1.5-\u003e1.8 changes to see if I can find something that could hurt us or we need to change, but information is a little skant."},{"timestamp":1559726304,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nrm asked about nevlist being 1. This is in both josh\u0027s original code, and the integrated version, so we do so here. I can\u0027t comment on that further..."},{"timestamp":1559730080,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nAs for the actual jump from 1.5 to 1.8, I\u0027m not sure what form that should be \"reviewed\" in exactly, if any? Clearly we\u0027re not going to do a normal review on several years of upstream changes, and the way the repos are set up makes a comparison not simple."},{"timestamp":1559747073,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nOK, I misunderstood rm\u0027s comment, please ignore the nevlist thing."},{"timestamp":1559953333,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(7 comments)\n\nI\u0027m not sure if these are all useful or not, but since you were asking for some feedback here are a few things I noticed."},{"timestamp":1560096393,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\n(5 comments)"},{"timestamp":1560202564,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1\n\n(3 comments)\n\nThis is a rather meek +1. It seems like the current approach is just take upstream kind of regardless, which I can understand. So not sure I really feel great about this, but I don\u0027t want to get in the way."},{"timestamp":1560204543,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1560271890,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nCurrent changes are up at:\n\nhttps://github.com/joyent/haproxy-1.8/compare/joyent/v1.8.20...joyent/dev-v1.8.20\n\nThis includes the workaround for the pfiles issue.\n\n(I can\u0027t make a gerrit without a bunch of bothersome branch importing, but let me know if you want me to.)"},{"timestamp":1561051197,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Abandoned\n\nSee https://cr.joyent.us/#/c/6480/"}],"currentPatchSet":{"number":"3","revision":"5ae187ab5944dbf93fd7c12cc221023212372d41","parents":["52ec3578c3ddc688ae14da3cd3e7e351494603d8"],"ref":"refs/changes/43/4143/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1559725749,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560202564,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027m not sure sure it makes sense for us to carry on in the face of failure here. Say there\u0027s no memory, we\u0027ll think this has been associated, but it hasn\u0027t been. Perhaps we should abort on failure since there\u0027s no other good option?"},{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I totally agree, but this is what upstream *changed* it to. When I asked about this, I was told:\n\n\"\nIt’s a requirement from Willy, the main maintainer: to not have debug per default.\nDebug code could go back with  \"BUG_ON() » macro, activated with DEBUG_STRICT.\n\"\n\nSo we\u0027d need to diverge from upstream if we wanted to go back to our (better) version."},{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK, I was seeing it as correctness, not debugging. I was wondering if something like this would be responsible for what you were seeing. I think this is something where it\u0027s worth diverging given how we operate. But we should probably do that as a separate commit so it\u0027s obvious and easy to maintain (ala nginx, etc.)."},{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I\u0027m happy for us to diverge, and we can later come back and try to merge at least this part into the dev branch upstream.\n\nI don\u0027t know if we need a separate commit since this commit itself is neither fish nor fowl (i.e. relatively heavily changed from the dev branch\u0027s version already)."},{"file":"src/ev_evports.c","line":153,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In the other backends in 1.8 in joyent/haproxy, I don\u0027t see any mention of the update_list. This makes me feel like I\u0027m looking at the wrong thing. Do you have this in your copy?"},{"file":"src/ev_evports.c","line":153,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I haven\u0027t pushed any of the updates to master or the base v1.8.20 branch to our haproxy copy yet (I\u0027m unclear on what review we should do first?). It\u0027s easiest to look at my dev branch, for example:\n\nhttps://github.com/joyent/haproxy-1.8/blob/joyent/dev-v1.8.20/src/ev_kqueue.c"},{"file":"src/ev_evports.c","line":153,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I missed the dev branch existing."},{"file":"src/ev_evports.c","line":157,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I don\u0027t see this function in 1.8.x."},{"file":"src/ev_evports.c","line":193,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why is this commented out?"},{"file":"src/ev_evports.c","line":193,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"It\u0027s what upstream have, it doesn\u0027t seem worth diverging here."},{"file":"src/ev_evports.c","line":204,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I don\u0027t see this in 1.8.x."},{"file":"src/ev_evports.c","line":229,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is a weird comment. I don\u0027t follow."},{"file":"src/ev_evports.c","line":229,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This was an assert() that they backed out for the reason given above."},{"file":"src/ev_evports.c","line":262,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This no longer seems true at all."},{"file":"src/ev_evports.c","line":262,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Yes, this is what\u0027s upstream. I do plan to ask more about the assert thing in the dev branch, at which point I\u0027ll get this comment fixed up. It doesn\u0027t seem worth diverging *here* (yet)."},{"file":"src/ev_evports.c","line":262,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK. I\u0027ll defer to you here then."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":8,"deletions":0},{"file":"doc/configuration.txt","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"doc/haproxy.1","type":"MODIFIED","insertions":5,"deletions":0},{"file":"include/types/global.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/cfgparse.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"src/ev_evports.c","type":"ADDED","insertions":430,"deletions":0},{"file":"src/haproxy.c","type":"MODIFIED","insertions":13,"deletions":0}],"sizeInsertions":472,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"7c46751ac9ccc41610c35680bf4bd541981fb1aa","parents":["cd117685f0cff4f2f5577ef6a21eaae96ebd9f28"],"ref":"refs/changes/43/4143/1","uploader":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"createdOn":1528225037,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"-1","grantedOn":1528225210,"by":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":11,"deletions":-3},{"file":"VERSION","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"doc/configuration.txt","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"doc/haproxy.1","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"include/types/global.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"src/cfgparse.c","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"src/ev_evports.c","type":"ADDED","insertions":375,"deletions":0},{"file":"src/haproxy.c","type":"MODIFIED","insertions":13,"deletions":0}],"sizeInsertions":435,"sizeDeletions":-20},{"number":"2","revision":"726e97429339f6ecd5617abc908f47d4ee54d6a7","parents":["52ec3578c3ddc688ae14da3cd3e7e351494603d8"],"ref":"refs/changes/43/4143/2","uploader":{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"},"createdOn":1552647520,"author":{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},"isDraft":false,"kind":"TRIVIAL_REBASE","comments":[{"file":"src/ev_evports.c","line":45,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In other backends it appears that this has to handle the fact that there needs to be an independent event port per thread and that there\u0027s an array of file descriptors. I suspect that this is an array and not a thread local there because of the behavior of fork only replicating a single thread."},{"file":"src/ev_evports.c","line":46,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I think this value needs to be a thread local variable at this point per how the backends appear to now function."},{"file":"src/ev_evports.c","line":48,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I believe that these two can probably be global and shared. Though there is a possibility that two threads could be treading the path to abort at the same time and clobber the panic errno."},{"file":"src/ev_evports.c","line":115,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I see we\u0027re clearing the tid_bit here; however, I don\u0027t see where we\u0027re actually setting it when we\u0027ve enabled polling by the thread in question."},{"file":"src/ev_evports.c","line":207,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In addition to the tid poll_dead check, other backends verify that the thread bit is set here to make sure that the fd hasn\u0027t migrated in the interim. I guess we should probably do that here?"},{"file":"src/ev_evports.c","line":326,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Given the concerns around assert being optimized out, we may want to make sure the close() call here and elsewhere is done outside of the assert and we instead assert the return value."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":11,"deletions":-3},{"file":"VERSION","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"doc/configuration.txt","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"doc/haproxy.1","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"include/types/global.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"src/cfgparse.c","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"src/ev_evports.c","type":"ADDED","insertions":375,"deletions":0},{"file":"src/haproxy.c","type":"MODIFIED","insertions":13,"deletions":0}],"sizeInsertions":435,"sizeDeletions":-20},{"number":"3","revision":"5ae187ab5944dbf93fd7c12cc221023212372d41","parents":["52ec3578c3ddc688ae14da3cd3e7e351494603d8"],"ref":"refs/changes/43/4143/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1559725749,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560202564,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027m not sure sure it makes sense for us to carry on in the face of failure here. Say there\u0027s no memory, we\u0027ll think this has been associated, but it hasn\u0027t been. Perhaps we should abort on failure since there\u0027s no other good option?"},{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I totally agree, but this is what upstream *changed* it to. When I asked about this, I was told:\n\n\"\nIt’s a requirement from Willy, the main maintainer: to not have debug per default.\nDebug code could go back with  \"BUG_ON() » macro, activated with DEBUG_STRICT.\n\"\n\nSo we\u0027d need to diverge from upstream if we wanted to go back to our (better) version."},{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK, I was seeing it as correctness, not debugging. I was wondering if something like this would be responsible for what you were seeing. I think this is something where it\u0027s worth diverging given how we operate. But we should probably do that as a separate commit so it\u0027s obvious and easy to maintain (ala nginx, etc.)."},{"file":"src/ev_evports.c","line":65,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I\u0027m happy for us to diverge, and we can later come back and try to merge at least this part into the dev branch upstream.\n\nI don\u0027t know if we need a separate commit since this commit itself is neither fish nor fowl (i.e. relatively heavily changed from the dev branch\u0027s version already)."},{"file":"src/ev_evports.c","line":153,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"In the other backends in 1.8 in joyent/haproxy, I don\u0027t see any mention of the update_list. This makes me feel like I\u0027m looking at the wrong thing. Do you have this in your copy?"},{"file":"src/ev_evports.c","line":153,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I haven\u0027t pushed any of the updates to master or the base v1.8.20 branch to our haproxy copy yet (I\u0027m unclear on what review we should do first?). It\u0027s easiest to look at my dev branch, for example:\n\nhttps://github.com/joyent/haproxy-1.8/blob/joyent/dev-v1.8.20/src/ev_kqueue.c"},{"file":"src/ev_evports.c","line":153,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I missed the dev branch existing."},{"file":"src/ev_evports.c","line":157,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I don\u0027t see this function in 1.8.x."},{"file":"src/ev_evports.c","line":193,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why is this commented out?"},{"file":"src/ev_evports.c","line":193,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"It\u0027s what upstream have, it doesn\u0027t seem worth diverging here."},{"file":"src/ev_evports.c","line":204,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I don\u0027t see this in 1.8.x."},{"file":"src/ev_evports.c","line":229,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This is a weird comment. I don\u0027t follow."},{"file":"src/ev_evports.c","line":229,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This was an assert() that they backed out for the reason given above."},{"file":"src/ev_evports.c","line":262,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"This no longer seems true at all."},{"file":"src/ev_evports.c","line":262,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Yes, this is what\u0027s upstream. I do plan to ask more about the assert thing in the dev branch, at which point I\u0027ll get this comment fixed up. It doesn\u0027t seem worth diverging *here* (yet)."},{"file":"src/ev_evports.c","line":262,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK. I\u0027ll defer to you here then."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":8,"deletions":0},{"file":"doc/configuration.txt","type":"MODIFIED","insertions":9,"deletions":-1},{"file":"doc/haproxy.1","type":"MODIFIED","insertions":5,"deletions":0},{"file":"include/types/global.h","type":"MODIFIED","insertions":2,"deletions":0},{"file":"src/cfgparse.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"src/ev_evports.c","type":"ADDED","insertions":430,"deletions":0},{"file":"src/haproxy.c","type":"MODIFIED","insertions":13,"deletions":0}],"sizeInsertions":472,"sizeDeletions":-1}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Russell Brown","email":"russell.brown@joyent.com","username":"russelldb"},{"name":"Jared Morrow","email":"jm@joyent.com","username":"jaredmorrow"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}