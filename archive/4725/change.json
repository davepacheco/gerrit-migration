{"project":"joyent/illumos-joyent","branch":"master","id":"Ic836dc0eb2df97c64bb23fd0ea04f9dae1f34de1","number":"4725","subject":"OS-7146 Project Tiresias: USB topology OS-6581 topo_node_label_set() should take a const char* instead of char* Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Rob Johnston \u003crob.johnston@joyent.com\u003e Approved by: Joshua M. Clulow \u003cjosh@s","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/4725","commitMessage":"OS-7146 Project Tiresias: USB topology\nOS-6581 topo_node_label_set() should take a const char* instead of char*\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Rob Johnston \u003crob.johnston@joyent.com\u003e\nApproved by: Joshua M. Clulow \u003cjosh@sysmgr.org\u003e\n","createdOn":1534801256,"lastUpdated":1542407007,"open":false,"status":"MERGED","comments":[{"timestamp":1534801256,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1535519010,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 1:\n\n(15 comments)"},{"timestamp":1535663704,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1535663717,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(15 comments)"},{"timestamp":1535743048,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 2:\n\n(2 comments)\n\nOverall looks great.  My only question is related to the additional changes to manifest and usr/src/uts/i86pc/Makefile.files in the 2nd patchset, which look unrelated to usbtopo."},{"timestamp":1535743544,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(2 comments)\n\nAs an added note, when you view the main diff, you\u0027ll see that it\u0027s not considered a change. However, because of the rebase it strictly was a change from patchset 1 to patchset 2. Normally this doesn\u0027t come up, but we changed some overlapping files."},{"timestamp":1535743673,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 2: Code-Review+1\n\nAh, ok - that makes sense.  Looks good."},{"timestamp":1536106828,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 2:\n\n(7 comments)\n\nI didn\u0027t quite get all the way through this review yet, but I wanted to post what comments I have so far in case they\u0027re useful (before I leave town for a few days)."},{"timestamp":1536882348,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3."},{"timestamp":1536882353,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(7 comments)"},{"timestamp":1537208771,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3:\n\n(3 comments)\n\nI don\u0027t know all of the specs related to this, but the code itself looks good. I just noticed a handful of very minor nits."},{"timestamp":1537227394,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1537227453,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 5."},{"timestamp":1537231699,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1537268913,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1541263235,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1541805590,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 7."},{"timestamp":1541805608,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6:\n\nThere were a few changes here due to a bug gcc7 found, an issue with one of the systems, and then some pbchk noise."},{"timestamp":1541805629,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1542211483,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1542223578,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1542324856,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 8: Integration-Approval+1\n\nThank you for the testing notes in the ticket, and the examples of updated command output!\n\nI approve."},{"timestamp":1542406770,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 9: Patch Set 8 was rebased."},{"timestamp":1542406848,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 10: Commit message was updated."},{"timestamp":1542407007,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"10","revision":"c836dc0eb2df97c64bb23fd0ea04f9dae1f34de1","parents":["5cbe27c6bd3df4765ab385328ddcd6bf93c57f76"],"ref":"refs/changes/25/4725/10","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1542406848,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542211483,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542223578,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542324856,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1542407007,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":24,"deletions":-5},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2012,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":471,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":104,"deletions":-76},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":17,"deletions":-16},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3729,"sizeDeletions":-133},"patchSets":[{"number":"1","revision":"2cffd93a4ebbb4992a7840254b0bafbf2ed8db26","parents":["d4571eb653823d0e8936b35502fc38b7af9f6f04"],"ref":"refs/changes/25/4725/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1534801256,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","line":250,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"FYI - there\u0027s a existing ticket for this:\nOS-6581 topo_node_label_set() should take a const char* instead of char*\n\nI guess you should mark yourself as owner and add it to the commit comments."},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","line":250,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Oh, sorry. I missed that. I\u0027ll grab that."},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","line":92,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"I tried to think of a scenario where setting the FRU of the bay node to itself made sense - but I couldn\u0027t come up with anything."},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","line":92,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Yeah, I couldn\u0027t either. However, I decided not to refactor it at this time."},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":36,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"second comma seems unnecessary:  \"However, to,\""},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":36,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":67,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"maybe reword this to:\n\n\"/devices/fw tree, looking for USB nodes and then linking them to their\""},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":67,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Thanks, that\u0027s a lot better."},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":83,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"I don\u0027t know if this is the right place to do it down lowere where you define topo_usb_type_t, but it might be good document how this enumerator module will typically get invoked in - e.g.\n\n* statically invoked under motherboard nodes to enumerate internal ports/devices\n\n* statically invoked under chassis nodes to enumerate external ports/devices\n\n* dynamically invoked by pcibus enumerator to enumerate ports/devices on add-in usb cards"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":83,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":208,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"File a RFE for this?"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":208,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I filed OS-7202 for this. However, it turns out that due to refactoring, this isn\u0027t needed at all. So I\u0027ve removed it."},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":421,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"s/ports/port\u0027s/"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":421,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":1099,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"s/medata/metadata/"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":1099,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":1850,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"why do we drive on here?"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":1850,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"We weren\u0027t supposed to. I\u0027ll clean that up."},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","line":39,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Quite likely that someone reading topo code may not be familiar with ACPI acronyms, like _PLD.  Might be good to add a brief definition and a reference to section 6.1.8 of the ACPI spec for more information."},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","line":39,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","line":57,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"It\u0027s a bit repetitve that both sentences start with \"begins a port stanza\".  Maybe change the send sentence to something like:\n\"The stanza will continue until the \u0027end-port\u0027 keyword is encountered\""},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","line":57,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","line":385,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"s/failed to open fdopen/failed to fdopen/"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","line":385,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","line":392,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Nit:  could just initialize the struct to zero when you declared the local."},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","line":392,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I think it\u0027s a force of habit from device driver work that I do it this way. If you don\u0027t mind, I\u0027m just going to keep it as is."},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/x86pi.c","line":248,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"How do you test this?  Doesn\u0027t this module basically revert to loading i86pc-legacy-hc-topology.xml on non-Sun/Oracle platforms."},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/x86pi.c","line":248,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I think I originally had this all here before I realized that was the case. I\u0027ll revert the changes here."},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","line":328,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"This seems backward.  Shouldn\u0027t it unregister acpidev_class_pci here and unregister ancpdev_class_usbport in the error_usbport section?"},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","line":328,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"It should be, thanks."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":96,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":15,"deletions":-9},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":1997,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":113,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":456,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/x86pi.c","type":"MODIFIED","insertions":26,"deletions":-2},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":15,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3651,"sizeDeletions":-69},{"number":"2","revision":"8bf13925bb4170afb2ee51786fa678923fd4e61e","parents":["6ee3a34140b2fc1881eeccb9a5037957b69e14c0"],"ref":"refs/changes/25/4725/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1535663704,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1535743673,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"comments":[{"file":"manifest","line":1858,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"What are all the pcbe and cpc changes for - maybe for a different set of changes?"},{"file":"manifest","line":1858,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"The change was rebased against master. When viewing the diff from 1 to 2, you\u0027ll see those changes."},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","line":97,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"strncmp?"},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","line":97,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I think we want a normal strcmp here. The full name is important. We don\u0027t want to treat a name like \u0027baywindow\u0027 as the same as \u0027bay\u0027."},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":20,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"suggested rewording: \"USB devices are more complicated to build topology information for, as there are multiple sources of information needed to correctly understand the topology, and the way they present themselves is not always straightforward.\""},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":20,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":32,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"nit: comma after \"chipset\"?"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":32,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":53,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"\"information\" feels a little vague. Maybe: \"topology is determined\"?"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":53,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":56,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"nit: comma here?"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":56,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":61,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"nit to make this clearer: \"If root hubs are found,\"\n\nor\n\n\"If a root hub is found, we walk of its nodes...\""},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":61,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":76,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"new sentence here? As in: \"...port.  This...\""},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":76,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/i86pc/Makefile.files","line":67,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"how are these changes related to usbtopo?"},{"file":"usr/src/uts/i86pc/Makefile.files","line":67,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"The change was rebased against master. When viewing the diff from 1 to 2, you\u0027ll see those changes unfortunately."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":96,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":15,"deletions":-9},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2007,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":455,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3640,"sizeDeletions":-67},{"number":"3","revision":"3e54c71802af0f5231b646735de21ecd655f8568","parents":["de788a17ed4866d96c8dbb2b01b552d5ddb43ca4"],"ref":"refs/changes/25/4725/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1536882348,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":97,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"missing \"map\" or some other word?"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":97,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":430,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"the ambiguity here seems confusing"},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","line":430,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Through my power to typo just about everything, it was meant to say \u0027it also must ...\u0027. I\u0027ve tried to clarify that sentence in general."},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","line":195,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"is this meant to be here?"},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","line":195,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Doh, thanks. That just got caught up in refactoring the text block."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2007,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":471,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3649,"sizeDeletions":-58},{"number":"5","revision":"f745b636a367e7b1144dd633c09bfa687b824515","parents":["ebfb5dddf666da3e36893ef431711e6b14ed52c0"],"ref":"refs/changes/25/4725/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1537227453,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537268913,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537231699,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2008,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":471,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3650,"sizeDeletions":-58},{"number":"6","revision":"10d00efca472f583dba6af1653c1bfdaaf0ad290","parents":["7a70cf1aae9b2e74d5a5f7a0ef7cc6f4b2c6e4c5"],"ref":"refs/changes/25/4725/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1541263235,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537268913,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1537231699,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":24,"deletions":-5},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2008,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":471,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3649,"sizeDeletions":-57},{"number":"7","revision":"792f98bd3ddca3fd2b43ec6eabf44c41d0257641","parents":["1861ba9e6d096d80c1370685c295d47e33402b5d"],"ref":"refs/changes/25/4725/7","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1541805590,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":64,"deletions":-64},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":12,"deletions":-12}],"sizeInsertions":76,"sizeDeletions":-76},{"number":"8","revision":"4dc0d54a37d55f4113bfbb67c634a30d4367c340","parents":["7a70cf1aae9b2e74d5a5f7a0ef7cc6f4b2c6e4c5"],"ref":"refs/changes/25/4725/8","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1541805629,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542324856,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542211483,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542223578,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":24,"deletions":-5},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2012,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":471,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":104,"deletions":-76},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":17,"deletions":-16},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3729,"sizeDeletions":-133},{"number":"9","revision":"263d2be4413439e7d6b582157accb9a2ff257cd9","parents":["5cbe27c6bd3df4765ab385328ddcd6bf93c57f76"],"ref":"refs/changes/25/4725/9","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1542406770,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542324856,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542211483,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542223578,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":24,"deletions":-5},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2012,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":471,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":104,"deletions":-76},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":17,"deletions":-16},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3729,"sizeDeletions":-133},{"number":"10","revision":"c836dc0eb2df97c64bb23fd0ea04f9dae1f34de1","parents":["5cbe27c6bd3df4765ab385328ddcd6bf93c57f76"],"ref":"refs/changes/25/4725/10","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1542406848,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1542407007,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1542324856,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542211483,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1542223578,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":8,"deletions":0},{"file":"usr/src/cmd/diskinfo/diskinfo.c","type":"MODIFIED","insertions":18,"deletions":-4},{"file":"usr/src/lib/fm/topo/libtopo/common/hc.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_hc.h","type":"MODIFIED","insertions":25,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.c","type":"MODIFIED","insertions":20,"deletions":0},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_mod.h","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_protocol.c","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2028R-ACR24L/SSG-2028R-ACR24L-usb.usbtopo","type":"ADDED","insertions":98,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/Makefile","type":"MODIFIED","insertions":10,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-2029P-ACR24L/SSG-2029P-ACR24L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/Makefile","type":"MODIFIED","insertions":11,"deletions":-2},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/SMCI,SSG-6049P-E1CR36L/SSG-6049P-E1CR36L-usb.usbtopo","type":"ADDED","insertions":85,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/i86pc/i86pc-legacy-hc-topology.xml","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk.c","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"usr/src/lib/fm/topo/modules/common/disk/disk_common.c","type":"MODIFIED","insertions":24,"deletions":-5},{"file":"usr/src/lib/fm/topo/modules/common/pcibus/pcibus.c","type":"MODIFIED","insertions":15,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.c","type":"MODIFIED","insertions":14,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/shared/topo_port.h","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/common/usb/Makefile","type":"ADDED","insertions":28,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.c","type":"ADDED","insertions":2012,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb.h","type":"ADDED","insertions":40,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_acpi.c","type":"ADDED","insertions":118,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_int.h","type":"ADDED","insertions":74,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/usb/topo_usb_metadata.c","type":"ADDED","insertions":471,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/i86pc/pcibus/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/i86pc/x86pi/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/fm/topo/modules/sun4/pcibus/Makefile.pci","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/io/usb/hcd/xhci/xhci.c","type":"MODIFIED","insertions":104,"deletions":-76},{"file":"usr/src/uts/common/sys/usb/hcd/xhci/xhcireg.h","type":"MODIFIED","insertions":17,"deletions":-16},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_device.c","type":"MODIFIED","insertions":66,"deletions":-1},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_drv.c","type":"MODIFIED","insertions":16,"deletions":0},{"file":"usr/src/uts/i86pc/io/acpi/acpidev/acpidev_usbport.c","type":"ADDED","insertions":281,"deletions":0},{"file":"usr/src/uts/i86pc/sys/acpidev.h","type":"MODIFIED","insertions":11,"deletions":-1}],"sizeInsertions":3729,"sizeDeletions":-133}],"allReviewers":[{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}