{"project":"joyent/node-triton","branch":"master","id":"Ic7c91aea8314c972cb09d406f98ce02b032bafc3","number":"914","subject":"joyent/node-triton#80 would be nice if `triton network list public\u003dfalse` worked Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"url":"https://cr.joyent.us/914","commitMessage":"joyent/node-triton#80 would be nice if `triton network list public\u003dfalse` worked\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1479369333,"lastUpdated":1484696422,"open":false,"status":"MERGED","comments":[{"timestamp":1479369333,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 1."},{"timestamp":1479369381,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1479861089,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n(4 comments)\n\nThanks for looking at this."},{"timestamp":1479884909,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 2."},{"timestamp":1479884984,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1479947882,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(2 comments)\n\nThanks. This also now needs a rebase again."},{"timestamp":1479953662,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 3."},{"timestamp":1479953722,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1480009480,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(6 comments)"},{"timestamp":1480313493,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 4."},{"timestamp":1480314002,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1480358227,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482284938,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 6."},{"timestamp":1482284977,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482372642,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1482372680,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1482984732,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 8: Patch Set 7 was rebased."},{"timestamp":1482984776,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1483656950,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 8:\n\n(6 comments)"},{"timestamp":1483665115,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 9."},{"timestamp":1483665160,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1483676796,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 10: Patch Set 9 was rebased."},{"timestamp":1483676830,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1483726158,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 10: Code-Review+1\n\nOkay, this looks good now, thanks.\n\nAre you able to add a test case to test/integration/cli-networks.test.js?  If you aren\u0027t sure how, let me know and I can help there."},{"timestamp":1484043112,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 11."},{"timestamp":1484043146,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484542594,"reviewer":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"message":"Uploaded patch set 12: Patch Set 11 was rebased."},{"timestamp":1484542623,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12:\n\n\"make check\" passed ok"},{"timestamp":1484693467,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 13: Patch Set 12 was rebased"},{"timestamp":1484693505,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13:\n\n\"make check\" passed ok"},{"timestamp":1484694566,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 14."},{"timestamp":1484694567,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 14:\n\nNew commits:\n    \n    commit 8b8f84da743cdb0b35db86facc44fd41db658d59\n    \n    style nits; add some more test cases"},{"timestamp":1484694600,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 14: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484695058,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 15."},{"timestamp":1484695061,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 15:\n\nNew commits:\n    \n    commit bfb47f866c8b42e2527aa5d602f98dfd976ee0b2\n    \n    update copyright year"},{"timestamp":1484695107,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 15: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484695644,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 15:\n\nNew commits:\n    \n    commit 777ffd3a618165adc8001a7052dcafe0e7c438e5\n    \n    nit, test"},{"timestamp":1484695762,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 16."},{"timestamp":1484695763,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 16:\n\nNew commits:\n    \n    commit 777ffd3a618165adc8001a7052dcafe0e7c438e5\n    \n    nit, test"},{"timestamp":1484695796,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 16: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484695851,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 17."},{"timestamp":1484695853,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 17:\n\nNew commits:\n    \n    commit 8da14d3e36812a5fe72f2ebe14ac37ab501e54e7\n    \n    reflow"},{"timestamp":1484695900,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 17: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484695925,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 17:\n\nYang,\n\nSorry about all the added patchsets here. I was playing with the tool I use to work with Gerrit and making sure that the tweaks I made still resulted in *you* getting your name on the commits, because you did the work here."},{"timestamp":1484696288,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 17: Code-Review+1 Integration-Approval+1"},{"timestamp":1484696293,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 18: Commit message was updated."},{"timestamp":1484696384,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 19."},{"timestamp":1484696385,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 19:\n\nNew commits:\n    \n    commit d06b1aefa8864311cb747624a4327594678a3d45\n    \n    changelog message"},{"timestamp":1484696397,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 19: Code-Review+1 Integration-Approval+1"},{"timestamp":1484696403,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"},{"timestamp":1484696422,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 19:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"19","revision":"c7c91aea8314c972cb09d406f98ce02b032bafc3","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/19","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484696384,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1484696397,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1484696397,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1484696403,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-22},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":47,"deletions":-1}],"sizeInsertions":109,"sizeDeletions":-23},"patchSets":[{"number":"1","revision":"45b47dfad8f637a0e5c434ee9f1d76be766cc9b6","parents":["84338a44b2314225a4233dd1907bf1e4c530012a"],"ref":"refs/changes/14/914/1","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1479369333,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1479369381,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/do_network/do_list.js","line":58,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Please move the listNetworks call inside the vasync.pipeline."},{"file":"lib/do_network/do_list.js","line":59,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Please see and copy https://github.com/joyent/node-triton/blob/6c7944f2c23a5d317250bd9eeba8b1541f9e7bb1/lib/do_instance/do_list.js#L63-L68 for parsing the input arguments and failing if they are wrong *before* calling listNetworks."},{"file":"lib/do_network/do_list.js","line":114,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Then this will need to be updated to include \u0027 [FILTERS...]\u0027"},{"file":"lib/do_network/do_list.js","line":121,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Then there should be a \u0027Filters:\u0027 section that gives the supported filter keys. E.g. see https://github.com/joyent/node-triton/blob/6c7944f2c23a5d317250bd9eeba8b1541f9e7bb1/lib/do_instance/do_list.js#L185-L189"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":42,"deletions":-16}],"sizeInsertions":42,"sizeDeletions":-16},{"number":"2","revision":"b3208e27c4919062f35548120479e8da3ef7b005","parents":["84338a44b2314225a4233dd1907bf1e4c530012a"],"ref":"refs/changes/14/914/2","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1479884909,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1479884984,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/do_network/do_list.js","line":51,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"This returns a parsed version of \u0027args\u0027 that should be used below by _filterNetworks instead of re-parsing."},{"file":"lib/do_network/do_list.js","line":69,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Please inline the function here. Or could just to the filtering in the \u0027doneNetworks\u0027 function."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":64,"deletions":-26}],"sizeInsertions":64,"sizeDeletions":-26},{"number":"3","revision":"433649abae69f1b59b9f5bf51ee88e1836d4e296","parents":["6c7944f2c23a5d317250bd9eeba8b1541f9e7bb1"],"ref":"refs/changes/14/914/3","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1479953662,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1479953722,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/do_network/do_list.js","line":16,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Please put this require statement in the preceding block (with \u0027tabula\u0027).  The style is to have a block of external requires, then a separate block of local-to-this-module requires."},{"file":"lib/do_network/do_list.js","line":52,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Change this var name to \u0027filters\u0027 or something."},{"file":"lib/do_network/do_list.js","line":58,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why this? I don\u0027t think that is necessary or wanted."},{"file":"lib/do_network/do_list.js","line":71,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"kvToObj throws or returns an object, so don\u0027t need this check."},{"file":"lib/do_network/do_list.js","line":74,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"While this will work for \u0027triton network list public\u003dtrue\u0027 and \u0027triton network list public\u003dfalse\u0027, the result will be confusing I think for, say, \u0027triton network list public\u003dfals\u0027 (a typo).\n\nIn that other case I think the user should get an error that \u0027fals\u0027 is not a valid filter value for \u0027public\u0027.\nA way to do that would be to add something like the following inside the try/catch where listOpts is parsed:\n\nif (listOpts.hasOwnProperty(\u0027public\u0027)) {\n    listOpts.public \u003d common.boolFromString(listOpts.public, null, \u0027public\u0027);\n}\n\nThen the filtering in \u0027filterNetworks\u0027 can more easily be generic. Something like:\n\nvar filteredNetworks \u003d [];\nvar filterKeys \u003d Object.keys(listOpts);\nfor (var i \u003d 0; i \u003c arg.networks.length; i++) {\n    var network \u003d arg.networks[i];\n    var keepIt \u003d true;\n    for (var j \u003d 0; j \u003c filterKeys.length; j++) {\n        var k \u003d filterKeys[k];\n        if (network[k] !\u003d\u003d listOpts[k]) {\n            keepIt \u003d false;\n            break;\n        }\n    }\n    if (keepIt) {\n        filteredNetworks.push(network);\n    }\n}\narg.filteredNetworks \u003d filteredNetworks;\nnext();"},{"file":"lib/do_network/do_list.js","line":77,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"indentation is wrong here."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":60,"deletions":-26}],"sizeInsertions":60,"sizeDeletions":-26},{"number":"4","revision":"16b4d58939e1c701d505ef42baed7f682f85a15d","parents":["6c7944f2c23a5d317250bd9eeba8b1541f9e7bb1"],"ref":"refs/changes/14/914/4","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1480313493,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":76,"deletions":-26}],"sizeInsertions":76,"sizeDeletions":-26},{"number":"5","revision":"cd5234173a8280f54032b391b3b988dd8e40fa4a","parents":["152d12767cba1afc6069f0d7d647c22834e1dd6e"],"ref":"refs/changes/14/914/5","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1480314002,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1480358227,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":76,"deletions":-26}],"sizeInsertions":76,"sizeDeletions":-26},{"number":"6","revision":"1e0bbd046f1f3198c85eda4357ff26fec9b3fa53","parents":["c7140609f0d887391b58eea407f01dd10da17846"],"ref":"refs/changes/14/914/6","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1482284938,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482284977,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":76,"deletions":-27}],"sizeInsertions":76,"sizeDeletions":-27},{"number":"7","revision":"62823020f96b2ba43b16c750714bcfb43e1e43c0","parents":["3a369e4bb834d0e65a4a030e21c7f9dc9481a7d9"],"ref":"refs/changes/14/914/7","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1482372642,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482284977,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":76,"deletions":-27}],"sizeInsertions":76,"sizeDeletions":-27},{"number":"8","revision":"e7aeb7e764653397a4b7497b5ba90b0352c4076e","parents":["04cc61ee1ddbaf4f229ee36450ec21b486154d6e"],"ref":"refs/changes/14/914/8","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1482984732,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482284977,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/do_network/do_list.js","line":16,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Put this require line up with \u0027var tabula \u003d ...\u0027, please."},{"file":"lib/do_network/do_list.js","line":34,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Remove this line.\n\nIf there is a \u0027self\u0027 var, it should also just be \u0027\u003d this\u0027.\nTypically in node-triton.git the var name for `this.top` is \"cli\"."},{"file":"lib/do_network/do_list.js","line":62,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Bring this pipeline up one level, and put common.cliSetupTritonApi inside the pipeline. See here for an example: https://github.com/joyent/node-triton/blob/master/lib/do_image/do_create.js#L41-L43"},{"file":"lib/do_network/do_list.js","line":78,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Ideally this would be up where \u0027filters\u0027 is set, i.e. give the user an error *before* doing listNetworks and cliSetupTritonApi."},{"file":"lib/do_network/do_list.js","line":80,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Remove this. This was from my CR comment."},{"file":"lib/do_network/do_list.js","line":125,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"this can just be \"callback\""}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":76,"deletions":-27}],"sizeInsertions":76,"sizeDeletions":-27},{"number":"9","revision":"428470eef12bc17fcd80658521b1a9ed4640aade","parents":["04cc61ee1ddbaf4f229ee36450ec21b486154d6e"],"ref":"refs/changes/14/914/9","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1483665115,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483665160,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-21}],"sizeInsertions":59,"sizeDeletions":-21},{"number":"10","revision":"b65f3c549325d2c651aee6a3b5356d601f987b11","parents":["76759e547e67d0c45970bb881f90ae9a82912c77"],"ref":"refs/changes/14/914/10","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1483676796,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1483665160,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1483726158,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-21}],"sizeInsertions":59,"sizeDeletions":-21},{"number":"11","revision":"165f845da7232957280023685cb80c84741cd26e","parents":["76759e547e67d0c45970bb881f90ae9a82912c77"],"ref":"refs/changes/14/914/11","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1484043112,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484043146,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-21},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":33,"deletions":-1}],"sizeInsertions":92,"sizeDeletions":-22},{"number":"12","revision":"4ffb6d4662893d4977b082ba3063cf9666039ebc","parents":["d99110553d768226f9fb30765e37738d9a4427b3"],"ref":"refs/changes/14/914/12","uploader":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"createdOn":1484542594,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484043146,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-21},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":33,"deletions":-1}],"sizeInsertions":92,"sizeDeletions":-22},{"number":"13","revision":"35b6dcae88fd8731fda9d46bb1c01d3282212591","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/13","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484693467,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484043146,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-21},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":33,"deletions":-1}],"sizeInsertions":92,"sizeDeletions":-22},{"number":"14","revision":"2ef06845fe442cf237693324648b38834727a298","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/14","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484694566,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484694600,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-22},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":47,"deletions":0}],"sizeInsertions":106,"sizeDeletions":-22},{"number":"15","revision":"b514c2ecd7eff6e14c5eb3136570af427042970f","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/15","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484695058,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484695107,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-22},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":48,"deletions":-1}],"sizeInsertions":107,"sizeDeletions":-23},{"number":"16","revision":"3a9bf5d2daa1f02cc6a7a5d3fe56b3e3a611a17c","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/16","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484695762,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484695796,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-22},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":48,"deletions":-1}],"sizeInsertions":107,"sizeDeletions":-23},{"number":"17","revision":"41ed097f6700bf1b6c133d2f4968353b262bfc4f","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/17","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484695851,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484695900,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1484696288,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1484696288,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-22},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":47,"deletions":-1}],"sizeInsertions":106,"sizeDeletions":-23},{"number":"18","revision":"ec38d96c8632a94166b07864dc6c9c0f5d1b41e4","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/18","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484696293,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484695900,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1484696288,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1484696288,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-22},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":47,"deletions":-1}],"sizeInsertions":106,"sizeDeletions":-23},{"number":"19","revision":"c7c91aea8314c972cb09d406f98ce02b032bafc3","parents":["41b5c506ce7589b252d53f7722723a0fce6cf785"],"ref":"refs/changes/14/914/19","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1484696384,"author":{"name":"Yang Yong","email":"yy1111.yang@samsung.com","username":"YangYong3"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1484696397,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1484696397,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1484696403,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/do_network/do_list.js","type":"MODIFIED","insertions":59,"deletions":-22},{"file":"test/integration/cli-networks.test.js","type":"MODIFIED","insertions":47,"deletions":-1}],"sizeInsertions":109,"sizeDeletions":-23}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}