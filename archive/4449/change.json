{"project":"joyent/sdc-cnapi","branch":"master","id":"I34db7565a8334d26fcf67756ebe1dc4ca821cb7c","number":"4449","subject":"TRITON-557 improve CNAPI handling for heartbeats and server status Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando Vazquez \u003corlando@joyent.com\u003e","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/4449","commitMessage":"TRITON-557 improve CNAPI handling for heartbeats and server status\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1530121268,"lastUpdated":1533852012,"open":false,"status":"MERGED","comments":[{"timestamp":1530121268,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1530121286,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 846dba3b25ed514bb9b15ae451f608c46549aba6\n    \n    TRITON-557 improve CNAPI handling for heartbeats and server status"},{"timestamp":1530121298,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1530262834,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 1:\n\n(6 comments)"},{"timestamp":1531172226,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1531172227,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 3331b49f4718ea6721c45f0249dba41ef083c552\n    \n    updates based on review feedback\n    \n    commit 4b609e12ab2f613fd5ea6d9d442b8c8eb1cc1e20\n    \n    toobusy is too busy to update for new node\n    \n    commit d06ec7b1c21deeeabfdc0039eda1ab92d13bb82b\n    \n    add new node triton-metrics\n    \n    commit 58a763d16024b9fa67d4888dde8a13c302d85c8b\n    \n    match changes elsewhere\n    \n    commit 64af153e277a8cb9b0811a42ccef9dbdb2c6a218\n    \n    add toobusy for some experiments\n    \n    commit 041a14392cb4ed102bbb111cbfb1a2b9558a4a6b\n    \n    add gc-stats\n    \n    commit 58541e8c52f4085e5655d530d5a38111b3a8ff78\n    \n    TRITON-557 improve CNAPI handling for heartbeats and server status"},{"timestamp":1531172256,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1531204713,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1532994244,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1532994245,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 2de67be72c6878a65ca1a24bc940a0e5e41d70cc\n    \n    fix naming\n    \n    commit b4f3c8ada82e4a115fbafda27736d8b861a1eed4\n    \n    updates based on review feedback\n    \n    commit 2b788a42ebc5151100f4c3d6e8c13591fd9c5d0c\n    \n    toobusy is too busy to update for new node\n    \n    commit 22352d8891f13f05df20be9ee08dc23ea8ab1d9d\n    \n    add new node triton-metrics\n    \n    commit be7a1a1eabd004d444c7edb3a82c4c25859a7c7f\n    \n    add toobusy for some experiments\n    \n    commit 7c92348857d35c45ab01884bc746b82aac9f52e1\n    \n    add gc-stats\n    \n    commit 4e7f8534d42fa7f100e88dc549eb613535652b8e\n    \n    TRITON-557 improve CNAPI handling for heartbeats and server status"},{"timestamp":1532994275,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533171982,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4."},{"timestamp":1533171983,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 25b34ad9d303840d50d431261d02b8cac17f3b5f\n    \n    update"},{"timestamp":1533172039,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533253039,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 5."},{"timestamp":1533253040,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 1f3b4560b5f69d00b4aca220340f41ca2c937115\n    \n    fix package.json\n    \n    commit 487e491d6b00a9bbdb7706bbba9f1a5f614c1f3e\n    \n    update\n    \n    commit d40a00365987500a471d01dff1745c9c69e2130e\n    \n    fix naming\n    \n    commit 17cf69cc6357e86b4a64a9ad25a9f4b61a54cef2\n    \n    updates based on review feedback\n    \n    commit 3ae761fc5b562cea00636237cf843d8e7fcf36dd\n    \n    toobusy is too busy to update for new node\n    \n    commit 3b35b2dfcdff726b19320a21a0a04486f48b1c32\n    \n    add new node triton-metrics\n    \n    commit 377f10dd45c51fbd0c92ded653bf577d9ba5142b\n    \n    add toobusy for some experiments\n    \n    commit 3be7ab1c5e1ea63cc06c0710edf4c35ae4e80232\n    \n    add gc-stats\n    \n    commit 68eb3a4938aa03c1d7315e792671067675e57eff\n    \n    TRITON-557 improve CNAPI handling for heartbeats and server status"},{"timestamp":1533253069,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533681265,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1533681266,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit c9a044bb988283223d92685316a4a9e8b8a9f07b\n    \n    fix package.json\n    \n    commit ed657fcc7e4a1a013648985896daf639b66fed12\n    \n    update\n    \n    commit eccae735ed94d927225eb119ebbeb6e3f5a344bb\n    \n    fix naming\n    \n    commit 30cf571567a0829942698f9eaa2e9bdcddaa8a2f\n    \n    updates based on review feedback\n    \n    commit c13347abacdff00b1c96d02eeaf24a60d54ba3d3\n    \n    toobusy is too busy to update for new node\n    \n    commit 3128a34b0ffbc6b51bcdd369bad8c2a278f891e7\n    \n    add new node triton-metrics\n    \n    commit 0ea469a572ded63a9b756b21f7ae84711ae579f9\n    \n    add toobusy for some experiments\n    \n    commit f398e032d814e48616df669f939f4f02e2b16381\n    \n    add gc-stats\n    \n    commit 46494d7b052579935d9a63e7eda920119abc4458\n    \n    TRITON-557 improve CNAPI handling for heartbeats and server status"},{"timestamp":1533681329,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 7."},{"timestamp":1533681330,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 87ac85127fdae04deec964be9e85221284240e3b\n    \n    update package.json version since master moved forward"},{"timestamp":1533681749,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6:\n\n\"make check\" passed ok"},{"timestamp":1533681863,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533687264,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1533851966,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1533852012,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"},{"timestamp":1534181177,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 8: Reverted\n\nThis patchset was reverted in change: I951dceeb97e5d8150e9687bdf4ca989c697820bc"}],"currentPatchSet":{"number":"8","revision":"34db7565a8334d26fcf67756ebe1dc4ca821cb7c","parents":["f926678196b41b64ea76b116fea33fee04e74a81"],"ref":"refs/changes/49/4449/8","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1533851966,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533681863,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533687264,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533687264,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1533852012,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":771,"sizeDeletions":-484},"patchSets":[{"number":"1","revision":"b27837b8108b5e0593b6ba5be5c6ab5d1662ae82","parents":["57b425662365fc70f71c2588cbf2638a57e2d9aa"],"ref":"refs/changes/49/4449/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1530121268,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1530121298,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/static.md","line":155,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"sp"},{"file":"docs/static.md","line":170,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"This reads a bit awkwardly. Maybe consider rephrasing as \"If CNAPI has not previously written data for this server\""},{"file":"docs/static.md","line":196,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"heartbeated"},{"file":"lib/heartbeat_reconciler.js","line":11,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"sp"},{"file":"lib/heartbeat_reconciler.js","line":311,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Would be nice to log an error here, I don\u0027t think reconcile() or its callers log anything on error."},{"file":"lib/heartbeat_reconciler.js","line":325,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"May be nice to log any errors encountered either here, or inline inside the pipeline chain functions."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":403,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":756,"sizeDeletions":-484},{"number":"2","revision":"01d1ab25cacb33ab6a1cd42b90805a927a7a16ff","parents":["b300e47c3b374cd2dfb3e69ff0dc85da03e257b2"],"ref":"refs/changes/49/4449/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1531172226,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1531172256,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1531204713,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1531204713,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"lib/server.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":773,"sizeDeletions":-485},{"number":"3","revision":"dcd724181b9d3ac90e261e15b649b9f16246dddd","parents":["9a3f54a8b05c75efe24ad248cf33bbf1acd4835c"],"ref":"refs/changes/49/4449/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1532994244,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532994275,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":772,"sizeDeletions":-484},{"number":"4","revision":"4cdce3a9c303185b5a7badd72081178c2257860a","parents":["9a3f54a8b05c75efe24ad248cf33bbf1acd4835c"],"ref":"refs/changes/49/4449/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1533171982,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533172039,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":772,"sizeDeletions":-484},{"number":"5","revision":"d64a4ac103d9027785cd6ca4df324b72a8b20e2b","parents":["15f5e3a14b9df029237da25060270178e4f0d96e"],"ref":"refs/changes/49/4449/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1533253039,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533253069,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":771,"sizeDeletions":-484},{"number":"6","revision":"08fed867fe3d81a76c61bc90a2984b924d09438a","parents":["f926678196b41b64ea76b116fea33fee04e74a81"],"ref":"refs/changes/49/4449/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1533681265,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533253069,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":770,"sizeDeletions":-483},{"number":"7","revision":"2235f072ac2dbd71f7b32d2e7f1e604934d505d3","parents":["f926678196b41b64ea76b116fea33fee04e74a81"],"ref":"refs/changes/49/4449/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1533681329,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533681863,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533687264,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533687264,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":771,"sizeDeletions":-484},{"number":"8","revision":"34db7565a8334d26fcf67756ebe1dc4ca821cb7c","parents":["f926678196b41b64ea76b116fea33fee04e74a81"],"ref":"refs/changes/49/4449/8","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1533851966,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533681863,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1533852012,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533687264,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1533687264,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"bin/cnapi.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"docs/index.md","type":"MODIFIED","insertions":88,"deletions":-18},{"file":"docs/static.md","type":"MODIFIED","insertions":91,"deletions":-17},{"file":"lib/app.js","type":"MODIFIED","insertions":51,"deletions":-54},{"file":"lib/common.js","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/endpoints/allocations.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"lib/endpoints/servers.js","type":"MODIFIED","insertions":27,"deletions":-3},{"file":"lib/heartbeat_reconciler.js","type":"ADDED","insertions":416,"deletions":0},{"file":"lib/models/server.js","type":"MODIFIED","insertions":81,"deletions":-385},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":771,"sizeDeletions":-484}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}