{"project":"joyent/smartos-live","branch":"master","id":"I7f6b7d6d12873886bcc4c7b8957a19c08b3c2ded","number":"6466","subject":"OS-7848 configure should import configure-build if it exists Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Tim Foster \u003ctim.foster@joyent.com\u003e Approved by: Tim Foster \u003ctim.foster@joyent.com\u003e","owner":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"url":"https://cr.joyent.us/6466","commitMessage":"OS-7848 configure should import configure-build if it exists\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Tim Foster \u003ctim.foster@joyent.com\u003e\nApproved by: Tim Foster \u003ctim.foster@joyent.com\u003e\n","createdOn":1560929851,"lastUpdated":1560947502,"open":false,"status":"MERGED","comments":[{"timestamp":1560929851,"reviewer":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"message":"Uploaded patch set 1."},{"timestamp":1560929948,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560940929,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1: Code-Review+1\n\nSeems fine to me"},{"timestamp":1560942187,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\nThis looks fine. One difference here is that if users have a configure-build and explicitly _don\u0027t_ want variables set from default.configure-build, they\u0027d have to now unset those in their configure-build files, which is not the case today.\n\nThis stuff is new enough though that I doubt many people have existing scripts that rely on that old behaviour."},{"timestamp":1560945520,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nAnte: can you provide some notes on how you tested this please?"},{"timestamp":1560947057,"reviewer":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"message":"Patch Set 1:\n\nTo test this change I did a couple of full clean smartos builds, with and without configure-build file. I\u0027m using following script to automate full clean smartos build:\nhttps://us-east.manta.joyent.com/avojvodic/public/clean-build"},{"timestamp":1560947149,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 2."},{"timestamp":1560947174,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1560947243,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560947291,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1560947407,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1560947477,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by John Levon"},{"timestamp":1560947502,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"3","revision":"e6609fd70d1b8fa90aa4d22a05ec30abf6b28add","parents":["272283c4c60c1e98f31d890e1b9b28a9e9d6b302"],"ref":"refs/changes/66/6466/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1560947407,"author":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560942187,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560947174,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560947243,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560947291,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"SUBM","value":"1","grantedOn":1560947477,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-11}],"sizeInsertions":3,"sizeDeletions":-11},"patchSets":[{"number":"1","revision":"462660d096cfdbc5f3c8140ad4c7dee688d9d6de","parents":["272283c4c60c1e98f31d890e1b9b28a9e9d6b302"],"ref":"refs/changes/66/6466/1","uploader":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"createdOn":1560929851,"author":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560929948,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560940929,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560942187,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560942187,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-11}],"sizeInsertions":3,"sizeDeletions":-11},{"number":"2","revision":"7f6b7d6d12873886bcc4c7b8957a19c08b3c2ded","parents":["8c9487fb5e547954220a636376a78477f9149557"],"ref":"refs/changes/66/6466/2","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1560947149,"author":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560947243,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560947174,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560947291,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-11}],"sizeInsertions":3,"sizeDeletions":-11},{"number":"3","revision":"e6609fd70d1b8fa90aa4d22a05ec30abf6b28add","parents":["272283c4c60c1e98f31d890e1b9b28a9e9d6b302"],"ref":"refs/changes/66/6466/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1560947407,"author":{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560947243,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560947174,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1560947477,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560942187,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560947291,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"configure","type":"MODIFIED","insertions":3,"deletions":-11}],"sizeInsertions":3,"sizeDeletions":-11}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},{"name":"Ante Vojvodic","email":"ante.vojvodic@gmail.com","username":"atcorner"}]}