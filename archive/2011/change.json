{"project":"joyent/sdc-volapi","branch":"master","id":"Idc5a9a34e212ec97afe4809ffeb12cb58aa895bd","number":"2011","subject":"VOLAPI-38 CreateVolume endpoint doesn\u0027t validate that networks passed as input parameter are owned by owner_uuid","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/2011","commitMessage":"VOLAPI-38 CreateVolume endpoint doesn\u0027t validate that networks passed as input parameter are owned by owner_uuid\n","createdOn":1496074888,"lastUpdated":1496343858,"open":false,"status":"MERGED","comments":[{"timestamp":1496074888,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1496074889,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 1d7117cab12883cc14ac74e90d7b6a64d709fc47\n    \n    VOLAPI-38 CreateVolume endpoint doesn\u0027t validate that networks passed as input parameter are owned by owner_uuid"},{"timestamp":1496074913,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496090716,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 1:\n\n(6 comments)"},{"timestamp":1496112229,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\n(6 comments)"},{"timestamp":1496115517,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1496115518,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 8602cfe2c07bf1fccc982f5eb2a6c6e0f2d5b5f2\n    \n    fixes after CR (1/2)"},{"timestamp":1496115557,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496158658,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1496174471,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1496174473,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 2f4c19436e76d709e458e7226ebcea747938f88b\n    \n    fixes after CR (2/2) -- all tests now passing"},{"timestamp":1496174512,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496192999,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1496252221,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1496276712,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 4."},{"timestamp":1496276713,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 16a80bb196b57076e1a400f9c3d4c159e24ee6cf\n    \n    tests should now run in volapi zone"},{"timestamp":1496276737,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496278292,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 4:\n\n(6 comments)"},{"timestamp":1496278912,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\n(6 comments)"},{"timestamp":1496296849,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 5."},{"timestamp":1496296850,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit e7508d950d953d61fb9518cfa5b7e45790dbc43b\n    \n    tests should now run in volapi zone\n    \n    commit 2f4c19436e76d709e458e7226ebcea747938f88b\n    \n    fixes after CR (2/2) -- all tests now passing\n    \n    commit 8602cfe2c07bf1fccc982f5eb2a6c6e0f2d5b5f2\n    \n    fixes after CR (1/2)\n    \n    commit 1d7117cab12883cc14ac74e90d7b6a64d709fc47\n    \n    VOLAPI-38 CreateVolume endpoint doesn\u0027t validate that networks passed as input parameter are owned by owner_uuid"},{"timestamp":1496296878,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1496296930,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 6."},{"timestamp":1496296931,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 0ff110e47a297aa4841c3ce183ae96869dd0cc36\n    \n    fix make check"},{"timestamp":1496296965,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing-1\n\n(2 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1496297093,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 7."},{"timestamp":1496297094,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit fe94b13dfd961ad21e4d21befcdc303eb05a08b4\n    \n    ugh 80 characters is not enough for everyone"},{"timestamp":1496297123,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1496342679,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1496343858,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Josh Wilsdon"}],"currentPatchSet":{"number":"7","revision":"dc5a9a34e212ec97afe4809ffeb12cb58aa895bd","parents":["16fa951f485e17585b6476c56293cf5a9a0d46d3"],"ref":"refs/changes/11/2011/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496297093,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496297123,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496342679,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496342679,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"SUBM","value":"1","grantedOn":1496343858,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/lib/clients-setup.js","type":"MODIFIED","insertions":24,"deletions":-11},{"file":"test/integration/lib/resources.js","type":"MODIFIED","insertions":12,"deletions":-4},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":227,"deletions":0},{"file":"test/integration/nfs-shared-volumes-creation-name-generation.test.js","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"test/integration/nfs-shared-volumes.test.js","type":"MODIFIED","insertions":218,"deletions":-59},{"file":"test/runtest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/runtest.common","type":"MODIFIED","insertions":10,"deletions":-8},{"file":"test/runtests","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":609,"sizeDeletions":-105},"patchSets":[{"number":"1","revision":"660967d7d9ec9789d8ad9650a1bf1fa58890870f","parents":["e0ae10e263fe54e8ee45d814927a6111f23b8917"],"ref":"refs/changes/11/2011/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496074888,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496074913,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/validation/networks.js","line":40,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: name this function and all function callbacks below."},{"file":"lib/validation/networks.js","line":40,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"good point, thanks!"},{"file":"lib/validation/networks.js","line":71,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"This seems like it would create an error message with a trailing space. Would creating a \"subErrMsgs\" array that we\u0027d \"join()\" when we built all error sub-messages prevent this?"},{"file":"lib/validation/networks.js","line":71,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Ah, good catch. I intended to call .trim() on the message here. I guess an array could work too... But .trim() seems simpler to me. What do you think?"},{"file":"lib/validation/networks.js","line":71,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"trim() works for me too!"},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":18,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: is there a reason why these two modules \"require\" are separated by a blank line? If not, we might want to reorder these statements too for proper alphabetization."},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":18,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"good point!"},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":97,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"When okNoExist is true, isn\u0027t there a possibility for t.end() to be called twice, once here and once at line 71?"},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":97,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"yes. That\u0027s intentional since \u0027t\u0027 in both those cases are different sub-tests. We call tt.test() and my understanding was that we needed to end each of these subtests. I\u0027ll confirm that though."},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":97,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Ah, my bad, I got confused by the fact that I\u0027m used to have the top-level function be the callback of a \"test()\" call. I take my first comment back :)"},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":135,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"What \"junk\" are we \"cleaning\"? Maybe a more explicit title would make this easier to grasp?\n\nShould \"ttt\" be named \"t\" to be more consistent with the rest of this file?"},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":135,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Both good points. The ttt was a holdover from a different arrangement where it was one further level down. Thanks!"},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":154,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should \"onListNetworks\" be renamed \"onCreateNetwork\"? Same for other typos in this callback\u0027s code."},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","line":154,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"yep!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":228,"deletions":0}],"sizeInsertions":316,"sizeDeletions":-9},{"number":"2","revision":"63c7b87296cf1279a7da8785ab7ea5580aaff8f6","parents":["e0ae10e263fe54e8ee45d814927a6111f23b8917"],"ref":"refs/changes/11/2011/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496115517,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496115557,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":227,"deletions":0}],"sizeInsertions":315,"sizeDeletions":-9},{"number":"3","revision":"06fb749ec9c4eb2bd8f82b4586e90fa3627b6135","parents":["e0ae10e263fe54e8ee45d814927a6111f23b8917"],"ref":"refs/changes/11/2011/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496174471,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496174512,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/integration/nfs-shared-volumes.test.js","line":75,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is that file guaranteed to exist?"},{"file":"test/integration/nfs-shared-volumes.test.js","line":75,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Currently yes, though it\u0027s an implementation detail of sysinfo.  This is sysinfo\u0027s \"cache\" file which it uses when you run `sysinfo -j`. In that mode all it does is cat the contents of this file. If this changes, we could modify this call to execute sysinfo -j but it has been the way it is since 2011-03-25 and seems unlikely to change."},{"file":"test/integration/nfs-shared-volumes.test.js","line":86,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Is that image present in a fresh COAL setup, or when nightly tests would run?"},{"file":"test/integration/nfs-shared-volumes.test.js","line":86,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Good catch. I *thought* so, but on further investigation: no. While *I* have it installed via my own coal-postsetup script, it looks like it does not get installed on nightly. I\u0027ll have to figure something else out. Perhaps importing this image to imgapi when running runtest(s)."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/lib/clients-setup.js","type":"MODIFIED","insertions":24,"deletions":-11},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":227,"deletions":0},{"file":"test/integration/nfs-shared-volumes-creation-name-generation.test.js","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"test/integration/nfs-shared-volumes.test.js","type":"MODIFIED","insertions":126,"deletions":-35}],"sizeInsertions":486,"sizeDeletions":-66},{"number":"4","revision":"d2a5b8c284408bf91696ecb97b949ac9b92a7776","parents":["16fa951f485e17585b6476c56293cf5a9a0d46d3"],"ref":"refs/changes/11/2011/4","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496276712,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496276737,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/integration/nfs-shared-volumes.test.js","line":143,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Does that get the same image uuid as the one used by the VOLAPI core zone? If so, we should make sure that VOLAPI supports having more than one of each of its services running."},{"file":"test/integration/nfs-shared-volumes.test.js","line":143,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"This uses the image from the currently running volapi, but since we\u0027re not running setup.sh from the user-script, the volapi services will *not* be started. Neither will any of the sapi adoption stuff run. Looking in one of these zones you\u0027ll see a ptree that looks like:\n\n```\n43755 /sbin/init\n  43772 /lib/svc/bin/svc.startd\n    44312 /usr/lib/saf/sac -t 300\n      44317 /usr/lib/saf/ttymon\n    44319 /usr/lib/saf/ttymon -g -d /dev/console -l console -m ldterm,ttcompat -h -p 1661\n  43775 /lib/svc/bin/svc.configd\n  43862 /lib/inet/ipmgmtd\n  44092 /usr/lib/pfexecd\n  44122 /usr/sbin/nscd\n  44305 /usr/sbin/cron\n  44310 /usr/sbin/rsyslogd -c5 -n\n  44315 /usr/lib/utmpd\n  44316 /usr/lib/inet/inetd start\n  44361 /usr/lib/ssh/sshd\n54505 /usr/bin/login -z global -f root\n  54506 -bash\n    54512 ptree\n```"},{"file":"test/integration/nfs-shared-volumes.test.js","line":210,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: I think most of the tests in VOLAPI use the \"makeResourceName()\" function defined in test/resources.js. That helps to have a uniform format for the name of test resources, and when we want to change that format we don\u0027t need to update a lot of occurrences."},{"file":"test/integration/nfs-shared-volumes.test.js","line":210,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"good point, I\u0027ll change this."},{"file":"test/integration/nfs-shared-volumes.test.js","line":243,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we guard the block of code that uses \"vmobj\" with a condition that makes sure that vmobj is defined? Otherwise the test could crash."},{"file":"test/integration/nfs-shared-volumes.test.js","line":243,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Sure. failing instead of crashing is probably better."},{"file":"test/runtest","line":11,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: it might be worth it to write just a couple of lines why the tests must run in the volapi zone."},{"file":"test/runtest","line":11,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"sure. Will do."},{"file":"test/runtest.common","line":25,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: it might be worth it to write just a couple of lines why the tests must run in the volapi zone."},{"file":"test/runtest.common","line":25,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"yep."},{"file":"test/runtests","line":13,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"nit: it might be worth it to write just a couple of lines why the tests must run in the volapi zone."},{"file":"test/runtests","line":13,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"+1"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/lib/clients-setup.js","type":"MODIFIED","insertions":24,"deletions":-11},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":227,"deletions":0},{"file":"test/integration/nfs-shared-volumes-creation-name-generation.test.js","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"test/integration/nfs-shared-volumes.test.js","type":"MODIFIED","insertions":208,"deletions":-59},{"file":"test/runtest","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"test/runtest.common","type":"MODIFIED","insertions":4,"deletions":-8},{"file":"test/runtests","type":"MODIFIED","insertions":1,"deletions":-2}],"sizeInsertions":576,"sizeDeletions":-101},{"number":"5","revision":"55a2d2c7bef75737dc931e4c6895b0ce8ec401a1","parents":["16fa951f485e17585b6476c56293cf5a9a0d46d3"],"ref":"refs/changes/11/2011/5","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496296849,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1496296878,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/integration/nfs-shared-volumes.test.js","line":40,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: missing semicolon"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/lib/clients-setup.js","type":"MODIFIED","insertions":24,"deletions":-11},{"file":"test/integration/lib/resources.js","type":"MODIFIED","insertions":12,"deletions":-4},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":227,"deletions":0},{"file":"test/integration/nfs-shared-volumes-creation-name-generation.test.js","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"test/integration/nfs-shared-volumes.test.js","type":"MODIFIED","insertions":216,"deletions":-59},{"file":"test/runtest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/runtest.common","type":"MODIFIED","insertions":10,"deletions":-8},{"file":"test/runtests","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":607,"sizeDeletions":-105},{"number":"6","revision":"af7cca338004fc5709f8abc59795423255030127","parents":["16fa951f485e17585b6476c56293cf5a9a0d46d3"],"ref":"refs/changes/11/2011/6","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496296930,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1496296965,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/integration/nfs-shared-volumes.test.js","line":250,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"},{"file":"test/integration/nfs-shared-volumes.test.js","line":253,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"line \u003e 80 characters"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/lib/clients-setup.js","type":"MODIFIED","insertions":24,"deletions":-11},{"file":"test/integration/lib/resources.js","type":"MODIFIED","insertions":12,"deletions":-4},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":227,"deletions":0},{"file":"test/integration/nfs-shared-volumes-creation-name-generation.test.js","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"test/integration/nfs-shared-volumes.test.js","type":"MODIFIED","insertions":216,"deletions":-59},{"file":"test/runtest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/runtest.common","type":"MODIFIED","insertions":10,"deletions":-8},{"file":"test/runtests","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":607,"sizeDeletions":-105},{"number":"7","revision":"dc5a9a34e212ec97afe4809ffeb12cb58aa895bd","parents":["16fa951f485e17585b6476c56293cf5a9a0d46d3"],"ref":"refs/changes/11/2011/7","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1496297093,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1496297123,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1496343858,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496342679,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496342679,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/volumes.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/validation/networks.js","type":"MODIFIED","insertions":69,"deletions":-1},{"file":"lib/volapi.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"test/integration/lib/clients-setup.js","type":"MODIFIED","insertions":24,"deletions":-11},{"file":"test/integration/lib/resources.js","type":"MODIFIED","insertions":12,"deletions":-4},{"file":"test/integration/nfs-shared-volumes-creation-invalid-networks.test.js","type":"ADDED","insertions":227,"deletions":0},{"file":"test/integration/nfs-shared-volumes-creation-name-generation.test.js","type":"MODIFIED","insertions":21,"deletions":-11},{"file":"test/integration/nfs-shared-volumes.test.js","type":"MODIFIED","insertions":218,"deletions":-59},{"file":"test/runtest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/runtest.common","type":"MODIFIED","insertions":10,"deletions":-8},{"file":"test/runtests","type":"MODIFIED","insertions":4,"deletions":-2}],"sizeInsertions":609,"sizeDeletions":-105}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}