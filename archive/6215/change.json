{"project":"joyent/boray","branch":"master","id":"Icc5b96cd9426cafb4ebc919b882c3f530a447c4b","number":"6215","subject":"MANTA-4254 Store sharks data as a text array in postgres","owner":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"url":"https://cr.joyent.us/6215","commitMessage":"MANTA-4254 Store sharks data as a text array in postgres\n","createdOn":1557356518,"lastUpdated":1557514412,"open":false,"status":"MERGED","comments":[{"timestamp":1557356518,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 1."},{"timestamp":1557356520,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 77e11ea1558924433fe410a8da5d024242c31cf7\n    \n    MANTA-4254 Store sharks data as a text array in postgres"},{"timestamp":1557356522,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n xmllint --noout --path tools/ --dtdvalid tools/service_bundle.dtd.1 smf/manifests/boray.xml\n warning: failed to load external entity \"tools/service_bundle.dtd.1\"\n Could not parse DTD tools/service_bundle.dtd.1\n deps/eng/tools/mk/Makefile.smf.targ:34: recipe for target \u0027smf/manifests/boray.xml.smfchk\u0027 failed\n gmake: *** [smf/manifests/boray.xml.smfchk] Error 2"},{"timestamp":1557504096,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1\n\n(1 comment)\n\nPulled code onto my local machine and verified `cargo check` passed."},{"timestamp":1557504606,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1557505503,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1557514412,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kelly McLaughlin"}],"currentPatchSet":{"number":"1","revision":"cc5b96cd9426cafb4ebc919b882c3f530a447c4b","parents":["48fccae67a84fe9d8f87190272f854f982643bed"],"ref":"refs/changes/15/6215/1","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1557356518,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1557356522,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557504096,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557504096,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1557514412,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"comments":[{"file":"src/object.rs","line":52,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"nit: Is there any reason to prefer this over:\n\n format!(\"{}:{}\", \u0026self.datacenter, \u0026self.manta_storage_id);\n\nI personally find `format!` to be more readable, as it matches printf or console.log more closely."},{"file":"src/object.rs","line":52,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"I use this method based on the results of this testing: https://github.com/hoodie/concatenation_benchmarks-rs. That being said I haven\u0027t yet duplicated these tests for myself to reproduce the results so I can\u0027t say for absolute that the numbers hold, but they do show the format macro taking more than twice as long so that\u0027s why I tend towards the use of `concat`."},{"file":"src/object.rs","line":52,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"ah ok, interesting :)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Cargo.lock","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/object.rs","type":"MODIFIED","insertions":69,"deletions":-8},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":11,"deletions":-2}],"sizeInsertions":82,"sizeDeletions":-10},"patchSets":[{"number":"1","revision":"cc5b96cd9426cafb4ebc919b882c3f530a447c4b","parents":["48fccae67a84fe9d8f87190272f854f982643bed"],"ref":"refs/changes/15/6215/1","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1557356518,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1557356522,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1557504096,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1557504096,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1557514412,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"comments":[{"file":"src/object.rs","line":52,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"nit: Is there any reason to prefer this over:\n\n format!(\"{}:{}\", \u0026self.datacenter, \u0026self.manta_storage_id);\n\nI personally find `format!` to be more readable, as it matches printf or console.log more closely."},{"file":"src/object.rs","line":52,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"I use this method based on the results of this testing: https://github.com/hoodie/concatenation_benchmarks-rs. That being said I haven\u0027t yet duplicated these tests for myself to reproduce the results so I can\u0027t say for absolute that the numbers hold, but they do show the format macro taking more than twice as long so that\u0027s why I tend towards the use of `concat`."},{"file":"src/object.rs","line":52,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"ah ok, interesting :)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Cargo.lock","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Cargo.toml","type":"MODIFIED","insertions":1,"deletions":0},{"file":"src/object.rs","type":"MODIFIED","insertions":69,"deletions":-8},{"file":"tests/rpc_handlers.rs","type":"MODIFIED","insertions":11,"deletions":-2}],"sizeInsertions":82,"sizeDeletions":-10}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}]}