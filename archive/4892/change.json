{"project":"joyent/sdc-net-agent","branch":"master","id":"I928bf242828caedd84806c2a445603060be0f346","number":"4892","subject":"TRITON-801 net-agent doesn\u0027t update NIC state if VM is created but not updated","owner":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"url":"https://cr.joyent.us/4892","commitMessage":"TRITON-801 net-agent doesn\u0027t update NIC state if VM is created but not updated\n","createdOn":1538088004,"lastUpdated":1539291739,"open":false,"status":"ABANDONED","comments":[{"timestamp":1538088004,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 1."},{"timestamp":1538088005,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 986e832d53f133231eaebe3e3b61abf28d6a7b7b\n    \n    fix create event to set needsUpdate so we start the missing FSMs"},{"timestamp":1538089165,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 2."},{"timestamp":1538089166,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 4afa3706f08beca12c2ba3ff22551b0826630033\n    \n    add delete-matching log message"},{"timestamp":1538089321,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Uploaded patch set 3."},{"timestamp":1538089322,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit d2f832b87a618d8bf5437b0431c6c7b5087c4e8f\n    \n    update package.json version"},{"timestamp":1538091923,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1539285366,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nThe changes here have run through the vmapi tests with both mockcloud CNs and non-mockcloud CNs successfully.\n\nI think review is mostly needed on things other than dummy/net-agent.js. That file is only used by mockcloud so if there are problems there, they\u0027ll not be production-blocking. Not that review is unwelcome, just that the other parts are the critical bit (to ensure not breaking production net-agents). \n\nThe main change here is to allow passing in a vmadm object so that itâ€™s possible to use a dummy vmadm instead."},{"timestamp":1539291598,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3:\n\nugh. ignore that last comment, it was meant for another CR. :/"},{"timestamp":1539291739,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Abandoned\n\nThis will just get done with TRITON-697"}],"currentPatchSet":{"number":"3","revision":"928bf242828caedd84806c2a445603060be0f346","parents":["0b390942a750ad06a8e454ddc677be1a84aa3e1a"],"ref":"refs/changes/92/4892/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1538089321,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1538091923,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/vmadm-watcher-fsm.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"fe309d5f45126a441d0e242e5d34bc75b327c923","parents":["0b390942a750ad06a8e454ddc677be1a84aa3e1a"],"ref":"refs/changes/92/4892/1","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1538088004,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/vmadm-watcher-fsm.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":1,"sizeDeletions":0},{"number":"2","revision":"fcf94db8d8ef6d34473e7b535a470d7807c6eb6a","parents":["0b390942a750ad06a8e454ddc677be1a84aa3e1a"],"ref":"refs/changes/92/4892/2","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1538089165,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/vmadm-watcher-fsm.js","type":"MODIFIED","insertions":2,"deletions":0}],"sizeInsertions":2,"sizeDeletions":0},{"number":"3","revision":"928bf242828caedd84806c2a445603060be0f346","parents":["0b390942a750ad06a8e454ddc677be1a84aa3e1a"],"ref":"refs/changes/92/4892/3","uploader":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"createdOn":1538089321,"author":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1538091923,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/vmadm-watcher-fsm.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":3,"sizeDeletions":-1}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},{"name":"Joyent Automation","username":"joyent-automation"}]}