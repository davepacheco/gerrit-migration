{"project":"joyent/illumos-joyent","branch":"master","id":"If960da1aef770a2b8333debc1e79604375d457cb","number":"2121","subject":"OS-6190 bnxe MAC_CAPAB_TRANSCEIVER support Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/2121","commitMessage":"OS-6190 bnxe MAC_CAPAB_TRANSCEIVER support\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1497654570,"lastUpdated":1498253581,"open":false,"status":"MERGED","comments":[{"timestamp":1497654570,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1497658837,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1497883780,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1497988998,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3."},{"timestamp":1497989018,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1497989173,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1497989300,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4."},{"timestamp":1497989314,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1498158154,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\n(2 comments)"},{"timestamp":1498171373,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 5."},{"timestamp":1498171388,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 4:\n\n(2 comments)"},{"timestamp":1498178373,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5: Code-Review+1\n\n(2 comments)"},{"timestamp":1498249483,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 6."},{"timestamp":1498249490,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1498252775,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1498253443,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1498253501,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1498253564,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1498253581,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"8","revision":"f960da1aef770a2b8333debc1e79604375d457cb","parents":["c4b4d807812841c0aa8d1d3e5035edee3d79a805"],"ref":"refs/changes/21/2121/8","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1498253564,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498252775,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1498253443,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1498253581,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":180,"deletions":0}],"sizeInsertions":190,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"2d2f98bb9a4591e17f0adcd81e57c99e36194f84","parents":["dfae20b5ffcad6bef48ac6df469fe8600ae3d26c"],"ref":"refs/changes/21/2121/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1497654570,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":155,"deletions":0}],"sizeInsertions":164,"sizeDeletions":0},{"number":"2","revision":"dd2eeb44d640d2f1f83108b18bdb6430191fa4d1","parents":["dfae20b5ffcad6bef48ac6df469fe8600ae3d26c"],"ref":"refs/changes/21/2121/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1497658837,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":26,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Make this a uint_t if we\u0027re only using it to index into an array?"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":26,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":150,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Missing comma and and some other words?"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":150,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":157,"deletions":0}],"sizeInsertions":166,"sizeDeletions":0},{"number":"3","revision":"bc865f619d80564e62af31268782df01cd85a580","parents":["dfae20b5ffcad6bef48ac6df469fe8600ae3d26c"],"ref":"refs/changes/21/2121/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1497988998,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":94,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"uint_t"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":94,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":157,"deletions":0}],"sizeInsertions":166,"sizeDeletions":0},{"number":"4","revision":"60cbbb3698de22dbee258998fbcdfcfb19fdb6de","parents":["dfae20b5ffcad6bef48ac6df469fe8600ae3d26c"],"ref":"refs/changes/21/2121/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1497989300,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":29,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Why not do straight returns from the various conditionals here?  (if not, this should be uint_t)"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":29,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027ve refactored this."},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":42,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"With no default case, we could return an uninitialized \u0027phy\u0027.  I\u0027m surprised lint wasn\u0027t grumpy about this."},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":42,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I\u0027ve added one to sanity check it."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":157,"deletions":0}],"sizeInsertions":166,"sizeDeletions":0},{"number":"5","revision":"3a85ba82b0db28b89e9ac92f3897ec2755f3770d","parents":["dfae20b5ffcad6bef48ac6df469fe8600ae3d26c"],"ref":"refs/changes/21/2121/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1498171373,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498178373,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":51,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: append comma"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":51,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":84,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: append comma"},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","line":84,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":180,"deletions":0}],"sizeInsertions":189,"sizeDeletions":0},{"number":"6","revision":"3e578cd19217b670ade0150286166ce4189f1501","parents":["dfae20b5ffcad6bef48ac6df469fe8600ae3d26c"],"ref":"refs/changes/21/2121/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1498249483,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1498253443,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498252775,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":180,"deletions":0}],"sizeInsertions":190,"sizeDeletions":0},{"number":"7","revision":"5e215bdeb87188c2a0c51b82fa6efd3a9ae92435","parents":["c4b4d807812841c0aa8d1d3e5035edee3d79a805"],"ref":"refs/changes/21/2121/7","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1498253501,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1498253443,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498252775,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":180,"deletions":0}],"sizeInsertions":190,"sizeDeletions":0},{"number":"8","revision":"f960da1aef770a2b8333debc1e79604375d457cb","parents":["c4b4d807812841c0aa8d1d3e5035edee3d79a805"],"ref":"refs/changes/21/2121/8","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1498253564,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1498253581,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1498253443,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1498252775,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe.h","type":"MODIFIED","insertions":3,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_gld.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/uts/common/io/bnxe/bnxe_illumos.c","type":"ADDED","insertions":180,"deletions":0}],"sizeInsertions":190,"sizeDeletions":0}],"allReviewers":[{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}