{"project":"joyent/sdcadm","branch":"master","id":"Iec34800530de8c90fbd4d0b82c3b08f6ef3cd6c3","number":"5553","subject":"TRITON-954 sdcadm post-setup common-external-nics should be rack aware Reviewed by: Cody Peter Mello \u003cmelloc@writev.io\u003e Approved by: Cody Peter Mello \u003cmelloc@writev.io\u003e","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/5553","commitMessage":"TRITON-954 sdcadm post-setup common-external-nics should be rack aware\nReviewed by: Cody Peter Mello \u003cmelloc@writev.io\u003e\nApproved by: Cody Peter Mello \u003cmelloc@writev.io\u003e\n","createdOn":1549643298,"lastUpdated":1550092097,"open":false,"status":"MERGED","comments":[{"timestamp":1549643298,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1549643347,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n version is: 1.24.4\n Version check ok.\n /tmp/repo/./build/node/bin/node node_modules/.bin/eslint  lib/vmadm.js lib/svcadm.js lib/common.js lib/locker.js lib/steps/dnsdomain.js lib/steps/usbkey.js lib/steps/servers.js lib/steps/noRabbit.js lib/steps/binder.js lib/steps/sapi.js lib/steps/index.js lib/steps/updateVmSize.js lib/steps/zookeeper.js lib/post-setup/common-external-nics.js lib/post-setup/cmon.js lib/post-setup/ha-manatee.js lib/post-setup/underlay-nics.js lib/post-setup/index.js lib/post-setup/volapi.js lib/post-setup/ha-binder.js lib/post-setup/fabrics.js lib/post-setup/cns.js lib/post-setup/docker.js lib/post-setup/dev-sample-data.js lib/post-setup/cloudapi.js lib/post-setup/dev-headnode-prov.js lib/platform.js lib/cli/do_update.js lib/cli/do_fix_core_vm_resolvers.js lib/cli/index.js lib/cli/do_update_gz_tools.js lib/cli/do_check_health.js lib/cli/experimental.js lib/cli/do_check_config.js lib/cli/do_add_new_agent_svcs.js lib/cli/do_update_agents.js lib/cli/do_services.js lib/cli/do_self_update.js lib/cli/do_install_docker_cert.js lib/cli/do_completion.js lib/cli/do_info.js lib/cli/do_create.js lib/cli/do_instances.js lib/cli/do_avail.js lib/cli/do_rollback.js lib/cli/do_nfs_volumes.js lib/cli/do_update_other.js lib/cli/do_update_docker.js lib/channel.js lib/sdcadm.js lib/procedures/update-dockerlogger.js lib/procedures/update-agent-v1.js lib/procedures/update-sapi-v2.js lib/procedures/update-single-hn-sapi-v1.js lib/procedures/procedure.js lib/procedures/update-manatee-v2.js lib/procedures/update-binder-v2.js lib/procedures/create-service-instance-v1.js lib/procedures/update-stateless-services-v1.js lib/procedures/update-moray-v2.js lib/procedures/update-single-headnode-imgapi.js lib/procedures/download-images.js lib/procedures/shared.js lib/procedures/index.js lib/dc-maint.js lib/default-fabric.js lib/errors.js lib/logging.js lib/ur.js test/update.test.js test/post-setup.test.js test/create.test.js test/common.test.js test/available.test.js test/platform.test.js test/experimental.test.js test/instances.test.js test/self-update.test.js test/channel.test.js test/check-config.test.js test/post-setup-ha-binder.test.js test/services.test.js test/unit/cli/do_update_agents.test.js test/unit/steps/usbkey.test.js test/unit/testutil.js test/shared.js test/help.test.js test/sdcadm.test.js test/dc-maint.test.js test/rollback.test.js test/update-gz-tools.test.js test/manatee.test.js test/check-health.test.js test/common.js\n \n /tmp/repo/lib/sdcadm.js\n   4258:54  error  Parsing error: Unexpected token {\n \n âœ– 1 problem (1 error, 0 warnings)\n \n tools/mk/Makefile.targ:201: recipe for target \u0027check-eslint\u0027 failed\n gmake: *** [check-eslint] Error 1"},{"timestamp":1549643537,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2."},{"timestamp":1549643559,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 2: Code-Review-1"},{"timestamp":1549643582,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549903335,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3."},{"timestamp":1549921940,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 3: -Code-Review"},{"timestamp":1549922620,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1550090388,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1550091753,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1550092097,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"4","revision":"ec34800530de8c90fbd4d0b82c3b08f6ef3cd6c3","parents":["d594d57e62cd961ec8a7135fae0eb8cab6664ab8"],"ref":"refs/changes/53/5553/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1550091753,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549922620,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549922620,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1550090388,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1550092097,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":8,"deletions":-36},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":13,"sizeDeletions":-37},"patchSets":[{"number":"1","revision":"a840865f5b44784f852638880e2681f6252babc5","parents":["d594d57e62cd961ec8a7135fae0eb8cab6664ab8"],"ref":"refs/changes/53/5553/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1549643298,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1549643347,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":7,"deletions":-34}],"sizeInsertions":7,"sizeDeletions":-34},{"number":"2","revision":"832e5f192beb4f04dc5c676e2c816fc925b88007","parents":["d594d57e62cd961ec8a7135fae0eb8cab6664ab8"],"ref":"refs/changes/53/5553/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1549643537,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549643582,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1549643559,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":8,"deletions":-35},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":13,"sizeDeletions":-36},{"number":"3","revision":"797c18f8d3b3b285dbd11fbfa1c4e705a0330993","parents":["d594d57e62cd961ec8a7135fae0eb8cab6664ab8"],"ref":"refs/changes/53/5553/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1549903335,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549922620,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549922620,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1550090388,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":8,"deletions":-36},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":13,"sizeDeletions":-37},{"number":"4","revision":"ec34800530de8c90fbd4d0b82c3b08f6ef3cd6c3","parents":["d594d57e62cd961ec8a7135fae0eb8cab6664ab8"],"ref":"refs/changes/53/5553/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1550091753,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1549922620,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1549922620,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1550090388,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1550092097,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":8,"deletions":-36},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":13,"sizeDeletions":-37}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}