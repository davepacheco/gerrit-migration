{"project":"joyent/illumos-joyent","branch":"master","id":"I4b6a55d935e3df7da2e1c14573860b6c8f923a24","number":"423","subject":"OS-4810 Panic: BAD TRAP in udp_do_open OS-5631 iptun leaks netstacks OS-5632 ipnet_promisc_add() leaks netstacks in error paths OS-5633 ill_lookup_on_ifindex_global_instance could leak netstack ids Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Rev","owner":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"url":"https://cr.joyent.us/423","commitMessage":"OS-4810 Panic: BAD TRAP in udp_do_open\nOS-5631 iptun leaks netstacks\nOS-5632 ipnet_promisc_add() leaks netstacks in error paths\nOS-5633 ill_lookup_on_ifindex_global_instance could leak netstack ids\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1473200072,"lastUpdated":1473454553,"open":false,"status":"MERGED","comments":[{"timestamp":1473200072,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Uploaded patch set 1."},{"timestamp":1473201318,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1473205223,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1473209996,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1473454395,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1473454534,"reviewer":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1473454553,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Bryan Cantrill"}],"currentPatchSet":{"number":"3","revision":"30929368aafd4ac5de5f09aa113e55772d766549","parents":["d09721f7446ca0fcc46a38cae275f18d560585c7"],"ref":"refs/changes/23/423/3","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1473454534,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473201318,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473205223,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473209996,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1473454553,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_if.c","type":"MODIFIED","insertions":12,"deletions":-9},{"file":"usr/src/uts/common/inet/ipnet/ipnet.c","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/uts/common/inet/iptun/iptun.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/os/netstack.c","type":"MODIFIED","insertions":22,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":54,"deletions":-3},{"file":"usr/src/uts/common/sys/netstack.h","type":"MODIFIED","insertions":6,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-20},"patchSets":[{"number":"1","revision":"4b6a55d935e3df7da2e1c14573860b6c8f923a24","parents":["12a530b543020dda34973ca16b31b66007141141"],"ref":"refs/changes/23/423/1","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1473200072,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473205223,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473201318,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473209996,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_if.c","type":"MODIFIED","insertions":12,"deletions":-9},{"file":"usr/src/uts/common/inet/ipnet/ipnet.c","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/uts/common/inet/iptun/iptun.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/os/netstack.c","type":"MODIFIED","insertions":22,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":54,"deletions":-3},{"file":"usr/src/uts/common/sys/netstack.h","type":"MODIFIED","insertions":6,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-20},{"number":"2","revision":"af639300acffdc85d08f006f55830c854f5365ef","parents":["d09721f7446ca0fcc46a38cae275f18d560585c7"],"ref":"refs/changes/23/423/2","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1473454395,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473205223,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473201318,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473209996,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_if.c","type":"MODIFIED","insertions":12,"deletions":-9},{"file":"usr/src/uts/common/inet/ipnet/ipnet.c","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/uts/common/inet/iptun/iptun.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/os/netstack.c","type":"MODIFIED","insertions":22,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":54,"deletions":-3},{"file":"usr/src/uts/common/sys/netstack.h","type":"MODIFIED","insertions":6,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-20},{"number":"3","revision":"30929368aafd4ac5de5f09aa113e55772d766549","parents":["d09721f7446ca0fcc46a38cae275f18d560585c7"],"ref":"refs/changes/23/423/3","uploader":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"createdOn":1473454534,"author":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473205223,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1473454553,"by":{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473201318,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473209996,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":13,"deletions":0},{"file":"usr/src/uts/common/inet/ip/ip_if.c","type":"MODIFIED","insertions":12,"deletions":-9},{"file":"usr/src/uts/common/inet/ipnet/ipnet.c","type":"MODIFIED","insertions":11,"deletions":-6},{"file":"usr/src/uts/common/inet/iptun/iptun.c","type":"MODIFIED","insertions":2,"deletions":0},{"file":"usr/src/uts/common/os/netstack.c","type":"MODIFIED","insertions":22,"deletions":-2},{"file":"usr/src/uts/common/os/zone.c","type":"MODIFIED","insertions":54,"deletions":-3},{"file":"usr/src/uts/common/sys/netstack.h","type":"MODIFIED","insertions":6,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-20}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Bryan Cantrill","email":"bryan@joyent.com","username":"bcantrill"}]}