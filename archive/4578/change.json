{"project":"joyent/sdc-manta","branch":"master","topic":"MANTA-3846","id":"Idb12279a7288c0114229f24ac4c98d6e1a3a19d9","number":"4578","subject":"MANTA-3846 create \"manta-garbage-collector\" zone image Reviewed by: Kody A Kantor \u003ckody@kkantor.com\u003e Approved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"url":"https://cr.joyent.us/4578","commitMessage":"MANTA-3846 create \"manta-garbage-collector\" zone image\nReviewed by: Kody A Kantor \u003ckody@kkantor.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1532554547,"lastUpdated":1535564931,"open":false,"status":"MERGED","comments":[{"timestamp":1532554547,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 1."},{"timestamp":1532554596,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1532554619,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Topic set to MANTA-3846"},{"timestamp":1532563007,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 2."},{"timestamp":1532563055,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533167344,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 3."},{"timestamp":1533167357,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1533167399,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533167412,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533668546,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4: Code-Review+1\n\n(3 comments)"},{"timestamp":1533670463,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 5."},{"timestamp":1533670496,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 5:\n\n(2 comments)"},{"timestamp":1533670501,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 6: Patch Set 5 was rebased"},{"timestamp":1533670512,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533670557,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533740252,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1533855951,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 7."},{"timestamp":1533855961,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 8: Patch Set 7 was rebased"},{"timestamp":1533856005,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533856010,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1533935297,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Abandoned"},{"timestamp":1533941420,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Restored"},{"timestamp":1534185973,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 9."},{"timestamp":1534186025,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 10: Patch Set 9 was rebased"},{"timestamp":1534186026,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534186074,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534191783,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 11."},{"timestamp":1534191803,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 12: Patch Set 11 was rebased"},{"timestamp":1534191833,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534191851,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534197150,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 12:\n\n(2 comments)"},{"timestamp":1534210133,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 12:\n\n(2 comments)"},{"timestamp":1534258713,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 12:\n\n(2 comments)"},{"timestamp":1534268261,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 12:\n\n(1 comment)"},{"timestamp":1534294202,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 12: Code-Review+1\n\n(1 comment)\n\nShould we wait to integrate this until the first \u0027master\u0027 build of the garbage collector service is in the wild (if it isn\u0027t already)? I think manta-init breaks if it can\u0027t find an image for every service."},{"timestamp":1534435111,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 12:\n\nThere actually is already a master image: https://jenkins.joyent.us/job/manta-garbage-collector/21/. I built one before too so I could test deploying them. However, after a capacity-planning meeting with dap I had yesterday, I might upload another patchset with some changes to the metadata values in services.json.production."},{"timestamp":1534972131,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 13."},{"timestamp":1534972167,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 14: Patch Set 13 was rebased"},{"timestamp":1534972179,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 13: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534972215,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 14: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534978660,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 15."},{"timestamp":1534978693,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 16: Patch Set 15 was rebased"},{"timestamp":1534978709,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 15: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534978742,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 16: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1534988822,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 17."},{"timestamp":1534988874,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 17: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1535043862,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 18: Patch Set 17 was rebased"},{"timestamp":1535043923,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 18:\n\n\"make check\" passed ok"},{"timestamp":1535055299,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 19."},{"timestamp":1535055359,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 19: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1535118767,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 20: Patch Set 19 was rebased"},{"timestamp":1535118821,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 20:\n\n\"make check\" passed ok"},{"timestamp":1535119025,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Uploaded patch set 21."},{"timestamp":1535119051,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 22: Patch Set 21 was rebased"},{"timestamp":1535119078,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 21: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1535119105,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 22: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1535123377,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 22: Code-Review+1"},{"timestamp":1535564134,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 22: Integration-Approval+1"},{"timestamp":1535564828,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Patch Set 23: Commit message was updated."},{"timestamp":1535564931,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jan Wyszynski"}],"currentPatchSet":{"number":"23","revision":"f370b9d86a69071adf4469b9e098f4660dd273be","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/23","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1535564828,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1535119105,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1535123377,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1535564134,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1535564931,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"effe95dbd0f00f88e09e2aeb8ff5e47635f63e0a","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/1","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1532554547,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532554596,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"deps/sdc-scripts","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":27,"sizeDeletions":-4},{"number":"2","revision":"005dc150e0bcaf8e35b4ca8c0e2e5da6cc84ecbc","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/2","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1532563007,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1532563055,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":6,"deletions":0},{"file":"deps/sdc-scripts","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":33,"sizeDeletions":-4},{"number":"3","revision":"ac4b3a4b3a6fe8946270d39eaad641b04045d875","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/3","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533167344,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533167399,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":6,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-3},{"number":"4","revision":"bb48f034e3f855978354b45d3ceb3510fe3968f2","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/4","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533167357,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533167412,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533668546,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"config/services/garbage-collector/service.json","line":4,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"This seems low to me, but I don\u0027t know how much \u0027work\u0027 the GCer actually does vs controlling when things run elsewhere. And we can always change this after deployment too using sdc-vmapi."},{"file":"config/services/garbage-collector/service.json","line":4,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Yeah I hadn\u0027t really payed much attention to this before, but I think a value like 2048 might be more sensible."},{"file":"config/services/garbage-collector/service.json","line":5,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Are there any default metadata fields we want to populate right away?"},{"file":"config/services/garbage-collector/service.json","line":5,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Yes!"},{"file":"man/man1/manta-adm.1","line":62,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"This text differs from what\u0027s in the manta-adm.md file"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":6,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-3},{"number":"5","revision":"c4888446480712e90997dcaf47f12e471d342906","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/5","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533670463,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533670512,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":17,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-3},{"number":"6","revision":"9d186cc940bc6b01d18d5480f376c52ec777fa6e","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/6","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533670501,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533670557,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1533740252,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":17,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":43,"sizeDeletions":-3},{"number":"7","revision":"a7aec3430360e9c3f06de0d03411a61813b91e1e","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/7","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533855951,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533856005,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":47,"sizeDeletions":-3},{"number":"8","revision":"7832c21882316c8a7c7da61d3f88dd688f40dd70","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/8","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1533855961,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1533856010,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":47,"sizeDeletions":-3},{"number":"9","revision":"614fee556280a9215bca95928210d087690be8b3","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/9","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534185973,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534186026,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"10","revision":"ad124710e1a201a50114c4bf40cef11bb2acaf8e","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/10","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534186025,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534186074,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"11","revision":"bb3c4c765126e0761ea7bfd10ac3c2d647dc7754","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/11","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534191783,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534191833,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"12","revision":"5bfd63fc62d8c1ed45ad3b7780c4407f7fc1bb72","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/12","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534191803,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534191851,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534294202,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"comments":[{"file":"config/services/garbage-collector/service.json","line":12,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Is this directly sent into a PG query? If it is, an alternative would be to have this be a boolean field, like \u0027GC_RECORD_READ_SORT_ASC\u0027 and allow the operator to specify \u0027true\u0027 or \u0027false\u0027. That way we don\u0027t have to worry about operators making typing mistakes that end up in SQL queries."},{"file":"config/services/garbage-collector/service.json","line":12,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"It is passed as an argument to the findObjects Moray API, which accepts \"ASC | DESC | asc | desc\", so I\u0027ve allowed those options here. In addition to the check that the findObjects API does, the garbage-collector has schema validation that checks for one of the allowed strings. I agree that a boolean is simpler, but it would require a lot of other changes at this point in a mechanism that is already sanitizing input. If it\u0027s okay with you, I\u0027d rather defer this change to after the deployment date we\u0027ve set."},{"file":"config/services/garbage-collector/service.json","line":12,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Sure! Thanks for the explanation."},{"file":"config/services/garbage-collector/service.json","line":16,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Is this an upper/lower bound of the shards that we\u0027ll run GC against, or supposed to represent all of the shards that aren\u0027t shard 1? Does a value of \u00270\u0027 mean that the operator needs to set this manually at a later time?"},{"file":"config/services/garbage-collector/service.json","line":16,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"Each collector will read delete records from shards identified by the inclusive range [GC_SHARD_NUM_LO, GC_SHARD_NUM_HI]. The garbage-collector has additional checks to ensure that these numbers refer to valid index shards. When garbage-collectors are deployed for the first time, they will idle until they are assigned a valid index shard range to read records from. The [0,0] range is reserved for uninitialized collectors since there is no shard 0 in any deployment (shard 1 is an index shard in lab and coal-sized Mantas). This is mostly a convenience for deployment that allows us to change the mapping between shards and garbage-collectors after deployment."},{"file":"config/services/garbage-collector/service.json","line":16,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Even though I don\u0027t think anybody does it in a \u0027real\u0027 deployment, we _could_ have a shard zero, or a shard \u0027lolcat.moray.\u0027 We do recommend using numbers for shard names though. Would you be able to use the \u0027manta\u0027 SAPI application\u0027s INDEX_MORAY_SHARDS variable in the garbage collector\u0027s config-agent template instead, or would that interfere with the uninitialized state of the collectors?"},{"file":"config/services/garbage-collector/service.json","line":16,"reviewer":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"message":"I could, and in fact the garbage-collector already queries SAPI for the list of index shards on startup so that it can fail any requests to update the shard range to contain a shard that isn\u0027t an index shard in the current deployment. \n\nHowever, part of the desired functionality of the garbage-collector is to be able to construct a one-to-many mapping from garbage-collector processes to shards. So really what these values are is a filter over the list of index shards (rather than a direct specification of which DNS records which the garbage-collector should pull from). \n\nWe should probably use a list here instead, but since none of the default deployment sizes include a shard 0, it seemed like a reasonable choice for now. Using a contiguous range filter also seemed like it would be easier to reason about rather than allowing an arbitrary list of shards for each garbage-collector. \n\nIf it\u0027s alright with you I\u0027d rather leave the filter the way it is right now. I will file an issue on the garbage-collector to update it though."},{"file":"config/services/garbage-collector/service.json","line":16,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Okay, sure. This sounds fine. Thanks man."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"13","revision":"37d2cfa542051208aa011e7f6ee3d42059b79d82","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/13","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534972131,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534972179,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"14","revision":"2bbbf73aac1e1eadcc048f4adc0773a59efa7deb","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/14","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534972167,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534972215,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"15","revision":"55c0c271de7ff720cacb18a0c2051fe4845d02ce","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/15","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534978660,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534978709,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"16","revision":"838c15f832fc3cdec43bb5ec5b707302288d7f72","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/16","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534978693,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534978742,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"17","revision":"978f282f9f6c2e60b3c2a2d65d20a4ec47b6fa21","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/17","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1534988822,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534988874,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"18","revision":"53267e4d1ae8ed872d0d0143780fc0ce4ce06ad1","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/18","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1535043862,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1534988874,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"19","revision":"6719338d2afa3429999e4c1c01aeb62c905271bc","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/19","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1535055299,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1535055359,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"20","revision":"a3add27ba311d99898e246af53932a8350cfa423","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/20","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1535118767,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1535055359,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"21","revision":"db12279a7288c0114229f24ac4c98d6e1a3a19d9","parents":["ad997d964a62abfea7992becb59bef56c235d7a9"],"ref":"refs/changes/78/4578/21","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1535119025,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1535119078,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"22","revision":"11804cf87b8cd6b9972a6df2dafdedb6b58ba96b","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/22","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1535119051,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1535564134,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1535119105,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1535123377,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3},{"number":"23","revision":"f370b9d86a69071adf4469b9e098f4660dd273be","parents":["87bb2931372bc8924de739b830bd2551ea789f2f"],"ref":"refs/changes/78/4578/23","uploader":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"createdOn":1535564828,"author":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1535564134,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1535119105,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1535123377,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"SUBM","value":"1","grantedOn":1535564931,"by":{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"config/services/garbage-collector/service.json","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.coal","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.lab","type":"ADDED","insertions":21,"deletions":0},{"file":"config/services/garbage-collector/service.json.production","type":"ADDED","insertions":21,"deletions":0},{"file":"docs/man/man1/manta-adm.md","type":"MODIFIED","insertions":3,"deletions":0},{"file":"lib/layout.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"lib/services.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"man/man1/manta-adm.1","type":"MODIFIED","insertions":3,"deletions":0},{"file":"test/tst.layout.js.out","type":"MODIFIED","insertions":8,"deletions":0},{"file":"test/tst.services.js","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-3}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Jan Wyszynski","email":"jan.wyszynski@joyent.com","username":"IanWyszynski"}]}