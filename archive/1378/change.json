{"project":"joyent/illumos-extra","branch":"master","id":"I9bc83120c2e4ef570b3cd8084d7aa643e84cb9f5","number":"1378","subject":"OS-5928 upgrade OpenSSH to 7.4p1 OS-5929 OpenSSH dumps core on audit failure Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/1378","commitMessage":"OS-5928 upgrade OpenSSH to 7.4p1\nOS-5929 OpenSSH dumps core on audit failure\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1485837702,"lastUpdated":1485992129,"open":false,"status":"MERGED","comments":[{"timestamp":1485837702,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1485837741,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1485886909,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(5 comments)\n\nIn general, this looks good. Unfortunately I couldn\u0027t really get through the updated gss changes due to gerrit, but generally most of the changes and updates look good. Thanks for working through this."},{"timestamp":1485890154,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1485902185,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1485927150,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1485927566,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 3."},{"timestamp":1485975738,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1485991922,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1485992129,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"}],"currentPatchSet":{"number":"3","revision":"9bc83120c2e4ef570b3cd8084d7aa643e84cb9f5","parents":["5b71e6584138f6626a99ea97d534f08ea3869a59"],"ref":"refs/changes/78/1378/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1485927566,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485975738,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1485991922,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1485992129,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"openssh/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"openssh/Patches/0001-Include-priv.h-for-priv_set_t.patch","type":"DELETED","insertions":0,"deletions":-25},{"file":"openssh/Patches/0001-Skip-config-check.patch","fileOld":"openssh/Patches/0002-Skip-config-check.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0002-PAM-Support.patch","fileOld":"openssh/Patches/0003-PAM-Support.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0003-lastlogin.patch","type":"ADDED","insertions":38,"deletions":0},{"file":"openssh/Patches/0004-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","fileOld":"openssh/Patches/0005-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","type":"RENAMED","insertions":2076,"deletions":-1907},{"file":"openssh/Patches/0004-lastlogin.patch","type":"DELETED","insertions":0,"deletions":-52},{"file":"openssh/Patches/0005-Deprecated-SunSSH-options.patch","fileOld":"openssh/Patches/0006-Deprecated-SunSSH-options.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0006-GSS-store-creds-for-Solaris.patch","fileOld":"openssh/Patches/0007-GSS-store-creds-for-Solaris.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0007-DTrace-support-for-SFTP.patch","fileOld":"openssh/Patches/0008-DTrace-support-for-SFTP.patch","type":"RENAMED","insertions":17,"deletions":-17},{"file":"openssh/Patches/0008-Add-DisableBanner-option.patch","fileOld":"openssh/Patches/0009-Add-DisableBanner-option.patch","type":"RENAMED","insertions":54,"deletions":-36},{"file":"openssh/Patches/0009-PAM-conversation-fix.patch","type":"ADDED","insertions":98,"deletions":0},{"file":"openssh/Patches/0010-PAM-conversation-fix.patch","type":"DELETED","insertions":0,"deletions":-104},{"file":"openssh/Patches/0010-PAM-enhancements-for-Solaris.patch","fileOld":"openssh/Patches/0011-PAM-enhancements-for-Solaris.patch","type":"RENAMED","insertions":112,"deletions":-138},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","fileOld":"openssh/Patches/0012-SunSSH-compat-default-config-values.patch","type":"RENAMED","insertions":37,"deletions":-40},{"file":"openssh/Patches/0012-Deprecate-SunSSH-compatible-server-options.patch","fileOld":"openssh/Patches/0013-Deprecate-SunSSH-compatible-server-options.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0013-Solaris-Auditing-support.patch","fileOld":"openssh/Patches/0014-Solaris-Auditing-support.patch","type":"RENAMED","insertions":40,"deletions":-50},{"file":"openssh/Patches/0014-GSS-API-key-exchange-support.patch","type":"ADDED","insertions":3303,"deletions":0},{"file":"openssh/Patches/0015-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","fileOld":"openssh/Patches/0016-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","type":"RENAMED","insertions":23,"deletions":-22},{"file":"openssh/Patches/0015-GSS-API-key-exchange-support.patch","type":"DELETED","insertions":0,"deletions":-1939},{"file":"openssh/Patches/0016-PAM-setcred-failures.patch","fileOld":"openssh/Patches/0017-PAM-setcred-failures.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0017-Don-t-call-do_pam_setcred-twice.patch","fileOld":"openssh/Patches/0018-Don-t-call-do_pam_setcred-twice.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0018-Per-session-xauthfile.patch","fileOld":"openssh/Patches/0019-Per-session-xauthfile.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0019-PubKeyPlugin-support.patch","fileOld":"openssh/Patches/0020-PubKeyPlugin-support.patch","type":"RENAMED","insertions":19,"deletions":-19},{"file":"openssh/Patches/0020-Compatibility-fix-for-ListenAddress.patch","fileOld":"openssh/Patches/0021-Compatibility-fix-for-ListenAddress.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0021-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","fileOld":"openssh/Patches/0023-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0022-Add-SMF-manifest-and-method-and-install-them.patch","fileOld":"openssh/Patches/0024-Add-SMF-manifest-and-method-and-install-them.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0022-Hack-around-umac_ctx-name-punning.patch","type":"DELETED","insertions":0,"deletions":-35},{"file":"openssh/Patches/0023-Make-default-sshd_config-more-like-the-old-illumos-o.patch","fileOld":"openssh/Patches/0025-Make-default-sshd_config-more-like-the-old-illumos-o.patch","type":"RENAMED","insertions":12,"deletions":-27},{"file":"openssh/Patches/0024-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","fileOld":"openssh/Patches/0026-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","type":"RENAMED","insertions":17,"deletions":-14},{"file":"openssh/Patches/0025-Re-enable-DSA-keys-for-pk-auth.patch","fileOld":"openssh/Patches/0027-Re-enable-DSA-keys-for-pk-auth.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0026-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","fileOld":"openssh/Patches/0028-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","type":"RENAMED","insertions":8,"deletions":-8},{"file":"openssh/Patches/0027-Set-default-sshd-options-based-on-etc-default-login.patch","fileOld":"openssh/Patches/0029-Set-default-sshd-options-based-on-etc-default-login.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0028-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","fileOld":"openssh/Patches/0030-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0029-Accept-LANG-and-LC_-environment-variables-from-clien.patch","fileOld":"openssh/Patches/0031-Accept-LANG-and-LC_-environment-variables-from-clien.patch","type":"RENAMED","insertions":23,"deletions":-24},{"file":"openssh/Patches/0030-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","fileOld":"openssh/Patches/0032-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0031-Restore-tcpwrappers-libwrap-support.patch","fileOld":"openssh/Patches/0033-Restore-tcpwrappers-libwrap-support.patch","type":"RENAMED","insertions":23,"deletions":-19},{"file":"openssh/Patches/0032-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","fileOld":"openssh/Patches/0034-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","type":"RENAMED","insertions":19,"deletions":-16},{"file":"openssh/Patches/1000-smartos-dtrace32.patch","fileOld":"openssh/Patches/1001-dtrace32.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/1001-sunw_ssl.patch","fileOld":"openssh/Patches/1002-sunw_ssl.patch","type":"RENAMED","insertions":69,"deletions":-42},{"file":"openssh/openssh-portable-7.2p2.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssh/openssh-portable-7.4p1.tar.gz","type":"ADDED","insertions":0,"deletions":0}],"sizeInsertions":6107,"sizeDeletions":-4652},"patchSets":[{"number":"1","revision":"4ce3e390b280f2e6a8e7896113f14472bef5b0d9","parents":["753470c8ef1715081cf18aaf4ae21e34ff86de1c"],"ref":"refs/changes/78/1378/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1485837702,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"openssh/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"openssh/Patches/0001-Include-priv.h-for-priv_set_t.patch","type":"DELETED","insertions":0,"deletions":-25},{"file":"openssh/Patches/0001-Skip-config-check.patch","fileOld":"openssh/Patches/0002-Skip-config-check.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0002-PAM-Support.patch","fileOld":"openssh/Patches/0003-PAM-Support.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0003-lastlogin.patch","type":"ADDED","insertions":38,"deletions":0},{"file":"openssh/Patches/0004-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","fileOld":"openssh/Patches/0005-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","type":"RENAMED","insertions":2076,"deletions":-1907},{"file":"openssh/Patches/0004-lastlogin.patch","type":"DELETED","insertions":0,"deletions":-52},{"file":"openssh/Patches/0005-Deprecated-SunSSH-options.patch","fileOld":"openssh/Patches/0006-Deprecated-SunSSH-options.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0006-GSS-store-creds-for-Solaris.patch","fileOld":"openssh/Patches/0007-GSS-store-creds-for-Solaris.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0007-DTrace-support-for-SFTP.patch","fileOld":"openssh/Patches/0008-DTrace-support-for-SFTP.patch","type":"RENAMED","insertions":17,"deletions":-17},{"file":"openssh/Patches/0008-Add-DisableBanner-option.patch","fileOld":"openssh/Patches/0009-Add-DisableBanner-option.patch","type":"RENAMED","insertions":54,"deletions":-36},{"file":"openssh/Patches/0009-PAM-conversation-fix.patch","type":"ADDED","insertions":98,"deletions":0},{"file":"openssh/Patches/0010-PAM-conversation-fix.patch","type":"DELETED","insertions":0,"deletions":-104},{"file":"openssh/Patches/0010-PAM-enhancements-for-Solaris.patch","fileOld":"openssh/Patches/0011-PAM-enhancements-for-Solaris.patch","type":"RENAMED","insertions":112,"deletions":-138},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","fileOld":"openssh/Patches/0012-SunSSH-compat-default-config-values.patch","type":"RENAMED","insertions":27,"deletions":-40},{"file":"openssh/Patches/0012-Deprecate-SunSSH-compatible-server-options.patch","fileOld":"openssh/Patches/0013-Deprecate-SunSSH-compatible-server-options.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0013-Solaris-Auditing-support.patch","fileOld":"openssh/Patches/0014-Solaris-Auditing-support.patch","type":"RENAMED","insertions":40,"deletions":-50},{"file":"openssh/Patches/0014-GSS-API-key-exchange-support.patch","type":"ADDED","insertions":3303,"deletions":0},{"file":"openssh/Patches/0015-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","fileOld":"openssh/Patches/0016-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","type":"RENAMED","insertions":23,"deletions":-22},{"file":"openssh/Patches/0015-GSS-API-key-exchange-support.patch","type":"DELETED","insertions":0,"deletions":-1939},{"file":"openssh/Patches/0016-PAM-setcred-failures.patch","fileOld":"openssh/Patches/0017-PAM-setcred-failures.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0017-Don-t-call-do_pam_setcred-twice.patch","fileOld":"openssh/Patches/0018-Don-t-call-do_pam_setcred-twice.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0018-Per-session-xauthfile.patch","fileOld":"openssh/Patches/0019-Per-session-xauthfile.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0019-PubKeyPlugin-support.patch","fileOld":"openssh/Patches/0020-PubKeyPlugin-support.patch","type":"RENAMED","insertions":19,"deletions":-19},{"file":"openssh/Patches/0020-Compatibility-fix-for-ListenAddress.patch","fileOld":"openssh/Patches/0021-Compatibility-fix-for-ListenAddress.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0021-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","fileOld":"openssh/Patches/0023-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0022-Add-SMF-manifest-and-method-and-install-them.patch","fileOld":"openssh/Patches/0024-Add-SMF-manifest-and-method-and-install-them.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0022-Hack-around-umac_ctx-name-punning.patch","type":"DELETED","insertions":0,"deletions":-35},{"file":"openssh/Patches/0023-Make-default-sshd_config-more-like-the-old-illumos-o.patch","fileOld":"openssh/Patches/0025-Make-default-sshd_config-more-like-the-old-illumos-o.patch","type":"RENAMED","insertions":12,"deletions":-27},{"file":"openssh/Patches/0024-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","fileOld":"openssh/Patches/0026-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","type":"RENAMED","insertions":17,"deletions":-14},{"file":"openssh/Patches/0025-Re-enable-DSA-keys-for-pk-auth.patch","fileOld":"openssh/Patches/0027-Re-enable-DSA-keys-for-pk-auth.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0026-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","fileOld":"openssh/Patches/0028-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","type":"RENAMED","insertions":8,"deletions":-8},{"file":"openssh/Patches/0027-Set-default-sshd-options-based-on-etc-default-login.patch","fileOld":"openssh/Patches/0029-Set-default-sshd-options-based-on-etc-default-login.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0028-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","fileOld":"openssh/Patches/0030-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0029-Accept-LANG-and-LC_-environment-variables-from-clien.patch","fileOld":"openssh/Patches/0031-Accept-LANG-and-LC_-environment-variables-from-clien.patch","type":"RENAMED","insertions":23,"deletions":-24},{"file":"openssh/Patches/0030-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","fileOld":"openssh/Patches/0032-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0031-Restore-tcpwrappers-libwrap-support.patch","fileOld":"openssh/Patches/0033-Restore-tcpwrappers-libwrap-support.patch","type":"RENAMED","insertions":23,"deletions":-19},{"file":"openssh/Patches/0032-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","fileOld":"openssh/Patches/0034-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","type":"RENAMED","insertions":19,"deletions":-16},{"file":"openssh/Patches/1000-smartos-dtrace32.patch","fileOld":"openssh/Patches/1001-dtrace32.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/1001-sunw_ssl.patch","fileOld":"openssh/Patches/1002-sunw_ssl.patch","type":"RENAMED","insertions":69,"deletions":-42},{"file":"openssh/openssh-portable-7.2p2.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssh/openssh-portable-7.4p1.tar.gz","type":"ADDED","insertions":0,"deletions":0}],"sizeInsertions":6097,"sizeDeletions":-4652},{"number":"2","revision":"5af1cdfe126904d2b57317b431e933501bb830b5","parents":["5b71e6584138f6626a99ea97d534f08ea3869a59"],"ref":"refs/changes/78/1378/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1485837741,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"TRIVIAL_REBASE","comments":[{"file":"openssh/Makefile","line":45,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Was this ultimately only coming from header files? If so, did the -isystem help?"},{"file":"openssh/Makefile","line":45,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"There are warnings in bits of the GSS patch, too. Also the -isystem didn\u0027t seem to want to work properly for me (something to do with getting the headers from the proto area?)."},{"file":"openssh/Makefile","line":45,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"OK, maybe something we should file a bug for so we can get this cleaned up in the nebulous future."},{"file":"openssh/Makefile","line":45,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Filed OS-5933 for this"},{"file":"openssh/Patches/0003-lastlogin.patch","line":21,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should we change this to illumos?"},{"file":"openssh/Patches/0003-lastlogin.patch","line":21,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"I\u0027m happy to if you think it\u0027s worthwhile. There\u0027s quite a few mentions of it."},{"file":"openssh/Patches/0003-lastlogin.patch","line":21,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"At some point we probably should, maybe that\u0027s a separate change."},{"file":"openssh/Patches/0010-PAM-enhancements-for-Solaris.patch","line":644,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Should we change to illumos?"},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","line":6,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is there a reason we lost these patch notes?"},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","line":6,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Nope, I\u0027ll put these back in."},{"file":"openssh/Patches/0031-Restore-tcpwrappers-libwrap-support.patch","line":129,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is there a reason we need this in particular or is this just a holdover? Though it\u0027s not really that important either way, since we do define it."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"openssh/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"openssh/Patches/0001-Include-priv.h-for-priv_set_t.patch","type":"DELETED","insertions":0,"deletions":-25},{"file":"openssh/Patches/0001-Skip-config-check.patch","fileOld":"openssh/Patches/0002-Skip-config-check.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0002-PAM-Support.patch","fileOld":"openssh/Patches/0003-PAM-Support.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0003-lastlogin.patch","type":"ADDED","insertions":38,"deletions":0},{"file":"openssh/Patches/0004-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","fileOld":"openssh/Patches/0005-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","type":"RENAMED","insertions":2076,"deletions":-1907},{"file":"openssh/Patches/0004-lastlogin.patch","type":"DELETED","insertions":0,"deletions":-52},{"file":"openssh/Patches/0005-Deprecated-SunSSH-options.patch","fileOld":"openssh/Patches/0006-Deprecated-SunSSH-options.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0006-GSS-store-creds-for-Solaris.patch","fileOld":"openssh/Patches/0007-GSS-store-creds-for-Solaris.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0007-DTrace-support-for-SFTP.patch","fileOld":"openssh/Patches/0008-DTrace-support-for-SFTP.patch","type":"RENAMED","insertions":17,"deletions":-17},{"file":"openssh/Patches/0008-Add-DisableBanner-option.patch","fileOld":"openssh/Patches/0009-Add-DisableBanner-option.patch","type":"RENAMED","insertions":54,"deletions":-36},{"file":"openssh/Patches/0009-PAM-conversation-fix.patch","type":"ADDED","insertions":98,"deletions":0},{"file":"openssh/Patches/0010-PAM-conversation-fix.patch","type":"DELETED","insertions":0,"deletions":-104},{"file":"openssh/Patches/0010-PAM-enhancements-for-Solaris.patch","fileOld":"openssh/Patches/0011-PAM-enhancements-for-Solaris.patch","type":"RENAMED","insertions":112,"deletions":-138},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","fileOld":"openssh/Patches/0012-SunSSH-compat-default-config-values.patch","type":"RENAMED","insertions":27,"deletions":-40},{"file":"openssh/Patches/0012-Deprecate-SunSSH-compatible-server-options.patch","fileOld":"openssh/Patches/0013-Deprecate-SunSSH-compatible-server-options.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0013-Solaris-Auditing-support.patch","fileOld":"openssh/Patches/0014-Solaris-Auditing-support.patch","type":"RENAMED","insertions":40,"deletions":-50},{"file":"openssh/Patches/0014-GSS-API-key-exchange-support.patch","type":"ADDED","insertions":3303,"deletions":0},{"file":"openssh/Patches/0015-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","fileOld":"openssh/Patches/0016-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","type":"RENAMED","insertions":23,"deletions":-22},{"file":"openssh/Patches/0015-GSS-API-key-exchange-support.patch","type":"DELETED","insertions":0,"deletions":-1939},{"file":"openssh/Patches/0016-PAM-setcred-failures.patch","fileOld":"openssh/Patches/0017-PAM-setcred-failures.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0017-Don-t-call-do_pam_setcred-twice.patch","fileOld":"openssh/Patches/0018-Don-t-call-do_pam_setcred-twice.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0018-Per-session-xauthfile.patch","fileOld":"openssh/Patches/0019-Per-session-xauthfile.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0019-PubKeyPlugin-support.patch","fileOld":"openssh/Patches/0020-PubKeyPlugin-support.patch","type":"RENAMED","insertions":19,"deletions":-19},{"file":"openssh/Patches/0020-Compatibility-fix-for-ListenAddress.patch","fileOld":"openssh/Patches/0021-Compatibility-fix-for-ListenAddress.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0021-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","fileOld":"openssh/Patches/0023-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0022-Add-SMF-manifest-and-method-and-install-them.patch","fileOld":"openssh/Patches/0024-Add-SMF-manifest-and-method-and-install-them.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0022-Hack-around-umac_ctx-name-punning.patch","type":"DELETED","insertions":0,"deletions":-35},{"file":"openssh/Patches/0023-Make-default-sshd_config-more-like-the-old-illumos-o.patch","fileOld":"openssh/Patches/0025-Make-default-sshd_config-more-like-the-old-illumos-o.patch","type":"RENAMED","insertions":12,"deletions":-27},{"file":"openssh/Patches/0024-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","fileOld":"openssh/Patches/0026-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","type":"RENAMED","insertions":17,"deletions":-14},{"file":"openssh/Patches/0025-Re-enable-DSA-keys-for-pk-auth.patch","fileOld":"openssh/Patches/0027-Re-enable-DSA-keys-for-pk-auth.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0026-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","fileOld":"openssh/Patches/0028-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","type":"RENAMED","insertions":8,"deletions":-8},{"file":"openssh/Patches/0027-Set-default-sshd-options-based-on-etc-default-login.patch","fileOld":"openssh/Patches/0029-Set-default-sshd-options-based-on-etc-default-login.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0028-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","fileOld":"openssh/Patches/0030-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0029-Accept-LANG-and-LC_-environment-variables-from-clien.patch","fileOld":"openssh/Patches/0031-Accept-LANG-and-LC_-environment-variables-from-clien.patch","type":"RENAMED","insertions":23,"deletions":-24},{"file":"openssh/Patches/0030-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","fileOld":"openssh/Patches/0032-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0031-Restore-tcpwrappers-libwrap-support.patch","fileOld":"openssh/Patches/0033-Restore-tcpwrappers-libwrap-support.patch","type":"RENAMED","insertions":23,"deletions":-19},{"file":"openssh/Patches/0032-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","fileOld":"openssh/Patches/0034-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","type":"RENAMED","insertions":19,"deletions":-16},{"file":"openssh/Patches/1000-smartos-dtrace32.patch","fileOld":"openssh/Patches/1001-dtrace32.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/1001-sunw_ssl.patch","fileOld":"openssh/Patches/1002-sunw_ssl.patch","type":"RENAMED","insertions":69,"deletions":-42},{"file":"openssh/openssh-portable-7.2p2.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssh/openssh-portable-7.4p1.tar.gz","type":"ADDED","insertions":0,"deletions":0}],"sizeInsertions":6097,"sizeDeletions":-4652},{"number":"3","revision":"9bc83120c2e4ef570b3cd8084d7aa643e84cb9f5","parents":["5b71e6584138f6626a99ea97d534f08ea3869a59"],"ref":"refs/changes/78/1378/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1485927566,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1485975738,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1485991922,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1485992129,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"openssh/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"openssh/Patches/0001-Include-priv.h-for-priv_set_t.patch","type":"DELETED","insertions":0,"deletions":-25},{"file":"openssh/Patches/0001-Skip-config-check.patch","fileOld":"openssh/Patches/0002-Skip-config-check.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0002-PAM-Support.patch","fileOld":"openssh/Patches/0003-PAM-Support.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0003-lastlogin.patch","type":"ADDED","insertions":38,"deletions":0},{"file":"openssh/Patches/0004-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","fileOld":"openssh/Patches/0005-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","type":"RENAMED","insertions":2076,"deletions":-1907},{"file":"openssh/Patches/0004-lastlogin.patch","type":"DELETED","insertions":0,"deletions":-52},{"file":"openssh/Patches/0005-Deprecated-SunSSH-options.patch","fileOld":"openssh/Patches/0006-Deprecated-SunSSH-options.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0006-GSS-store-creds-for-Solaris.patch","fileOld":"openssh/Patches/0007-GSS-store-creds-for-Solaris.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0007-DTrace-support-for-SFTP.patch","fileOld":"openssh/Patches/0008-DTrace-support-for-SFTP.patch","type":"RENAMED","insertions":17,"deletions":-17},{"file":"openssh/Patches/0008-Add-DisableBanner-option.patch","fileOld":"openssh/Patches/0009-Add-DisableBanner-option.patch","type":"RENAMED","insertions":54,"deletions":-36},{"file":"openssh/Patches/0009-PAM-conversation-fix.patch","type":"ADDED","insertions":98,"deletions":0},{"file":"openssh/Patches/0010-PAM-conversation-fix.patch","type":"DELETED","insertions":0,"deletions":-104},{"file":"openssh/Patches/0010-PAM-enhancements-for-Solaris.patch","fileOld":"openssh/Patches/0011-PAM-enhancements-for-Solaris.patch","type":"RENAMED","insertions":112,"deletions":-138},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","fileOld":"openssh/Patches/0012-SunSSH-compat-default-config-values.patch","type":"RENAMED","insertions":37,"deletions":-40},{"file":"openssh/Patches/0012-Deprecate-SunSSH-compatible-server-options.patch","fileOld":"openssh/Patches/0013-Deprecate-SunSSH-compatible-server-options.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0013-Solaris-Auditing-support.patch","fileOld":"openssh/Patches/0014-Solaris-Auditing-support.patch","type":"RENAMED","insertions":40,"deletions":-50},{"file":"openssh/Patches/0014-GSS-API-key-exchange-support.patch","type":"ADDED","insertions":3303,"deletions":0},{"file":"openssh/Patches/0015-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","fileOld":"openssh/Patches/0016-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","type":"RENAMED","insertions":23,"deletions":-22},{"file":"openssh/Patches/0015-GSS-API-key-exchange-support.patch","type":"DELETED","insertions":0,"deletions":-1939},{"file":"openssh/Patches/0016-PAM-setcred-failures.patch","fileOld":"openssh/Patches/0017-PAM-setcred-failures.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0017-Don-t-call-do_pam_setcred-twice.patch","fileOld":"openssh/Patches/0018-Don-t-call-do_pam_setcred-twice.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0018-Per-session-xauthfile.patch","fileOld":"openssh/Patches/0019-Per-session-xauthfile.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0019-PubKeyPlugin-support.patch","fileOld":"openssh/Patches/0020-PubKeyPlugin-support.patch","type":"RENAMED","insertions":19,"deletions":-19},{"file":"openssh/Patches/0020-Compatibility-fix-for-ListenAddress.patch","fileOld":"openssh/Patches/0021-Compatibility-fix-for-ListenAddress.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0021-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","fileOld":"openssh/Patches/0023-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/0022-Add-SMF-manifest-and-method-and-install-them.patch","fileOld":"openssh/Patches/0024-Add-SMF-manifest-and-method-and-install-them.patch","type":"RENAMED","insertions":7,"deletions":-7},{"file":"openssh/Patches/0022-Hack-around-umac_ctx-name-punning.patch","type":"DELETED","insertions":0,"deletions":-35},{"file":"openssh/Patches/0023-Make-default-sshd_config-more-like-the-old-illumos-o.patch","fileOld":"openssh/Patches/0025-Make-default-sshd_config-more-like-the-old-illumos-o.patch","type":"RENAMED","insertions":12,"deletions":-27},{"file":"openssh/Patches/0024-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","fileOld":"openssh/Patches/0026-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","type":"RENAMED","insertions":17,"deletions":-14},{"file":"openssh/Patches/0025-Re-enable-DSA-keys-for-pk-auth.patch","fileOld":"openssh/Patches/0027-Re-enable-DSA-keys-for-pk-auth.patch","type":"RENAMED","insertions":11,"deletions":-11},{"file":"openssh/Patches/0026-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","fileOld":"openssh/Patches/0028-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","type":"RENAMED","insertions":8,"deletions":-8},{"file":"openssh/Patches/0027-Set-default-sshd-options-based-on-etc-default-login.patch","fileOld":"openssh/Patches/0029-Set-default-sshd-options-based-on-etc-default-login.patch","type":"RENAMED","insertions":15,"deletions":-15},{"file":"openssh/Patches/0028-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","fileOld":"openssh/Patches/0030-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","type":"RENAMED","insertions":4,"deletions":-4},{"file":"openssh/Patches/0029-Accept-LANG-and-LC_-environment-variables-from-clien.patch","fileOld":"openssh/Patches/0031-Accept-LANG-and-LC_-environment-variables-from-clien.patch","type":"RENAMED","insertions":23,"deletions":-24},{"file":"openssh/Patches/0030-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","fileOld":"openssh/Patches/0032-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","type":"RENAMED","insertions":6,"deletions":-6},{"file":"openssh/Patches/0031-Restore-tcpwrappers-libwrap-support.patch","fileOld":"openssh/Patches/0033-Restore-tcpwrappers-libwrap-support.patch","type":"RENAMED","insertions":23,"deletions":-19},{"file":"openssh/Patches/0032-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","fileOld":"openssh/Patches/0034-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","type":"RENAMED","insertions":19,"deletions":-16},{"file":"openssh/Patches/1000-smartos-dtrace32.patch","fileOld":"openssh/Patches/1001-dtrace32.patch","type":"RENAMED","insertions":5,"deletions":-5},{"file":"openssh/Patches/1001-sunw_ssl.patch","fileOld":"openssh/Patches/1002-sunw_ssl.patch","type":"RENAMED","insertions":69,"deletions":-42},{"file":"openssh/openssh-portable-7.2p2.tar.gz","type":"DELETED","insertions":0,"deletions":0},{"file":"openssh/openssh-portable-7.4p1.tar.gz","type":"ADDED","insertions":0,"deletions":0}],"sizeInsertions":6107,"sizeDeletions":-4652}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}