{"project":"joyent/sdcadm","branch":"master","id":"Ie397aa7d89d0f5302e22e182e547441c07d906c3","number":"1552","subject":"TOOLS-1699 sdcadm health -j should always provide JSON even on exceptions","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/1552","commitMessage":"TOOLS-1699 sdcadm health -j should always provide JSON even on exceptions\n","createdOn":1487778907,"lastUpdated":1527852605,"open":false,"status":"ABANDONED","comments":[{"timestamp":1487778907,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1487778954,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487778962,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1487778999,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1487779126,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 2: Code-Review-1\n\n(1 comment)\n\n@Trent I\u0027d appreciate your feedback on this one before I move forward. Thanks!"},{"timestamp":1487799313,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1488815003,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 3."},{"timestamp":1488815039,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1488815214,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1488815234,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 4: -Code-Review"},{"timestamp":1488815253,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1488829315,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 5."},{"timestamp":1488829352,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1488890865,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 6."},{"timestamp":1488890912,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1488893272,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 7."},{"timestamp":1488893308,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1489485886,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 8: Patch Set 7 was rebased."},{"timestamp":1489485932,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1502791726,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 9."},{"timestamp":1502791760,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1527852605,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Abandoned\n\nThis is change https://cr.joyent.us/4016 now"}],"currentPatchSet":{"number":"9","revision":"e397aa7d89d0f5302e22e182e547441c07d906c3","parents":["003277077f0006fa698189f39c7f7d48ce4ea049"],"ref":"refs/changes/52/1552/9","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1502791726,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1502791760,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/sdcadm.js","line":272,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: bad_xml_character"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":20,"deletions":-2},{"file":"lib/cli/do_instances.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"lib/cli/do_services.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":906,"deletions":-98},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1343,"sizeDeletions":-373},"patchSets":[{"number":"1","revision":"21581a770a7298aceed153ccd58e177505126571","parents":["45b3d1e168da5314efedabff042f560bb7a29e3b"],"ref":"refs/changes/52/1552/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1487778907,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487778954,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":3,"sizeDeletions":-1},{"number":"2","revision":"fe45d10456ec57256b86b44fa9a8e0e4d1cf4f4a","parents":["6a4363c35e132b9eaf256756ad52f01d95a2c0f0"],"ref":"refs/changes/52/1552/2","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1487778962,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487778954,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1487779126,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"comments":[{"file":"lib/sdcadm.js","line":367,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"@Trent: I\u0027d like to also be able to provide some JSON output when we hit an error at this point of sdcadm initialization but, as you know, we don\u0027t have complete information about command options at this point - at least, not parsed, since those are associated with the sub-command, not top level options. Wondering what could be the better approach to handle these cases."},{"file":"lib/sdcadm.js","line":367,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Ah. I think the \"right\" answer may suck (i.e. possibly will mean code changes in a lot of places): stop fetching the \u0027sdc\u0027 application from SAPI in .init(). I.e. any subcommand that needs that data, should call getApp themself.\n\nThen each subcommand can handle errors in getting the app."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":3,"sizeDeletions":-1},{"number":"3","revision":"0e0318c977485ae248da314c325d5307c1b29c48","parents":["6a4363c35e132b9eaf256756ad52f01d95a2c0f0"],"ref":"refs/changes/52/1552/3","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1488815003,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488815039,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1487779126,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":172,"deletions":-114},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4}],"sizeInsertions":595,"sizeDeletions":-384},{"number":"4","revision":"92335a03ff9e6f1722be1aaf74041ba698801e2f","parents":["8e4ea198172cf9c7c9342506b5eb4585b7536593"],"ref":"refs/changes/52/1552/4","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1488815214,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1488815253,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/sdcadm.js","line":3785,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: checkMinImageBuidDate"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":172,"deletions":-114},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4}],"sizeInsertions":595,"sizeDeletions":-384},{"number":"5","revision":"7dd9ef05a111a6e15f0071a4da9b1f47837da78d","parents":["8e4ea198172cf9c7c9342506b5eb4585b7536593"],"ref":"refs/changes/52/1552/5","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1488829315,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488829352,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":173,"deletions":-117},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4}],"sizeInsertions":596,"sizeDeletions":-387},{"number":"6","revision":"8c20a86edc1079b020a0bbe38319220fa6fa65cc","parents":["ba1d12f43e38eaa14c555fe48e8361a9e958f4d7"],"ref":"refs/changes/52/1552/6","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1488890865,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488890912,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":16,"deletions":-2},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":174,"deletions":-116},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4}],"sizeInsertions":597,"sizeDeletions":-386},{"number":"7","revision":"9f46138e8036c3470c4aba2d12057961a57644b9","parents":["ba1d12f43e38eaa14c555fe48e8361a9e958f4d7"],"ref":"refs/changes/52/1552/7","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1488893272,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488893308,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":20,"deletions":-2},{"file":"lib/cli/do_instances.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"lib/cli/do_services.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":186,"deletions":-116},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4}],"sizeInsertions":622,"sizeDeletions":-391},{"number":"8","revision":"9e5e5fbb6b13fbd2964b8c0329d6702184660d52","parents":["58d4acb4ed7381b220f11836e13ac5e883f41196"],"ref":"refs/changes/52/1552/8","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1489485886,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1488893308,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":20,"deletions":-2},{"file":"lib/cli/do_instances.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"lib/cli/do_services.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":8,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":186,"deletions":-116},{"file":"lib/steps/agent-services.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4}],"sizeInsertions":622,"sizeDeletions":-391},{"number":"9","revision":"e397aa7d89d0f5302e22e182e547441c07d906c3","parents":["003277077f0006fa698189f39c7f7d48ce4ea049"],"ref":"refs/changes/52/1552/9","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1502791726,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1502791760,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/sdcadm.js","line":272,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: bad_xml_character"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/channel.js","type":"MODIFIED","insertions":125,"deletions":-87},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":12,"deletions":-5},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":20,"deletions":-2},{"file":"lib/cli/do_instances.js","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"lib/cli/do_services.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":20,"deletions":-14},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/platform.js","type":"MODIFIED","insertions":54,"deletions":-35},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-18},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":108,"deletions":-73},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-2},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":906,"deletions":-98},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":1343,"sizeDeletions":-373}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}