{"project":"joyent/smartos-live","branch":"master","topic":"OS-7922","id":"Ifa1355363dc5f5f8fca98c61b5bb5c8dc98e7406","number":"6756","subject":"OS-7922 buildstamp module should live in illumos-joyent Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Robert Mustacchi \u003crm@joyent.com\u003e","owner":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"url":"https://cr.joyent.us/6756","commitMessage":"OS-7922 buildstamp module should live in illumos-joyent\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1565098440,"lastUpdated":1566374576,"open":false,"status":"MERGED","comments":[{"timestamp":1565098440,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 1."},{"timestamp":1565098442,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 529b96b83ddcbc9ba9bb064d9b47306d65917ba0\n    \n    fix format\n    \n    commit f095562b7a0f85c1f9d3ee046e01ccc55232d265\n    \n    initial"},{"timestamp":1565098532,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565098537,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Topic set to OS-7922"},{"timestamp":1565103129,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 2."},{"timestamp":1565103131,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit f4e10f84b0a0a2228ff6626bf2efd351409ebcf6\n    \n    fix"},{"timestamp":1565103219,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565113612,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 3."},{"timestamp":1565113614,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 8646b00e2e71132652026d1d397c1c0f7e1dbc3e\n    \n    always rebuild buildversion module"},{"timestamp":1565113702,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565117895,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 4."},{"timestamp":1565117897,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 7f821b335ea3863d113bcdc3181fc7acb35265df\n    \n    remove a stray set -x"},{"timestamp":1565117984,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565800763,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1565818734,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1565819194,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1565820085,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 5."},{"timestamp":1565820087,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit ee8071ea372b9d3242535431a727df734b75052b\n    \n    improve comment"},{"timestamp":1565820175,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565899482,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1566295661,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1566295746,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1566295748,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 483ce9bd7a218d631b7cbe2a428fbd0b6c8356fe\n    \n    improve comment\n    \n    commit 037753e223768b5cbbfd9b0f721b43522259dead\n    \n    remove a stray set -x\n    \n    commit 1a5e1d45b3ad61211f708122575e7761365fae76\n    \n    always rebuild buildversion module\n    \n    commit 1238117a40cf6950f942e443209f5b55aefb42cd\n    \n    fix\n    \n    commit 6a6dd75579287ebe1604c733885fbb18db89c864\n    \n    fix format\n    \n    commit 914e2ab1d267e756a7799dd9aad62b59c529f33d\n    \n    initial"},{"timestamp":1566295841,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1566308979,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 7:\n\nI placed testing notes in the ticket."},{"timestamp":1566336488,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1566337275,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1566374576,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by John Levon"}],"currentPatchSet":{"number":"8","revision":"fa1355363dc5f5f8fca98c61b5bb5c8dc98e7406","parents":["1d3fa66654965f8515ef9dcf9fb9b9a0f1fe7d7f"],"ref":"refs/changes/56/6756/8","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1566337275,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565820175,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565899482,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566336488,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1566374576,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":34,"deletions":-102}],"sizeInsertions":50,"sizeDeletions":-228},"patchSets":[{"number":"1","revision":"6535074e13d946e14e92c264990285e15b68da2d","parents":["26f028467df2d3699cdf43a0a46daf90ebdd4eb3"],"ref":"refs/changes/56/6756/1","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1565098440,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565098532,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":2,"deletions":-96}],"sizeInsertions":18,"sizeDeletions":-222},{"number":"2","revision":"6d3a98372ab4958bebc084de04a73169a6523a40","parents":["26f028467df2d3699cdf43a0a46daf90ebdd4eb3"],"ref":"refs/changes/56/6756/2","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1565103129,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565103219,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":2,"deletions":-96}],"sizeInsertions":18,"sizeDeletions":-222},{"number":"3","revision":"8c68e24a0d322fea386dcf3199a0cfedae562e6d","parents":["26f028467df2d3699cdf43a0a46daf90ebdd4eb3"],"ref":"refs/changes/56/6756/3","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1565113612,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565113702,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":36,"deletions":-102}],"sizeInsertions":52,"sizeDeletions":-228},{"number":"4","revision":"78f4c0bcdcc2bb3e3949e57129b7762bbd376009","parents":["26f028467df2d3699cdf43a0a46daf90ebdd4eb3"],"ref":"refs/changes/56/6756/4","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1565117895,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565117984,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"tools/build_etcrelease","line":150,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is there any particular reason that we need to specify the output to json-4? Maybe it\u0027s worth a comment?"},{"file":"tools/build_etcrelease","line":150,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"It\u0027s mentioned at :18 - I was hoping that was sufficient"},{"file":"tools/build_etcrelease","line":150,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I didn\u0027t make the connection between the two at all. The comment up there just seemed like a general, be careful editing this comment."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":34,"deletions":-102}],"sizeInsertions":50,"sizeDeletions":-228},{"number":"5","revision":"75bb7e32dd024cb4a46836858297fc76e4c6059b","parents":["26f028467df2d3699cdf43a0a46daf90ebdd4eb3"],"ref":"refs/changes/56/6756/5","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1565820085,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565899482,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565820175,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":34,"deletions":-102}],"sizeInsertions":50,"sizeDeletions":-228},{"number":"6","revision":"dd219454e1d56a36ede9bc9e96a669e06a0ef516","parents":["26f028467df2d3699cdf43a0a46daf90ebdd4eb3"],"ref":"refs/changes/56/6756/6","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1566295661,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565899482,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565820175,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":34,"deletions":-102}],"sizeInsertions":50,"sizeDeletions":-228},{"number":"7","revision":"b9ca05ee413a2ff68f7ae33373ab080e7775aeee","parents":["1d3fa66654965f8515ef9dcf9fb9b9a0f1fe7d7f"],"ref":"refs/changes/56/6756/7","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1566295746,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565899482,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566336488,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565820175,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":34,"deletions":-102}],"sizeInsertions":50,"sizeDeletions":-228},{"number":"8","revision":"fa1355363dc5f5f8fca98c61b5bb5c8dc98e7406","parents":["1d3fa66654965f8515ef9dcf9fb9b9a0f1fe7d7f"],"ref":"refs/changes/56/6756/8","uploader":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"createdOn":1566337275,"author":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565899482,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566336488,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565820175,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1566374576,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"configure","type":"MODIFIED","insertions":4,"deletions":0},{"file":"src/buildstamp.c","type":"DELETED","insertions":0,"deletions":-120},{"file":"tools/build_etcrelease","type":"MODIFIED","insertions":10,"deletions":-3},{"file":"tools/build_live","type":"MODIFIED","insertions":34,"deletions":-102}],"sizeInsertions":50,"sizeDeletions":-228}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}]}