{"project":"joyent/illumos-joyent","branch":"vpc","id":"Ic39868d47b69ff10dcaf58a726312d47df6c3d4b","number":"3890","subject":"Address feedback #1","owner":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"url":"https://cr.joyent.us/3890","commitMessage":"Address feedback #1\n","createdOn":1525202830,"lastUpdated":1527690604,"open":false,"status":"ABANDONED","comments":[{"timestamp":1525202830,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 1."},{"timestamp":1525805203,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 2."},{"timestamp":1526606213,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2:\n\n(4 comments)\n\nPass 0.  Will be back for more."},{"timestamp":1526612772,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1526657561,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1526657603,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1526657763,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 3."},{"timestamp":1526677704,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 3:\n\n(9 comments)\n\nAlmost all of pass-1.  I owe you overlay_target.c and sarc.c still."},{"timestamp":1526850696,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 3:\n\n(6 comments)"},{"timestamp":1526932185,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 4."},{"timestamp":1526932186,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 3:\n\n(13 comments)"},{"timestamp":1526938277,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 4:\n\n(2 comments)\n\nTwo ACKs"},{"timestamp":1526941074,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1527690604,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Abandoned"}],"currentPatchSet":{"number":"4","revision":"c39868d47b69ff10dcaf58a726312d47df6c3d4b","parents":["a72ea08d4191cad728e80b94e861835583977552"],"ref":"refs/changes/90/3890/4","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1526932185,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/sys/overlay_impl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/sys/overlay_target.h","type":"MODIFIED","insertions":5,"deletions":-4}],"sizeInsertions":23,"sizeDeletions":-14},"patchSets":[{"number":"1","revision":"b1f3274546e6d20914279960c0704cfb14cb93eb","parents":["3c4c652288a47fcb5cc9cf9a49c583c0d9dc0b24"],"ref":"refs/changes/90/3890/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1525202830,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/dladm/dladm.c","type":"MODIFIED","insertions":47,"deletions":-10},{"file":"usr/src/cmd/varpd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/vndadm/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libdladm/common/libdloverlay.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/lib/libdladm/common/libdloverlay.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/varpd/files/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","type":"MODIFIED","insertions":977,"deletions":-636},{"file":"usr/src/lib/varpd/libvarpd/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_arp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_client.c","type":"MODIFIED","insertions":15,"deletions":-9},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_client.h","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_door.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_impl.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_provider.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/varpd/svp/common/libvarpd_svp.c","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","type":"MODIFIED","insertions":646,"deletions":-108},{"file":"usr/src/uts/common/sys/overlay_impl.h","type":"MODIFIED","insertions":31,"deletions":-40},{"file":"usr/src/uts/common/sys/overlay_target.h","type":"MODIFIED","insertions":24,"deletions":-14}],"sizeInsertions":1803,"sizeDeletions":-865},{"number":"2","revision":"4ba767604a0067e53880b0c77db2d02ec8bf5618","parents":["3c4c652288a47fcb5cc9cf9a49c583c0d9dc0b24"],"ref":"refs/changes/90/3890/2","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1525805203,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":560,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Dumb C99 question, does this initialize back to 0 every time the loop iterates?  (I suspect yes, but please confirm?)"},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":560,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"As far as I know -- it should function just like you were assigning it a value."},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":656,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"\u003e\u003d 4096 or \u003e 4095.  You want [0-4095]."},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":868,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Same problem here:  either \u003e\u003d 4096 or \u003e 4095.\n\nVLAN_MAX \u003d\u003d 4095... #define that, and it\u0027ll look more like the UINT16_MAX below."},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":868,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"I wonder if we shouldn\u0027t just `#define VLAN_MAX 4095` in sys/vlan.h"},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":868,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"I think we should and then use it here."},{"file":"usr/src/uts/common/sys/overlay_target.h","line":34,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"From sjorge --\u003e spelling nit: \"protocols\"."},{"file":"usr/src/uts/common/sys/overlay_target.h","line":50,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"I thought it could go as high as a uint64?!"},{"file":"usr/src/uts/common/sys/overlay_target.h","line":50,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"The encapsulation plugin API uses uint64_t for the encapsulation id (though the overlay module treats it as an opaque identifier that is just passed back and forth to the overlay plugin (e.g. overlay_vxlan).\n\nWhen we started doing the DCAPI during the fire drill, we just picked uint32_t for the DCID to pick a size.  I don\u0027t know what work (beyond the start of an RFD) has been done, so I didn\u0027t want to cause a lot of rework.  Though if little in the way of code has been done, we could perhaps revisit it -- or maybe have a 16+bit \u0027region\u0027 ID and a 16 bit \u0027data center ID\u0027."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/cmd/dladm/dladm.c","type":"MODIFIED","insertions":47,"deletions":-10},{"file":"usr/src/cmd/varpd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/vndadm/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libdladm/common/libdloverlay.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/lib/libdladm/common/libdloverlay.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/varpd/files/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","type":"MODIFIED","insertions":977,"deletions":-636},{"file":"usr/src/lib/varpd/libvarpd/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_arp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_client.c","type":"MODIFIED","insertions":15,"deletions":-9},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_client.h","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_door.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_impl.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_provider.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/varpd/svp/common/libvarpd_svp.c","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","type":"MODIFIED","insertions":697,"deletions":-124},{"file":"usr/src/uts/common/io/overlay/sarc.c","type":"ADDED","insertions":668,"deletions":0},{"file":"usr/src/uts/common/io/overlay/sarc_impl.h","type":"ADDED","insertions":67,"deletions":0},{"file":"usr/src/uts/common/sys/overlay_impl.h","type":"MODIFIED","insertions":36,"deletions":-44},{"file":"usr/src/uts/common/sys/overlay_target.h","type":"MODIFIED","insertions":24,"deletions":-14},{"file":"usr/src/uts/common/sys/sarc.h","type":"ADDED","insertions":179,"deletions":0}],"sizeInsertions":2775,"sizeDeletions":-887},{"number":"3","revision":"9e5a41bf0531e56bae6b85ae53695300159cb83b","parents":["3c4c652288a47fcb5cc9cf9a49c583c0d9dc0b24"],"ref":"refs/changes/90/3890/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1526657763,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/dladm/dladm.c","line":10519,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"New choices are is either:\n\n    MAC-address\n\nor\n\n    dcid/MAC-address\n\nIs this explicitly documented somewhere?"},{"file":"usr/src/cmd/dladm/dladm.c","line":10519,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Not yet -- just to be able to set/dump things I needed something, so this is currently a straw man approach until we finalize it or can think of a better way."},{"file":"usr/src/cmd/dladm/dladm.c","line":10519,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"I like dcid/MAC, but whatever you arrive at will most-likely be good."},{"file":"usr/src/cmd/dladm/dladm.c","line":10519,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"We may also want to wait on documenting it in any \u0027official\u0027 location until we roll out cross-DC routing."},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":106,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"In general I like comments around structures, but I know other parts of this code don\u0027t do it that way.  Not a showstopper, but I do want to mention it somewhere on the record."},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":149,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"These two are varpd_files_fabric_t, right?  One-line suggestion:\n\n/* These two hold varpd_files_fabric_t */"},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":149,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":152,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Similarly here:\n\n/* These three hold varpd_files_if_t */"},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":152,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":363,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"use umem_zalloc() above and trash this line and the path \u003d NULL below."},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","line":363,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","line":425,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Lose and use the \u003d {0} above."},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","line":425,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","line":451,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Same here."},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","line":451,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":55,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"comment here too?"},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":55,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":190,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"IN6_ARE_ADDR_EQUAL() please."},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":190,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":192,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Using IN6_ARE_ADDR_EQUAL() helps here too."},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":192,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":247,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Using memcmp() here makes sense as this is a \u003e, \u003d\u003d, \u003c test."},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":414,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Given this weekend\u0027s reporting, can we guarantee ethertype matches inner IP version?  ASSERT() perhaps?"},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","line":414,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/io/overlay/sarc.c","line":10,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Should this and its header go in usr/src/common ?  (Or is that a followup?)  Not a showstopper, just curious.\n\nAlso, is this a straight port of the ZFS arc?  Longer-term question, can this be generalized for ZFS and here?  (Again, not a showstopper.)"},{"file":"usr/src/uts/common/io/overlay/sarc.c","line":10,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"This is a implementation based largely on the original ARC paper.  The zfs implementation is far more complicated and tied much closer to the rest of zfs than this is.  I think either trying to generalize the ZFS ARC implementation, or make this implementation robust enough (more concurrent, more flexible in terms of sizing, evicting, etc) to replace the ZFS ARC implementation would be a larger effort.\n\nThe thought was that it could eventually live in usr/src/common, though at least initially I was going to keep it private to the overlay module until something else could use it (though if it\u0027d be better to have it in usr/src/common from the get-go, I\u0027m fine with that as well -- just as long as there\u0027s no objections from other reviewers)."},{"file":"usr/src/uts/common/io/overlay/sarc.c","line":10,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Works for me!"},{"file":"usr/src/uts/common/sys/overlay_impl.h","line":143,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"s/should/must/"},{"file":"usr/src/uts/common/sys/overlay_impl.h","line":143,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Done"},{"file":"usr/src/uts/common/sys/overlay_target.h","line":61,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Is this part relevant now?"},{"file":"usr/src/uts/common/sys/overlay_target.h","line":61,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"No.  I\u0027ll update the comment."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/dladm/dladm.c","type":"MODIFIED","insertions":47,"deletions":-10},{"file":"usr/src/cmd/varpd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/cmd/vndadm/Makefile","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"usr/src/lib/libdladm/common/libdloverlay.c","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"usr/src/lib/libdladm/common/libdloverlay.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/varpd/files/Makefile.com","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","type":"MODIFIED","insertions":978,"deletions":-636},{"file":"usr/src/lib/varpd/libvarpd/Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_arp.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_client.c","type":"MODIFIED","insertions":15,"deletions":-9},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_client.h","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_door.c","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_impl.h","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_provider.h","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/lib/varpd/svp/common/libvarpd_svp.c","type":"MODIFIED","insertions":11,"deletions":-8},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","type":"MODIFIED","insertions":697,"deletions":-124},{"file":"usr/src/uts/common/io/overlay/sarc.c","type":"ADDED","insertions":668,"deletions":0},{"file":"usr/src/uts/common/io/overlay/sarc_impl.h","type":"ADDED","insertions":67,"deletions":0},{"file":"usr/src/uts/common/sys/overlay_impl.h","type":"MODIFIED","insertions":36,"deletions":-44},{"file":"usr/src/uts/common/sys/overlay_target.h","type":"MODIFIED","insertions":25,"deletions":-15},{"file":"usr/src/uts/common/sys/sarc.h","type":"ADDED","insertions":179,"deletions":0}],"sizeInsertions":2777,"sizeDeletions":-888},{"number":"4","revision":"c39868d47b69ff10dcaf58a726312d47df6c3d4b","parents":["a72ea08d4191cad728e80b94e861835583977552"],"ref":"refs/changes/90/3890/4","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1526932185,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/varpd/files/common/libvarpd_files.c","type":"MODIFIED","insertions":6,"deletions":-3},{"file":"usr/src/lib/varpd/libvarpd/common/libvarpd_overlay.c","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"usr/src/uts/common/io/overlay/overlay_target.c","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"usr/src/uts/common/sys/overlay_impl.h","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/sys/overlay_target.h","type":"MODIFIED","insertions":5,"deletions":-4}],"sizeInsertions":23,"sizeDeletions":-14}],"allReviewers":[{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}]}