{"project":"joyent/illumos-joyent","branch":"master","id":"I79a83c9704a9cf92db1f36550cc849fecedc5c7a","number":"6803","subject":"OS-7958 Add SHA1_HMAC single-part support to dprov Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Approved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"url":"https://cr.joyent.us/6803","commitMessage":"OS-7958 Add SHA1_HMAC single-part support to dprov\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1565995514,"lastUpdated":1566422780,"open":false,"status":"MERGED","comments":[{"timestamp":1565995514,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 1."},{"timestamp":1566409519,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(1 comment)\n\nI can\u0027t speak to the cryptographic correctness of the code at all, but the C parts seem good to me."},{"timestamp":1566410088,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1566422298,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1566422504,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1566422682,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1566422757,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1566422780,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jason King"}],"currentPatchSet":{"number":"3","revision":"79a83c9704a9cf92db1f36550cc849fecedc5c7a","parents":["e700298f01e2c414e66a1e494999ed372e4bacd9"],"ref":"refs/changes/03/6803/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1566422757,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566422298,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566422504,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1566422780,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/crypto/io/sha1_mod.c","type":"MODIFIED","insertions":101,"deletions":-1}],"sizeInsertions":101,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"59f248698df1193257792db89b7cb5af906cf7ec","parents":["fb22979c02ec1ab84832084bea882640c366be5b"],"ref":"refs/changes/03/6803/1","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1565995514,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566422298,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566422504,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"comments":[{"file":"usr/src/uts/common/crypto/io/sha1_mod.c","line":930,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"It looks like we should verify that digest_len is less than or equal to SHA1_DIGEST_LENGTH, and return CRYPTO_BUFFER_TOO_SMALL if it\u0027s not."},{"file":"usr/src/uts/common/crypto/io/sha1_mod.c","line":930,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"sha1_mac_init() does this for us (L902-904) when it initializes crypto context for the operation."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/crypto/io/sha1_mod.c","type":"MODIFIED","insertions":101,"deletions":-1}],"sizeInsertions":101,"sizeDeletions":-1},{"number":"2","revision":"5a1ee8859a89354e7aca1d552f08a42b1136b999","parents":["fb22979c02ec1ab84832084bea882640c366be5b"],"ref":"refs/changes/03/6803/2","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1566422682,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566422298,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566422504,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/crypto/io/sha1_mod.c","type":"MODIFIED","insertions":101,"deletions":-1}],"sizeInsertions":101,"sizeDeletions":-1},{"number":"3","revision":"79a83c9704a9cf92db1f36550cc849fecedc5c7a","parents":["e700298f01e2c414e66a1e494999ed372e4bacd9"],"ref":"refs/changes/03/6803/3","uploader":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"createdOn":1566422757,"author":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566422298,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1566422504,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1566422780,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/crypto/io/sha1_mod.c","type":"MODIFIED","insertions":101,"deletions":-1}],"sizeInsertions":101,"sizeDeletions":-1}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}]}