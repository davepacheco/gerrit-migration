{"project":"joyent/illumos-joyent","branch":"master","id":"Ibc510d9e02ace3790b5697e30de0647aef48c28a","number":"170","subject":"OS-5549 move bpf filter functions into ip module Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/170","commitMessage":"OS-5549 move bpf filter functions into ip module\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1469825751,"lastUpdated":1469844415,"open":false,"status":"MERGED","comments":[{"timestamp":1469825751,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1469828322,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1469831405,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1469832504,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Integration-Approval+1"},{"timestamp":1469843685,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\nTest details:\nPI built with with the patch with/without DEBUG and were booted to check for linking errors.  Seeing no errors, bpf functionality was tested via sockmod_pfp.\n\nAll worked without issue."},{"timestamp":1469844352,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2: Commit message was updated."},{"timestamp":1469844415,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"2","revision":"bc510d9e02ace3790b5697e30de0647aef48c28a","parents":["83ee1a48d5d7b2202108e82934ecc0acca417c1a"],"ref":"refs/changes/70/170/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1469844352,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469828322,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469831405,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1469832504,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1469844415,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/inet/bpf.h","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/uts/common/inet/bpf_filter.c","fileOld":"usr/src/uts/common/io/bpf/bpf_filter.c","type":"RENAMED","insertions":21,"deletions":-25},{"file":"usr/src/uts/common/inet/sockmods/sockmod_pfp.c","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"usr/src/uts/common/io/bpf/bpf_wrap.c","type":"ADDED","insertions":35,"deletions":0},{"file":"usr/src/uts/intel/bpf/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/intel/dld/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/dls/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/iptun/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_ether/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_ib/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_wifi/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/sockpfp/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/intel/spdsock/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/uts/sparc/bpf/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sparc/dld/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/dls/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/iptun/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_ether/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_ib/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_wifi/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/sockpfp/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sparc/spdsock/Makefile","type":"MODIFIED","insertions":0,"deletions":-5}],"sizeInsertions":117,"sizeDeletions":-56},"patchSets":[{"number":"1","revision":"367fab68c1e8332ef588f7153b376f6afd054ed9","parents":["83ee1a48d5d7b2202108e82934ecc0acca417c1a"],"ref":"refs/changes/70/170/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1469825751,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469831405,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469828322,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1469832504,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/inet/bpf.h","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/uts/common/inet/bpf_filter.c","fileOld":"usr/src/uts/common/io/bpf/bpf_filter.c","type":"RENAMED","insertions":21,"deletions":-25},{"file":"usr/src/uts/common/inet/sockmods/sockmod_pfp.c","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"usr/src/uts/common/io/bpf/bpf_wrap.c","type":"ADDED","insertions":35,"deletions":0},{"file":"usr/src/uts/intel/bpf/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/intel/dld/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/dls/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/iptun/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_ether/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_ib/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_wifi/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/sockpfp/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/intel/spdsock/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/uts/sparc/bpf/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sparc/dld/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/dls/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/iptun/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_ether/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_ib/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_wifi/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/sockpfp/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sparc/spdsock/Makefile","type":"MODIFIED","insertions":0,"deletions":-5}],"sizeInsertions":117,"sizeDeletions":-56},{"number":"2","revision":"bc510d9e02ace3790b5697e30de0647aef48c28a","parents":["83ee1a48d5d7b2202108e82934ecc0acca417c1a"],"ref":"refs/changes/70/170/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1469844352,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469831405,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1469828322,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1469832504,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1469844415,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/inet/bpf.h","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/uts/common/inet/bpf_filter.c","fileOld":"usr/src/uts/common/io/bpf/bpf_filter.c","type":"RENAMED","insertions":21,"deletions":-25},{"file":"usr/src/uts/common/inet/sockmods/sockmod_pfp.c","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"usr/src/uts/common/io/bpf/bpf_wrap.c","type":"ADDED","insertions":35,"deletions":0},{"file":"usr/src/uts/intel/bpf/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/intel/dld/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/dls/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/iptun/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_ether/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_ib/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/mac_wifi/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/intel/sockpfp/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/intel/spdsock/Makefile","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"usr/src/uts/sparc/bpf/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sparc/dld/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/dls/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/iptun/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_ether/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_ib/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/mac_wifi/Makefile","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"usr/src/uts/sparc/sockpfp/Makefile","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/sparc/spdsock/Makefile","type":"MODIFIED","insertions":0,"deletions":-5}],"sizeInsertions":117,"sizeDeletions":-56}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}