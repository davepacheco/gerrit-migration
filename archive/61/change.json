{"project":"joyent/illumos-joyent","branch":"master","id":"I6d2db2a21cd0c3de9f0fa59e794736c6c168a322","number":"61","subject":"OS-5498 lxbrand cp on alpine duplicates data Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/61","commitMessage":"OS-5498 lxbrand cp on alpine duplicates data\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1468345179,"lastUpdated":1468354542,"open":false,"status":"MERGED","comments":[{"timestamp":1468345179,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1468345669,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1468349430,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1: Code-Review+2"},{"timestamp":1468354323,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1468354490,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Code-Review+2\n\nTested with alpine cp(1) and cat(1).  While sendfile(2) still tosses EINVAL for a zero-byte read, the mentioned tools appear to handle it.  Users such as nginx perform a stat(2) first and have been immune to this error behavior."},{"timestamp":1468354542,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"2","revision":"6d2db2a21cd0c3de9f0fa59e794736c6c168a322","parents":["c2a559512b9bc011ebe5aceb00bfce29a867bd32"],"ref":"refs/changes/61/61/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1468354323,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1468354490,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1468354542,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/sendfile.c","type":"MODIFIED","insertions":13,"deletions":-15}],"sizeInsertions":13,"sizeDeletions":-15},"patchSets":[{"number":"1","revision":"e62e98e1c2fc57b475827749387c8c7a7596024c","parents":["c2a559512b9bc011ebe5aceb00bfce29a867bd32"],"ref":"refs/changes/61/61/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1468345179,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1468345669,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1468349430,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/sendfile.c","type":"MODIFIED","insertions":12,"deletions":-14}],"sizeInsertions":12,"sizeDeletions":-14},{"number":"2","revision":"6d2db2a21cd0c3de9f0fa59e794736c6c168a322","parents":["c2a559512b9bc011ebe5aceb00bfce29a867bd32"],"ref":"refs/changes/61/61/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1468354323,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1468354490,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1468354542,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"usr/src/lib/brand/lx/lx_brand/common/sendfile.c","type":"MODIFIED","insertions":13,"deletions":-15}],"sizeInsertions":13,"sizeDeletions":-15}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}