{"project":"joyent/sdc-cn-agent","branch":"master","id":"I32807db790eb208ce9b5a1a275c8c88cef96a791","number":"1144","subject":"DOCKER-987 Update docker build to allow container package selection from a label","owner":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"url":"https://cr.joyent.us/1144","commitMessage":"DOCKER-987 Update docker build to allow container package selection from a label\n","createdOn":1482175211,"lastUpdated":1482187403,"open":false,"status":"MERGED","comments":[{"timestamp":1482175211,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 1."},{"timestamp":1482175212,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit a448959c1a8788eca89221187625bfd70eddd1b5\n    \n    DOCKER-987 Update docker build to allow container package selection from a label"},{"timestamp":1482175252,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(6 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1482175489,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 2."},{"timestamp":1482175490,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 7defd0a7f575d935263808a3443b7a0e90e40783\n    \n    correct the image reference"},{"timestamp":1482175526,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482185097,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1482185507,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1482185540,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 3."},{"timestamp":1482185541,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit dc58bfc66958d0fbd51e0632c3af9e41f3a2f728\n    \n    Fix spelling of sanitize"},{"timestamp":1482185587,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482187129,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1482187403,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Todd Whiteman"}],"currentPatchSet":{"number":"3","revision":"32807db790eb208ce9b5a1a275c8c88cef96a791","parents":["3b3f510111b1e7ac36b8db6c66f729abdbf4fd87"],"ref":"refs/changes/44/1144/3","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1482185540,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482185587,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482187129,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482187129,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1482187403,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/docker-build.js","type":"MODIFIED","insertions":21,"deletions":-1}],"sizeInsertions":21,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"355167c0bca6aa022558ce7b002745512886ca8a","parents":["3b3f510111b1e7ac36b8db6c66f729abdbf4fd87"],"ref":"refs/changes/44/1144/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1482175211,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1482175252,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"bin/docker-build.js","line":672,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: image"},{"file":"bin/docker-build.js","line":672,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: image"},{"file":"bin/docker-build.js","line":673,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: image"},{"file":"bin/docker-build.js","line":675,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: image"},{"file":"bin/docker-build.js","line":675,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: image"},{"file":"bin/docker-build.js","line":676,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: undeclared identifier: image"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/docker-build.js","type":"MODIFIED","insertions":21,"deletions":-1}],"sizeInsertions":21,"sizeDeletions":-1},{"number":"2","revision":"0fb88a38a8f51d5735aba269b5f7ce92a61aebed","parents":["3b3f510111b1e7ac36b8db6c66f729abdbf4fd87"],"ref":"refs/changes/44/1144/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1482175489,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482175526,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"bin/docker-build.js","line":209,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"I think you probably wanted \u0027sanitize\u0027 here."},{"file":"bin/docker-build.js","line":209,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Done"},{"file":"bin/docker-build.js","line":671,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Sanitize"},{"file":"bin/docker-build.js","line":671,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/docker-build.js","type":"MODIFIED","insertions":21,"deletions":-1}],"sizeInsertions":21,"sizeDeletions":-1},{"number":"3","revision":"32807db790eb208ce9b5a1a275c8c88cef96a791","parents":["3b3f510111b1e7ac36b8db6c66f729abdbf4fd87"],"ref":"refs/changes/44/1144/3","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1482185540,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482185587,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482187129,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482187129,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1482187403,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"bin/docker-build.js","type":"MODIFIED","insertions":21,"deletions":-1}],"sizeInsertions":21,"sizeDeletions":-1}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}]}