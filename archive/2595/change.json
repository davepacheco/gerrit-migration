{"project":"joyent/illumos-joyent","branch":"master","id":"I4cfebd603890220f4859425ccd92c691498e462b","number":"2595","subject":"OS-6349 vnd kmod should be linted Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Approved by: Robert Mustacchi \u003crm@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/2595","commitMessage":"OS-6349 vnd kmod should be linted\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Robert Mustacchi \u003crm@joyent.com\u003e\n","createdOn":1505750765,"lastUpdated":1505941941,"open":false,"status":"MERGED","comments":[{"timestamp":1505750765,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1505754302,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1505769610,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1505769739,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1505840941,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Code-Review+1\n\n(1 comment)"},{"timestamp":1505938814,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1505941877,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1505941924,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1505941941,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"4","revision":"4cfebd603890220f4859425ccd92c691498e462b","parents":["97f2cda0aba36f25db5cda594bb8946108b944c7"],"ref":"refs/changes/95/2595/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1505941924,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505840941,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505938814,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1505941941,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/common/io/gsqueue/gsqueue.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/ksocket/ksocket.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/io/vnd/frameio.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":95,"deletions":-51},{"file":"usr/src/uts/intel/vnd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":112,"sizeDeletions":-58},"patchSets":[{"number":"1","revision":"50861479be7b3deac179a321a12d0d0613a09a45","parents":["18dd2b9673f53eb496b30698f998b87209d6e45f"],"ref":"refs/changes/95/2595/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1505750765,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/common/io/gsqueue/gsqueue.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/ksocket/ksocket.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/io/vnd/frameio.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":93,"deletions":-49},{"file":"usr/src/uts/intel/vnd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":110,"sizeDeletions":-56},{"number":"2","revision":"80a38ce7451055c5e3430d7536849b377bf4fb97","parents":["18dd2b9673f53eb496b30698f998b87209d6e45f"],"ref":"refs/changes/95/2595/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1505754302,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505840941,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505938814,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/uts/common/io/vnd/vnd.c","line":4253,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I believe that we need to check that vib.vib_size \u003e SIZE_MAX here for the cast to be correct down below."},{"file":"usr/src/uts/common/io/vnd/vnd.c","line":4253,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Since vnd_vdq_hard_max is of type size_t, I believe that\u0027s implied."},{"file":"usr/src/uts/common/io/vnd/vnd.c","line":4253,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Right, that makes sense. Thanks for pointing it out!"},{"file":"usr/src/uts/common/io/vnd/vnd.c","line":4372,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I believe we need to check that the vib_size \u003e SIZE_MAX here for the cast to be correct."},{"file":"usr/src/uts/common/io/vnd/vnd.c","line":4372,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"See above."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/common/io/gsqueue/gsqueue.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/ksocket/ksocket.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/io/vnd/frameio.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":95,"deletions":-51},{"file":"usr/src/uts/intel/vnd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":112,"sizeDeletions":-58},{"number":"3","revision":"86d710c305d7484acec25edeaa7d3fd62b9753e6","parents":["97f2cda0aba36f25db5cda594bb8946108b944c7"],"ref":"refs/changes/95/2595/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1505941877,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505840941,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505938814,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/common/io/gsqueue/gsqueue.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/ksocket/ksocket.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/io/vnd/frameio.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":95,"deletions":-51},{"file":"usr/src/uts/intel/vnd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":112,"sizeDeletions":-58},{"number":"4","revision":"4cfebd603890220f4859425ccd92c691498e462b","parents":["97f2cda0aba36f25db5cda594bb8946108b944c7"],"ref":"refs/changes/95/2595/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1505941924,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505840941,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505938814,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"SUBM","value":"1","grantedOn":1505941941,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/uts/common/Makefile.rules","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"usr/src/uts/common/io/gsqueue/gsqueue.c","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/uts/common/io/ksocket/ksocket.c","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"usr/src/uts/common/io/vnd/frameio.c","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"usr/src/uts/common/io/vnd/vnd.c","type":"MODIFIED","insertions":95,"deletions":-51},{"file":"usr/src/uts/intel/vnd/Makefile","type":"MODIFIED","insertions":3,"deletions":-1}],"sizeInsertions":112,"sizeDeletions":-58}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}