{"project":"joyent/moray","branch":"master","id":"Ib99c72e4885397150a463b86150438e2843e7f72","number":"3902","subject":"MORAY-462 artedi metrics should report shard name Reviewed by: Cody Peter Mello \u003cmelloc@writev.io\u003e Approved by: Cody Peter Mello \u003cmelloc@writev.io\u003e","owner":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"url":"https://cr.joyent.us/3902","commitMessage":"MORAY-462 artedi metrics should report shard name\nReviewed by: Cody Peter Mello \u003cmelloc@writev.io\u003e\nApproved by: Cody Peter Mello \u003cmelloc@writev.io\u003e\n","createdOn":1525376049,"lastUpdated":1525986753,"open":false,"status":"MERGED","comments":[{"timestamp":1525376049,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 1."},{"timestamp":1525376074,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n\"make check\" exited with status 2\n\n fatal: ref HEAD is not a symbolic ref\n fatal: No tags can describe \u002736159c6dddd67a493e45a20c02b71206e5822930\u0027.\n Try --always, or create some tags.\n xmllint --noout --path tools/ --dtdvalid tools/service_bundle.dtd.1 smf/manifests/haproxy.xml\n /tmp/repo/build/node/bin/node node_modules/.bin/eslint  main.js lib/ping.js lib/standalone.js lib/pg.js lib/objects/update.js lib/objects/common.js lib/objects/find.js lib/objects/reindex.js lib/objects/index.js lib/objects/put.js lib/objects/batch.js lib/objects/del_many.js lib/objects/del.js lib/objects/get.js lib/schema.js lib/server.js lib/control.js lib/types.js lib/manatee.js lib/buckets/del.js lib/buckets/get.js lib/buckets/list.js lib/buckets/common.js lib/buckets/update.js lib/buckets/creat.js lib/buckets/index.js lib/index.js lib/dtrace.js lib/errors.js\n \n /tmp/repo/lib/server.js\n   73:51  error  Missing semicolon  semi\n \n âœ– 1 problem (1 error, 0 warnings)\n \n tools/mk/Makefile.targ:201: recipe for target \u0027check-eslint\u0027 failed\n gmake: *** [check-eslint] Error 1"},{"timestamp":1525376091,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 2."},{"timestamp":1525376136,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525931582,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Code-Review+1\n\nThis looks good to me. Did you test out an image in both Triton and Manta?"},{"timestamp":1525975273,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 3."},{"timestamp":1525975324,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525979006,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\nThanks for taking a look Cody. I added some testing notes to the ticket. I tested this in both Triton and Manta."},{"timestamp":1525985456,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1"},{"timestamp":1525986676,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1525986699,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 5: Commit message was updated."},{"timestamp":1525986727,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1525986753,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kody A Kantor"}],"currentPatchSet":{"number":"5","revision":"b99c72e4885397150a463b86150438e2843e7f72","parents":["1bd96f8db0b0b83a7f9b19c8f71befce3dda7460"],"ref":"refs/changes/02/3902/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1525986699,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525975324,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1525986753,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"etc/config.coal.manta.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/moray/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},"patchSets":[{"number":"1","revision":"36159c6dddd67a493e45a20c02b71206e5822930","parents":["7b8c682b09ede49af53fb54fa9f40a1c1c907e5f"],"ref":"refs/changes/02/3902/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1525376049,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1525376074,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"etc/config.coal.manta.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/moray/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},{"number":"2","revision":"85e976132b31c99d8ac33a167c9c355c9990bd3a","parents":["7b8c682b09ede49af53fb54fa9f40a1c1c907e5f"],"ref":"refs/changes/02/3902/2","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1525376091,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525931582,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525376136,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"etc/config.coal.manta.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/moray/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},{"number":"3","revision":"b7301483d6485e8f9efb898d6522553d344533eb","parents":["7b8c682b09ede49af53fb54fa9f40a1c1c907e5f"],"ref":"refs/changes/02/3902/3","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1525975273,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525975324,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"etc/config.coal.manta.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/moray/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},{"number":"4","revision":"5ced455e44d8c87922ee025cf53c310f43111212","parents":["1bd96f8db0b0b83a7f9b19c8f71befce3dda7460"],"ref":"refs/changes/02/3902/4","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1525986676,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525975324,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"etc/config.coal.manta.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/moray/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3},{"number":"5","revision":"b99c72e4885397150a463b86150438e2843e7f72","parents":["1bd96f8db0b0b83a7f9b19c8f71befce3dda7460"],"ref":"refs/changes/02/3902/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1525986699,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525985456,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525975324,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1525986753,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"etc/config.coal.manta.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/moray/template","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-3}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}]}