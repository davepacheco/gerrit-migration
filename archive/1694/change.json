{"project":"joyent/sdc-vmapi","branch":"master","id":"Ie4cfd962384a45038ad823ab197ca9b375d7d94b","number":"1694","subject":"ZAPI-779 vmapi crashed when hitting undefined vm state in updateVm request","owner":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"url":"https://cr.joyent.us/1694","commitMessage":"ZAPI-779 vmapi crashed when hitting undefined vm state in updateVm request\n","createdOn":1490121323,"lastUpdated":1490217169,"open":false,"status":"MERGED","comments":[{"timestamp":1490121323,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 1."},{"timestamp":1490121368,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1490121443,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 1:\n\nHi folks. I\u0027m new to javascript, so let me know if I\u0027m doing something wrong or weird. Thanks!"},{"timestamp":1490129571,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1490141858,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 1:\n\n(3 comments)"},{"timestamp":1490145414,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 2."},{"timestamp":1490145449,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1490145616,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 2:\n\n(1 comment)\n\nI seem to have somehow messed up the rebase. I\u0027ll look into this in the morning."},{"timestamp":1490194633,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1490194663,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3:\n\n\"make check\" passed ok"},{"timestamp":1490194721,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\nI think I fixed the merge. Looks like someone was able to merge code before me."},{"timestamp":1490215933,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\nlgtm"},{"timestamp":1490216959,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1490217116,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 5."},{"timestamp":1490217142,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kody A Kantor"},{"timestamp":1490217169,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"}],"currentPatchSet":{"number":"5","revision":"e4cfd962384a45038ad823ab197ca9b375d7d94b","parents":["e9b316cbad2f94e108ff24a104b7a2b15e352d7a"],"ref":"refs/changes/94/1694/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1490217116,"author":{"name":"Kody Kantor","email":"Kody.Kantor@gmail.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490145449,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1490217142,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":15,"deletions":0}],"sizeInsertions":21,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"4e1389877cfcaf72c1181a50a5d89f458593394c","parents":["c3e3474838c9f76c035ec8bc960a8a68a1309f4b"],"ref":"refs/changes/94/1694/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1490121323,"author":{"name":"Kody Kantor","email":"Kody.Kantor@gmail.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490121368,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490129571,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"comments":[{"file":"lib/endpoints/vms.js","line":8,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"copyright should be updated to 2017 since changes were made to this file."},{"file":"test/vms.full.test.js","line":841,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Good call adding the test.\n\nnit: Perhaps this wording could be less focused on the present and more focused on the future past though? :) E.g.:\n\nThis test exists to prevent regression of ZAPI-779 where a user could ..."},{"file":"test/vms.full.test.js","line":841,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Sure! I\u0027ll make this change. I did it this way because there was another comment in this file that followed this format. I like your suggestion more."},{"file":"test/vms.full.test.js","line":845,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"The spacing here should be 4 spaces to match the rest of the file."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":15,"deletions":0}],"sizeInsertions":21,"sizeDeletions":0},{"number":"2","revision":"cff19d1056d9613dbbd967497423b148b5ae455e","parents":["c3e3474838c9f76c035ec8bc960a8a68a1309f4b"],"ref":"refs/changes/94/1694/2","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1490145414,"author":{"name":"Kody Kantor","email":"Kody.Kantor@gmail.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490145449,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":7,"deletions":-1},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":15,"deletions":0}],"sizeInsertions":22,"sizeDeletions":-1},{"number":"3","revision":"717c31f5d999090deeac82f09bd77ca4eae0526a","parents":["0ca1d9b443b59a1a307cc11c025d9314568b1912"],"ref":"refs/changes/94/1694/3","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1490194633,"author":{"name":"Kody Kantor","email":"Kody.Kantor@gmail.com","username":""},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490145449,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":15,"deletions":0}],"sizeInsertions":21,"sizeDeletions":0},{"number":"4","revision":"0633acd27994b9d66a63363818cfb408d970384b","parents":["0ca1d9b443b59a1a307cc11c025d9314568b1912"],"ref":"refs/changes/94/1694/4","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1490216959,"author":{"name":"Kody Kantor","email":"Kody.Kantor@gmail.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490145449,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":15,"deletions":0}],"sizeInsertions":21,"sizeDeletions":0},{"number":"5","revision":"e4cfd962384a45038ad823ab197ca9b375d7d94b","parents":["e9b316cbad2f94e108ff24a104b7a2b15e352d7a"],"ref":"refs/changes/94/1694/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1490217116,"author":{"name":"Kody Kantor","email":"Kody.Kantor@gmail.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1490145449,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1490215933,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"SUBM","value":"1","grantedOn":1490217142,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/vms.js","type":"MODIFIED","insertions":6,"deletions":0},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":15,"deletions":0}],"sizeInsertions":21,"sizeDeletions":0}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}]}