{"project":"joyent/manta-muskie","branch":"master","id":"If1c09ec4573b5c7f8d296334d7171561de65cdbf","number":"364","subject":"MANTA-2910 muskie log entries could include shard, objectid, sharks Reviewed by: Dave Pacheco \u003cdap@joyent.com\u003e Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Dave Pacheco \u003cdap@joyent.com\u003e","owner":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"url":"https://cr.joyent.us/364","commitMessage":"MANTA-2910 muskie log entries could include shard, objectid, sharks\nReviewed by: Dave Pacheco \u003cdap@joyent.com\u003e\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Dave Pacheco \u003cdap@joyent.com\u003e\n","createdOn":1472251568,"lastUpdated":1473464450,"open":false,"status":"MERGED","comments":[{"timestamp":1472251568,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 1."},{"timestamp":1472251621,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1472251733,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 2."},{"timestamp":1472251774,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1472251812,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 3."},{"timestamp":1472251842,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1472261167,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3:\n\n(5 comments)"},{"timestamp":1472489850,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1472489855,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1472494622,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1472604570,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 4."},{"timestamp":1472604631,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1472680598,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 4:\n\n(1 comment)\n\nWe talked about this all in person, but just to summarize:\n\n- I think this will filter out some of the jobs-related requests that we do want this for (e.g., operation\u003d\"getjobsstorage\").  It may be easier to just include the shard, objectid, and sharks information whenever it\u0027s present on the request instead of switching on the type of request or the status code.\n- It would be great to have shark information for PUTs, too.\n- It would be good to test what happens for PUTs and GETs of zero-byte objects, since those don\u0027t have sharks (but do have shards)."},{"timestamp":1473285005,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 5."},{"timestamp":1473285801,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 6."},{"timestamp":1473296365,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1473353829,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 6:\n\n(2 comments)"},{"timestamp":1473452492,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 7."},{"timestamp":1473452516,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1473452533,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1473457345,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 7: Code-Review+1 Integration-Approval+1"},{"timestamp":1473457456,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1473462052,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1473462204,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7:\n\nelse looks great to me"},{"timestamp":1473462825,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 7:\n\n(1 comment)"},{"timestamp":1473463206,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Uploaded patch set 8."},{"timestamp":1473463249,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1473463701,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 8: Code-Review+1\n\nSorry my nit wiped dap\u0027s reviews. You\u0027ll have to browbeat him from the +2 again. :)"},{"timestamp":1473464403,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1"},{"timestamp":1473464450,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Jordan Hendricks"}],"currentPatchSet":{"number":"8","revision":"f1c09ec4573b5c7f8d296334d7171561de65cdbf","parents":["1c7c67f0affa1e57349ae75d75143a09355a632f"],"ref":"refs/changes/64/364/8","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1473463206,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1473463249,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473463701,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473464403,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473464403,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"SUBM","value":"1","grantedOn":1473464450,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":73,"deletions":-12},{"file":"lib/server.js","type":"MODIFIED","insertions":1,"deletions":-3}],"sizeInsertions":90,"sizeDeletions":-16},"patchSets":[{"number":"1","revision":"4c5e0febb78a2605ad7b004aeef7e5830440486c","parents":["eb5251bc6f2af9b6e6bdb12b59d1ce43e619512d"],"ref":"refs/changes/64/364/1","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1472251568,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1472251621,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":21,"deletions":-2}],"sizeInsertions":39,"sizeDeletions":-3},{"number":"2","revision":"10ac1c407b342fcc5db108e61cc3eb7d927f1681","parents":["eb5251bc6f2af9b6e6bdb12b59d1ce43e619512d"],"ref":"refs/changes/64/364/2","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1472251733,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1472251774,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":21,"deletions":-2}],"sizeInsertions":39,"sizeDeletions":-3},{"number":"3","revision":"6b52814d7814fd4a1800e7f7d289876824b3e8fb","parents":["eb5251bc6f2af9b6e6bdb12b59d1ce43e619512d"],"ref":"refs/changes/64/364/3","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1472251812,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1472251842,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"There\u0027s a missing dash here (\"MANTA-2910\").\n\nAlso, I think I forgot to mention this for the last change, but when you\u0027re ready to finally integrate this, please add \"Reviewed by\" and \"Approved by\" lines for whoever ends up looking at it.  Here\u0027s an example: https://github.com/joyent/joyent-gerrit/commit/538323aab5cb977572a86d14b4338a323a521da2"},{"file":"lib/audit.js","line":225,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This looks great, and I\u0027m wondering if we should include this for some other requests:\n\n- unsuccessful requests: I could imagine cases where one shard was down, and muskie was reporting 500-level errors for requests for objects on those shards, and it would really help identify the problem if the log entries for the failed requests included the shard name.  I\u0027m not sure if we get the shard information back from libmanta for failed requests, though.  If not, we can defer that to some other time.\n- HEAD, DELETE, and LIST requests. I don\u0027t know if LIST is a real HTTP method, but billable() seems to return it.  For these, I\u0027d expect that you may have objectId and shard, but not sharks.\n- I don\u0027t think we want to do any of this for some of the jobs-related requests.  I kind of expected that this would produce an error on some of those requests because req.metadata would be undefined, but maybe that gets filled in with something.\n\nSorry for having not mentioned all this in the original ticket.  I don\u0027t think the change will necessarily be much code, though.\n\nWould you mind pasting a few sample log entries into the ticket to see what they look like?"},{"file":"lib/audit.js","line":225,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Responses by bullet point:\n\n- Unsuccessful requests: I think logging the error case you suggest should be doable. I\u0027ll take a look.\n- Adding logging for HEAD/DELETE/LIST requests: This is straightforward to add. LIST isn\u0027t a real http method, but is used internally to represent Manta listing operations as far as I can tell.\n- Jobs-related requests: I\u0027m not as familiar with the jobs tier of Manta, so I would need to look into how to filter these types of requests properly.\n\nThere are some sample log entries in the ticket now!"},{"file":"lib/common.js","line":486,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I would suggest leaving out the reference to MANTA-2910 here."},{"file":"lib/common.js","line":486,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"lib/obj.js","line":619,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"It seems like the convention in this file for function arguments is snake case (\"shark_info\") rather than camel case (\"sharkInfo\")."},{"file":"lib/obj.js","line":619,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Done"},{"file":"lib/obj.js","line":750,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"In addition to the \"latency\" field you\u0027ve added for the time for the whole request, what do you think about adding a \"latencyToFirstByte\" field for the time until we start receiving the response?  I think you could record that at line 750.\n\nI\u0027m wondering about storing the actual response code instead of just \"ok\"/\"fail\", but it\u0027s possible you won\u0027t have one (if the connection couldn\u0027t be established), so that might be more trouble than it\u0027s worth.\n\nI also considered if it\u0027s worth recording the details of the error instead of just \"fail\", but from my reading, we\u0027ll have that in the log anyway because of the warning at line 753, and I think it will get logged with the request anyway, since we pass it to next() later."},{"file":"lib/obj.js","line":750,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I think the suggestion of adding \u0027latencyToFirstByte\u0027 is a great one. This is something that I mentioned in the ticket: as is, in the case of a successful contact with the shark, \"latency\" is the time to stream the object, but in the case of it an error, \"latency\" is the time it takes for the request to fail. Adding a separate field will allow the reader to easily distinguish wheter \"latency\" includes the time from the beginning of the request and the time for the object stream to finish, regardless of whether the shark fails.\n\nAs for  the response code and the error details, the response code is recorded in lib/audit.js:245, where this information is actually logged, so I think we should be able to tell from there, but let me know if you disagree.\n\nThe error information is logged at 753, but it is at a different debug level (\"warn\" vs. \"info\"). Given that \"warn\" is more severe than \"info\" and would be logged if the bunyan log level is at \"info\", I think this is fine, but I am open to changing it if you think it would be helpful."},{"file":"lib/obj.js","line":750,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"If just ok/fail, could consider a boolean: `sharkInfo.success \u003d true/false`.  Just a nit tho."},{"file":"lib/obj.js","line":750,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"\u003e As for  the response code and the error details, the response code is recorded in lib/audit.js:245, where this information is actually logged, so I think we should be able to tell from there, but let me know if you disagree.\n\nI think that\u0027s the response code of the muskie request, not necessarily the response code of the shark request.  (Or are those always the same if the shark request was made and completed?)  Anyway, it may still be more trouble than it\u0027s worth.\n\nI think the error logging is sufficient as-is."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":10,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":20,"deletions":-2}],"sizeInsertions":38,"sizeDeletions":-3},{"number":"4","revision":"00c035661f6129e9770fe6c544cd8786ba630fb1","parents":["eb5251bc6f2af9b6e6bdb12b59d1ce43e619512d"],"ref":"refs/changes/64/364/4","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1472604570,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1472604631,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":26,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":29,"deletions":-9}],"sizeInsertions":63,"sizeDeletions":-10},{"number":"5","revision":"fd99ce86411139ca7529cdf6294d60052de1be02","parents":["eb5251bc6f2af9b6e6bdb12b59d1ce43e619512d"],"ref":"refs/changes/64/364/5","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1473285005,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":74,"deletions":-11},{"file":"lib/server.js","type":"MODIFIED","insertions":1,"deletions":-3}],"sizeInsertions":91,"sizeDeletions":-15},{"number":"6","revision":"11e0c81f49b279cca0789bb2a3eb478a097694f7","parents":["1c7c67f0affa1e57349ae75d75143a09355a632f"],"ref":"refs/changes/64/364/6","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1473285801,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1473296365,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/obj.js","line":486,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Is it possible for the picker to try the same shark more than once, or does it always avoid that?  (If it did ever pick the same one more than once, I\u0027d be worried that you\u0027d get the wrong object back here.  It might be worth adding an assertion that \"sharkInfo.result \u003d\u003d\u003d null\".)"},{"file":"lib/obj.js","line":486,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"As we discussed, the picker chooses disjoint sets of sharks, so it shouldn\u0027t try to contact a failed shark again."},{"file":"lib/obj.js","line":715,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"This catches the case where we successfully finish streaming from the shark, but if the shark fails (e.g., the nginx processes crashes) during the request, I think we won\u0027t have timeTotal or timeToFirstByte.  That said, we\u0027ll know which shark we contacted and we should be able to infer the rest, so this is probably not a big deal."},{"file":"lib/obj.js","line":715,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Based on our discussion yesterday, I\u0027ve moved the setting of timeToFirstByte to line 692. So this value should be set regardless of other error cases."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":71,"deletions":-11},{"file":"lib/server.js","type":"MODIFIED","insertions":1,"deletions":-3}],"sizeInsertions":88,"sizeDeletions":-15},{"number":"7","revision":"f4c4bc74104b6897e5ec747151238ac05463dbbe","parents":["1c7c67f0affa1e57349ae75d75143a09355a632f"],"ref":"refs/changes/64/364/7","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1473452492,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473457345,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473457345,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1473452533,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/obj.js","line":105,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"A param after a callback param is really odd. Is it possible to move \u0027sharkInfo\u0027 to before \u0027cb\u0027?"},{"file":"lib/obj.js","line":105,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Yep, good call."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":70,"deletions":-11},{"file":"lib/server.js","type":"MODIFIED","insertions":1,"deletions":-3}],"sizeInsertions":87,"sizeDeletions":-15},{"number":"8","revision":"f1c09ec4573b5c7f8d296334d7171561de65cdbf","parents":["1c7c67f0affa1e57349ae75d75143a09355a632f"],"ref":"refs/changes/64/364/8","uploader":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"createdOn":1473463206,"author":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473464403,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1473464403,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1473463249,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473463701,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1473464450,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/audit.js","type":"MODIFIED","insertions":8,"deletions":-1},{"file":"lib/common.js","type":"MODIFIED","insertions":8,"deletions":0},{"file":"lib/obj.js","type":"MODIFIED","insertions":73,"deletions":-12},{"file":"lib/server.js","type":"MODIFIED","insertions":1,"deletions":-3}],"sizeInsertions":90,"sizeDeletions":-16}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}]}