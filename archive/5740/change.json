{"project":"joyent/illumos-joyent","branch":"master","id":"Iade6c39b187fff41cf5c7f6bc2b5761c8ee9418a","number":"5740","subject":"OS-7646 want ZFS metaslab load/unload counters Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"url":"https://cr.joyent.us/5740","commitMessage":"OS-7646 want ZFS metaslab load/unload counters\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1552001224,"lastUpdated":1553090518,"open":false,"status":"MERGED","comments":[{"timestamp":1552001224,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 1."},{"timestamp":1552087101,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 2."},{"timestamp":1552329534,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 3."},{"timestamp":1552335827,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Code-Review+1\n\n(2 comments)\n\nThis looks good to me. There are a couple of declaration where you could narrow the scope if you want."},{"timestamp":1552405160,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 4."},{"timestamp":1552428295,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1553037401,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4: Integration-Approval+1"},{"timestamp":1553090308,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1553090506,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1553090518,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kody A Kantor"}],"currentPatchSet":{"number":"6","revision":"ade6c39b187fff41cf5c7f6bc2b5761c8ee9418a","parents":["017f0704f036cde8941fd9194e73f30849c51a92"],"ref":"refs/changes/40/5740/6","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1553090506,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552428295,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1553037401,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1553090518,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kstat.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","type":"MODIFIED","insertions":48,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/sys/metaslab_impl.h","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":65,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"0249f87fa32c6bcb81a54121414f1213969a63eb","parents":["7e3d90a64c293c5a7a722cf739fb36461f13ff0f"],"ref":"refs/changes/40/5740/1","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1552001224,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kstat.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/sys/metaslab_impl.h","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":69,"sizeDeletions":-1},{"number":"2","revision":"60214597fbb60852eff03696c4eb79eaad04aab6","parents":["7e3d90a64c293c5a7a722cf739fb36461f13ff0f"],"ref":"refs/changes/40/5740/2","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1552087101,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kstat.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/sys/metaslab_impl.h","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":69,"sizeDeletions":-1},{"number":"3","revision":"a439e278712e390b84b3230610b687e68fe2035d","parents":["7e3d90a64c293c5a7a722cf739fb36461f13ff0f"],"ref":"refs/changes/40/5740/3","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1552329534,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552335827,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"comments":[{"file":"usr/src/uts/common/fs/zfs/metaslab.c","line":1576,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"you could narrow the scope of this if you want"},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","line":1607,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"you could narrow the scope of both of these"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kstat.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","type":"MODIFIED","insertions":52,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/sys/metaslab_impl.h","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":69,"sizeDeletions":-1},{"number":"4","revision":"7d57e7f83ff2960ede04b4350d4d3bb1f8358231","parents":["7e3d90a64c293c5a7a722cf739fb36461f13ff0f"],"ref":"refs/changes/40/5740/4","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1552405160,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552428295,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1553037401,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kstat.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","type":"MODIFIED","insertions":48,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/sys/metaslab_impl.h","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":65,"sizeDeletions":-1},{"number":"5","revision":"ee4e68228e2f77b81d0ae2e9bfa3542535194eee","parents":["017f0704f036cde8941fd9194e73f30849c51a92"],"ref":"refs/changes/40/5740/5","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1553090308,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552428295,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1553037401,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kstat.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","type":"MODIFIED","insertions":48,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/sys/metaslab_impl.h","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":65,"sizeDeletions":-1},{"number":"6","revision":"ade6c39b187fff41cf5c7f6bc2b5761c8ee9418a","parents":["017f0704f036cde8941fd9194e73f30849c51a92"],"ref":"refs/changes/40/5740/6","uploader":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"createdOn":1553090506,"author":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1552428295,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1553037401,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1553090518,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/kstat.c","type":"MODIFIED","insertions":6,"deletions":0},{"file":"usr/src/lib/libfakekernel/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/common/fs/zfs/metaslab.c","type":"MODIFIED","insertions":48,"deletions":0},{"file":"usr/src/uts/common/fs/zfs/sys/metaslab_impl.h","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":65,"sizeDeletions":-1}],"allReviewers":[{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}]}