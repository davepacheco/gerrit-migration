{"project":"joyent/illumos-joyent","branch":"master","id":"I98696a10f63b5bc2d389c62260c0c35046543e4b","number":"3484","subject":"OS-6696 need iasl in tools Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"url":"https://cr.joyent.us/3484","commitMessage":"OS-6696 need iasl in tools\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1519678114,"lastUpdated":1519738135,"open":false,"status":"MERGED","comments":[{"timestamp":1519678114,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 1."},{"timestamp":1519678497,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1519678963,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(1 comment)\n\nI\u0027d like to see the answer to Patrick\u0027s questions."},{"timestamp":1519681119,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1519681155,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 2."},{"timestamp":1519684153,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1\n\nI think the changes for Patrick\u0027s comments are fine."},{"timestamp":1519686518,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1519686537,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\nIf you\u0027ve tested the updated one and it builds clean, let\u0027s ship it."},{"timestamp":1519705180,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 2:\n\nTesting complete and passed.  See comment in OS-6696 for details."},{"timestamp":1519705202,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1519735113,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1519738043,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Patch Set 3 was rebased"},{"timestamp":1519738126,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 5: Commit message was updated."},{"timestamp":1519738135,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Mike Gerdts"}],"currentPatchSet":{"number":"5","revision":"65d28dbbd1ec607448bb7c80af03b93037e97791","parents":["dafed7d9235ae7b03909a72a423fc8a56cbb35f6"],"ref":"refs/changes/84/3484/5","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1519738126,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519684153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519686518,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519735113,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1519738135,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/acpi/iasl/Makefile","type":"MODIFIED","insertions":3,"deletions":-136},{"file":"usr/src/cmd/acpi/iasl/Makefile.iasl","type":"ADDED","insertions":186,"deletions":0},{"file":"usr/src/tools/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/tools/iasl/Makefile","type":"ADDED","insertions":33,"deletions":0}],"sizeInsertions":223,"sizeDeletions":-136},"patchSets":[{"number":"1","revision":"35e47e9ec6ef9243b5a9b74fd5418df92824a1e1","parents":["961938870988cab2ac34c402b7184d098f5ca319"],"ref":"refs/changes/84/3484/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1519678114,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/acpi/iasl/Makefile","line":25,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"nit: I think \u0027Makefile.com\u0027 is a more common (sorry) naming scheme for shared data like this"},{"file":"usr/src/cmd/acpi/iasl/Makefile","line":25,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"ok.  I didn\u0027t choose that name because it\u0027s normally used by things in subdirs including ../Makefile.com.  If using Makefile.com causes problems in the future, we can deal with it then."},{"file":"usr/src/tools/iasl/Makefile","line":40,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Could the build portion of this target be kept in the common makefile while only the dependency be overridden in the two \"build\" makefiles?"},{"file":"usr/src/tools/iasl/Makefile","line":40,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Done"},{"file":"usr/src/tools/iasl/Makefile","line":40,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Per private discussion on MM, having one rule to cover both cases was the first approach taken.  This turned out to be problematic  due to VPATH causing the build in tools to want to use generated files in $SRC/cmd/acpi/iasl or perhaps even create them there.  I\u0027ve moved the two rules into the same file and explained when each is used and emphasized the need to keep them in sync."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/acpi/iasl/Makefile","type":"MODIFIED","insertions":3,"deletions":-136},{"file":"usr/src/cmd/acpi/iasl/Makefile.iasl","type":"ADDED","insertions":158,"deletions":0},{"file":"usr/src/tools/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/tools/iasl/Makefile","type":"ADDED","insertions":44,"deletions":0}],"sizeInsertions":206,"sizeDeletions":-136},{"number":"2","revision":"98696a10f63b5bc2d389c62260c0c35046543e4b","parents":["961938870988cab2ac34c402b7184d098f5ca319"],"ref":"refs/changes/84/3484/2","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1519681155,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519684153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519686518,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/acpi/iasl/Makefile","type":"MODIFIED","insertions":3,"deletions":-136},{"file":"usr/src/cmd/acpi/iasl/Makefile.iasl","type":"ADDED","insertions":186,"deletions":0},{"file":"usr/src/tools/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/tools/iasl/Makefile","type":"ADDED","insertions":33,"deletions":0}],"sizeInsertions":223,"sizeDeletions":-136},{"number":"3","revision":"fd3c6aecf504858b5f33d7bdfe089bb774acd952","parents":["7859c1369f34e4ea328514c82b3579e7f3896a57"],"ref":"refs/changes/84/3484/3","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1519705202,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519684153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519735113,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519686518,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/acpi/iasl/Makefile","type":"MODIFIED","insertions":3,"deletions":-136},{"file":"usr/src/cmd/acpi/iasl/Makefile.iasl","type":"ADDED","insertions":186,"deletions":0},{"file":"usr/src/tools/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/tools/iasl/Makefile","type":"ADDED","insertions":33,"deletions":0}],"sizeInsertions":223,"sizeDeletions":-136},{"number":"4","revision":"5fda7635d2cefb7b1d17da99a387100ee6a6000e","parents":["dafed7d9235ae7b03909a72a423fc8a56cbb35f6"],"ref":"refs/changes/84/3484/4","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1519738043,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519684153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519735113,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519686518,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/acpi/iasl/Makefile","type":"MODIFIED","insertions":3,"deletions":-136},{"file":"usr/src/cmd/acpi/iasl/Makefile.iasl","type":"ADDED","insertions":186,"deletions":0},{"file":"usr/src/tools/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/tools/iasl/Makefile","type":"ADDED","insertions":33,"deletions":0}],"sizeInsertions":223,"sizeDeletions":-136},{"number":"5","revision":"65d28dbbd1ec607448bb7c80af03b93037e97791","parents":["dafed7d9235ae7b03909a72a423fc8a56cbb35f6"],"ref":"refs/changes/84/3484/5","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1519738126,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519684153,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1519735113,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519686518,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1519738135,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/cmd/acpi/iasl/Makefile","type":"MODIFIED","insertions":3,"deletions":-136},{"file":"usr/src/cmd/acpi/iasl/Makefile.iasl","type":"ADDED","insertions":186,"deletions":0},{"file":"usr/src/tools/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/tools/iasl/Makefile","type":"ADDED","insertions":33,"deletions":0}],"sizeInsertions":223,"sizeDeletions":-136}],"allReviewers":[{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}]}