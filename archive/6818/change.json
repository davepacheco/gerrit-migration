{"project":"joyent/electric-moray","branch":"master","id":"Id2fd41893a1e64ddcc99a8b30940a4d1ea34caab","number":"6818","subject":"MANTA-4289 Update electric-moray to use node-fast 2.8.1","owner":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"url":"https://cr.joyent.us/6818","commitMessage":"MANTA-4289 Update electric-moray to use node-fast 2.8.1\n","createdOn":1566330142,"lastUpdated":1568126775,"open":false,"status":"MERGED","comments":[{"timestamp":1566330142,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 1."},{"timestamp":1566330144,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 9cfdf5fa3dbb4f48638507d0f07c2575960dfdb4\n    \n    MANTA-4288 Update moray to use node-fast 2.7.0"},{"timestamp":1566330179,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1566337066,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 2."},{"timestamp":1566337068,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit ebb96ac31c0011a0d322115d649a937626d63599\n    \n    Update some tests to remove obsolete trackModification option use"},{"timestamp":1566337104,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1566341005,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 3."},{"timestamp":1566341007,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 6bfca250dc8f997691e2f42ba3184bf18e430cb1\n    \n    Fix typos in sapi config template"},{"timestamp":1566341043,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1566408333,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 3:\n\n(3 comments)\n\nGood!"},{"timestamp":1566482954,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1566483846,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 4."},{"timestamp":1566483849,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 450df873f1f5b8bf14e67ad6a0a390dc93476db0\n    \n    Address review feedback"},{"timestamp":1566483885,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1566484679,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 3:\n\n(3 comments)"},{"timestamp":1566572073,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1567198080,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 5."},{"timestamp":1567198081,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit d0015984f731f9255d6468dc8d7ff476f1cdf7f6\n    \n    Update package.json to use version 3.7.0 release of node-moray"},{"timestamp":1567198122,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1567198133,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1567198378,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1567548846,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1567548924,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1568126775,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Kelly McLaughlin"}],"currentPatchSet":{"number":"7","revision":"d2fd41893a1e64ddcc99a8b30940a4d1ea34caab","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/7","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1567198378,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567198122,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1567548846,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567548924,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"SUBM","value":"1","grantedOn":1568126775,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0},{"file":"test/batch.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/objects.test.js","type":"MODIFIED","insertions":1,"deletions":-50}],"sizeInsertions":46,"sizeDeletions":-58},"patchSets":[{"number":"1","revision":"c865cb16e8455914a93fdece81ba00c67d5d653a","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/1","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1566330142,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566330179,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0}],"sizeInsertions":43,"sizeDeletions":-6},{"number":"2","revision":"00a8a00cbc40143f31f3603920fd0aa294eb273d","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/2","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1566337066,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566337104,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0},{"file":"test/batch.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/objects.test.js","type":"MODIFIED","insertions":1,"deletions":-50}],"sizeInsertions":45,"sizeDeletions":-58},{"number":"3","revision":"03905dcc4149c97c0a54ca1ab64615d10b9fd5c6","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/3","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1566341005,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566341043,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/moray_client.js","line":61,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"It seems like we should assert that this exists because the other options are asserted."},{"file":"lib/moray_client.js","line":61,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"lib/server.js","line":181,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"What do you think about the metric naming consistency between electric-moray and moray? I see in Moray we\u0027re using \u0027crc_mode.\u0027 Do you think we should preface these (and in Moray) with \u0027fast_\u0027 (e.g. \u0027fast_client_crc_mode\u0027)? It might be worth changing the Moray metric name to \u0027fast_server_crc_mode\u0027 too, for the sake of consistency."},{"file":"lib/server.js","line":181,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Good idea. That\u0027ll make it easier to pull these into a dashboard to see the status of different components if we want."},{"file":"lib/server.js","line":181,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"},{"file":"sapi_manifests/electric-moray/template","line":17,"reviewer":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},"message":"Possible extra comma."},{"file":"sapi_manifests/electric-moray/template","line":17,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Good catch!"},{"file":"sapi_manifests/electric-moray/template","line":17,"reviewer":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0},{"file":"test/batch.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/objects.test.js","type":"MODIFIED","insertions":1,"deletions":-50}],"sizeInsertions":45,"sizeDeletions":-58},{"number":"4","revision":"2293b2442ae7b77fb0d09b541c232c39f73f0721","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/4","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1566483846,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1566483885,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1566572073,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0},{"file":"test/batch.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/objects.test.js","type":"MODIFIED","insertions":1,"deletions":-50}],"sizeInsertions":46,"sizeDeletions":-58},{"number":"5","revision":"70f6c3e267c28a8cc826f33d584ee593457a482f","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/5","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1567198080,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567198122,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0},{"file":"test/batch.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/objects.test.js","type":"MODIFIED","insertions":1,"deletions":-50}],"sizeInsertions":46,"sizeDeletions":-58},{"number":"6","revision":"b88441ad69afec250979b59b9ce20d8de7f601f7","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/6","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1567198133,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567198122,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0},{"file":"test/batch.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/objects.test.js","type":"MODIFIED","insertions":1,"deletions":-50}],"sizeInsertions":46,"sizeDeletions":-58},{"number":"7","revision":"d2fd41893a1e64ddcc99a8b30940a4d1ea34caab","parents":["15d08a7c03e8cd8932de581a0484a014e0a38376"],"ref":"refs/changes/18/6818/7","uploader":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"createdOn":1567198378,"author":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1567198122,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1567548846,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1567548924,"by":{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"}},{"type":"SUBM","value":"1","grantedOn":1568126775,"by":{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/moray_client.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/server.js","type":"MODIFIED","insertions":25,"deletions":-3},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"sapi_manifests/electric-moray/template","type":"MODIFIED","insertions":14,"deletions":0},{"file":"test/batch.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/objects.test.js","type":"MODIFIED","insertions":1,"deletions":-50}],"sizeInsertions":46,"sizeDeletions":-58}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Kody A Kantor","email":"kody.kantor@joyent.com","username":"KodyKantor"},{"name":"Kelly McLaughlin","email":"kelly.mclaughlin@joyent.com","username":"kellymclaughlin"}]}