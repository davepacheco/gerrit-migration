{"project":"joyent/sdc-vmapi","branch":"master","id":"I165465c52580ac0b94f658d9f4f7052b430fcb21","number":"3734","subject":"TRITON-287 vmapi tests should use network names explicitly Reviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e Approved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e","owner":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"url":"https://cr.joyent.us/3734","commitMessage":"TRITON-287 vmapi tests should use network names explicitly\nReviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\nApproved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\n","createdOn":1522269263,"lastUpdated":1522347391,"open":false,"status":"MERGED","comments":[{"timestamp":1522269263,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 1."},{"timestamp":1522269267,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 0e88479a18d0a5fdd3a23e834de81a4bc20b8a3c\n    \n    initial commit"},{"timestamp":1522269349,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1522341339,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1522344335,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1522344830,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 2."},{"timestamp":1522344833,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 7308539b468de192302f094bc8ff540894fd00e7\n    \n    initial commit"},{"timestamp":1522344863,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1522346724,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 3."},{"timestamp":1522346727,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit bcd8c893eb8158f0c8940903ffcacddb0d6e061a\n    \n    iteration on todd review"},{"timestamp":1522346756,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1522346993,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 4: Patch Set 3 was rebased."},{"timestamp":1522346996,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 593e30b9ef1b4a87b1eee76fdf4db4c8701818a4\n    \n    iteration on todd review\n    \n    commit 66d2eaad9c5f321a57615ef989bdeabba2987bb7\n    \n    initial commit"},{"timestamp":1522347019,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 5."},{"timestamp":1522347022,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 3f8ae7b84caa5ebfc52c89451d5f0373f8f2fb2c\n    \n    remove unused variable"},{"timestamp":1522347025,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4:\n\n\"make check\" passed ok"},{"timestamp":1522347051,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1522347196,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1522347385,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1522347391,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Dave Eddy"}],"currentPatchSet":{"number":"6","revision":"165465c52580ac0b94f658d9f4f7052b430fcb21","parents":["3f63a4b3264cd07be766be6e42b7bbce24a14fc8"],"ref":"refs/changes/34/3734/6","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1522347385,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522347051,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522347196,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1522347196,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"SUBM","value":"1","grantedOn":1522347391,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":28,"deletions":-2},{"file":"test/vms.changefeed.test.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":23,"deletions":-19}],"sizeInsertions":58,"sizeDeletions":-23},"patchSets":[{"number":"1","revision":"176ed4f888495eaf536130f162363e859a008b2f","parents":["8218bfe980c3f9b3454f6022407cff8ed8381db3"],"ref":"refs/changes/34/3734/1","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1522269263,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522269349,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/common.js","line":239,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Maybe call this \u0027extractAdminAndExternalNetwork\u0027"},{"file":"test/common.js","line":239,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"will do"},{"file":"test/vms.full.test.js","line":299,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"This may be me being picky (feel free to say you disagree) - but I\u0027d prefer to see:\n\nNETWORKS \u003d networks;\nvar adminExtNetworks \u003d common.extractAdminAndExternalNetworks(ALL_NETWORKS);\nADMIN_NETWORK \u003d extractedNetworks.admin;\nEXTERNAL_NETWORK \u003d extractedNetworks.external;\n\nMy reasoning is that having ALL_NETWORKS and NETWORKS being two different data structures (array of network object and map of network object) seems confusing."},{"file":"test/vms.full.test.js","line":299,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Actually, that makes a lot of sense to me.  since we *know* we want the admin and external networks specifically, we should name the variables to make that specific goal explicit. +1  I\u0027ll make this change."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":28,"deletions":-2},{"file":"test/vms.changefeed.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":24,"deletions":-23}],"sizeInsertions":55,"sizeDeletions":-28},{"number":"2","revision":"9a38c73c300217b2dd4671f13aca0eba872fc8dd","parents":["73ed1e5f4c0ff74e857d6809dfeab2a5a5c1567e"],"ref":"refs/changes/34/3734/2","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1522344830,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522344863,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":28,"deletions":-2},{"file":"test/vms.changefeed.test.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":23,"deletions":-22}],"sizeInsertions":54,"sizeDeletions":-27},{"number":"3","revision":"153117fe28c899cd19212fb3d86de3e749ec3e78","parents":["73ed1e5f4c0ff74e857d6809dfeab2a5a5c1567e"],"ref":"refs/changes/34/3734/3","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1522346724,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522346756,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":28,"deletions":-2},{"file":"test/vms.changefeed.test.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":24,"deletions":-19}],"sizeInsertions":59,"sizeDeletions":-23},{"number":"4","revision":"02daf34cb2b4b9a0a178d5ffb21665834b6a91e4","parents":["3f63a4b3264cd07be766be6e42b7bbce24a14fc8"],"ref":"refs/changes/34/3734/4","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1522346993,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522346756,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":28,"deletions":-2},{"file":"test/vms.changefeed.test.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":24,"deletions":-19}],"sizeInsertions":59,"sizeDeletions":-23},{"number":"5","revision":"eb8e9d7f7d1acc65f1984b6ceee26e84afe63584","parents":["3f63a4b3264cd07be766be6e42b7bbce24a14fc8"],"ref":"refs/changes/34/3734/5","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1522347019,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522347051,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522347196,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1522347196,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":28,"deletions":-2},{"file":"test/vms.changefeed.test.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":23,"deletions":-19}],"sizeInsertions":58,"sizeDeletions":-23},{"number":"6","revision":"165465c52580ac0b94f658d9f4f7052b430fcb21","parents":["3f63a4b3264cd07be766be6e42b7bbce24a14fc8"],"ref":"refs/changes/34/3734/6","uploader":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"createdOn":1522347385,"author":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1522347051,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1522347391,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522347196,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1522347196,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":28,"deletions":-2},{"file":"test/vms.changefeed.test.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"test/vms.full.test.js","type":"MODIFIED","insertions":23,"deletions":-19}],"sizeInsertions":58,"sizeDeletions":-23}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}]}