commit 7885bc0ab06457ee2757342e73ba79903b7bb067
Author: Brian Bennett <brian.bennett@joyent.com>
Date:   2019-04-17T12:39:19-07:00 (6 months ago)
    
    TRITON-1415 sdc-image-sync should only put packages in one time.

diff --git a/tools/bin/sdc-image-sync b/tools/bin/sdc-image-sync
index a44d5de2..a4c74f44 100755
--- a/tools/bin/sdc-image-sync
+++ b/tools/bin/sdc-image-sync
@@ -81,7 +81,7 @@ function update_sdc_zone_pkgs()
 	    -e 'this.smartdc_role=(this.tags.smartdc_role || "-")' \
 	    -e 'this.package_name=(this.package_name || "-")' \
 	    -c 'this.tags.smartdc_role && this.tags.smartdc_role!=="nat"' \
-	    -a smartdc_role package_name | \
+	    -a smartdc_role package_name | sort -u | \
 	    while read role pkg
 	    do
 		# If this pkg is not in the config file, add it.
