{"project":"joyent/illumos-joyent","branch":"master","id":"I500e876f71a2c15d0c2bc5d4b1f388773788c412","number":"5278","subject":"OS-7467 libproc ia32 Pstack_iter() should leverage ctf Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Reviewed by: Jason King \u003cjason.king@joyent.com\u003e Approved by: Jason King \u003cjason.king@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/5278","commitMessage":"OS-7467 libproc ia32 Pstack_iter() should leverage ctf\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nReviewed by: Jason King \u003cjason.king@joyent.com\u003e\nApproved by: Jason King \u003cjason.king@joyent.com\u003e\n","createdOn":1545410852,"lastUpdated":1546530191,"open":false,"status":"MERGED","comments":[{"timestamp":1545410852,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1545411443,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 1: Code-Review+1\n\nAmusingly, I was wondering about doing this exact thing the other day."},{"timestamp":1545419266,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Code-Review+1\n\nWas curious about why the new support functions are replicated in the 32 and 64 bit versions, but upon further inspection that looks like an awfully big sweater to unravel."},{"timestamp":1545841119,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1545841158,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\nWhile working through a more rigorous test suite I found that the way we were passing the pc to check the CTF argument count was incorrect."},{"timestamp":1545841215,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n\u003e Was curious about why the new support functions are replicated in\n \u003e the 32 and 64 bit versions, but upon further inspection that looks\n \u003e like an awfully big sweater to unravel.\n\nUnfortunately, each target architecture (i386, amd64, sparcv7, sparcv9, etc) needs to have their own copy of these files. It is possible to try and commonize some of these, but there are actually some subtle differences in argument sizing between most of these that make that tricky, ignoring fighting makefiles."},{"timestamp":1545936610,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2: Code-Review+1\n\nLike I said, an awfully big sweater to unravel."},{"timestamp":1546528921,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1546529010,"reviewer":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1546529993,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1546530117,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1546530191,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"4","revision":"500e876f71a2c15d0c2bc5d4b1f388773788c412","parents":["83a8d0d616db36010b59cc850d1926c0f6a30de1"],"ref":"refs/changes/78/5278/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1546530117,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545936610,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1546528921,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1546529010,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"SUBM","value":"1","grantedOn":1546530191,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libproc/amd64/Pisadep.c","type":"MODIFIED","insertions":33,"deletions":-4},{"file":"usr/src/lib/libproc/i386/Pisadep.c","type":"MODIFIED","insertions":32,"deletions":-4}],"sizeInsertions":65,"sizeDeletions":-8},"patchSets":[{"number":"1","revision":"fffaa6c866acdef116a501cd1eb600eea59c02a9","parents":["b738b17750f6942c4c4e0d907d75c86465e05646"],"ref":"refs/changes/78/5278/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1545410852,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545411443,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545419266,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libproc/amd64/Pisadep.c","type":"MODIFIED","insertions":33,"deletions":-1},{"file":"usr/src/lib/libproc/i386/Pisadep.c","type":"MODIFIED","insertions":33,"deletions":-1}],"sizeInsertions":66,"sizeDeletions":-2},{"number":"2","revision":"0bb037b0c4605ebfd59f0b92dff5deda90b8f356","parents":["55d9f1841d2002d6d35deb1b07fa56c666e0d13a"],"ref":"refs/changes/78/5278/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1545841119,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1546528921,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1546529010,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545936610,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libproc/amd64/Pisadep.c","type":"MODIFIED","insertions":33,"deletions":-4},{"file":"usr/src/lib/libproc/i386/Pisadep.c","type":"MODIFIED","insertions":32,"deletions":-4}],"sizeInsertions":65,"sizeDeletions":-8},{"number":"3","revision":"4c9533648343d118973184d7b8f730b6389076c0","parents":["83a8d0d616db36010b59cc850d1926c0f6a30de1"],"ref":"refs/changes/78/5278/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1546529993,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1546528921,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1546529010,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545936610,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/lib/libproc/amd64/Pisadep.c","type":"MODIFIED","insertions":33,"deletions":-4},{"file":"usr/src/lib/libproc/i386/Pisadep.c","type":"MODIFIED","insertions":32,"deletions":-4}],"sizeInsertions":65,"sizeDeletions":-8},{"number":"4","revision":"500e876f71a2c15d0c2bc5d4b1f388773788c412","parents":["83a8d0d616db36010b59cc850d1926c0f6a30de1"],"ref":"refs/changes/78/5278/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1546530117,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1546530191,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1546528921,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1546529010,"by":{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1545936610,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/lib/libproc/amd64/Pisadep.c","type":"MODIFIED","insertions":33,"deletions":-4},{"file":"usr/src/lib/libproc/i386/Pisadep.c","type":"MODIFIED","insertions":32,"deletions":-4}],"sizeInsertions":65,"sizeDeletions":-8}],"allReviewers":[{"name":"Jason King","email":"jason.king@joyent.com","username":"jasonbking"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}