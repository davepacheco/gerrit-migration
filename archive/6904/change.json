{"project":"joyent/illumos-joyent","branch":"master","id":"Ia66cbb0d86c570fc2ec032648ffe7c90e97cbeca","number":"6904","subject":"joyent/illumos-joyent#195 Want audit events for auditon(A_SETPMASK) and friends","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/6904","commitMessage":"joyent/illumos-joyent#195 Want audit events for auditon(A_SETPMASK) and friends\n","createdOn":1568347057,"lastUpdated":1571277975,"open":true,"status":"NEW","comments":[{"timestamp":1568347057,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1569829253,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1569829259,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Patch Set 2 was rebased"},{"timestamp":1570730445,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3:\n\n(1 comment)\n\nIn your testing notes, you refer to \"getkmask\" and \"setkmask\", I think you mean \"getkaudit\" and \"setkaudit\" right?\n\nSo setkaudit is weird, but I agree it seems *really* weird that that setpmask never got an event."},{"timestamp":1571277725,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3:\n\n(1 comment)\n\nNo, I was referring specifically to \"auditconfig -getkmask\" and \"auditconfig -setkmask\", which are different to getkaudit and setkaudit"},{"timestamp":1571277889,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3:\n\n\u003e (1 comment)\n \u003e \n \u003e No, I was referring specifically to \"auditconfig -getkmask\" and\n \u003e \"auditconfig -setkmask\", which are different to getkaudit and\n \u003e setkaudit\n\nAh I guess that means I might not have tested the new event thoroughly for SETKAUDIT. I\u0027ll go back and do that."},{"timestamp":1571277971,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 5."}],"currentPatchSet":{"number":"5","revision":"a66cbb0d86c570fc2ec032648ffe7c90e97cbeca","parents":["30d94bf4d6986fcca3acbe4e6f2f0a7079a3e7c1"],"ref":"refs/changes/04/6904/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1571277971,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":30,"deletions":0},{"file":"usr/src/lib/libbsm/audit_event.txt","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/c2/audit_event.c","type":"MODIFIED","insertions":65,"deletions":-1},{"file":"usr/src/uts/common/c2/audit_kevents.h","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":106,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"23eb5d5ba1643bdbbd509086e715fe81a53a1fd6","parents":["1cc6f4c0fcc857bd86b9a8234d9ff75d5a6b9384"],"ref":"refs/changes/04/6904/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1568347057,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":29,"deletions":0},{"file":"usr/src/lib/libbsm/audit_event.txt","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/c2/audit_event.c","type":"MODIFIED","insertions":65,"deletions":-1},{"file":"usr/src/uts/common/c2/audit_kevents.h","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-2},{"number":"2","revision":"2178160242e11678b73aa6efa2f88932099b654f","parents":["1cc6f4c0fcc857bd86b9a8234d9ff75d5a6b9384"],"ref":"refs/changes/04/6904/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1569829253,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":29,"deletions":0},{"file":"usr/src/lib/libbsm/audit_event.txt","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/c2/audit_event.c","type":"MODIFIED","insertions":65,"deletions":-1},{"file":"usr/src/uts/common/c2/audit_kevents.h","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-2},{"number":"3","revision":"eeeda7d859cb408b84807b8d15e8662559a5c927","parents":["9025f331a2570d6d68b91bc20ea24ab6a5b9d8b4"],"ref":"refs/changes/04/6904/3","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1569829259,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"TRIVIAL_REBASE","comments":[{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","line":477,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Why does this not have the syscall attribute?"},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","line":477,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Hmm... a bad copy-paste, I suspect. I\u0027ll add it back in."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":29,"deletions":0},{"file":"usr/src/lib/libbsm/audit_event.txt","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/c2/audit_event.c","type":"MODIFIED","insertions":65,"deletions":-1},{"file":"usr/src/uts/common/c2/audit_kevents.h","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":105,"sizeDeletions":-2},{"number":"5","revision":"a66cbb0d86c570fc2ec032648ffe7c90e97cbeca","parents":["30d94bf4d6986fcca3acbe4e6f2f0a7079a3e7c1"],"ref":"refs/changes/04/6904/5","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1571277971,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/cmd/auditrecord/audit_record_attr.txt","type":"MODIFIED","insertions":30,"deletions":0},{"file":"usr/src/lib/libbsm/audit_event.txt","type":"MODIFIED","insertions":5,"deletions":0},{"file":"usr/src/uts/common/c2/audit_event.c","type":"MODIFIED","insertions":65,"deletions":-1},{"file":"usr/src/uts/common/c2/audit_kevents.h","type":"MODIFIED","insertions":6,"deletions":-1}],"sizeInsertions":106,"sizeDeletions":-2}],"allReviewers":[{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}