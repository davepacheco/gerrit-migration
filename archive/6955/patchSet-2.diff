From 3ba21538ddc7b7e892b2786cb3664a354c8cd01d Mon Sep 17 00:00:00 2001
From: Jerry Jelinek <jerry.jelinek@joyent.com>
Date: Thu, 3 Oct 2019 15:34:34 -0600
Subject: [PATCH] =?UTF-8?q?TRITON-1911=20sdc-server=20support=20for=20cust?=
 =?UTF-8?q?om=20zpool=20width=20Reviewed=20by:=20Pedro=20Palaz=C3=B3n=20Ca?=
 =?UTF-8?q?ndel=20<pedro@joyent.com>=20Approved=20by:=20Pedro=20Palaz?=
 =?UTF-8?q?=C3=B3n=20Candel=20<pedro@joyent.com>?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 tools/bin/sdc-server | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/tools/bin/sdc-server b/tools/bin/sdc-server
index 87d511dd..a288f536 100755
--- a/tools/bin/sdc-server
+++ b/tools/bin/sdc-server
@@ -83,6 +83,7 @@ function setup_usage()
         '',
         '    hostname=<string>                                 - Server hostname',
         '    spares=<0-N>                                      - disk spares',
+        '    width=<1-N>                                       - stripe width',
         '    cache=<true|false>                                - disk cache',
         '    layout=<single|mirror|raidz1|raidz2|raidz3>       - disk layout',
         '    postsetup_script=<string>                         - script to be run right after server setup',
@@ -1554,6 +1555,8 @@ function dispatchCommand(command, args, callback)
                     setupOpts.params.disk_spares = param[1];
                 } else if (param[0] === 'cache') {
                     setupOpts.params.disk_cache = param[1];
+                } else if (param[0] === 'width') {
+                    setupOpts.params.disk_width = param[1];
                 } else if (param[0] === 'layout') {
                     setupOpts.params.disk_layout = param[1];
                 } else {
-- 
2.21.0

