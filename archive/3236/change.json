{"project":"joyent/sdc-cloudapi","branch":"master","id":"I048db4faf509b1e22f804649a6acd4fc354f5c03","number":"3236","subject":"TRITON-51 make image creation non-incremental by default","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/3236","commitMessage":"TRITON-51 make image creation non-incremental by default\n","createdOn":1516316087,"lastUpdated":1516359464,"open":true,"status":"NEW","comments":[{"timestamp":1516316087,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1516316088,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit cda619d25a686f148a9b44758402ff7c200486a0\n    \n    first stab at TRITON-51"},{"timestamp":1516316119,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516318270,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1516318272,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 50739284b680acbc163260fe90fb87f7cf8031ff\n    \n    TRITON-51: bump cloudapi server ver to 9.0.0"},{"timestamp":1516318303,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516359435,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2:\n\n(9 comments)"},{"timestamp":1516359464,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 2:\n\nMy main concern is the need for OTHER checks in the tests."}],"currentPatchSet":{"number":"2","revision":"048db4faf509b1e22f804649a6acd4fc354f5c03","parents":["fcc5f22a8265a6f023c6ede2ee9e0f9691bbb1da"],"ref":"refs/changes/36/3236/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1516318270,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516318303,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/index.md","line":853,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"9.x"},{"file":"lib/datasets.js","line":439,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"While you\u0027re in this function, maybe assign \u0027req.params\u0027 to \u0027params\u0027 and replace all req.params with the new variable."},{"file":"lib/datasets.js","line":661,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Should this be added to other methods?\n\nWe probably should change how we pass versions to method setup at some point."},{"file":"test/common.js","line":1067,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Add a maxTries too?"},{"file":"test/common.js","line":1072,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Just me, but I\u0027d put an additional \\n after this."},{"file":"test/common.js","line":1117,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Getting confusing. I\u0027d lift that out into a separate variable."},{"file":"test/images-create.test.js","line":18,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"?"},{"file":"test/images-create.test.js","line":26,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"We need OTHER here too, and the create and delete tests below should have associated attempts with OTHER to do the same (and fail)."},{"file":"test/images.test.js","line":92,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I wonder if we should create an images.90.test.js too? That whole idea only somewhat worked out, but it does help ensure version stability."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":67,"deletions":-56},{"file":"lib/app.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/common.js","type":"ADDED","insertions":64,"deletions":0},{"file":"lib/datasets.js","type":"MODIFIED","insertions":45,"deletions":-29},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":76,"deletions":-2},{"file":"test/images-create.test.js","type":"ADDED","insertions":241,"deletions":0},{"file":"test/images.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/jsl.node.conf","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":502,"sizeDeletions":-95},"patchSets":[{"number":"1","revision":"2c21ecab1671f3f362cdc64c7e4be44da94c4a45","parents":["fcc5f22a8265a6f023c6ede2ee9e0f9691bbb1da"],"ref":"refs/changes/36/3236/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1516316087,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516316119,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":67,"deletions":-56},{"file":"lib/app.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/common.js","type":"ADDED","insertions":64,"deletions":0},{"file":"lib/datasets.js","type":"MODIFIED","insertions":45,"deletions":-29},{"file":"test/common.js","type":"MODIFIED","insertions":76,"deletions":-2},{"file":"test/images-create.test.js","type":"ADDED","insertions":241,"deletions":0},{"file":"test/images.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/jsl.node.conf","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":501,"sizeDeletions":-94},{"number":"2","revision":"048db4faf509b1e22f804649a6acd4fc354f5c03","parents":["fcc5f22a8265a6f023c6ede2ee9e0f9691bbb1da"],"ref":"refs/changes/36/3236/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1516318270,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516318303,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/index.md","line":853,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"9.x"},{"file":"lib/datasets.js","line":439,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"While you\u0027re in this function, maybe assign \u0027req.params\u0027 to \u0027params\u0027 and replace all req.params with the new variable."},{"file":"lib/datasets.js","line":661,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Should this be added to other methods?\n\nWe probably should change how we pass versions to method setup at some point."},{"file":"test/common.js","line":1067,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Add a maxTries too?"},{"file":"test/common.js","line":1072,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Just me, but I\u0027d put an additional \\n after this."},{"file":"test/common.js","line":1117,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Getting confusing. I\u0027d lift that out into a separate variable."},{"file":"test/images-create.test.js","line":18,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"?"},{"file":"test/images-create.test.js","line":26,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"We need OTHER here too, and the create and delete tests below should have associated attempts with OTHER to do the same (and fail)."},{"file":"test/images.test.js","line":92,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"I wonder if we should create an images.90.test.js too? That whole idea only somewhat worked out, but it does help ensure version stability."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"docs/index.md","type":"MODIFIED","insertions":67,"deletions":-56},{"file":"lib/app.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/common.js","type":"ADDED","insertions":64,"deletions":0},{"file":"lib/datasets.js","type":"MODIFIED","insertions":45,"deletions":-29},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":76,"deletions":-2},{"file":"test/images-create.test.js","type":"ADDED","insertions":241,"deletions":0},{"file":"test/images.test.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"tools/jsl.node.conf","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":502,"sizeDeletions":-95}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}]}