{"project":"joyent/sdcadm","branch":"master","id":"Ie26579809a9619f3e67b2f9e9c3a9fbb33078187","number":"3959","subject":"TOOLS-1717 sdcadm should not load SDC Application from SAPI when not required","owner":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"url":"https://cr.joyent.us/3959","commitMessage":"TOOLS-1717 sdcadm should not load SDC Application from SAPI when not required\n","createdOn":1526485774,"lastUpdated":1526485913,"open":false,"status":"ABANDONED","comments":[{"timestamp":1526485774,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Uploaded patch set 1."},{"timestamp":1526485779,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit a93ba869225f764492849d8ce067564c9d5dcc2e\n    \n    TOOLS-1717 sdcadm should not load SDC Application from SAPI when not required\n    \n    commit 116b1e545c2af44ecac21155a5101f03fdd73fdb\n    \n    TRITON-348 sdcadm should use eslint\n    Reviewed by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e\n    Approved by: Marsell Kukuljevic \u003cmarsell@joyent.com\u003e"},{"timestamp":1526485807,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1526485913,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Abandoned\n\nJust a test. Forgot to rebase master before calling \"grr\""}],"currentPatchSet":{"number":"1","revision":"e26579809a9619f3e67b2f9e9c3a9fbb33078187","parents":["f2bf9bb71062b09fcbf05034c1ef768358696cbc"],"ref":"refs/changes/59/3959/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1526485774,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526485807,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".eslintrc","type":"ADDED","insertions":45,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/channel.js","type":"MODIFIED","insertions":130,"deletions":-96},{"file":"lib/cli/do_add_new_agent_svcs.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"lib/cli/do_check_config.js","type":"MODIFIED","insertions":335,"deletions":-3},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":26,"deletions":-17},{"file":"lib/cli/do_completion.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_history.js","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"lib/cli/do_install_docker_cert.js","type":"MODIFIED","insertions":15,"deletions":-9},{"file":"lib/cli/do_instances.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/cli/do_nfs_volumes.js","type":"MODIFIED","insertions":16,"deletions":-16},{"file":"lib/cli/do_rollback.js","type":"MODIFIED","insertions":24,"deletions":-13},{"file":"lib/cli/do_self_update.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"lib/cli/do_services.js","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"lib/cli/do_update.js","type":"MODIFIED","insertions":32,"deletions":-17},{"file":"lib/cli/do_update_agents.js","type":"MODIFIED","insertions":53,"deletions":-35},{"file":"lib/cli/do_update_docker.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":856,"deletions":-13},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":112,"deletions":-78},{"file":"lib/cli/experimental.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":23,"deletions":-18},{"file":"lib/common.js","type":"MODIFIED","insertions":66,"deletions":-45},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":21,"deletions":-19},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":25,"deletions":-13},{"file":"lib/history.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/locker.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/logging.js","type":"MODIFIED","insertions":11,"deletions":-7},{"file":"lib/platform.js","type":"MODIFIED","insertions":314,"deletions":-224},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":27,"deletions":-19},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":29,"deletions":-19},{"file":"lib/post-setup/common-external-nics.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"lib/post-setup/dev-headnode-prov.js","type":"MODIFIED","insertions":20,"deletions":-15},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-16},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":50,"deletions":-27},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":184,"deletions":-116},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":106,"deletions":-91},{"file":"lib/post-setup/index.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":40,"deletions":-30},{"file":"lib/post-setup/volapi.js","type":"MODIFIED","insertions":43,"deletions":-26},{"file":"lib/procedures/download-images.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/procedures/procedure.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/procedures/shared.js","type":"MODIFIED","insertions":99,"deletions":-61},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":30,"deletions":-22},{"file":"lib/procedures/update-manatee-v2.js","type":"MODIFIED","insertions":171,"deletions":-157},{"file":"lib/procedures/update-single-headnode-imgapi.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":469,"deletions":-1386},{"file":"lib/steps/binder.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":19,"deletions":-13},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/steps/servers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/steps/update_vm_size.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/ur.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"test/check-health.test.js","type":"MODIFIED","insertions":9,"deletions":-7},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"test/experimental.test.js","type":"MODIFIED","insertions":0,"deletions":-18},{"file":"test/platform.test.js","type":"MODIFIED","insertions":7,"deletions":0},{"file":"test/self-update.test.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/services.test.js","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"tools/mk/Makefile.deps","type":"MODIFIED","insertions":35,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":32,"deletions":-4}],"sizeInsertions":3673,"sizeDeletions":-2767},"patchSets":[{"number":"1","revision":"e26579809a9619f3e67b2f9e9c3a9fbb33078187","parents":["f2bf9bb71062b09fcbf05034c1ef768358696cbc"],"ref":"refs/changes/59/3959/1","uploader":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"createdOn":1526485774,"author":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1526485807,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".eslintrc","type":"ADDED","insertions":45,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/channel.js","type":"MODIFIED","insertions":130,"deletions":-96},{"file":"lib/cli/do_add_new_agent_svcs.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/cli/do_avail.js","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"lib/cli/do_check_config.js","type":"MODIFIED","insertions":335,"deletions":-3},{"file":"lib/cli/do_check_health.js","type":"MODIFIED","insertions":26,"deletions":-17},{"file":"lib/cli/do_completion.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/cli/do_history.js","type":"MODIFIED","insertions":22,"deletions":-14},{"file":"lib/cli/do_install_docker_cert.js","type":"MODIFIED","insertions":15,"deletions":-9},{"file":"lib/cli/do_instances.js","type":"MODIFIED","insertions":7,"deletions":-4},{"file":"lib/cli/do_nfs_volumes.js","type":"MODIFIED","insertions":16,"deletions":-16},{"file":"lib/cli/do_rollback.js","type":"MODIFIED","insertions":24,"deletions":-13},{"file":"lib/cli/do_self_update.js","type":"MODIFIED","insertions":22,"deletions":-12},{"file":"lib/cli/do_services.js","type":"MODIFIED","insertions":10,"deletions":-5},{"file":"lib/cli/do_update.js","type":"MODIFIED","insertions":32,"deletions":-17},{"file":"lib/cli/do_update_agents.js","type":"MODIFIED","insertions":53,"deletions":-35},{"file":"lib/cli/do_update_docker.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/cli/do_update_gz_tools.js","type":"MODIFIED","insertions":856,"deletions":-13},{"file":"lib/cli/do_update_other.js","type":"MODIFIED","insertions":112,"deletions":-78},{"file":"lib/cli/experimental.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/cli/index.js","type":"MODIFIED","insertions":23,"deletions":-18},{"file":"lib/common.js","type":"MODIFIED","insertions":66,"deletions":-45},{"file":"lib/dc-maint.js","type":"MODIFIED","insertions":21,"deletions":-19},{"file":"lib/default-fabric.js","type":"MODIFIED","insertions":25,"deletions":-13},{"file":"lib/history.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/locker.js","type":"MODIFIED","insertions":3,"deletions":-1},{"file":"lib/logging.js","type":"MODIFIED","insertions":11,"deletions":-7},{"file":"lib/platform.js","type":"MODIFIED","insertions":314,"deletions":-224},{"file":"lib/post-setup/cmon.js","type":"MODIFIED","insertions":27,"deletions":-19},{"file":"lib/post-setup/cns.js","type":"MODIFIED","insertions":29,"deletions":-19},{"file":"lib/post-setup/common-external-nics.js","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"lib/post-setup/dev-headnode-prov.js","type":"MODIFIED","insertions":20,"deletions":-15},{"file":"lib/post-setup/dev-sample-data.js","type":"MODIFIED","insertions":25,"deletions":-16},{"file":"lib/post-setup/docker.js","type":"MODIFIED","insertions":50,"deletions":-27},{"file":"lib/post-setup/fabrics.js","type":"MODIFIED","insertions":184,"deletions":-116},{"file":"lib/post-setup/ha-binder.js","type":"MODIFIED","insertions":6,"deletions":-8},{"file":"lib/post-setup/ha-manatee.js","type":"MODIFIED","insertions":106,"deletions":-91},{"file":"lib/post-setup/index.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/post-setup/underlay-nics.js","type":"MODIFIED","insertions":40,"deletions":-30},{"file":"lib/post-setup/volapi.js","type":"MODIFIED","insertions":43,"deletions":-26},{"file":"lib/procedures/download-images.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/procedures/index.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/procedures/procedure.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/procedures/shared.js","type":"MODIFIED","insertions":99,"deletions":-61},{"file":"lib/procedures/update-agent-v1.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/procedures/update-dockerlogger.js","type":"MODIFIED","insertions":30,"deletions":-22},{"file":"lib/procedures/update-manatee-v2.js","type":"MODIFIED","insertions":171,"deletions":-157},{"file":"lib/procedures/update-single-headnode-imgapi.js","type":"MODIFIED","insertions":9,"deletions":-5},{"file":"lib/sdcadm.js","type":"MODIFIED","insertions":469,"deletions":-1386},{"file":"lib/steps/binder.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/steps/no-rabbit.js","type":"MODIFIED","insertions":19,"deletions":-13},{"file":"lib/steps/sapi.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/steps/servers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/steps/update_vm_size.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/ur.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":4,"deletions":-2},{"file":"test/check-health.test.js","type":"MODIFIED","insertions":9,"deletions":-7},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-7},{"file":"test/experimental.test.js","type":"MODIFIED","insertions":0,"deletions":-18},{"file":"test/platform.test.js","type":"MODIFIED","insertions":7,"deletions":0},{"file":"test/self-update.test.js","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/services.test.js","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"tools/mk/Makefile.deps","type":"MODIFIED","insertions":35,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":32,"deletions":-4}],"sizeInsertions":3673,"sizeDeletions":-2767}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}]}