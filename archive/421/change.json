{"project":"joyent/illumos-joyent","branch":"master","topic":"OS-5652","id":"I3ed5f8fa46c31511f406b5041125016ad18441bb","number":"421","subject":"OS-5650 illumos tools should work with python 2.7 Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e Approved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/421","commitMessage":"OS-5650 illumos tools should work with python 2.7\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Patrick Mooney \u003cpatrick.mooney@joyent.com\u003e\nApproved by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\n","createdOn":1473195978,"lastUpdated":1478799801,"open":false,"status":"MERGED","comments":[{"timestamp":1473195978,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1473196010,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Topic set to OS-5652"},{"timestamp":1473202940,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1473203106,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1:\n\nRe: my previous comment, maybe this is for usr/src/cmd/pyzfs/Makefile? If so, does that mean we need both versions of python?"},{"timestamp":1473205935,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\nSo what\u0027s happening here is that we\u0027re updating the tools build. We basically are upgrading the tools to py27. The built-in stuff will need an updated adjuncts tgz that has python27 if we want to update things like pyzfs and mdb. Since we don\u0027t ship those bits, I was going to leave that until upstream updates."},{"timestamp":1473252853,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1473271694,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1475333959,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1475528236,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1475529579,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2:\n\n(1 comment)\n\nI\u0027m unclear why we\u0027re changing Makefile.master to use 2.7 but the mdb dmod to still use 2.6. Can you update the bug report with an evaluation explaining the rationale for this?"},{"timestamp":1475534648,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\nI\u0027ve tried to provide additional information in the ticket about this, let me know if it\u0027s clear."},{"timestamp":1475583072,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1476485706,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1477592684,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1477592873,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4."},{"timestamp":1477593131,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1477593657,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 4:\n\nNothing to add besides Patrick\u0027s comment"},{"timestamp":1477620629,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 5."},{"timestamp":1477655998,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1478025222,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1478799712,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 6: Patch Set 5 was rebased."},{"timestamp":1478799747,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1478799801,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"7","revision":"3ed5f8fa46c31511f406b5041125016ad18441bb","parents":["a8a37d110b7ac0712628eabad3ca3242e4e510fc"],"ref":"refs/changes/21/421/7","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478799747,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477655998,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"SUBM","value":"1","grantedOn":1478799801,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-10},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":7,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-11},"patchSets":[{"number":"1","revision":"0bcbf6f0a3da55ce395871eb810f0a86c0d965aa","parents":["3f1a20db91c7a9488bb7a54bb63ce2094ea3d6c6"],"ref":"refs/changes/21/421/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1473195978,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473252853,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1473271694,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"comments":[{"file":"usr/src/Makefile.master","line":179,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"This all looks good to me but I don\u0027t understand how or where this PYTHON_26 definition is still being used. You could just clarify that for me in a CR comment."},{"file":"usr/src/Makefile.master","line":179,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"usr/src/test/test-runner/cmd/run.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/Makefile","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"usr/src/tools/Makefile.python","type":"MODIFIED","insertions":10,"deletions":-10},{"file":"usr/src/tools/scripts/cddlchk.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/copyrightchk.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/git-pbchk.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/hdrchk.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/hg-active.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/mapfilechk.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/onu.sh","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/validate_pkg.py","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/tools/scripts/wsdiff.py","type":"MODIFIED","insertions":1,"deletions":-1}],"sizeInsertions":28,"sizeDeletions":-27},{"number":"2","revision":"6eb1609d69d92ba368aef752f142e7b0e6971e14","parents":["855466e64239d10643963d520d889d72287f2359"],"ref":"refs/changes/21/421/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1475333959,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475583072,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1476485706,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475528236,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-10},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":5,"deletions":0}],"sizeInsertions":8,"sizeDeletions":-10},{"number":"3","revision":"1a30d3f66a31e61f9a5cb83910db7516b217994f","parents":["855466e64239d10643963d520d889d72287f2359"],"ref":"refs/changes/21/421/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1477592684,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475583072,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1476485706,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475528236,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-10},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":5,"deletions":0}],"sizeInsertions":8,"sizeDeletions":-10},{"number":"4","revision":"4fae9c72bf38346edda27f5eb13551f5b667d1b8","parents":["3e7ff01318c5772a785a8dae3209dd0c2e2089ab"],"ref":"refs/changes/21/421/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1477592873,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/mdb/Makefile.module","line":105,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"This should remain \u0027who\u0027"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-10},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":6,"deletions":0}],"sizeInsertions":9,"sizeDeletions":-10},{"number":"5","revision":"6e02eec8095a4f08c9e0b1fb2296b08263f092d9","parents":["3e7ff01318c5772a785a8dae3209dd0c2e2089ab"],"ref":"refs/changes/21/421/5","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1477620629,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477655998,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-10},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":7,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-11},{"number":"6","revision":"e4242778552e1e51ab08a99b265da8b654cb055c","parents":["086d5d027adbdf03ebdffc6d4b56578ad97ac1d4"],"ref":"refs/changes/21/421/6","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478799712,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477655998,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-10},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":7,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-11},{"number":"7","revision":"3ed5f8fa46c31511f406b5041125016ad18441bb","parents":["a8a37d110b7ac0712628eabad3ca3242e4e510fc"],"ref":"refs/changes/21/421/7","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1478799747,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"SUBM","value":"1","grantedOn":1478799801,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477655998,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1478025222,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/Makefile.master","type":"MODIFIED","insertions":3,"deletions":-10},{"file":"usr/src/cmd/mdb/Makefile.module","type":"MODIFIED","insertions":7,"deletions":-1}],"sizeInsertions":10,"sizeDeletions":-11}],"allReviewers":[{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}