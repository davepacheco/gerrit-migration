{"project":"joyent/sdc-imgapi","branch":"master","id":"I17d4b84b86071b4737509dfdfc7e893bc3abdaf5","number":"513","subject":"IMGAPI-571 re-do images.jo/updates.jo deployment to be able use stock \u0027imgapi\u0027 images IMGAPI-567 Update stud for OpenSSL 1.0.1t/1.0.2h vulnerability fixes IMGAPI-586 authkeys refactor for IMGAPI signature auth IMGAPI-142 images.joyent.com node server is l","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/513","commitMessage":"IMGAPI-571 re-do images.jo/updates.jo deployment to be able use stock \u0027imgapi\u0027 images\nIMGAPI-567 Update stud for OpenSSL 1.0.1t/1.0.2h vulnerability fixes\nIMGAPI-586 authkeys refactor for IMGAPI signature auth\nIMGAPI-142 images.joyent.com node server is listening publicly\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\n","createdOn":1474477992,"lastUpdated":1474655369,"open":false,"status":"MERGED","comments":[{"timestamp":1474477992,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1474478034,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1474478801,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1474478804,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 894bdfeec4eb900b3bd2d22b0cfbf45953fb2fdb\n    \n    add haproxy sources back"},{"timestamp":1474478847,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1474484421,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1474484422,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit dcc527d37e2a065fdb657a92475a762510185eab\n    \n    bump to 3.0.0, changelog, correct a few doc mistakes"},{"timestamp":1474484465,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1474484465,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1474490912,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 5."},{"timestamp":1474490913,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 433231ad347811004f4791929a64e1a392088988\n    \n    fix getting config for the migration scripts: need to use config.js to get computed values, e.g. manta.rootDir"},{"timestamp":1474490944,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing-1\n\n(5 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1474490970,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\nFWIW the commit msg will be this when I push it:\n\nIMGAPI-571 re-do images.jo/updates.jo deployment to be able use stock \u0027imgapi\u0027 images\nIMGAPI-567 Update stud for OpenSSL 1.0.1t/1.0.2h vulnerability fixes\nIMGAPI-586 authkeys refactor for IMGAPI signature auth"},{"timestamp":1474493428,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 6."},{"timestamp":1474493428,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 00d8afc0d13d5d3530fdb30972018bd51c63f8bf\n    \n    fix \u0027make check\u0027"},{"timestamp":1474493482,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1474571804,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 4:\n\n(10 comments)"},{"timestamp":1474572086,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 6: Code-Review+1\n\n(1 comment)"},{"timestamp":1474587725,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4:\n\n(4 comments)"},{"timestamp":1474587764,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 7."},{"timestamp":1474587765,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit 56d9c4100185da55f81ae507762568e72a911ed5\n    \n    updates from josh\u0027s review"},{"timestamp":1474587804,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1474587990,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 7: Code-Review+1"},{"timestamp":1474655193,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 7: Integration-Approval+1"},{"timestamp":1474655302,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 8: Commit message was updated."},{"timestamp":1474655369,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"8","revision":"1d3500c1036493469dc8b586fac02a5c041d2f6d","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/8","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474655302,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474587804,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474587990,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474655193,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1474655369,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":50,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":444,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":15,"deletions":-3},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":300,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":45,"deletions":-66},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":28,"deletions":-41},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":4082,"sizeDeletions":-4182},"patchSets":[{"number":"1","revision":"626b109b0632aa8d6f7e3c9a7385b71773af9067","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474477992,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474478034,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":445,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"deps/haproxy-1.4.21/.gitignore","type":"DELETED","insertions":0,"deletions":-15},{"file":"deps/haproxy-1.4.21/CHANGELOG","type":"DELETED","insertions":0,"deletions":-2130},{"file":"deps/haproxy-1.4.21/LICENSE","type":"DELETED","insertions":0,"deletions":-32},{"file":"deps/haproxy-1.4.21/Makefile","type":"DELETED","insertions":0,"deletions":-583},{"file":"deps/haproxy-1.4.21/Makefile.bsd","type":"DELETED","insertions":0,"deletions":-150},{"file":"deps/haproxy-1.4.21/Makefile.osx","type":"DELETED","insertions":0,"deletions":-147},{"file":"deps/haproxy-1.4.21/README","type":"DELETED","insertions":0,"deletions":-425},{"file":"deps/haproxy-1.4.21/ROADMAP","type":"DELETED","insertions":0,"deletions":-112},{"file":"deps/haproxy-1.4.21/SUBVERS","type":"DELETED","insertions":0,"deletions":-1},{"file":"deps/haproxy-1.4.21/TODO","type":"DELETED","insertions":0,"deletions":-181},{"file":"deps/haproxy-1.4.21/VERDATE","type":"DELETED","insertions":0,"deletions":-1},{"file":"deps/haproxy-1.4.21/VERSION","type":"DELETED","insertions":0,"deletions":-1},{"file":"deps/haproxy-1.4.21/contrib/base64/base64rev-gen.c","type":"DELETED","insertions":0,"deletions":-70},{"file":"deps/haproxy-1.4.21/contrib/halog/Makefile","type":"DELETED","insertions":0,"deletions":-16},{"file":"deps/haproxy-1.4.21/contrib/halog/fgets2-64.c","type":"DELETED","insertions":0,"deletions":-175},{"file":"deps/haproxy-1.4.21/contrib/halog/fgets2.c","type":"DELETED","insertions":0,"deletions":-154},{"file":"deps/haproxy-1.4.21/contrib/halog/halog.c","type":"DELETED","insertions":0,"deletions":-1417},{"file":"deps/haproxy-1.4.21/contrib/netsnmp-perl/README","type":"DELETED","insertions":0,"deletions":-111},{"file":"deps/haproxy-1.4.21/contrib/netsnmp-perl/cacti_data_query_haproxy_backends.xml","type":"DELETED","insertions":0,"deletions":-750},{"file":"deps/haproxy-1.4.21/contrib/netsnmp-perl/cacti_data_query_haproxy_frontends.xml","type":"DELETED","insertions":0,"deletions":-750},{"file":"deps/haproxy-1.4.21/contrib/netsnmp-perl/haproxy.pl","type":"DELETED","insertions":0,"deletions":-249},{"file":"deps/haproxy-1.4.21/contrib/netsnmp-perl/haproxy_backend.xml","type":"DELETED","insertions":0,"deletions":-83},{"file":"deps/haproxy-1.4.21/contrib/netsnmp-perl/haproxy_frontend.xml","type":"DELETED","insertions":0,"deletions":-83},{"file":"deps/haproxy-1.4.21/contrib/netsnmp-perl/haproxy_socket.xml","type":"DELETED","insertions":0,"deletions":-90},{"file":"deps/haproxy-1.4.21/contrib/selinux/README","type":"DELETED","insertions":0,"deletions":-18},{"file":"deps/haproxy-1.4.21/contrib/selinux/haproxy.fc","type":"DELETED","insertions":0,"deletions":-6},{"file":"deps/haproxy-1.4.21/contrib/selinux/haproxy.if","type":"DELETED","insertions":0,"deletions":-2},{"file":"deps/haproxy-1.4.21/contrib/selinux/haproxy.te","type":"DELETED","insertions":0,"deletions":-66},{"file":"deps/haproxy-1.4.21/doc/acl.fig","type":"DELETED","insertions":0,"deletions":-229},{"file":"deps/haproxy-1.4.21/doc/architecture.txt","type":"DELETED","insertions":0,"deletions":-1448},{"file":"deps/haproxy-1.4.21/doc/configuration.txt","type":"DELETED","insertions":0,"deletions":-8604},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/backends-v0.txt","type":"DELETED","insertions":0,"deletions":-27},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/backends.txt","type":"DELETED","insertions":0,"deletions":-125},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/be-fe-changes.txt","type":"DELETED","insertions":0,"deletions":-74},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/buffers.fig","type":"DELETED","insertions":0,"deletions":-1052},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/config-language.txt","type":"DELETED","insertions":0,"deletions":-262},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/cttproxy-changes.txt","type":"DELETED","insertions":0,"deletions":-101},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/how-it-works.txt","type":"DELETED","insertions":0,"deletions":-60},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/http_load_time.url","type":"DELETED","insertions":0,"deletions":-5},{"file":"deps/haproxy-1.4.21/doc/design-thoughts/sess_par_sec.txt","type":"DELETED","insertions":0,"deletions":-13},{"file":"deps/haproxy-1.4.21/doc/gpl.txt","type":"DELETED","insertions":0,"deletions":-340},{"file":"deps/haproxy-1.4.21/doc/haproxy-en.txt","type":"DELETED","insertions":0,"deletions":-2828},{"file":"deps/haproxy-1.4.21/doc/haproxy-fr.txt","type":"DELETED","insertions":0,"deletions":-2891},{"file":"deps/haproxy-1.4.21/doc/haproxy.1","type":"DELETED","insertions":0,"deletions":-174},{"file":"deps/haproxy-1.4.21/doc/internals/connect-status.txt","type":"DELETED","insertions":0,"deletions":-28},{"file":"deps/haproxy-1.4.21/doc/internals/connection-header.txt","type":"DELETED","insertions":0,"deletions":-196},{"file":"deps/haproxy-1.4.21/doc/internals/connection-scale.txt","type":"DELETED","insertions":0,"deletions":-44},{"file":"deps/haproxy-1.4.21/doc/internals/header-parser-speed.txt","type":"DELETED","insertions":0,"deletions":-92},{"file":"deps/haproxy-1.4.21/doc/internals/header-tree.txt","type":"DELETED","insertions":0,"deletions":-124},{"file":"deps/haproxy-1.4.21/doc/internals/http-cookies.txt","type":"DELETED","insertions":0,"deletions":-45},{"file":"deps/haproxy-1.4.21/doc/internals/http-docs.txt","type":"DELETED","insertions":0,"deletions":-5},{"file":"deps/haproxy-1.4.21/doc/internals/http-parsing.txt","type":"DELETED","insertions":0,"deletions":-239},{"file":"deps/haproxy-1.4.21/doc/internals/naming.txt","type":"DELETED","insertions":0,"deletions":-54},{"file":"deps/haproxy-1.4.21/doc/internals/repartition-be-fe-fi.txt","type":"DELETED","insertions":0,"deletions":-20},{"file":"deps/haproxy-1.4.21/doc/internals/stats-v2.txt","type":"DELETED","insertions":0,"deletions":-8},{"file":"deps/haproxy-1.4.21/doc/internals/stream-sock-states.fig","type":"DELETED","insertions":0,"deletions":-430},{"file":"deps/haproxy-1.4.21/doc/internals/todo.cttproxy","type":"DELETED","insertions":0,"deletions":-5},{"file":"deps/haproxy-1.4.21/doc/lgpl.txt","type":"DELETED","insertions":0,"deletions":-504},{"file":"deps/haproxy-1.4.21/doc/queuing.fig","type":"DELETED","insertions":0,"deletions":-192},{"file":"deps/haproxy-1.4.21/ebtree/compiler.h","type":"DELETED","insertions":0,"deletions":-23},{"file":"deps/haproxy-1.4.21/ebtree/eb32tree.c","type":"DELETED","insertions":0,"deletions":-218},{"file":"deps/haproxy-1.4.21/ebtree/eb32tree.h","type":"DELETED","insertions":0,"deletions":-487},{"file":"deps/haproxy-1.4.21/ebtree/eb64tree.c","type":"DELETED","insertions":0,"deletions":-218},{"file":"deps/haproxy-1.4.21/ebtree/eb64tree.h","type":"DELETED","insertions":0,"deletions":-572},{"file":"deps/haproxy-1.4.21/ebtree/ebimtree.c","type":"DELETED","insertions":0,"deletions":-44},{"file":"deps/haproxy-1.4.21/ebtree/ebimtree.h","type":"DELETED","insertions":0,"deletions":-305},{"file":"deps/haproxy-1.4.21/ebtree/ebistree.c","type":"DELETED","insertions":0,"deletions":-58},{"file":"deps/haproxy-1.4.21/ebtree/ebistree.h","type":"DELETED","insertions":0,"deletions":-309},{"file":"deps/haproxy-1.4.21/ebtree/ebmbtree.c","type":"DELETED","insertions":0,"deletions":-77},{"file":"deps/haproxy-1.4.21/ebtree/ebmbtree.h","type":"DELETED","insertions":0,"deletions":-789},{"file":"deps/haproxy-1.4.21/ebtree/ebpttree.c","type":"DELETED","insertions":0,"deletions":-208},{"file":"deps/haproxy-1.4.21/ebtree/ebpttree.h","type":"DELETED","insertions":0,"deletions":-165},{"file":"deps/haproxy-1.4.21/ebtree/ebsttree.c","type":"DELETED","insertions":0,"deletions":-57},{"file":"deps/haproxy-1.4.21/ebtree/ebsttree.h","type":"DELETED","insertions":0,"deletions":-309},{"file":"deps/haproxy-1.4.21/ebtree/ebtree.c","type":"DELETED","insertions":0,"deletions":-32},{"file":"deps/haproxy-1.4.21/ebtree/ebtree.h","type":"DELETED","insertions":0,"deletions":-866},{"file":"deps/haproxy-1.4.21/examples/acl-content-sw.cfg","type":"DELETED","insertions":0,"deletions":-130},{"file":"deps/haproxy-1.4.21/examples/auth.cfg","type":"DELETED","insertions":0,"deletions":-134},{"file":"deps/haproxy-1.4.21/examples/build.cfg","type":"DELETED","insertions":0,"deletions":-25},{"file":"deps/haproxy-1.4.21/examples/check","type":"DELETED","insertions":0,"deletions":-540},{"file":"deps/haproxy-1.4.21/examples/check.conf","type":"DELETED","insertions":0,"deletions":-93},{"file":"deps/haproxy-1.4.21/examples/config.rc.haproxy","type":"DELETED","insertions":0,"deletions":-6},{"file":"deps/haproxy-1.4.21/examples/content-sw-sample.cfg","type":"DELETED","insertions":0,"deletions":-75},{"file":"deps/haproxy-1.4.21/examples/cttproxy-src.cfg","type":"DELETED","insertions":0,"deletions":-63},{"file":"deps/haproxy-1.4.21/examples/debug2ansi","type":"DELETED","insertions":0,"deletions":-2},{"file":"deps/haproxy-1.4.21/examples/debug2html","type":"DELETED","insertions":0,"deletions":-2},{"file":"deps/haproxy-1.4.21/examples/debugfind","type":"DELETED","insertions":0,"deletions":-8},{"file":"deps/haproxy-1.4.21/examples/errorfiles/400.http","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/errorfiles/403.http","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/errorfiles/408.http","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/errorfiles/500.http","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/errorfiles/502.http","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/errorfiles/503.http","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/errorfiles/504.http","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/errorfiles/README","type":"DELETED","insertions":0,"deletions":-9},{"file":"deps/haproxy-1.4.21/examples/examples.cfg","type":"DELETED","insertions":0,"deletions":-154},{"file":"deps/haproxy-1.4.21/examples/haproxy.cfg","type":"DELETED","insertions":0,"deletions":-80},{"file":"deps/haproxy-1.4.21/examples/haproxy.init","type":"DELETED","insertions":0,"deletions":-123},{"file":"deps/haproxy-1.4.21/examples/haproxy.spec","type":"DELETED","insertions":0,"deletions":-291},{"file":"deps/haproxy-1.4.21/examples/haproxy.vim","type":"DELETED","insertions":0,"deletions":-164},{"file":"deps/haproxy-1.4.21/examples/init.haproxy","type":"DELETED","insertions":0,"deletions":-55},{"file":"deps/haproxy-1.4.21/examples/init.haproxy.flx0","type":"DELETED","insertions":0,"deletions":-29},{"file":"deps/haproxy-1.4.21/examples/linux-2.4.21-40.EL-custom.diff","type":"DELETED","insertions":0,"deletions":-138},{"file":"deps/haproxy-1.4.21/examples/option-http_proxy.cfg","type":"DELETED","insertions":0,"deletions":-53},{"file":"deps/haproxy-1.4.21/examples/rc.highsock","type":"DELETED","insertions":0,"deletions":-38},{"file":"deps/haproxy-1.4.21/examples/stats_haproxy.sh","type":"DELETED","insertions":0,"deletions":-78},{"file":"deps/haproxy-1.4.21/examples/tarpit.cfg","type":"DELETED","insertions":0,"deletions":-72},{"file":"deps/haproxy-1.4.21/examples/test-section-kw.cfg","type":"DELETED","insertions":0,"deletions":-26},{"file":"deps/haproxy-1.4.21/examples/url-switching.cfg","type":"DELETED","insertions":0,"deletions":-120},{"file":"deps/haproxy-1.4.21/haproxy-1.4.x-sendproxy.patch","type":"DELETED","insertions":0,"deletions":-441},{"file":"deps/haproxy-1.4.21/include/common/appsession.h","type":"DELETED","insertions":0,"deletions":-53},{"file":"deps/haproxy-1.4.21/include/common/base64.h","type":"DELETED","insertions":0,"deletions":-26},{"file":"deps/haproxy-1.4.21/include/common/cfgparse.h","type":"DELETED","insertions":0,"deletions":-78},{"file":"deps/haproxy-1.4.21/include/common/compat.h","type":"DELETED","insertions":0,"deletions":-105},{"file":"deps/haproxy-1.4.21/include/common/compiler.h","type":"DELETED","insertions":0,"deletions":-107},{"file":"deps/haproxy-1.4.21/include/common/config.h","type":"DELETED","insertions":0,"deletions":-72},{"file":"deps/haproxy-1.4.21/include/common/debug.h","type":"DELETED","insertions":0,"deletions":-58},{"file":"deps/haproxy-1.4.21/include/common/defaults.h","type":"DELETED","insertions":0,"deletions":-197},{"file":"deps/haproxy-1.4.21/include/common/epoll.h","type":"DELETED","insertions":0,"deletions":-106},{"file":"deps/haproxy-1.4.21/include/common/errors.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"deps/haproxy-1.4.21/include/common/memory.h","type":"DELETED","insertions":0,"deletions":-209},{"file":"deps/haproxy-1.4.21/include/common/mini-clist.h","type":"DELETED","insertions":0,"deletions":-202},{"file":"deps/haproxy-1.4.21/include/common/rbtree.h","type":"DELETED","insertions":0,"deletions":-150},{"file":"deps/haproxy-1.4.21/include/common/regex.h","type":"DELETED","insertions":0,"deletions":-65},{"file":"deps/haproxy-1.4.21/include/common/sessionhash.h","type":"DELETED","insertions":0,"deletions":-62},{"file":"deps/haproxy-1.4.21/include/common/standard.h","type":"DELETED","insertions":0,"deletions":-412},{"file":"deps/haproxy-1.4.21/include/common/template.h","type":"DELETED","insertions":0,"deletions":-34},{"file":"deps/haproxy-1.4.21/include/common/ticks.h","type":"DELETED","insertions":0,"deletions":-154},{"file":"deps/haproxy-1.4.21/include/common/time.h","type":"DELETED","insertions":0,"deletions":-526},{"file":"deps/haproxy-1.4.21/include/common/tools.h","type":"DELETED","insertions":0,"deletions":-50},{"file":"deps/haproxy-1.4.21/include/common/uri_auth.h","type":"DELETED","insertions":0,"deletions":-95},{"file":"deps/haproxy-1.4.21/include/common/version.h","type":"DELETED","insertions":0,"deletions":-70},{"file":"deps/haproxy-1.4.21/include/import/ip_tproxy.h","type":"DELETED","insertions":0,"deletions":-77},{"file":"deps/haproxy-1.4.21/include/proto/acl.h","type":"DELETED","insertions":0,"deletions":-217},{"file":"deps/haproxy-1.4.21/include/proto/auth.h","type":"DELETED","insertions":0,"deletions":-36},{"file":"deps/haproxy-1.4.21/include/proto/backend.h","type":"DELETED","insertions":0,"deletions":-68},{"file":"deps/haproxy-1.4.21/include/proto/buffers.h","type":"DELETED","insertions":0,"deletions":-532},{"file":"deps/haproxy-1.4.21/include/proto/checks.h","type":"DELETED","insertions":0,"deletions":-43},{"file":"deps/haproxy-1.4.21/include/proto/client.h","type":"DELETED","insertions":0,"deletions":-40},{"file":"deps/haproxy-1.4.21/include/proto/cttproxy.h","type":"DELETED","insertions":0,"deletions":-47},{"file":"deps/haproxy-1.4.21/include/proto/dumpstats.h","type":"DELETED","insertions":0,"deletions":-83},{"file":"deps/haproxy-1.4.21/include/proto/fd.h","type":"DELETED","insertions":0,"deletions":-98},{"file":"deps/haproxy-1.4.21/include/proto/freq_ctr.h","type":"DELETED","insertions":0,"deletions":-85},{"file":"deps/haproxy-1.4.21/include/proto/hdr_idx.h","type":"DELETED","insertions":0,"deletions":-94},{"file":"deps/haproxy-1.4.21/include/proto/httperr.h","type":"DELETED","insertions":0,"deletions":-42},{"file":"deps/haproxy-1.4.21/include/proto/lb_chash.h","type":"DELETED","insertions":0,"deletions":-40},{"file":"deps/haproxy-1.4.21/include/proto/lb_fwlc.h","type":"DELETED","insertions":0,"deletions":-39},{"file":"deps/haproxy-1.4.21/include/proto/lb_fwrr.h","type":"DELETED","insertions":0,"deletions":-39},{"file":"deps/haproxy-1.4.21/include/proto/lb_map.h","type":"DELETED","insertions":0,"deletions":-43},{"file":"deps/haproxy-1.4.21/include/proto/log.h","type":"DELETED","insertions":0,"deletions":-87},{"file":"deps/haproxy-1.4.21/include/proto/pattern.h","type":"DELETED","insertions":0,"deletions":-39},{"file":"deps/haproxy-1.4.21/include/proto/pipe.h","type":"DELETED","insertions":0,"deletions":-54},{"file":"deps/haproxy-1.4.21/include/proto/port_range.h","type":"DELETED","insertions":0,"deletions":-77},{"file":"deps/haproxy-1.4.21/include/proto/proto_http.h","type":"DELETED","insertions":0,"deletions":-117},{"file":"deps/haproxy-1.4.21/include/proto/proto_tcp.h","type":"DELETED","insertions":0,"deletions":-49},{"file":"deps/haproxy-1.4.21/include/proto/proto_uxst.h","type":"DELETED","insertions":0,"deletions":-40},{"file":"deps/haproxy-1.4.21/include/proto/protocols.h","type":"DELETED","insertions":0,"deletions":-108},{"file":"deps/haproxy-1.4.21/include/proto/proxy.h","type":"DELETED","insertions":0,"deletions":-108},{"file":"deps/haproxy-1.4.21/include/proto/queue.h","type":"DELETED","insertions":0,"deletions":-84},{"file":"deps/haproxy-1.4.21/include/proto/server.h","type":"DELETED","insertions":0,"deletions":-54},{"file":"deps/haproxy-1.4.21/include/proto/session.h","type":"DELETED","insertions":0,"deletions":-56},{"file":"deps/haproxy-1.4.21/include/proto/signal.h","type":"DELETED","insertions":0,"deletions":-29},{"file":"deps/haproxy-1.4.21/include/proto/stick_table.h","type":"DELETED","insertions":0,"deletions":-37},{"file":"deps/haproxy-1.4.21/include/proto/stream_interface.h","type":"DELETED","insertions":0,"deletions":-57},{"file":"deps/haproxy-1.4.21/include/proto/stream_sock.h","type":"DELETED","insertions":0,"deletions":-66},{"file":"deps/haproxy-1.4.21/include/proto/task.h","type":"DELETED","insertions":0,"deletions":-270},{"file":"deps/haproxy-1.4.21/include/proto/template.h","type":"DELETED","insertions":0,"deletions":-36},{"file":"deps/haproxy-1.4.21/include/types/acl.h","type":"DELETED","insertions":0,"deletions":-352},{"file":"deps/haproxy-1.4.21/include/types/auth.h","type":"DELETED","insertions":0,"deletions":-71},{"file":"deps/haproxy-1.4.21/include/types/backend.h","type":"DELETED","insertions":0,"deletions":-139},{"file":"deps/haproxy-1.4.21/include/types/buffers.h","type":"DELETED","insertions":0,"deletions":-274},{"file":"deps/haproxy-1.4.21/include/types/capture.h","type":"DELETED","insertions":0,"deletions":-46},{"file":"deps/haproxy-1.4.21/include/types/checks.h","type":"DELETED","insertions":0,"deletions":-94},{"file":"deps/haproxy-1.4.21/include/types/counters.h","type":"DELETED","insertions":0,"deletions":-99},{"file":"deps/haproxy-1.4.21/include/types/fd.h","type":"DELETED","insertions":0,"deletions":-146},{"file":"deps/haproxy-1.4.21/include/types/freq_ctr.h","type":"DELETED","insertions":0,"deletions":-40},{"file":"deps/haproxy-1.4.21/include/types/global.h","type":"DELETED","insertions":0,"deletions":-124},{"file":"deps/haproxy-1.4.21/include/types/hdr_idx.h","type":"DELETED","insertions":0,"deletions":-84},{"file":"deps/haproxy-1.4.21/include/types/httperr.h","type":"DELETED","insertions":0,"deletions":-50},{"file":"deps/haproxy-1.4.21/include/types/lb_chash.h","type":"DELETED","insertions":0,"deletions":-42},{"file":"deps/haproxy-1.4.21/include/types/lb_fwlc.h","type":"DELETED","insertions":0,"deletions":-40},{"file":"deps/haproxy-1.4.21/include/types/lb_fwrr.h","type":"DELETED","insertions":0,"deletions":-51},{"file":"deps/haproxy-1.4.21/include/types/lb_map.h","type":"DELETED","insertions":0,"deletions":-44},{"file":"deps/haproxy-1.4.21/include/types/log.h","type":"DELETED","insertions":0,"deletions":-65},{"file":"deps/haproxy-1.4.21/include/types/pattern.h","type":"DELETED","insertions":0,"deletions":-109},{"file":"deps/haproxy-1.4.21/include/types/pipe.h","type":"DELETED","insertions":0,"deletions":-45},{"file":"deps/haproxy-1.4.21/include/types/port_range.h","type":"DELETED","insertions":0,"deletions":-40},{"file":"deps/haproxy-1.4.21/include/types/proto_http.h","type":"DELETED","insertions":0,"deletions":-367},{"file":"deps/haproxy-1.4.21/include/types/proto_tcp.h","type":"DELETED","insertions":0,"deletions":-49},{"file":"deps/haproxy-1.4.21/include/types/protocols.h","type":"DELETED","insertions":0,"deletions":-151},{"file":"deps/haproxy-1.4.21/include/types/proxy.h","type":"DELETED","insertions":0,"deletions":-373},{"file":"deps/haproxy-1.4.21/include/types/queue.h","type":"DELETED","insertions":0,"deletions":-44},{"file":"deps/haproxy-1.4.21/include/types/server.h","type":"DELETED","insertions":0,"deletions":-173},{"file":"deps/haproxy-1.4.21/include/types/session.h","type":"DELETED","insertions":0,"deletions":-248},{"file":"deps/haproxy-1.4.21/include/types/signal.h","type":"DELETED","insertions":0,"deletions":-20},{"file":"deps/haproxy-1.4.21/include/types/stick_table.h","type":"DELETED","insertions":0,"deletions":-89},{"file":"deps/haproxy-1.4.21/include/types/stream_interface.h","type":"DELETED","insertions":0,"deletions":-116},{"file":"deps/haproxy-1.4.21/include/types/task.h","type":"DELETED","insertions":0,"deletions":-73},{"file":"deps/haproxy-1.4.21/include/types/template.h","type":"DELETED","insertions":0,"deletions":-34},{"file":"deps/haproxy-1.4.21/src/acl.c","type":"DELETED","insertions":0,"deletions":-1599},{"file":"deps/haproxy-1.4.21/src/appsession.c","type":"DELETED","insertions":0,"deletions":-178},{"file":"deps/haproxy-1.4.21/src/auth.c","type":"DELETED","insertions":0,"deletions":-259},{"file":"deps/haproxy-1.4.21/src/backend.c","type":"DELETED","insertions":0,"deletions":-1485},{"file":"deps/haproxy-1.4.21/src/base64.c","type":"DELETED","insertions":0,"deletions":-184},{"file":"deps/haproxy-1.4.21/src/buffers.c","type":"DELETED","insertions":0,"deletions":-555},{"file":"deps/haproxy-1.4.21/src/cfgparse.c","type":"DELETED","insertions":0,"deletions":-5916},{"file":"deps/haproxy-1.4.21/src/checks.c","type":"DELETED","insertions":0,"deletions":-1724},{"file":"deps/haproxy-1.4.21/src/client.c","type":"DELETED","insertions":0,"deletions":-882},{"file":"deps/haproxy-1.4.21/src/cttproxy.c","type":"DELETED","insertions":0,"deletions":-64},{"file":"deps/haproxy-1.4.21/src/dumpstats.c","type":"DELETED","insertions":0,"deletions":-3174},{"file":"deps/haproxy-1.4.21/src/ev_epoll.c","type":"DELETED","insertions":0,"deletions":-418},{"file":"deps/haproxy-1.4.21/src/ev_kqueue.c","type":"DELETED","insertions":0,"deletions":-285},{"file":"deps/haproxy-1.4.21/src/ev_poll.c","type":"DELETED","insertions":0,"deletions":-263},{"file":"deps/haproxy-1.4.21/src/ev_select.c","type":"DELETED","insertions":0,"deletions":-259},{"file":"deps/haproxy-1.4.21/src/ev_sepoll.c","type":"DELETED","insertions":0,"deletions":-667},{"file":"deps/haproxy-1.4.21/src/fd.c","type":"DELETED","insertions":0,"deletions":-182},{"file":"deps/haproxy-1.4.21/src/freq_ctr.c","type":"DELETED","insertions":0,"deletions":-119},{"file":"deps/haproxy-1.4.21/src/haproxy.c","type":"DELETED","insertions":0,"deletions":-1280},{"file":"deps/haproxy-1.4.21/src/hdr_idx.c","type":"DELETED","insertions":0,"deletions":-70},{"file":"deps/haproxy-1.4.21/src/lb_chash.c","type":"DELETED","insertions":0,"deletions":-427},{"file":"deps/haproxy-1.4.21/src/lb_fwlc.c","type":"DELETED","insertions":0,"deletions":-316},{"file":"deps/haproxy-1.4.21/src/lb_fwrr.c","type":"DELETED","insertions":0,"deletions":-576},{"file":"deps/haproxy-1.4.21/src/lb_map.c","type":"DELETED","insertions":0,"deletions":-276},{"file":"deps/haproxy-1.4.21/src/log.c","type":"DELETED","insertions":0,"deletions":-387},{"file":"deps/haproxy-1.4.21/src/memory.c","type":"DELETED","insertions":0,"deletions":-205},{"file":"deps/haproxy-1.4.21/src/pattern.c","type":"DELETED","insertions":0,"deletions":-597},{"file":"deps/haproxy-1.4.21/src/pipe.c","type":"DELETED","insertions":0,"deletions":-109},{"file":"deps/haproxy-1.4.21/src/proto_http.c","type":"DELETED","insertions":0,"deletions":-8426},{"file":"deps/haproxy-1.4.21/src/proto_tcp.c","type":"DELETED","insertions":0,"deletions":-1162},{"file":"deps/haproxy-1.4.21/src/proto_uxst.c","type":"DELETED","insertions":0,"deletions":-585},{"file":"deps/haproxy-1.4.21/src/protocols.c","type":"DELETED","insertions":0,"deletions":-210},{"file":"deps/haproxy-1.4.21/src/proxy.c","type":"DELETED","insertions":0,"deletions":-794},{"file":"deps/haproxy-1.4.21/src/queue.c","type":"DELETED","insertions":0,"deletions":-192},{"file":"deps/haproxy-1.4.21/src/rbtree.c","type":"DELETED","insertions":0,"deletions":-399},{"file":"deps/haproxy-1.4.21/src/regex.c","type":"DELETED","insertions":0,"deletions":-132},{"file":"deps/haproxy-1.4.21/src/server.c","type":"DELETED","insertions":0,"deletions":-44},{"file":"deps/haproxy-1.4.21/src/session.c","type":"DELETED","insertions":0,"deletions":-1774},{"file":"deps/haproxy-1.4.21/src/sessionhash.c","type":"DELETED","insertions":0,"deletions":-127},{"file":"deps/haproxy-1.4.21/src/signal.c","type":"DELETED","insertions":0,"deletions":-114},{"file":"deps/haproxy-1.4.21/src/standard.c","type":"DELETED","insertions":0,"deletions":-1054},{"file":"deps/haproxy-1.4.21/src/stick_table.c","type":"DELETED","insertions":0,"deletions":-334},{"file":"deps/haproxy-1.4.21/src/stream_interface.c","type":"DELETED","insertions":0,"deletions":-353},{"file":"deps/haproxy-1.4.21/src/stream_sock.c","type":"DELETED","insertions":0,"deletions":-1136},{"file":"deps/haproxy-1.4.21/src/task.c","type":"DELETED","insertions":0,"deletions":-270},{"file":"deps/haproxy-1.4.21/src/time.c","type":"DELETED","insertions":0,"deletions":-242},{"file":"deps/haproxy-1.4.21/src/uri_auth.c","type":"DELETED","insertions":0,"deletions":-309},{"file":"deps/haproxy-1.4.21/tests/0000-debug-stats.diff","type":"DELETED","insertions":0,"deletions":-54},{"file":"deps/haproxy-1.4.21/tests/active-sh.cfg","type":"DELETED","insertions":0,"deletions":-29},{"file":"deps/haproxy-1.4.21/tests/active-srv.cfg","type":"DELETED","insertions":0,"deletions":-29},{"file":"deps/haproxy-1.4.21/tests/backup-all-sh.cfg","type":"DELETED","insertions":0,"deletions":-35},{"file":"deps/haproxy-1.4.21/tests/backup-all.cfg","type":"DELETED","insertions":0,"deletions":-34},{"file":"deps/haproxy-1.4.21/tests/backup-first.cfg","type":"DELETED","insertions":0,"deletions":-33},{"file":"deps/haproxy-1.4.21/tests/backup-second-sh.cfg","type":"DELETED","insertions":0,"deletions":-34},{"file":"deps/haproxy-1.4.21/tests/backup-second.cfg","type":"DELETED","insertions":0,"deletions":-33},{"file":"deps/haproxy-1.4.21/tests/basic-test.cfg","type":"DELETED","insertions":0,"deletions":-43},{"file":"deps/haproxy-1.4.21/tests/defaults.cfg","type":"DELETED","insertions":0,"deletions":-46},{"file":"deps/haproxy-1.4.21/tests/filltab25.c","type":"DELETED","insertions":0,"deletions":-399},{"file":"deps/haproxy-1.4.21/tests/hash_results.txt","type":"DELETED","insertions":0,"deletions":-218},{"file":"deps/haproxy-1.4.21/tests/httpterm-basic.cfg","type":"DELETED","insertions":0,"deletions":-38},{"file":"deps/haproxy-1.4.21/tests/io_limits.txt","type":"DELETED","insertions":0,"deletions":-116},{"file":"deps/haproxy-1.4.21/tests/ip-hash.c","type":"DELETED","insertions":0,"deletions":-202},{"file":"deps/haproxy-1.4.21/tests/reset.c","type":"DELETED","insertions":0,"deletions":-45},{"file":"deps/haproxy-1.4.21/tests/sessionhash_test.c","type":"DELETED","insertions":0,"deletions":-54},{"file":"deps/haproxy-1.4.21/tests/sockstat.txt","type":"DELETED","insertions":0,"deletions":-7},{"file":"deps/haproxy-1.4.21/tests/test-acl.cfg","type":"DELETED","insertions":0,"deletions":-26},{"file":"deps/haproxy-1.4.21/tests/test-backlog.cfg","type":"DELETED","insertions":0,"deletions":-22},{"file":"deps/haproxy-1.4.21/tests/test-balance.cfg","type":"DELETED","insertions":0,"deletions":-65},{"file":"deps/haproxy-1.4.21/tests/test-check-cpu.cfg","type":"DELETED","insertions":0,"deletions":-1033},{"file":"deps/haproxy-1.4.21/tests/test-check-expect.cfg","type":"DELETED","insertions":0,"deletions":-87},{"file":"deps/haproxy-1.4.21/tests/test-connection.cfg","type":"DELETED","insertions":0,"deletions":-42},{"file":"deps/haproxy-1.4.21/tests/test-cookie-appsess.cfg","type":"DELETED","insertions":0,"deletions":-36},{"file":"deps/haproxy-1.4.21/tests/test-cookie-indirect.cfg","type":"DELETED","insertions":0,"deletions":-47},{"file":"deps/haproxy-1.4.21/tests/test-cookie-insert.cfg","type":"DELETED","insertions":0,"deletions":-35},{"file":"deps/haproxy-1.4.21/tests/test-cookie-passive.cfg","type":"DELETED","insertions":0,"deletions":-35},{"file":"deps/haproxy-1.4.21/tests/test-cookie-prefix.cfg","type":"DELETED","insertions":0,"deletions":-35},{"file":"deps/haproxy-1.4.21/tests/test-cookie-rewrite.cfg","type":"DELETED","insertions":0,"deletions":-35},{"file":"deps/haproxy-1.4.21/tests/test-disable-404.cfg","type":"DELETED","insertions":0,"deletions":-61},{"file":"deps/haproxy-1.4.21/tests/test-fsm.cfg","type":"DELETED","insertions":0,"deletions":-347},{"file":"deps/haproxy-1.4.21/tests/test-fwlc.cfg","type":"DELETED","insertions":0,"deletions":-61},{"file":"deps/haproxy-1.4.21/tests/test-fwrr.cfg","type":"DELETED","insertions":0,"deletions":-51},{"file":"deps/haproxy-1.4.21/tests/test-http-send-name-hdr.cfg","type":"DELETED","insertions":0,"deletions":-33},{"file":"deps/haproxy-1.4.21/tests/test-inspect-smtp.cfg","type":"DELETED","insertions":0,"deletions":-44},{"file":"deps/haproxy-1.4.21/tests/test-inspect-ssl.cfg","type":"DELETED","insertions":0,"deletions":-37},{"file":"deps/haproxy-1.4.21/tests/test-log.cfg","type":"DELETED","insertions":0,"deletions":-24},{"file":"deps/haproxy-1.4.21/tests/test-map-ports.cfg","type":"DELETED","insertions":0,"deletions":-31},{"file":"deps/haproxy-1.4.21/tests/test-pollers.cfg","type":"DELETED","insertions":0,"deletions":-15},{"file":"deps/haproxy-1.4.21/tests/test-redir.cfg","type":"DELETED","insertions":0,"deletions":-35},{"file":"deps/haproxy-1.4.21/tests/test-redirect.cfg","type":"DELETED","insertions":0,"deletions":-49},{"file":"deps/haproxy-1.4.21/tests/test-retries.cfg","type":"DELETED","insertions":0,"deletions":-106},{"file":"deps/haproxy-1.4.21/tests/test-sched.cfg","type":"DELETED","insertions":0,"deletions":-5038},{"file":"deps/haproxy-1.4.21/tests/test-sql.cfg","type":"DELETED","insertions":0,"deletions":-29},{"file":"deps/haproxy-1.4.21/tests/test-status.cfg","type":"DELETED","insertions":0,"deletions":-24},{"file":"deps/haproxy-1.4.21/tests/test-time.cfg","type":"DELETED","insertions":0,"deletions":-24},{"file":"deps/haproxy-1.4.21/tests/test-timeout.cfg","type":"DELETED","insertions":0,"deletions":-27},{"file":"deps/haproxy-1.4.21/tests/test-url-hash.cfg","type":"DELETED","insertions":0,"deletions":-40},{"file":"deps/haproxy-1.4.21/tests/test-valid-names.cfg","type":"DELETED","insertions":0,"deletions":-37},{"file":"deps/haproxy-1.4.21/tests/test.c","type":"DELETED","insertions":0,"deletions":-13},{"file":"deps/haproxy-1.4.21/tests/test_hashes.c","type":"DELETED","insertions":0,"deletions":-559},{"file":"deps/haproxy-1.4.21/tests/test_pools.c","type":"DELETED","insertions":0,"deletions":-207},{"file":"deps/haproxy-1.4.21/tests/testinet.c","type":"DELETED","insertions":0,"deletions":-27},{"file":"deps/haproxy-1.4.21/tests/uri_hash.c","type":"DELETED","insertions":0,"deletions":-377},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/haproxy.cfg.in","type":"DELETED","insertions":0,"deletions":-38},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","type":"ADDED","insertions":38,"deletions":0},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","type":"ADDED","insertions":122,"deletions":0},{"file":"etc/stud.conf.in","type":"DELETED","insertions":0,"deletions":-121},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":301,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":22,"deletions":-39},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":14,"deletions":-20},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":13,"deletions":-7},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","type":"ADDED","insertions":29,"deletions":0},{"file":"smf/manifests/haproxy.xml.in","type":"DELETED","insertions":0,"deletions":-39},{"file":"smf/manifests/imgapi.xml","type":"ADDED","insertions":49,"deletions":0},{"file":"smf/manifests/imgapi.xml.in","type":"DELETED","insertions":0,"deletions":-49},{"file":"smf/manifests/stud-standalone.xml","type":"ADDED","insertions":29,"deletions":0},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":4177,"sizeDeletions":-99973},{"number":"2","revision":"d7d082e0d04b7f0d0b5acdba64bdaa4fdb448f73","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474478801,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474478847,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":445,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":3,"deletions":-2},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":301,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":22,"deletions":-39},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":14,"deletions":-20},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":13,"deletions":-7},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":3929,"sizeDeletions":-4061},{"number":"3","revision":"79873812f8b3f926a96508b45183510b30c961e1","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474484421,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474484465,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":50,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":445,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":3,"deletions":-2},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":300,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":22,"deletions":-39},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":14,"deletions":-20},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":3969,"sizeDeletions":-4062},{"number":"4","revision":"c2e575da924b6bd51d795a4035cba1c6f1f84300","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/4","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474484465,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474484465,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":9,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Why were these other tickets removed here? Does this no longer resolve those?"},{"file":"/COMMIT_MSG","line":9,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Because I\u0027m using `grr` to update patchsets and it doesn\u0027t know about multiple tickets yet. I\u0027ll update the commit message at the end to have all three. Sorry about the confusion there."},{"file":"CHANGES.md","line":26,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"What about putting a symlink in /opt/smartdc/imgapi/etc so that people who look there will be directed to the proper location?"},{"file":"CHANGES.md","line":26,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Do you think it is worth it? It isn\u0027t really a contract for any operations work."},{"file":"README.md","line":58,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"lieing -\u003e lying"},{"file":"bin/imgapi-standalone-create","line":208,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"On some failures at least:\n\n```\n[root@headnode (coal) ~]# echo \u0027{\"billing_id\": \"0ae33ebc-c216-11e2-9b84-6f7e2a82bc36\", \"image_uuid\": \"de411e86-548d-11e4-a4b7-3bb60478632a\", \"brand\": \"joyent\", \"owner_uuid\": \"930896af-bf8c-48d4-885c-6573a94b1853\", \"networks\": [{\"name\": \"external\"}]}\u0027 | sdc-vmapi /vms -X POST -d@-  | json -H | sdc-waitforjob\n{\n  \"vm_uuid\": \"af1ee57d-64ba-4b73-808c-be1b7c8b9244\",\n  \"job_uuid\": \"f7c6c02c-74a1-4782-90c4-064dc7e89165\"\n}\n\nWait for job f7c6c02c-74a1-4782-90c4-064dc7e89165 to complete (timeout\u003dnone)\n...........\n\nsdc-waitforjob: fatal error: job f7c6c02c-74a1-4782-90c4-064dc7e89165 failed (status \u0027failed\u0027, elapsed\u003d28s)\n[root@headnode (coal) ~]# echo $?\n1\n[root@headnode (coal) ~]#\n```"},{"file":"bin/imgapi-standalone-status","line":124,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Not sure I understand this comment, the TODO is to add cert checking somehow but we can\u0027t because we don\u0027t have the hostname?"},{"file":"bin/imgapi-standalone-status","line":124,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Ah, yah it was a TODO that this \u0027...-status\u0027 script could drop the curl \u0027-k\u0027 option if the service itself knew its domain name. But then, if this were an HA thing, that might result in not actually hitting this instance, so probably not a good idea.  I\u0027ll just drop the comment."},{"file":"boot/setup.sh","line":20,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"delegate -\u003e delegated"},{"file":"boot/standalone/setup.sh","line":35,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"delegate -\u003e delegated"},{"file":"boot/standalone/setup.sh","line":85,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"runs -\u003e run"},{"file":"docs/operator-guide.md","line":107,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"delegate -\u003e delegated"},{"file":"docs/operator-guide.md","line":264,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"myimgages.com -\u003e myimages.com"},{"file":"etc/standalone/stud.conf","line":30,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"?"},{"file":"etc/standalone/stud.conf","line":30,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I\u0027ll turn it off and update the comment with details on why."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":50,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":445,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":3,"deletions":-2},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":300,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":22,"deletions":-39},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":14,"deletions":-20},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":6,"deletions":-13},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":3969,"sizeDeletions":-4062},{"number":"5","revision":"70c1b79521962526634b96f9789410f78d4a10ad","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/5","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474490912,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1474490944,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/migrations/migration-008-new-storage-layout.js","line":323,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer err hides an identifier in a parent scope"},{"file":"lib/migrations/migration-009-backfill-archive.js","line":300,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer err hides an identifier in a parent scope"},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","line":216,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer err hides an identifier in a parent scope"},{"file":"lib/migrations/migration-011-backfill-published_at.js","line":228,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer err hides an identifier in a parent scope"},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","line":420,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: identifer err hides an identifier in a parent scope"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":50,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":445,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":3,"deletions":-2},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":300,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":43,"deletions":-64},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":26,"deletions":-36},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":26,"deletions":-39},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":4065,"sizeDeletions":-4175},{"number":"6","revision":"2df1c895c9789a02c2f1a63b64aac38d5b4e0544","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/6","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474493428,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474493482,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474572086,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":50,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":445,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":3,"deletions":-2},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":300,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":45,"deletions":-66},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":28,"deletions":-41},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":4071,"sizeDeletions":-4181},{"number":"7","revision":"17d4b84b86071b4737509dfdfc7e893bc3abdaf5","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/7","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474587764,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474587804,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474655193,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474587990,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":50,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":444,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":15,"deletions":-3},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":300,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":45,"deletions":-66},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":28,"deletions":-41},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":4082,"sizeDeletions":-4182},{"number":"8","revision":"1d3500c1036493469dc8b586fac02a5c041d2f6d","parents":["e043213a9717e400269d5704bbe8e6601c9e4cd5"],"ref":"refs/changes/13/513/8","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1474655302,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474587804,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1474655193,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1474655369,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1474587990,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"CHANGES.md","type":"ADDED","insertions":50,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":14,"deletions":-94},{"file":"README.md","type":"MODIFIED","insertions":32,"deletions":-37},{"file":"bin/coal-setup-dc-for-image-mgmt","type":"DELETED","insertions":0,"deletions":-142},{"file":"bin/hash-basic-auth-password","type":"DELETED","insertions":0,"deletions":-115},{"file":"bin/imgapi-amon-install","type":"DELETED","insertions":0,"deletions":-190},{"file":"bin/imgapi-external-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-manta-setup","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"bin/imgapi-standalone-backup","type":"ADDED","insertions":152,"deletions":0},{"file":"bin/imgapi-standalone-create","type":"ADDED","insertions":263,"deletions":0},{"file":"bin/imgapi-standalone-gen-setup-config","type":"ADDED","insertions":204,"deletions":0},{"file":"bin/imgapi-standalone-reprovision","type":"ADDED","insertions":239,"deletions":0},{"file":"bin/imgapi-standalone-restore","type":"ADDED","insertions":184,"deletions":0},{"file":"bin/imgapi-standalone-status","type":"ADDED","insertions":444,"deletions":0},{"file":"bin/manta-config","type":"DELETED","insertions":0,"deletions":-59},{"file":"bin/manta-env","type":"ADDED","insertions":61,"deletions":0},{"file":"boot/setup.sh","type":"MODIFIED","insertions":8,"deletions":-7},{"file":"boot/standalone/configure.sh","type":"ADDED","insertions":27,"deletions":0},{"file":"boot/standalone/setup.sh","type":"ADDED","insertions":153,"deletions":0},{"file":"boot/standalone/user-script","type":"ADDED","insertions":48,"deletions":0},{"file":"docs/design.md","type":"DELETED","insertions":0,"deletions":-536},{"file":"docs/index.md","type":"MODIFIED","insertions":36,"deletions":-262},{"file":"docs/operator-guide.md","type":"ADDED","insertions":661,"deletions":0},{"file":"etc/defaults.json","type":"MODIFIED","insertions":7,"deletions":0},{"file":"etc/imgapi.config.json.in","type":"DELETED","insertions":0,"deletions":-42},{"file":"etc/nginx.conf.in","type":"DELETED","insertions":0,"deletions":-73},{"file":"etc/standalone/haproxy.cfg","fileOld":"etc/haproxy.cfg.in","type":"RENAMED","insertions":2,"deletions":-2},{"file":"etc/standalone/imgapi.config.json.handlebars","type":"ADDED","insertions":21,"deletions":0},{"file":"etc/standalone/stud.conf","fileOld":"etc/stud.conf.in","type":"RENAMED","insertions":15,"deletions":-3},{"file":"lib/adm.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/app.js","type":"MODIFIED","insertions":39,"deletions":-86},{"file":"lib/authkeys.js","type":"ADDED","insertions":300,"deletions":0},{"file":"lib/config.js","type":"ADDED","insertions":325,"deletions":0},{"file":"lib/constants.js","type":"ADDED","insertions":115,"deletions":0},{"file":"lib/database.js","type":"MODIFIED","insertions":4,"deletions":-10},{"file":"lib/images.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"lib/migrations/migration-001-file-compression.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-002-billing-tags.js","type":"DELETED","insertions":0,"deletions":-237},{"file":"lib/migrations/migration-003-tags.js","type":"DELETED","insertions":0,"deletions":-251},{"file":"lib/migrations/migration-004-tag-and-tags.js","type":"DELETED","insertions":0,"deletions":-253},{"file":"lib/migrations/migration-005-guid.js","type":"DELETED","insertions":0,"deletions":-301},{"file":"lib/migrations/migration-006-cleanup-manta-storage.js","type":"DELETED","insertions":0,"deletions":-243},{"file":"lib/migrations/migration-007-ufds-to-moray.js","type":"DELETED","insertions":0,"deletions":-353},{"file":"lib/migrations/migration-008-new-storage-layout.js","type":"MODIFIED","insertions":45,"deletions":-66},{"file":"lib/migrations/migration-009-backfill-archive.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-010-backfill-billing_tags.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-011-backfill-published_at.js","type":"MODIFIED","insertions":28,"deletions":-38},{"file":"lib/migrations/migration-012-update-docker-image-uuids.js","type":"MODIFIED","insertions":28,"deletions":-41},{"file":"lib/storage.js","type":"MODIFIED","insertions":20,"deletions":-22},{"file":"main.js","type":"MODIFIED","insertions":82,"deletions":-175},{"file":"package.json","type":"MODIFIED","insertions":14,"deletions":-8},{"file":"sapi_manifests/imgapi/manifest.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"sapi_manifests/imgapi/template","type":"MODIFIED","insertions":18,"deletions":-22},{"file":"smf/manifests/haproxy-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"RENAMED","insertions":5,"deletions":-15},{"file":"smf/manifests/imgapi.xml","fileOld":"smf/manifests/imgapi.xml.in","type":"RENAMED","insertions":3,"deletions":-3},{"file":"smf/manifests/stud-standalone.xml","fileOld":"smf/manifests/haproxy.xml.in","type":"COPIED","insertions":6,"deletions":-16},{"file":"test/access.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/admincreateimagefromvm.dc-test.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"test/api-versions.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/channels.public-test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/imgapi-config-local-dc.json","type":"MODIFIED","insertions":2,"deletions":-9},{"file":"test/imgapi-config-local-public.json","type":"MODIFIED","insertions":4,"deletions":-17},{"file":"test/ping.test.js","type":"MODIFIED","insertions":1,"deletions":-4},{"file":"test/reload-test-data.sh","type":"MODIFIED","insertions":3,"deletions":-4},{"file":"test/rm-test-data.sh","type":"MODIFIED","insertions":2,"deletions":-4},{"file":"test/runtests","type":"MODIFIED","insertions":8,"deletions":-10},{"file":"test/sdc-ldap","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"tools/beware-rsync-to-images","type":"DELETED","insertions":0,"deletions":-41},{"file":"tools/imgapi.config.local-signature-auth.json","type":"DELETED","insertions":0,"deletions":-28},{"file":"tools/migrate-storage-local-to-manta.js","type":"MODIFIED","insertions":10,"deletions":-14},{"file":"tools/standalone/README.md","type":"ADDED","insertions":2,"deletions":0},{"file":"tools/standalone/tritonlogupload.sh","type":"ADDED","insertions":183,"deletions":0},{"file":"tools/standalone/tritonpostlogrotate.sh","type":"ADDED","insertions":135,"deletions":0}],"sizeInsertions":4082,"sizeDeletions":-4182}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}