{"project":"joyent/illumos-joyent","branch":"master","topic":"OS-7080","id":"Ibefffd577ca6c3a090d7d3c72d267a383c3a3c45","number":"4695","subject":"OS-7080 bhyve and KVM should coexist in peace Reviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e Reviewed by: Robert Mustacchi \u003crm@joyent.com\u003e Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Approved by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"url":"https://cr.joyent.us/4695","commitMessage":"OS-7080 bhyve and KVM should coexist in peace\nReviewed by: Jerry Jelinek \u003cjerry.jelinek@joyent.com\u003e\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nApproved by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1534376737,"lastUpdated":1534877957,"open":false,"status":"MERGED","comments":[{"timestamp":1534376737,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 1."},{"timestamp":1534447700,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 2."},{"timestamp":1534461582,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1534461794,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 2:\n\n(2 comments)"},{"timestamp":1534462707,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 3."},{"timestamp":1534462771,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1534510132,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1534510137,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3: -Integration-Approval"},{"timestamp":1534515654,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 3:\n\n(3 comments)\n\nThis looks good, I only saw a couple of nits."},{"timestamp":1534773773,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 4."},{"timestamp":1534773802,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1534773823,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1534774287,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Topic set to OS-7080"},{"timestamp":1534775339,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1534776190,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\n(9 comments)"},{"timestamp":1534792345,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 6."},{"timestamp":1534795740,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1534800547,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1534803887,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1534873399,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 6:\n\n(8 comments)\n\nI added some testing notes to the OS-7080 ticket"},{"timestamp":1534873812,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6: Integration-Approval+1"},{"timestamp":1534874017,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1534874150,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Uploaded patch set 8: Commit message was updated."},{"timestamp":1534874204,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 8: Integration-Approval-1\n\nWaiting until I have a flag-day email written up before this is merged"},{"timestamp":1534877326,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Patch Set 8: -Integration-Approval"},{"timestamp":1534877957,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Patrick Mooney"}],"currentPatchSet":{"number":"8","revision":"befffd577ca6c3a090d7d3c72d267a383c3a3c45","parents":["dce88dec0a5dd9849b881d131e2c0f78a5ba4c97"],"ref":"refs/changes/95/4695/8","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534874150,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534795740,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534800547,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534803887,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534873812,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1534877957,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":49,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":338,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":22,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":515,"sizeDeletions":-291},"patchSets":[{"number":"1","revision":"382b01cdeb872521e633783738b5cc421a4d9852","parents":["005d090d5d39829784302a3c8574b81b88fc69d0"],"ref":"refs/changes/95/4695/1","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534376737,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":86,"deletions":-87},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":339,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35}],"sizeInsertions":538,"sizeDeletions":-293},{"number":"2","revision":"f9be45ceb81c76e9db49cb3e1237c5dfd358b0ad","parents":["005d090d5d39829784302a3c8574b81b88fc69d0"],"ref":"refs/changes/95/4695/2","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534447700,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/uts/i86pc/os/hma.c","line":82,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is this name just for informational purposes? In other words not something that we care about being unique?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":82,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Yep, just like the HVM exclusion bits from before."},{"file":"usr/src/uts/i86pc/os/hma.c","line":195,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Seems unfortunate, but I guess reasonable."},{"file":"usr/src/uts/i86pc/os/hma.c","line":195,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Unfortunate, but it seems very unlikely."},{"file":"usr/src/uts/i86pc/sys/hma.h","line":35,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"a pointer"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":86,"deletions":-87},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":340,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35}],"sizeInsertions":539,"sizeDeletions":-293},{"number":"3","revision":"08ecc129a81a2911f13709fa68e5e25fa2e92ab0","parents":["005d090d5d39829784302a3c8574b81b88fc69d0"],"ref":"refs/changes/95/4695/3","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534462707,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534462771,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1236,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"nice to see this go!"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1835,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Why are you making the clients worry about this? KVM already doesn\u0027t even try an hma_svm_register()"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1835,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Changed to a CPU-generic registration"},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1912,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Given vmx_cleanup is a no-op, is this about iommu_cleanup() or something? It\u0027s not very elegant for a failed vmm_mod_load() to require the caller to clean anything up itself."},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","line":1912,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"While this looks like a weird design, it\u0027s simply a bug on my part.  We should only be doing this clean-up if we\u0027ve entered the fail path and there _wasn\u0027t_ an error during vmm_mod_load()."},{"file":"usr/src/uts/i86pc/os/hma.c","line":22,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"double include"},{"file":"usr/src/uts/i86pc/os/hma.c","line":22,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/os/hma.c","line":106,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"This is already ASSERT()ed, is it really likely enough that you want to also VERIFY() it?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":106,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"It isn\u0027t at all likely, but I\u0027m also not concerned about the cost of an additional branch here."},{"file":"usr/src/uts/i86pc/os/hma.c","line":123,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Worth asserting on an NCPU + 1 define in fact?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":123,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/os/hma.c","line":130,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"ASSERT vpid range?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":130,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/os/hma.c","line":286,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"It would be better to check IA32_FEAT_CTRL_LOCK instead of assuming the bit position."},{"file":"usr/src/uts/i86pc/os/hma.c","line":286,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"It would indeed"},{"file":"usr/src/uts/i86pc/os/hma.c","line":326,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"define for NCPU + 1 (to be used above) ?"},{"file":"usr/src/uts/i86pc/os/hma.c","line":326,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Sure."},{"file":"usr/src/uts/i86pc/sys/hma.h","line":35,"reviewer":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},"message":"a pointer"},{"file":"usr/src/uts/i86pc/sys/hma.h","line":35,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"},{"file":"usr/src/uts/i86pc/sys/hma.h","line":42,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"nit, \"reg\" parameter name here and below"},{"file":"usr/src/uts/i86pc/sys/hma.h","line":42,"reviewer":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":86,"deletions":-87},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":344,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35}],"sizeInsertions":543,"sizeDeletions":-293},{"number":"4","revision":"f89ecb0d1a8c52137d63279cf0fc64c3b0fa21e4","parents":["005d090d5d39829784302a3c8574b81b88fc69d0"],"ref":"refs/changes/95/4695/4","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534773773,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":86,"deletions":-87},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":344,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35}],"sizeInsertions":543,"sizeDeletions":-293},{"number":"5","revision":"3d5688f93952c53a02107a6a989ee4a81264fcf9","parents":["4a3dceb097fceefc13c4471707cd40944dd07ffb"],"ref":"refs/changes/95/4695/5","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534773823,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534775339,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":86,"deletions":-87},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":344,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":19,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35}],"sizeInsertions":543,"sizeDeletions":-293},{"number":"6","revision":"2a0aaca4a3ded9e6cd844424111fdbc8d334bb05","parents":["4a3dceb097fceefc13c4471707cd40944dd07ffb"],"ref":"refs/changes/95/4695/6","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534792345,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534800547,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534795740,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534803887,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534873812,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":49,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":338,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":22,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":515,"sizeDeletions":-291},{"number":"7","revision":"a103924445dd5bb0caa1273b7db8a1329862ba77","parents":["dce88dec0a5dd9849b881d131e2c0f78a5ba4c97"],"ref":"refs/changes/95/4695/7","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534874017,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534800547,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534795740,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534803887,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534873812,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":49,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":338,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":22,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":515,"sizeDeletions":-291},{"number":"8","revision":"befffd577ca6c3a090d7d3c72d267a383c3a3c45","parents":["dce88dec0a5dd9849b881d131e2c0f78a5ba4c97"],"ref":"refs/changes/95/4695/8","uploader":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"createdOn":1534874150,"author":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534800547,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534795740,"by":{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"}},{"type":"SUBM","value":"1","grantedOn":1534877957,"by":{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1534803887,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1534873812,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"usr/src/uts/i86pc/Makefile.files","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/uts/i86pc/io/vmm/intel/vmx.c","type":"MODIFIED","insertions":40,"deletions":-52},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_dev.c","type":"MODIFIED","insertions":49,"deletions":-85},{"file":"usr/src/uts/i86pc/io/vmm/vmm_sol_glue.c","type":"MODIFIED","insertions":0,"deletions":-53},{"file":"usr/src/uts/i86pc/ml/hma_asm.s","type":"ADDED","insertions":42,"deletions":0},{"file":"usr/src/uts/i86pc/os/hma.c","type":"ADDED","insertions":338,"deletions":0},{"file":"usr/src/uts/i86pc/os/mp_startup.c","type":"MODIFIED","insertions":10,"deletions":0},{"file":"usr/src/uts/i86pc/os/pc_hvm.c","type":"DELETED","insertions":0,"deletions":-65},{"file":"usr/src/uts/i86pc/sys/hma.h","type":"MODIFIED","insertions":22,"deletions":0},{"file":"usr/src/uts/i86pc/sys/pc_hvm.h","type":"DELETED","insertions":0,"deletions":-35},{"file":"usr/src/uts/intel/sys/x86_archext.h","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":515,"sizeDeletions":-291}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Jerry Jelinek","email":"jerry.jelinek@joyent.com","username":"jjelinek"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Patrick Mooney","email":"pmooney@pfmooney.com","username":"pfmooney"}]}