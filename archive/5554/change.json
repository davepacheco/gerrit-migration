{"project":"joyent/triton-cns","branch":"master","id":"I74d5108c11ef76c0c8a9977065cd4c8100d1f34b","number":"5554","subject":"TRITON-815 triton-cns needs to be rack aware Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Alex Wilson \u003calex.wilson@joyent.com\u003e","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/5554","commitMessage":"TRITON-815 triton-cns needs to be rack aware\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1549647666,"lastUpdated":1553091052,"open":false,"status":"MERGED","comments":[{"timestamp":1549647666,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1549647700,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1549647708,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 1: Code-Review-1"},{"timestamp":1550173620,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2."},{"timestamp":1550173647,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1552674134,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3."},{"timestamp":1552674163,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1552674907,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4."},{"timestamp":1552674926,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1552674938,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1552677142,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1552933424,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 5."},{"timestamp":1552933455,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1553019214,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 5: -Code-Review"},{"timestamp":1553030220,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1553089355,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1553091052,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"6","revision":"74d5108c11ef76c0c8a9977065cd4c8100d1f34b","parents":["bd36e8f89c389cff10a63f026b638d866e3a934f"],"ref":"refs/changes/54/5554/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1553089355,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1552933455,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1553030220,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1553030220,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1553091052,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/api-server.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/cn-filter.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/net-filter.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"d4b85af91b7bab3cdff7429556c0205ff07a7e34","parents":["3c0ac8bf2a0b38e6402c24418b47c685d40f998f"],"ref":"refs/changes/54/5554/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1549647666,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1549647700,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1549647708,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/api-server.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/cn-filter.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/net-filter.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":11,"sizeDeletions":-3},{"number":"2","revision":"404afaf7c6197e999191ab710a733a606de21ac7","parents":["3c0ac8bf2a0b38e6402c24418b47c685d40f998f"],"ref":"refs/changes/54/5554/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1550173620,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1550173647,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1549647708,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/api-server.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/cn-filter.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/net-filter.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":11,"sizeDeletions":-3},{"number":"3","revision":"ae06545ed7f159eca936b6b93de381b120597298","parents":["3c0ac8bf2a0b38e6402c24418b47c685d40f998f"],"ref":"refs/changes/54/5554/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1552674134,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1552674163,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1549647708,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"comments":[{"file":"lib/cn-filter.js","line":169,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Would you mind querying this with curl on SPC production for me and timing how much longer it takes with sysinfo data included?"},{"file":"lib/cn-filter.js","line":169,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"About a 2% increase:\n\nWithout:\n2.437\n2.565\n8.282\nMEAN: 4.428\n\n\nWith:\n2.789\n2.714\n2.828\n9.772\nMEAN: 4.52575\n\nFor the \"with sysinfo\" case I had to run it a few extra times to get an outlier."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/api-server.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/cn-filter.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/net-filter.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-4},{"number":"4","revision":"90d063e5545c4d91362bbbe0bd2cb977913435a1","parents":["bd36e8f89c389cff10a63f026b638d866e3a934f"],"ref":"refs/changes/54/5554/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1552674907,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1552674938,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1549647708,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/api-server.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"lib/cn-filter.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/net-filter.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-4},{"number":"5","revision":"3053ee1516dca47d549d0ac6452ac8f8ee58672f","parents":["bd36e8f89c389cff10a63f026b638d866e3a934f"],"ref":"refs/changes/54/5554/5","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1552933424,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1553030220,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1553030220,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1552933455,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/api-server.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/cn-filter.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/net-filter.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-6},{"number":"6","revision":"74d5108c11ef76c0c8a9977065cd4c8100d1f34b","parents":["bd36e8f89c389cff10a63f026b638d866e3a934f"],"ref":"refs/changes/54/5554/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1553089355,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1553030220,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1553030220,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1552933455,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1553091052,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/api-server.js","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"lib/cn-filter.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/net-filter.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":12,"sizeDeletions":-6}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}