{"project":"joyent/node-docker-registry-client","branch":"master","id":"Ib8e8b655da2988485d95b06ed999121b8f565388","number":"1297","subject":"DOCKER-524 Implement docker push","owner":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"url":"https://cr.joyent.us/1297","commitMessage":"DOCKER-524 Implement docker push\n","createdOn":1484854509,"lastUpdated":1501786068,"open":false,"status":"ABANDONED","comments":[{"timestamp":1484854509,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 1."},{"timestamp":1484854510,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 643744f9b8563af112b3c7666a08a1fd6a178c81\n    \n    DOCKER-524 Implement docker push"},{"timestamp":1484854535,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484854651,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 2."},{"timestamp":1484854652,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 7a6427858a98e26a4ceecae0cdf33b1631376ea0\n    \n    Add Amazon ecr push tests"},{"timestamp":1484854677,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484854863,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 3."},{"timestamp":1484854864,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 3495f0b40691bc5af9f4de0aefde0bd08ea25d56\n    \n    bump version and changelog"},{"timestamp":1484854901,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1484952480,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 4."},{"timestamp":1484952482,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit b235068b6d484516694c2d67cb37b498b517a2cb\n    \n    Better error handling of docker registry errors."},{"timestamp":1484952641,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485279826,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 5."},{"timestamp":1485279828,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 69d68c47b75ef5868c5470d23efe6b9ac1f4686c\n    \n    update error handling of registry requests"},{"timestamp":1485279851,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485282211,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 6."},{"timestamp":1485282212,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 6ce6d6f1e838ee7d14edce8d14219719869579f7\n    \n    add Google container registry private tests"},{"timestamp":1485282242,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1485462114,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Uploaded patch set 7."},{"timestamp":1485462115,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit d265a79a92b7e6c2177f5dafb4484ffba8b8fdc2\n    \n    v2.2 manifests do not need to have layers, it can just have a config, whilst\n    the v2.1 manifests must have at least one layer (i.e. the config layer)"},{"timestamp":1485462139,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1501786068,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Abandoned\n\nForgot I had this old review - new one up at: https://cr.joyent.us/#/c/2313/"}],"currentPatchSet":{"number":"7","revision":"b8e8b655da2988485d95b06ed999121b8f565388","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/7","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485462114,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485462139,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":381,"deletions":-36},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.amazonecr.test.js","type":"MODIFIED","insertions":46,"deletions":-10},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31},{"file":"test/v2.gcrio.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/v2.gcrioprivate.test.js","type":"ADDED","insertions":352,"deletions":0}],"sizeInsertions":1051,"sizeDeletions":-82},"patchSets":[{"number":"1","revision":"0e23a86099db084be957bd754301928436891c66","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/1","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1484854509,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484854535,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":366,"deletions":-29},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31}],"sizeInsertions":632,"sizeDeletions":-62},{"number":"2","revision":"3f4f9b6a5b0103c3036f838f1cb647bb45a68a2e","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/2","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1484854651,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484854677,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":364,"deletions":-29},{"file":"test/v2.amazonecr.test.js","type":"MODIFIED","insertions":47,"deletions":-10},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31}],"sizeInsertions":677,"sizeDeletions":-72},{"number":"3","revision":"b8a5b16e4d7e45c219adf8998c023a287c1beee7","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/3","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1484854863,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484854901,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":364,"deletions":-29},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.amazonecr.test.js","type":"MODIFIED","insertions":47,"deletions":-10},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31}],"sizeInsertions":682,"sizeDeletions":-73},{"number":"4","revision":"ed4914c365208b22b843bbacf066f4e4e7371af5","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/4","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1484952480,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1484952641,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":360,"deletions":-29},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.amazonecr.test.js","type":"MODIFIED","insertions":46,"deletions":-10},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31}],"sizeInsertions":677,"sizeDeletions":-73},{"number":"5","revision":"03993a95e354908599cb1b42b25e51c90e3b8fb2","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/5","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485279826,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485279851,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":376,"deletions":-31},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.amazonecr.test.js","type":"MODIFIED","insertions":46,"deletions":-10},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31}],"sizeInsertions":693,"sizeDeletions":-75},{"number":"6","revision":"7a27b946ce52d17ccab640ef2914b160408d680b","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/6","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485282211,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485282242,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":376,"deletions":-31},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.amazonecr.test.js","type":"MODIFIED","insertions":46,"deletions":-10},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31},{"file":"test/v2.gcrio.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/v2.gcrioprivate.test.js","type":"ADDED","insertions":352,"deletions":0}],"sizeInsertions":1046,"sizeDeletions":-77},{"number":"7","revision":"b8e8b655da2988485d95b06ed999121b8f565388","parents":["94beeecf091217a1bbf98c6dee9ac14124b9350e"],"ref":"refs/changes/97/1297/7","uploader":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"createdOn":1485462114,"author":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1485462139,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":4,"deletions":0},{"file":"examples/v2/putManifest.js","type":"ADDED","insertions":82,"deletions":0},{"file":"examples/v2/uploadBlob.js","type":"ADDED","insertions":93,"deletions":0},{"file":"lib/docker-json-client.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/errors.js","type":"MODIFIED","insertions":16,"deletions":0},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":381,"deletions":-36},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.amazonecr.test.js","type":"MODIFIED","insertions":46,"deletions":-10},{"file":"test/v2.dockerioprivate.test.js","type":"MODIFIED","insertions":73,"deletions":-31},{"file":"test/v2.gcrio.test.js","type":"MODIFIED","insertions":1,"deletions":-2},{"file":"test/v2.gcrioprivate.test.js","type":"ADDED","insertions":352,"deletions":0}],"sizeInsertions":1051,"sizeDeletions":-82}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}