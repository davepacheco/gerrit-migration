{"project":"joyent/triton","branch":"master","id":"Icf6039553132354817dccfe673316254de94682a","number":"6349","subject":"TRITON-1376 update build documentation to account for engbld changes Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e Reviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Reviewed by: Rob Johnston \u003crob.johnston@joyent.com\u003e","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/6349","commitMessage":"TRITON-1376 update build documentation to account for engbld changes\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\nReviewed by: Josh Wilsdon \u003cjosh@wilsdon.ca\u003e\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nReviewed by: Rob Johnston \u003crob.johnston@joyent.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1558617350,"lastUpdated":1560502090,"open":false,"status":"MERGED","comments":[{"timestamp":1558617350,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1558617352,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1558617359,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 5bd1fda51d0e69ead325b5c011f4835f51c82dc5\n    \n    TRITON-1376 update build documentation to account for engbld changes\n    \n    commit 9fa0ca7281ed634a3db3a78196982a9e34b524df\n    \n    initial engdoc version of buildzoneconfig building-new.md"},{"timestamp":1558617729,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nIn case it\u0027s easier to review with a github-formatted page, that\u0027s at\nhttps://github.com/joyent/triton/blob/grr-TRITON-1376/docs/developer-guide/building.md\nI\u0027ll keep it up to date over the course of this review."},{"timestamp":1558622058,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nPedro suggested we add a cpu_cap value to the vm json templates, which can otherwise prevent reprovisioning:\n\n  {\n    \"step\": \"Servers which have same existence of cpu_cap as package\",\n    \"remaining\": [],\n    \"reasons\": {\n      \"564d004a-a759-d9df-3e16-c9f18c9e688c\": \"VM e4567551-ddce-4fb5-a0eb-eeadbab6ebd4 has no cpu_cap, while the package does\"\n    }\n  }"},{"timestamp":1558706054,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 2."},{"timestamp":1558706056,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1558706062,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit f3b5dff922d002c2ed1d40309e701ff4c8cc1e70\n    \n    TRITON-1376 update build documentation to account for engbld changes\n    \n    commit 9fa0ca7281ed634a3db3a78196982a9e34b524df\n    \n    initial engdoc version of buildzoneconfig building-new.md"},{"timestamp":1558706274,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\nThis change makes sure to mention cpu_caps when configuring Triton VMs, mentioning how to workaround the requirement for cpu_caps.\n\nWe added the uuid to the sdc-papi command so that we show how we determined the uuid of the sdc_8192 package when adding \u0027builder\u0027 to the owner list.\n\nWe also made some minor style changes and bumped the default max_physical_memory for the SmartOS example so it\u0027s in line with the Triton example."},{"timestamp":1559038232,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 3."},{"timestamp":1559038234,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1559038238,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 6b32ed9a59daec3f061bdb7c194a0e23c1697cdd\n    \n    TRITON-1376 update build documentation to account for engbld changes\n    \n    commit 9fa0ca7281ed634a3db3a78196982a9e34b524df\n    \n    initial engdoc version of buildzoneconfig building-new.md"},{"timestamp":1559038983,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\n\u003e \"make check\" passed ok\n\nThis change just removed the \u0027-k\u0027 option we were previously (unnecessarily) passing to curl when pulling manifests/images from updates.jo.co."},{"timestamp":1559345299,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 3: Code-Review+1\n\n(6 comments)"},{"timestamp":1559570514,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\n(4 comments)\n\nThanks for the review Josh, I\u0027ll work on these changes."},{"timestamp":1559575043,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 4."},{"timestamp":1559575045,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1559575051,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 4:\n\nNew commits:\n    \n    commit 0f8534e383286c83e30d1550f28771644adf7f2f\n    \n    describe using ProxyJump for ssh access to retro-vms\n    \n    commit da7e78d568e70d1c3933c49ea186f954ac47e3d6\n    \n    zones are SmartOS not generic Illumos. Escape underscores.\n    \n    commit e87e03298a964def033727275d07f09a6f164d09\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1559748197,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 4:\n\n(3 comments)"},{"timestamp":1559748895,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 4:\n\n\u003e (3 comments)\n\nThanks for these - I\u0027ve just about got changes ready that address them. Out of curiosity, which repos require still require ssh access? I had thought we\u0027d moved most components to git+https:// urls."},{"timestamp":1559749212,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 5."},{"timestamp":1559749213,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1559749218,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 5:\n\nNew commits:\n    \n    commit 396d18abfe121d348f7a7177a400277bb84ec9c5\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1559749332,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 5:\n\nYou can see how github would render these changes at:\n\nhttps://github.com/joyent/triton/blob/grr-TRITON-1376/docs/developer-guide/building.md"},{"timestamp":1559776745,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1559776870,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1559917257,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\n(6 comments)"},{"timestamp":1559934136,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 5:\n\n(14 comments)\n\nSome answers to John\u0027s Qs and unrelated CR comments of my own.\nThanks very much for writing this. It is a big improvement. Please feel free to consider any of my comments as \"nits\", i.e. you can say \"thanks for the nit, I\u0027ll just merge this as is now.\" :)"},{"timestamp":1560161969,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 5:\n\n(3 comments)"},{"timestamp":1560165247,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 5:\n\n(14 comments)\n\nThanks for the feedback! The next patch set addresses all of these except breaking up the document into several files, which I\u0027ll do after that (to make reviewing these changes easier)"},{"timestamp":1560165266,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 6."},{"timestamp":1560165269,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560165274,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 6:\n\nNew commits:\n    \n    commit 8c9aa3d99e8195e59ac8e682d724a588406ff95a\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1560171867,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 7."},{"timestamp":1560171870,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560171874,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 7:\n\nNew commits:\n    \n    commit c096b3619abbeba633d7e8618fce6d3eafd2f54b\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1560171936,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 7:\n\nPatch set 7 breaks this document into easier to swallow chunks. I\u0027ve updated \n\nhttps://github.com/joyent/triton/blob/grr-TRITON-1376/docs/developer-guide/building.md\n\nwith all of the changes here."},{"timestamp":1560172286,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 6:\n\n(1 comment)"},{"timestamp":1560177416,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 8."},{"timestamp":1560177419,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560177423,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 8:\n\nNew commits:\n    \n    commit 2d6902883235e748303459798a89c434887ed250\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1560177470,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 6:\n\n(1 comment)\n\nI fixed that in the latest patch set, and did another pass with a spell checker"},{"timestamp":1560184954,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 9."},{"timestamp":1560184957,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560184961,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 9:\n\nNew commits:\n    \n    commit 5b1f277b0c5bd088ed68676aaacf3fe89668d556\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1560192397,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 9: Code-Review+1\n\n(1 comment)"},{"timestamp":1560240361,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 10."},{"timestamp":1560240364,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560240366,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 10:\n\nNew commits:\n    \n    commit 1679b675b614488d932963b3d8dde7ddfc115882\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1560240470,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 10:\n\nPatch set 10: s/comprised of/composed of/, fix a dangling sentence describing \u0027bits-upload-latest\u0027 and try to differentiate \u0027build zone\u0027 from \u0027base image\u0027, based on some recent confusion in ~manta."},{"timestamp":1560259657,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 10:\n\n(4 comments)"},{"timestamp":1560336537,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 10:\n\n(4 comments)"},{"timestamp":1560336789,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 11."},{"timestamp":1560336791,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1560336796,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 11:\n\nNew commits:\n    \n    commit b5cf0bc78dd1632dbb9e54afdea6b322217015d5\n    \n    TRITON-1376 update build documentation to account for engbld changes"},{"timestamp":1560337699,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 11: Code-Review+1\n\nLooks great, thanks!"},{"timestamp":1560346467,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 12: Commit message was updated."},{"timestamp":1560369764,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1560378663,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 12: Code-Review+1 Integration-Approval+1"},{"timestamp":1560447523,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 12: Code-Review+1"},{"timestamp":1560502061,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 13: Commit message was updated."},{"timestamp":1560502090,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"}],"currentPatchSet":{"number":"13","revision":"cf6039553132354817dccfe673316254de94682a","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/13","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560502061,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560336791,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560337699,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560369764,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560378663,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560378663,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560447523,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}},{"type":"SUBM","value":"1","grantedOn":1560502090,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":276,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":314,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":193,"deletions":-468},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":865,"sizeDeletions":-480},"patchSets":[{"number":"1","revision":"afcb2b2c515ea39e8abf23a57183a475a9bb0204","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1558617350,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558617352,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":652,"deletions":-376},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":656,"sizeDeletions":-388},{"number":"2","revision":"f13acf675e709c3bd0d03851981bae1af6f9e304","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/2","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1558706054,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1558706056,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":684,"deletions":-379},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":688,"sizeDeletions":-391},{"number":"3","revision":"1cb615caa1a7e607f1b6aa669418a15835171121","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1559038232,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559038234,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1559345299,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}}],"comments":[{"file":"docs/developer-guide/building.md","line":11,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Should this say SmartOS to be more specific? There are things about SmartOS zones that do not apply to Illumos zones. Also the rest of the document talks about deploying with Triton or SmartOS, there\u0027s no instructions to deploy on Illumos."},{"file":"docs/developer-guide/building.md","line":11,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Yep, good point. I\u0027ll change that."},{"file":"docs/developer-guide/building.md","line":129,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"do we need to escape this _?"},{"file":"docs/developer-guide/building.md","line":129,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I\u0027m not sure? My test-case before submitting the code review was to push to a branch and examine the way github rendered the page:\n\nhttps://github.com/joyent/triton/blob/grr-TRITON-1376/docs/developer-guide/building.md\n\nthis looks ok, but I\u0027m happy to escape the underscores here if that\u0027d confuse other tools. I\u0027ll investigate how to do that."},{"file":"docs/developer-guide/building.md","line":129,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Tim: you can escape it via:\n\n```\nthis is my\\_string\n```\n\nExamples of tools that get confused by this (i.e. that more strictly, or perhaps with less wisdom, follow the Markdown spec) are Gerrit\u0027s diff viewer and the default Markdown in Vim. \n\nGitHub and other renders have gone off the hard Markdown original \"spec\" to disable intra-word underscores for emphasis. E.g.: https://github.github.com/gfm/#emphasis-and-strong-emphasis"},{"file":"docs/developer-guide/building.md","line":129,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Oh, duh, I commented on a long-handled old comment. Ignore me."},{"file":"docs/developer-guide/building.md","line":130,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"again, do we need to escape the _?"},{"file":"docs/developer-guide/building.md","line":136,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"the _ here probably either needs to be escaped or the `image_uuid` put in backticks."},{"file":"docs/developer-guide/building.md","line":567,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Is the converse of binaries compiled on old platforms running on newer platforms: newer platforms running on binaries compiled on old platforms? :)"},{"file":"docs/developer-guide/building.md","line":567,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":":-) Yeah, this sentence is a bit of a brainworm, I\u0027ll see if I can simplify it."},{"file":"docs/developer-guide/building.md","line":656,"reviewer":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},"message":"Might it be worth noting that you can also do this in your local .ssh/config without requiring any ipnat configuration if you do something like:\n\n    Host build-gz\n        Hostname 172.26.3.97\n        User root\n\n    Host build\n        ProxyJump build-gz\n        Hostname 172.16.9.3\n        User root\n\nwhere 172.26.3.97 is the IP of your joyent-retro instance and 172.16.9.3 is the IP of the zone inside the joyent-retro VM."},{"file":"docs/developer-guide/building.md","line":656,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Wow, nice. I\u0027ll document that as well as the nat configuration (because it seems like I have to lookup the latter every single time I want to do it, so sticking it here will help my failing memory)"},{"file":"repos.json","line":153,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Is it premature to drop MG as a relevant repo until we\u0027ve replaced usage of the release process scripts that remain there?"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":684,"deletions":-379},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":688,"sizeDeletions":-391},{"number":"4","revision":"13c95941972d756dcde970d6e97897bcadcf5bb1","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/4","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1559575043,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559575045,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/developer-guide/building.md","line":93,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"sdc-headnode can also be built on Linux"},{"file":"docs/developer-guide/building.md","line":551,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Note that the validate-buildenv target will suggest doing an:\n\nnpm install manta imgadm-cli\n\nYou can install manta package that way, but I found I had to do the following to install imgadm-cli:\n\nnpm install -g git+https://github.com/joyent/sdc-imgapi-cli.git"},{"file":"docs/developer-guide/building.md","line":555,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"If you provision a new build zone with a non-root user, then you\u0027ll need to add that user\u0027s ssh pub key to your github account.  Otherwise the build will fail as it needs to pull down stuff from joyent repos."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":715,"deletions":-379},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":719,"sizeDeletions":-391},{"number":"5","revision":"74e2aa6e0809d2dedca9238dc2a26fc6064f2178","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/5","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1559749212,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1559749213,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/developer-guide/building.md","line":1,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"So, this is great, but it\u0027s pretty long, and has two paths (SmartOS and Triton). Is it worth splitting out the two sections and setting up triton / installing build zones into separate files?\n\nThen, that section is just a \"follow this if you need to set up and install build zones\" for each of the environments.\n\nThe latter bits are about actually building components inside one of them."},{"file":"docs/developer-guide/building.md","line":1,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"I agree that  breaking those out would probably help people work through this document (especially when coming back to *re-*work through the docs to setup a new devbuild env). Currently it is ~25 pages, if printed.\n\nHowever, this is a huge improvement and to avoid lingering in CR, how about Tim gets this in as is, if he prefers, and we can do a separate round (doesn\u0027t have to be Tim) to split out Triton vs SmartOS setup steps?"},{"file":"docs/developer-guide/building.md","line":1,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I don\u0027t really see a good reason not to do the split now to be honest?"},{"file":"docs/developer-guide/building.md","line":1,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"This is a long document, I agree.\n\nI\u0027m in two minds about splitting it up because one of the things I found difficult starting, was the lack of a narrative explaining everything I\u0027d need to get productive (coal-setup.md, was one excellent counter-example)\n\nThat\u0027s not to say we couldn\u0027t have three documents that collectively work through these, I\u0027ll try doing that quickly today and see if it still flows."},{"file":"docs/developer-guide/building.md","line":26,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Is a min version of node required do you know? If not, then fine. :) We can add details to this doc later."},{"file":"docs/developer-guide/building.md","line":26,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I don\u0027t know offhand - I think all we care about is that you can install the manta and imgapi-cli tools, so it\u0027s probably pretty low."},{"file":"docs/developer-guide/building.md","line":43,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Well, at least the *VM* components. Though the requirement to have a matching build image holds for GZ-targetted components (at least because eng.git Makefiles check for that with the sdcnode `NODE_PREBUILT_IMAGE` value, I think)."},{"file":"docs/developer-guide/building.md","line":43,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Sure, I\u0027ll clarify that here."},{"file":"docs/developer-guide/building.md","line":44,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Perhaps introduce the term \"origin image\" in parens in the same place? That\u0027s the language used for \"triton-origin-image.git\" and the IMGAPI manifest field is \"origin\".\n\n(Historical note: When \"origin\" was added to the IMGAPI manifest, \"base\" was dropped as a potential field name because of potential confusion with published \"base{-32,64}{,-lts}\" images."},{"file":"docs/developer-guide/building.md","line":44,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Yep, I\u0027ll do that, thanks for the background."},{"file":"docs/developer-guide/building.md","line":200,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"elsewhere, we use the simpler:\n\nsdc-vmadm ips -p $(sdc-vmname adminui)\n\nand so on. I don\u0027t know if it\u0027s *guaranteed* that the primary nic is the external one but it works right now?"},{"file":"docs/developer-guide/building.md","line":200,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"- Both techniques here assume the VM instance is on the headnode, which is generally fine for these instructions.\n- Using `sdc-vmadm ips -p` is fine. For all three of these services the external nic is set as the primary.\n- The *imgapi* block can probably be dropped from these instructions, because I don\u0027t see it used below?  The IPs for cloudapi and adminui *are* used below."},{"file":"docs/developer-guide/building.md","line":200,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I\u0027ll fix that, thanks."},{"file":"docs/developer-guide/building.md","line":244,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Or perhaps we could suggest using `sdcadm post-setup dev-sample-data` to\ncreate the public \"sample-*\" packages and have them use one of those? Rather than\nmucking with Triton\u0027s core packages. I\u0027m easy. There isn\u0027t a current downside\nto what you have."},{"file":"docs/developer-guide/building.md","line":244,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Thanks, I didn\u0027t know about dev-sample-data. Could there ever be a case where test scripts might try to modify those packages? Should we deliver \u0027dev-buildenv-packages\u0027 instead? Will leave this as is for now."},{"file":"docs/developer-guide/building.md","line":244,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"\u003e Could there ever be a case where test scripts might try to modify those packages?\n\nI don\u0027t think so. It is possible, of course, but I think it would be a bug for a given test suite to muck with packages it didn\u0027t create itself.\n\nTotally fine leaving as is."},{"file":"docs/developer-guide/building.md","line":248,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Please use `this.name ...` in the argument to `json`. The form without the\n`this.` will not work in modern `json` (but will live forever in the ancient\n/usr/bin/json in the platform)."},{"file":"docs/developer-guide/building.md","line":248,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Will do, thanks"},{"file":"docs/developer-guide/building.md","line":288,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Is this note necessary? We already described this above?\n\nIf so, maybe s/note/Note/"},{"file":"docs/developer-guide/building.md","line":288,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I\u0027ll remove that, thanks."},{"file":"docs/developer-guide/building.md","line":302,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Or perhaps we could suggest they just make the image public so it is available\nto all? `sdc-imgadm update $uuid public\u003dtrue`"},{"file":"docs/developer-guide/building.md","line":302,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"That\u0027s much nicer, I\u0027ll use that by default, and mention that you can set `owner` otherwise."},{"file":"docs/developer-guide/building.md","line":392,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"This JSON payload should use the *package uuid* (i.e. `... \"billing_id\": \"$packageUuid\"`)\nrather than specifying:\n\n```\n  \"cpu_cap\": 400,\n  \"ram\": 8192,\n  \"quota\": 100,\n```\n\nright?   I mean... Triton will cope with either."},{"file":"docs/developer-guide/building.md","line":392,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Yeah, that\u0027s my lack of familiarity with Triton (I might also have been scared (scarred?) by MANTA-2843)  I\u0027ll switch to package uuid and document how to obtain that. We did that earlier in the document, but repeating it here would be helpful."},{"file":"docs/developer-guide/building.md","line":415,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"That gives me the impression you might misunderstand that `sdc-vmadm create`\nand `sdc-vmapi /vms -X POST ...` should both be usable even if `server_uuid`\nis elided from the JSON payload.\n\nOr does `sdc-vmadm create` error out if `server_uuid` isn\u0027t provided?"},{"file":"docs/developer-guide/building.md","line":415,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I think this is back to my experimenting around with needing to set cpu_caps and server_uuid when dealing with installations that have manta present, where otherwise we\u0027ll fail to provision ( MANTA-2843 again).  On a system without a configured Manta, leaving out server_uuid worked fine.\n\nI\u0027ll omit the sdc-vmapi example given that it does the same thing as sdc-vmadm create here (though I wish somewhere that we gave an example of \"-X POST -d@- \u003c json\" because I always forget how to do that!)"},{"file":"docs/developer-guide/building.md","line":462,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"IIRC this doesn\u0027t work? Complaining about \"v\" or some such?"},{"file":"docs/developer-guide/building.md","line":462,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Here is a verbose logging run of that: https://gist.github.com/trentm/d9aa479722e86756a6907aba3c56d528\n\nFrom this line we can see that it is messing up the GET url to updates.joyent.com:\nhttps://gist.github.com/trentm/d9aa479722e86756a6907aba3c56d528#file-import-out-L40\n\nI believe that `imgadm import -S ...` handling of source URLs does not currently support channels.\n\nOptions:\n\n1. add support for this to imgadm (Ah. It looks like Tim already found this in OS-7601)\n2. add all these jenkins-agent images to the \"dev\" channel. I\u0027d be fine with that. That would help other discoverability as well.\n3. Just elide this command and only show the subsequent \"or download the image manifest and image file and import by hand\" steps."},{"file":"docs/developer-guide/building.md","line":462,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"If we can get 2) done that\u0027d be amazing, who should we ping for that?"},{"file":"docs/developer-guide/building.md","line":462,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Thanks, I\u0027d forgotten about that restriction. I\u0027ll modify the text to say that some platforms don\u0027t have support for channels yet, and try to get around to fixing it."},{"file":"docs/developer-guide/building.md","line":584,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Do we want a (brief?) section on actually deploying your new bits?"},{"file":"docs/developer-guide/building.md","line":584,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"This doc is already pretty long and perhaps deploying notes is out of scope? This could link to http://joyent.github.io/manta/#manta-services-upgrades and https://github.com/joyent/sdcadm/blob/master/docs/update.md perhaps."},{"file":"docs/developer-guide/building.md","line":584,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"That\u0027d be great, yep."},{"file":"docs/developer-guide/building.md","line":584,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Maybe once I break up the document into a few files there\u0027ll be a chance to add that. I\u0027d like to do that as part of a separate bug."},{"file":"docs/developer-guide/building.md","line":586,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"is this valid markdown?"},{"file":"docs/developer-guide/building.md","line":586,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Yes. Markdown allows (with some limitations/restrictions, also some renderers disable this in some contexts) top-level HTML. https://daringfireball.net/projects/markdown/syntax#html"},{"file":"docs/developer-guide/building.md","line":586,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"thanks for the reference! I had just trial/errored this :-)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":745,"deletions":-379},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":749,"sizeDeletions":-391},{"number":"6","revision":"92e2c85de029ab8908a9233a484eaa7789807b77","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/6","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560165266,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560165269,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/developer-guide/building.md","line":44,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"nit, \"specific\""},{"file":"docs/developer-guide/building.md","line":44,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"thanks!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":721,"deletions":-375},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":725,"sizeDeletions":-387},{"number":"7","revision":"56cabcb2f5a0485cdbc5befb23d7a8520c200ce4","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/7","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560171867,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560171870,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":282,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":316,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":189,"deletions":-469},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":869,"sizeDeletions":-481},{"number":"8","revision":"dd6626bcc68f65286bba5f14f95a99f040087b19","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/8","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560177416,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560177419,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":282,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":316,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":189,"deletions":-469},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":869,"sizeDeletions":-481},{"number":"9","revision":"d3acc188da1694d7e4a870e3acb1ffab24d65aa0","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/9","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560184954,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560184957,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560192397,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":282,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":314,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":189,"deletions":-469},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":867,"sizeDeletions":-481},{"number":"10","revision":"5cc104dae9888774b8dae1815abbfd4ce5b4d196","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/10","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560240361,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560240364,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"docs/developer-guide/build-zone-setup-triton.md","line":33,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"\"If we don\u0027t\"... ?"},{"file":"docs/developer-guide/build-zone-setup-triton.md","line":33,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I was assuming a coal setup here, but yes, I\u0027ll reword this a little bit to make it clearer."},{"file":"docs/developer-guide/build-zone-setup-triton.md","line":44,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"You mention imgapi here still, but don\u0027t show it."},{"file":"docs/developer-guide/build-zone-setup-triton.md","line":44,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Ah yep, I think I was planning to write something to document how to publish directly to a locally configured Manta + imgapi installation during the build. Probably overkill, I\u0027ll remove this, thanks."},{"file":"docs/developer-guide/build-zone-setup-triton.md","line":83,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I thought we were going to use the sample data packages instead?"},{"file":"docs/developer-guide/build-zone-setup-triton.md","line":83,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Trent didn\u0027t seem to think it mattered either way.\n\nDoing \u0027sdcadm post-setup dev-sample-data\u0027 installs a bunch of images, which takes a while (and includes a few pretty old 16.04 LTS ubuntu ones, which I wonder if we really still need?)\n\nI\u0027d rather skip that unless you feel strongly about it."},{"file":"docs/developer-guide/build-zone-setup-triton.md","line":129,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Is this note necessary? Why would it be downloaded? Prefer brevity here."},{"file":"docs/developer-guide/build-zone-setup-triton.md","line":129,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Having an example of manual image import I thought might be helpful when considering manta installs (to install that giant marlin image) and to manually deploy bits from a user\u0027s workspace\n\nI\u0027ll remove this, and perhaps talk about it when I write that other document on deployment."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":282,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":314,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":190,"deletions":-469},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":868,"sizeDeletions":-481},{"number":"11","revision":"ba091f2981b190e2b7192c5cdf5e93f2a7ac6939","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/11","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560336789,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560336791,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560337699,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":276,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":314,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":193,"deletions":-468},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":865,"sizeDeletions":-480},{"number":"12","revision":"93e062a7cb21737c18e1e81949f796a13457c1e0","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/12","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560346467,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560336791,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560378663,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560378663,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560369764,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560447523,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560337699,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":276,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":314,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":193,"deletions":-468},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":865,"sizeDeletions":-480},{"number":"13","revision":"cf6039553132354817dccfe673316254de94682a","parents":["81a9725dded618f6ca0ed639d986a453d1d0dfaf"],"ref":"refs/changes/49/6349/13","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1560502061,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1560336791,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560378663,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1560378663,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560369764,"by":{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560447523,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1560337699,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1560502090,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":12,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-smartos.md","type":"ADDED","insertions":78,"deletions":0},{"file":"docs/developer-guide/build-zone-setup-triton.md","type":"ADDED","insertions":276,"deletions":0},{"file":"docs/developer-guide/build-zone-setup.md","type":"ADDED","insertions":314,"deletions":0},{"file":"docs/developer-guide/building.md","type":"MODIFIED","insertions":193,"deletions":-468},{"file":"docs/developer-guide/repos.md","type":"MODIFIED","insertions":0,"deletions":-2},{"file":"etc/repos.json","type":"MODIFIED","insertions":4,"deletions":-7},{"file":"repos.json","type":"MODIFIED","insertions":0,"deletions":-3}],"sizeInsertions":865,"sizeDeletions":-480}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}