{"project":"joyent/sdc-sapi","branch":"master","id":"Ib8dc8cc7576c7396ba873acf053180ede007ee3b","number":"3071","subject":"SAPI-298 remove network validation from SAPI Reviewed by: Cody Mello \u003ccody.mello@joyent.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/3071","commitMessage":"SAPI-298 remove network validation from SAPI\nReviewed by: Cody Mello \u003ccody.mello@joyent.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1512759227,"lastUpdated":1513346726,"open":false,"status":"MERGED","comments":[{"timestamp":1512759227,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1512760685,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\n(4 comments)"},{"timestamp":1512769943,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1513196311,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2."},{"timestamp":1513196337,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1513197091,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3."},{"timestamp":1513197117,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1513200194,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1513207482,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\n(2 comments)"},{"timestamp":1513284719,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4."},{"timestamp":1513284745,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1513284745,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 4:\n\nupdated per Trent\u0027s comments.  Re-ran sapi tests."},{"timestamp":1513288671,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1513322544,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1513346497,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1513346523,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1513346636,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1513346726,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"6","revision":"b8dc8cc7576c7396ba873acf053180ede007ee3b","parents":["dddb38750360f402dcabdd58726616137f511fa3"],"ref":"refs/changes/71/3071/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1513346636,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513284745,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513288671,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1513346726,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/server/attributes.js","type":"MODIFIED","insertions":27,"deletions":-131},{"file":"lib/server/model.js","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"test/instances.test.js","type":"MODIFIED","insertions":81,"deletions":-40}],"sizeInsertions":108,"sizeDeletions":-176},"patchSets":[{"number":"1","revision":"e02bf892b09e0cbc36c41789c47b53af4d298196","parents":["ccab35148089aab19d5191dae183cffbb898bc1f"],"ref":"refs/changes/71/3071/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1512759227,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1512769943,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/server/attributes.js","line":333,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Put curly brackets around the bodies."},{"file":"lib/server/attributes.js","line":335,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You can write this as:\n\n    assert.object(net, \u0027net\u0027);"},{"file":"lib/server/attributes.js","line":339,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Since you\u0027re updating networks, I don\u0027t think the delete here\u0027s needed."},{"file":"test/instances.test.js","line":983,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I think this logic would be better placed in the calls to runone below, and then passing in the networks array as the first argument."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server/attributes.js","type":"MODIFIED","insertions":28,"deletions":-131},{"file":"test/instances.test.js","type":"MODIFIED","insertions":78,"deletions":-41}],"sizeInsertions":106,"sizeDeletions":-172},{"number":"2","revision":"f7d2b01473e6783b76abf0270134169551198d13","parents":["ccab35148089aab19d5191dae183cffbb898bc1f"],"ref":"refs/changes/71/3071/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1513196311,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513196337,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server/attributes.js","type":"MODIFIED","insertions":29,"deletions":-131},{"file":"test/instances.test.js","type":"MODIFIED","insertions":81,"deletions":-40}],"sizeInsertions":110,"sizeDeletions":-171},{"number":"3","revision":"b7e6d8b338765a03e1834f9f98b5fbc5207794b0","parents":["ccab35148089aab19d5191dae183cffbb898bc1f"],"ref":"refs/changes/71/3071/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1513197091,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513200194,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513197117,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/server/attributes.js","line":53,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Why export this?"},{"file":"lib/server/model.js","line":219,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"It would be nice to remove all `napi` usage under sdc-sapi/lib/...\n\nI understand that config.napi is still used by the *test* suite (as is config.papi). IMO, it would be nice to rip that out and put the burden of setting $NAPI_URL (and $PAPI_URL) envvars as part of `test/runtests`. However, that\u0027s for a separate ticket."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server/attributes.js","type":"MODIFIED","insertions":28,"deletions":-131},{"file":"test/instances.test.js","type":"MODIFIED","insertions":81,"deletions":-40}],"sizeInsertions":109,"sizeDeletions":-171},{"number":"4","revision":"293ff79b88d9045d4fd259b443977f242b950c7a","parents":["ccab35148089aab19d5191dae183cffbb898bc1f"],"ref":"refs/changes/71/3071/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1513284719,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513288671,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513284745,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server/attributes.js","type":"MODIFIED","insertions":27,"deletions":-131},{"file":"lib/server/model.js","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"test/instances.test.js","type":"MODIFIED","insertions":81,"deletions":-40}],"sizeInsertions":108,"sizeDeletions":-176},{"number":"5","revision":"22a8e2aca96f4e65e5b612879070269ad1230929","parents":["dddb38750360f402dcabdd58726616137f511fa3"],"ref":"refs/changes/71/3071/5","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1513346497,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513288671,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513284745,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/server/attributes.js","type":"MODIFIED","insertions":27,"deletions":-131},{"file":"lib/server/model.js","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"test/instances.test.js","type":"MODIFIED","insertions":81,"deletions":-40}],"sizeInsertions":108,"sizeDeletions":-176},{"number":"6","revision":"b8dc8cc7576c7396ba873acf053180ede007ee3b","parents":["dddb38750360f402dcabdd58726616137f511fa3"],"ref":"refs/changes/71/3071/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1513346636,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513288671,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1513284745,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1513322544,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1513346726,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/server/attributes.js","type":"MODIFIED","insertions":27,"deletions":-131},{"file":"lib/server/model.js","type":"MODIFIED","insertions":0,"deletions":-5},{"file":"test/instances.test.js","type":"MODIFIED","insertions":81,"deletions":-40}],"sizeInsertions":108,"sizeDeletions":-176}],"allReviewers":[{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}]}