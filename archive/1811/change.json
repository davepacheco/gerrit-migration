{"project":"joyent/moray-test-suite","branch":"master","topic":"MORAY-104","id":"I8841083d1e98d98efef0ce514d5533a9f65a0a83","number":"1811","subject":"MORAY-104 moray: disallow filtering on non-indexed fields except interactively Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Reviewed by: David Pacheco \u003cdap@joyent.com\u003e Approved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e","owner":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"url":"https://cr.joyent.us/1811","commitMessage":"MORAY-104 moray: disallow filtering on non-indexed fields except interactively\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nReviewed by: David Pacheco \u003cdap@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1492641092,"lastUpdated":1496356415,"open":false,"status":"MERGED","comments":[{"timestamp":1492641092,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 1."},{"timestamp":1492641100,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(4 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1492641785,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 2."},{"timestamp":1492641795,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1492801895,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2: Code-Review+1\n\n(10 comments)"},{"timestamp":1493075119,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(10 comments)"},{"timestamp":1493075147,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 3."},{"timestamp":1493075152,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1493321264,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1\n\n(1 comment)"},{"timestamp":1493403090,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3: Code-Review+1\n\n(1 comment)"},{"timestamp":1493760630,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1493918305,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Topic set to MORAY-104"},{"timestamp":1493924922,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1494344517,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 4."},{"timestamp":1494344527,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1494344551,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3:\n\n(1 comment)"},{"timestamp":1494351517,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 5."},{"timestamp":1494351522,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1494353889,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 5: Code-Review+1"},{"timestamp":1494546751,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 6."},{"timestamp":1494546756,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1494546804,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 6:\n\nThe latest patch set (patch set #6) adds a test for the new \"-i\" command line option added for the \"findobjects\" program in bin/."},{"timestamp":1494548419,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 7."},{"timestamp":1494548425,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1494548465,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Uploaded patch set 8."},{"timestamp":1494548470,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1494548504,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 8:\n\npatch set #8 is just a continuation of patch set #6: it adds a test for findobjects -i _after_ the bucket is reindexed."},{"timestamp":1494626359,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1496103897,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 8:\n\nI\u0027ve added some information about how these changes were tested in the associated JIRA ticket."},{"timestamp":1496342957,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 8: Code-Review+1 Integration-Approval+1"},{"timestamp":1496355109,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 9: Commit message was updated."},{"timestamp":1496356415,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Julien Gilli"}],"currentPatchSet":{"number":"9","revision":"897473458ea9110651de1788f50018ba3f623ae4","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/9","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1496355109,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494548470,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1494626359,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496342957,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496342957,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1496356415,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/cli-sanity.test.js","type":"MODIFIED","insertions":36,"deletions":0},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":543,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":591,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"cd856d82218019eee333b8b83d490db512f7f6cd","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/1","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1492641092,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1492641100,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/findobjects-requireindexes.test.js","line":24,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: expected an assignment or function call"},{"file":"test/findobjects-requireindexes.test.js","line":325,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: redeclaration of createTest"},{"file":"test/findobjects-requireindexes.test.js","line":365,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: redeclaration of createTest"},{"file":"test/findobjects-requireindexes.test.js","line":405,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: redeclaration of createTest"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":529,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":541,"sizeDeletions":-7},{"number":"2","revision":"bb0ad29bbd45bc61e7f351b36302a1be759109ff","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/2","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1492641785,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1492801895,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1492641795,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/findobjects-requireindexes.test.js","line":160,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You can use hasCauseWithName() instead of comparing the result with null."},{"file":"test/findobjects-requireindexes.test.js","line":160,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good idea, will fix!"},{"file":"test/findobjects-requireindexes.test.js","line":165,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"s/shoult/should/"},{"file":"test/findobjects-requireindexes.test.js","line":165,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"That\u0027s a fun one, good catch! :)"},{"file":"test/findobjects-requireindexes.test.js","line":172,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"There\u0027s only ever one object returned, right? I think that it\u0027d be good to deepEqual() it and show that findObjects() is passing the correct \"ignore\" array to rowToObject()."},{"file":"test/findobjects-requireindexes.test.js","line":172,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"We _expect_ only one object to be returned most of the time (that is, when we don\u0027t expect an error), but we don\u0027t know in advance how many objects will be returned.\n\nI don\u0027t understand what you mean by:\n\n\u003e I think that it\u0027d be good to deepEqual() it and show that findObjects() is passing the correct \"ignore\" array to rowToObject().\n\nThe code in joyent/moray\u0027s lib/objects/find.js doesn\u0027t see to pass an \"ignore\" argument to \"rowToObject\"."},{"file":"test/findobjects-requireindexes.test.js","line":172,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Sorry, I should have been clearer here. This is in reference to my comment in the joyent/moray CR. If we\u0027re going to be supporting fetching objects before reindexing is done, I think we should have tests showing that getObject() and findObjects() return the correct value for the newly indexed field."},{"file":"test/findobjects-requireindexes.test.js","line":177,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You can use t.fail() here."},{"file":"test/findobjects-requireindexes.test.js","line":177,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good suggestion, will fix!"},{"file":"test/findobjects-requireindexes.test.js","line":179,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"You can use t.pass() here."},{"file":"test/findobjects-requireindexes.test.js","line":179,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good suggestion, will fix!"},{"file":"test/findobjects-requireindexes.test.js","line":208,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"s/ifError/ifErr/ for consistency with the rest of the file."},{"file":"test/findobjects-requireindexes.test.js","line":208,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Will fix."},{"file":"test/findobjects-requireindexes.test.js","line":257,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Need an opening \u0027{\u0027 after this \u0027(\u0027."},{"file":"test/findobjects-requireindexes.test.js","line":257,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good catch, will fix (along with other similar occurrences)."},{"file":"test/findobjects-requireindexes.test.js","line":286,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Opening \u0027{\u0027 here."},{"file":"test/findobjects-requireindexes.test.js","line":286,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good catch, will fix."},{"file":"test/findobjects-requireindexes.test.js","line":367,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Opening \u0027{\u0027 here."},{"file":"test/findobjects-requireindexes.test.js","line":367,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Will fix."},{"file":"test/findobjects-requireindexes.test.js","line":525,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"s/ifError/ifErr/ for consistency with the rest of the file."},{"file":"test/findobjects-requireindexes.test.js","line":525,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Good catch, will fix."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":533,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":545,"sizeDeletions":-7},{"number":"3","revision":"5b606c28afe4a3ffab9cdabb058024b336508e02","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/3","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1493075147,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493403090,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1493321264,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1493075152,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/findobjects-requireindexes.test.js","line":21,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I think it\u0027s clearest if comments reflect the current state of the repo rather than emphasizing transitions (like \"we used to do X\") unless that context is relevant to a reader today.  In this case, once the feature is integrated, it\u0027s just as first-class as any other, and I don\u0027t think you need to talk about this is a new thing.  These are just a bunch of tests that exercise the \"requireIndexes\" option.  (Obviously, this note is not very important.)"},{"file":"test/findobjects-requireindexes.test.js","line":21,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Would:\n\n\"This file implements a tests suite for the \"requireIndexes\" option of findObjects requests.\"\n\nbe better?"},{"file":"test/findobjects-requireindexes.test.js","line":21,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Sounds good!"},{"file":"test/findobjects-requireindexes.test.js","line":21,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":533,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":545,"sizeDeletions":-7},{"number":"4","revision":"08dc43e371e5f41b0d133d14491b812c9620e702","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/4","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1494344517,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494344527,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":525,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":537,"sizeDeletions":-7},{"number":"5","revision":"e2d842366f3ece2646344f3da944c57ce78f230b","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/5","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1494351517,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1494353889,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494351522,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":543,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":555,"sizeDeletions":-7},{"number":"6","revision":"63bd06fd2b59adb22eae4d38b2b67eedca1773aa","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/6","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1494546751,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494546756,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/cli-sanity.test.js","type":"MODIFIED","insertions":21,"deletions":0},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":543,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":576,"sizeDeletions":-7},{"number":"7","revision":"2eaf03fd8b3f09c3b3c697b81dce43c29b78ab26","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/7","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1494548419,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1494548425,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/cli-sanity.test.js","line":205,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: redeclaration of findObjectsRequireIndexes"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/cli-sanity.test.js","type":"MODIFIED","insertions":36,"deletions":0},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":543,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":591,"sizeDeletions":-7},{"number":"8","revision":"8841083d1e98d98efef0ce514d5533a9f65a0a83","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/8","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1494548465,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1494626359,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496342957,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496342957,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494548470,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/cli-sanity.test.js","type":"MODIFIED","insertions":36,"deletions":0},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":543,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":591,"sizeDeletions":-7},{"number":"9","revision":"897473458ea9110651de1788f50018ba3f623ae4","parents":["ad95d7575ac16d7ed4bf721e3ded2e387c949c90"],"ref":"refs/changes/11/1811/9","uploader":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"createdOn":1496355109,"author":{"name":"Julien Gilli","email":"julien.gilli@joyent.com","username":""},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1494626359,"by":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1496342957,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1496342957,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1494548470,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1496356415,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/cli-sanity.test.js","type":"MODIFIED","insertions":36,"deletions":0},{"file":"test/findobjects-requireindexes.test.js","type":"ADDED","insertions":543,"deletions":0},{"file":"test/helper.js","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"test/objects.test.js","type":"MODIFIED","insertions":5,"deletions":-5}],"sizeInsertions":591,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}]}