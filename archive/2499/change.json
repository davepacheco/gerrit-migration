{"project":"joyent/illumos-joyent","branch":"master","topic":"OS-6324","id":"I9094e8556e7c00d1961a4dbff4777f615669fba8","number":"2499","subject":"OS-6324 Need support for LSI 9305-24i Reviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e Reviewed by: Hans Rosenfeld \u003chans.rosenfeld@joyent.com\u003e Approved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e","owner":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"url":"https://cr.joyent.us/2499","commitMessage":"OS-6324 Need support for LSI 9305-24i\nReviewed by: Dan McDonald \u003cdanmcd@joyent.com\u003e\nReviewed by: Hans Rosenfeld \u003chans.rosenfeld@joyent.com\u003e\nApproved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\n","createdOn":1504657811,"lastUpdated":1505350129,"open":false,"status":"MERGED","comments":[{"timestamp":1504657811,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 1."},{"timestamp":1504658129,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Topic set to OS-6324"},{"timestamp":1504724281,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1:\n\nI thought for some bizarre reason this driver checked PCI IDs at attach time.  (Maybe I\u0027m confusing it with mr_sas?)  Anyway, it seems that nothing in the code breaks when you increase the sizeof (mptsas_phymask_t).  And there are no 32-port models coming?"},{"timestamp":1504724407,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n\u003e I thought for some bizarre reason this driver checked PCI IDs at\n \u003e attach time.  (Maybe I\u0027m confusing it with mr_sas?)  Anyway, it\n \u003e seems that nothing in the code breaks when you increase the sizeof\n \u003e (mptsas_phymask_t).  And there are no 32-port models coming?\n\nI don\u0027t currently know of any 32-port models. We\u0027d probably want to tackle that when those models exist. And no, I don\u0027t know of anything that checks the PCI ID in the attach path. The bigger problem for this one at least was the way we changed on the MPI version."},{"timestamp":1504725212,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 1: Code-Review+1\n\nOkay."},{"timestamp":1505210497,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1505255757,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 2."},{"timestamp":1505255764,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\nI forgot some pbchk related items."},{"timestamp":1505258756,"reviewer":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},"message":"Patch Set 2: Code-Review+1\n\nGood with the pbchk stuff."},{"timestamp":1505290768,"reviewer":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1505337495,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1505337910,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1505337956,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1505350129,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Robert Mustacchi"}],"currentPatchSet":{"number":"4","revision":"9094e8556e7c00d1961a4dbff4777f615669fba8","parents":["16ee9a3d03358376b04be02470c63268cabf6bab"],"ref":"refs/changes/99/2499/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1505337956,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505258756,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505290768,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505337495,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1505350129,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_impl.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_init.c","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/scsi/adapters/mpt_sas/mptsas_var.h","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":26,"sizeDeletions":-16},"patchSets":[{"number":"1","revision":"fd2d2a9d540866b615e6c342eb932bacffa1e01c","parents":["58cb9430032e4f58eaafab0be2b42662cb3f1180"],"ref":"refs/changes/99/2499/1","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1504657811,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505210497,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505210497,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1504725212,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_impl.c","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_init.c","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"usr/src/uts/common/sys/scsi/adapters/mpt_sas/mptsas_var.h","type":"MODIFIED","insertions":2,"deletions":-4}],"sizeInsertions":15,"sizeDeletions":-6},{"number":"2","revision":"b0a4d866c5816166dbe575c1dae81a228ef5f6e8","parents":["58cb9430032e4f58eaafab0be2b42662cb3f1180"],"ref":"refs/changes/99/2499/2","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1505255757,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505337495,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505290768,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505258756,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_impl.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_init.c","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/scsi/adapters/mpt_sas/mptsas_var.h","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":26,"sizeDeletions":-16},{"number":"3","revision":"3e8556acb8b99e2996326e14cce92807c8f91e8e","parents":["16ee9a3d03358376b04be02470c63268cabf6bab"],"ref":"refs/changes/99/2499/3","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1505337910,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505337495,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505290768,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505258756,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_impl.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_init.c","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/scsi/adapters/mpt_sas/mptsas_var.h","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":26,"sizeDeletions":-16},{"number":"4","revision":"9094e8556e7c00d1961a4dbff4777f615669fba8","parents":["16ee9a3d03358376b04be02470c63268cabf6bab"],"ref":"refs/changes/99/2499/4","uploader":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"createdOn":1505337956,"author":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1505350129,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1505337495,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505290768,"by":{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1505258756,"by":{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_impl.c","type":"MODIFIED","insertions":13,"deletions":-2},{"file":"usr/src/uts/common/io/scsi/adapters/mpt_sas/mptsas_init.c","type":"MODIFIED","insertions":10,"deletions":-9},{"file":"usr/src/uts/common/sys/scsi/adapters/mpt_sas/mptsas_var.h","type":"MODIFIED","insertions":3,"deletions":-5}],"sizeInsertions":26,"sizeDeletions":-16}],"allReviewers":[{"name":"Hans Rosenfeld","email":"hans.rosenfeld@joyent.com","username":"hrosenfeld"},{"name":"Dan McDonald","email":"danmcd@joyent.com","username":"danmcd"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}]}