{"project":"joyent/illumos-joyent","branch":"master","id":"I3843bb9b187919e79faf125f8ef4d7979a130486","number":"3523","subject":"OS-6513 Add platform-specific topo maps for the Joyent J330x Compute Platform OS-6657 Add test mechanism to sensor-transport module for spoofing sensor states OS-6710 need to handle SP\u0027s that present multiple sensors with the same entity name Reviewed by:","owner":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"url":"https://cr.joyent.us/3523","commitMessage":"OS-6513 Add platform-specific topo maps for the Joyent J330x Compute Platform\nOS-6657 Add test mechanism to sensor-transport module for spoofing sensor states\nOS-6710 need to handle SP\u0027s that present multiple sensors with the same entity name\nReviewed by: Robert Mustacchi \u003crm@joyent.com\u003e\nApproved by: Joshua M. Clulow \u003cjmc@joyent.com\u003e\n","createdOn":1519868559,"lastUpdated":1523041396,"open":false,"status":"MERGED","comments":[{"timestamp":1519868559,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 1."},{"timestamp":1519883615,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 1:\n\n(6 comments)"},{"timestamp":1519939972,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 2."},{"timestamp":1519940001,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 2:\n\n(6 comments)"},{"timestamp":1520561324,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 3: Patch Set 2 was rebased."},{"timestamp":1522798867,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 4."},{"timestamp":1522799227,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 5."},{"timestamp":1522801245,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1"},{"timestamp":1522801319,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 5: -Integration-Approval"},{"timestamp":1522863209,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 6."},{"timestamp":1522863385,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 6: Code-Review+1"},{"timestamp":1522864774,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1523039412,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 7:\n\n(4 comments)"},{"timestamp":1523040557,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 8."},{"timestamp":1523040608,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Patch Set 8:\n\n(4 comments)\n\nnits fixed"},{"timestamp":1523040794,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Patch Set 8: Code-Review+1"},{"timestamp":1523041110,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 8: Integration-Approval+1\n\nTesting notes look good to me!  Thanks for the nit cleanup."},{"timestamp":1523041203,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 9: Patch Set 8 was rebased."},{"timestamp":1523041368,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Uploaded patch set 10: Commit message was updated."},{"timestamp":1523041396,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rob Johnston"}],"currentPatchSet":{"number":"10","revision":"3843bb9b187919e79faf125f8ef4d7979a130486","parents":["58cc4d26d2f2ea99f0f9aa988f720d8782bd9bb6"],"ref":"refs/changes/23/3523/10","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1523041368,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1523040794,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1523041110,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1523041396,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":47,"deletions":-8},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-35},"patchSets":[{"number":"1","revision":"02a0b67ce509533253dd6b82fbb1117724fcdae6","parents":["899e8e86192afce363b05b30f79590eef12b9724"],"ref":"refs/changes/23/3523/1","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1519868559,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","comments":[{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","line":192,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"I guess we don\u0027t care about the return value by default since this won\u0027t modify injected which is set to false?"},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","line":192,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Yeah, exactly."},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","line":396,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Was this removed because of the spoofing or for another reason?"},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","line":396,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"The only consumer of this method is the sensor-transport module and it already had this exact same check in st_check_component(), so it seemed redundant."},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","line":376,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Why don\u0027t we check this error code?"},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","line":376,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Oversight on my part - fixed."},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","line":23,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Trim trailing white space, here and elsewhere?"},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","line":23,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","line":23,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Trim the trailing whitespace here and elsewhere?"},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","line":23,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","line":328,"reviewer":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},"message":"Is zero a good default value for e_id and e_inst in this case? It looks like it\u0027s not really a traditionally sensor, so having it be zero is probably fine."},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","line":328,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Yeah, I don\u0027t entirely understand what this record is really used for, but from looking at section 43.10 of the spec, it doesn\u0027t have an entity name, id or instance, so lookups aren\u0027t going to work for it either way.  You\u0027d just have to iterate through all of the records looking by record type."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":53,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":731,"sizeDeletions":-36},{"number":"2","revision":"ec0dd20075bf96063b0346c965a8d9ae81b31cf0","parents":["899e8e86192afce363b05b30f79590eef12b9724"],"ref":"refs/changes/23/3523/2","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1519939972,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-36},{"number":"3","revision":"d3fc3e0a3555c26297474026e2b9407b41962e90","parents":["d38f0be9359bf06ba03adf1de3d2656ff80b77e7"],"ref":"refs/changes/23/3523/3","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1520561324,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-36},{"number":"4","revision":"9bb4ef0c44b8f65667385904ea8311201ac10621","parents":["33bcab42a282d0baf14fdb9b4b8b084a8f56bd55"],"ref":"refs/changes/23/3523/4","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1522798867,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-36},{"number":"5","revision":"160cf991e296963ed6ec2660c2c42510af6b5fcb","parents":["33bcab42a282d0baf14fdb9b4b8b084a8f56bd55"],"ref":"refs/changes/23/3523/5","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1522799227,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522801245,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":4,"deletions":0},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":731,"sizeDeletions":-36},{"number":"6","revision":"2b4f711583e691bf07d41d9440f67327277363d5","parents":["33bcab42a282d0baf14fdb9b4b8b084a8f56bd55"],"ref":"refs/changes/23/3523/6","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1522863209,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522863385,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-37},{"number":"7","revision":"707a835f6df6d5b595e1357e702e747da40ece7f","parents":["84636c8082b9aee9413dca55149c8d17a373523e"],"ref":"refs/changes/23/3523/7","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1522864774,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1522863385,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}}],"comments":[{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","line":25,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Stray hard tab."},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","line":25,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","line":39,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Stray hard tab."},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","line":39,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","line":32,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"There are a few stray hard tabs in this file, which is mostly space-indented.  Can we use spaces everywhere?"},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","line":32,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","line":26,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Can we make this consistent with the other Copyright notices; i.e.\n\n    /*\n     * Copyright (c) 2018, Joyent, Inc.\n     */"},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","line":26,"reviewer":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":38,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-37},{"number":"8","revision":"ec636eb12cd33b68fae4e555f72f4a7337248029","parents":["84636c8082b9aee9413dca55149c8d17a373523e"],"ref":"refs/changes/23/3523/8","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1523040557,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1523040794,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1523041110,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":48,"deletions":-9},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":734,"sizeDeletions":-37},{"number":"9","revision":"4d2eb321231fb9cd9f53ccfc1ee9366b1fd87bb5","parents":["58cc4d26d2f2ea99f0f9aa988f720d8782bd9bb6"],"ref":"refs/changes/23/3523/9","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1523041203,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1523040794,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1523041110,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":47,"deletions":-8},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-35},{"number":"10","revision":"3843bb9b187919e79faf125f8ef4d7979a130486","parents":["58cc4d26d2f2ea99f0f9aa988f720d8782bd9bb6"],"ref":"refs/changes/23/3523/10","uploader":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"createdOn":1523041368,"author":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1523040794,"by":{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1523041110,"by":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"}},{"type":"SUBM","value":"1","grantedOn":1523041396,"by":{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"manifest","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"usr/src/cmd/fm/modules/common/sensor-transport/sensor_transport.c","type":"MODIFIED","insertions":86,"deletions":-6},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.c","type":"MODIFIED","insertions":54,"deletions":-5},{"file":"usr/src/lib/fm/topo/libtopo/common/topo_method.h","type":"MODIFIED","insertions":11,"deletions":-1},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-3301-hc-topology.xml","type":"ADDED","insertions":251,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-chassis-hc-topology.xml","type":"ADDED","insertions":43,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Joyent-Compute-Platform-330x-fan-hc-topology.xml","type":"ADDED","insertions":127,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Joyent,Joyent-Compute-Platform-330x/Makefile","type":"ADDED","insertions":49,"deletions":0},{"file":"usr/src/lib/fm/topo/maps/Makefile","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/lib/fm/topo/modules/common/fac_prov_ipmi/fac_prov_ipmi.c","type":"MODIFIED","insertions":47,"deletions":-8},{"file":"usr/src/lib/libipmi/common/ipmi_sdr.c","type":"MODIFIED","insertions":40,"deletions":-12},{"file":"usr/src/lib/libipmi/common/libipmi.h","type":"MODIFIED","insertions":5,"deletions":-2},{"file":"usr/src/lib/libipmi/common/mapfile-vers","type":"MODIFIED","insertions":1,"deletions":0},{"file":"usr/src/pkg/manifests/service-fault-management.mf","type":"MODIFIED","insertions":12,"deletions":0}],"sizeInsertions":732,"sizeDeletions":-35}],"allReviewers":[{"name":"Robert Mustacchi","email":"rm+illumos@fingolfin.org","username":"rmustacc"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Rob Johnston","email":"rob.johnston@joyent.com","username":"rejohnst"}]}