{"project":"joyent/sdc-cloudapi","branch":"master","id":"Ib8e0adfcbed826a340a646034864fd5300c23434","number":"3214","subject":"PUBAPI-1476 Create a compatibility layer so that all cloudapi plugins can be used in sdc-docker, and vice versa DOCKER-1054 Provide provisioning limits plugin for sdc-docker similar to cloudapi functionality Reviewed by: Pedro P. Candel \u003cpedro@joyent.com\u003e","owner":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"url":"https://cr.joyent.us/3214","commitMessage":"PUBAPI-1476 Create a compatibility layer so that all cloudapi plugins can be used in sdc-docker, and vice versa\nDOCKER-1054 Provide provisioning limits plugin for sdc-docker similar to cloudapi functionality\nReviewed by: Pedro P. Candel \u003cpedro@joyent.com\u003e\nApproved by: Pedro P. Candel \u003cpedro@joyent.com\u003e\n","createdOn":1516017215,"lastUpdated":1521039256,"open":false,"status":"MERGED","comments":[{"timestamp":1516017215,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 1."},{"timestamp":1516017247,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516045200,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 2."},{"timestamp":1516045233,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516049425,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1516049748,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1516094400,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 4."},{"timestamp":1516094432,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1516179520,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 5: Patch Set 4 was rebased"},{"timestamp":1516179555,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1517215778,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 6."},{"timestamp":1517215816,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1519294884,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 7."},{"timestamp":1519294922,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1519817554,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 8: Patch Set 7 was rebased"},{"timestamp":1519817846,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 9: Patch Set 8 was rebased."},{"timestamp":1520247759,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 10: Patch Set 9 was rebased"},{"timestamp":1520383184,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1520473825,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9:\n\n\"make check\" passed ok"},{"timestamp":1520475023,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10:\n\n\"make check\" passed ok"},{"timestamp":1520614134,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 10: Code-Review+1 Integration-Approval+1\n\n(7 comments)\n\nI\u0027ve been testing and it\u0027s working fine as far as I can tell. Not sure if we may hit some edge cases in the future but, it definitely does the expected for every usage scenario I\u0027ve been able to figure out.\n\nMaybe it\u0027ll be worth updating the admin docs, even if it\u0027s as part of a separated issue?"},{"timestamp":1520739186,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 6:\n\n(2 comments)"},{"timestamp":1521033611,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 11."},{"timestamp":1521033646,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 11: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1521033690,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 12: Patch Set 11 was rebased."},{"timestamp":1521033725,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 12:\n\n\"make check\" passed ok"},{"timestamp":1521033774,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 12:\n\nPedro, if this passes CR/IA, please don\u0027t wait for me and just click the blue button to integrate it. I don\u0027t know if the release will branch on Wednesday or Thursday."},{"timestamp":1521039171,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 12: Code-Review+1 Integration-Approval+1"},{"timestamp":1521039256,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Pedro Palazón Candel"}],"currentPatchSet":{"number":"12","revision":"b8e0adfcbed826a340a646034864fd5300c23434","parents":["dd8636a93d91f430b09337667c2d6da6f87b383d"],"ref":"refs/changes/14/3214/12","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1521033690,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521033646,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521039171,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521039171,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1521039256,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"docs/admin.md","type":"MODIFIED","insertions":314,"deletions":-345},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":835,"deletions":-351},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":5094,"sizeDeletions":-2199},"patchSets":[{"number":"1","revision":"cf09259db615408f1c80ab05f1385b3de0f9f2b8","parents":["fcc5f22a8265a6f023c6ede2ee9e0f9691bbb1da"],"ref":"refs/changes/14/3214/1","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1516017215,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516017247,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":336,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":833,"deletions":-352},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":935,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1164,"deletions":0}],"sizeInsertions":4714,"sizeDeletions":-1843},{"number":"2","revision":"fec1e58b14ec12d5526288ea9174c48a74d059db","parents":["fcc5f22a8265a6f023c6ede2ee9e0f9691bbb1da"],"ref":"refs/changes/14/3214/2","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1516045200,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516045233,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},"message":"There shouldn\u0027t be a colon here.  This commit message should read:\n\n    PUBAPI-1476 Create a compatibility layer so that all cloudapi plugins can be used in sdc-docker, and vice versa\n    DOCKER-1054 Provide provisioning limits plugin for sdc-docker similar to cloudapi functionality\n\nSee the example in \"eng.git\": https://github.com/joyent/eng/blob/master/docs/index.md#commit-comments"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":336,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":833,"deletions":-352},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":945,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1164,"deletions":0}],"sizeInsertions":4725,"sizeDeletions":-1852},{"number":"3","revision":"9dd629f5e4cad38fd15da12c4b2e7cd9ec4b857e","parents":["fcc5f22a8265a6f023c6ede2ee9e0f9691bbb1da"],"ref":"refs/changes/14/3214/3","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1516049748,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516045233,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":336,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":833,"deletions":-352},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":945,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1164,"deletions":0}],"sizeInsertions":4725,"sizeDeletions":-1852},{"number":"4","revision":"bab5de0d2e9ef78f6a874a4e7bdf58c9ecfb0e59","parents":["fcc5f22a8265a6f023c6ede2ee9e0f9691bbb1da"],"ref":"refs/changes/14/3214/4","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1516094400,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516094432,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":341,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":836,"deletions":-352},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":4782,"sizeDeletions":-1852},{"number":"5","revision":"bed5e6336034caac4558df38ce1c6eaeb7b54a9c","parents":["cb80f4c9c9b06a106cc7cad112c1b9e300691303"],"ref":"refs/changes/14/3214/5","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1516179520,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1516094432,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":341,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":836,"deletions":-352},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":4782,"sizeDeletions":-1852},{"number":"6","revision":"f2a1ffa1a9cdc64ed01d1f6cf4f5285721255e66","parents":["5702a346343ac9ce943d5a853b5328c1abddde84"],"ref":"refs/changes/14/3214/6","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1517215778,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1517215816,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/machines.js","line":21,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Not part of the issue really, but not used."},{"file":"lib/machines.js","line":29,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Not relevant for the issue but not used."},{"file":"lib/machines.js","line":1339,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"point"},{"file":"lib/plugin-manager.js","line":49,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Not used?"},{"file":"plugins/provision_limits.js","line":17,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Should we update this document?"},{"file":"plugins/provision_limits.js","line":17,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Oh, wow, yes!"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":836,"deletions":-352},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":4780,"sizeDeletions":-1852},{"number":"7","revision":"e38db576275203a039613436fb38606762c42c9b","parents":["45ba609f63de5fb74c0b0e2b35cc006bbaf440a5"],"ref":"refs/changes/14/3214/7","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1519294884,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519294922,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":835,"deletions":-351},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":4779,"sizeDeletions":-1851},{"number":"8","revision":"f8d3c38a9f5ed238a55403399c740f8ce58a990e","parents":["36195a3781c682df0af907c374a9a5b8cdb80b84"],"ref":"refs/changes/14/3214/8","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1519817554,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519294922,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":835,"deletions":-351},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":4779,"sizeDeletions":-1851},{"number":"9","revision":"7594b1462136d6213542440841bcb8f527dc1317","parents":["5cce474e93d17a4b0e961a1a05fbd0232e6478da"],"ref":"refs/changes/14/3214/9","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1519817846,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519294922,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":835,"deletions":-351},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":4779,"sizeDeletions":-1851},{"number":"10","revision":"5d10f08c1ff41f73e40e451d2db46004a925cb25","parents":["be3d217e813682e0be247ee03211e3abb13eb710"],"ref":"refs/changes/14/3214/10","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1520247759,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1519294922,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1520614134,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1520614134,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"comments":[{"file":"lib/machines.js","line":21,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"not used"},{"file":"lib/plugin-manager.js","line":49,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Not used"},{"file":"lib/plugin-manager.js","line":49,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"This is kept here to minimize the difference between cloudapi\u0027s and docker\u0027s plugin-manager.js. The docker version uses jsprim."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":24,"deletions":-3},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":835,"deletions":-351},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":4779,"sizeDeletions":-1851},{"number":"11","revision":"09e93800aee1acf91727cf457f79acd15cfbde68","parents":["e99534d263435e270018451b0def2153e17d7caf"],"ref":"refs/changes/14/3214/11","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1521033611,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521033646,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"docs/admin.md","type":"MODIFIED","insertions":314,"deletions":-345},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":835,"deletions":-351},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":5094,"sizeDeletions":-2199},{"number":"12","revision":"b8e0adfcbed826a340a646034864fd5300c23434","parents":["dd8636a93d91f430b09337667c2d6da6f87b383d"],"ref":"refs/changes/14/3214/12","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1521033690,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1521033646,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1521039171,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1521039171,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1521039256,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"docs/admin.md","type":"MODIFIED","insertions":314,"deletions":-345},{"file":"lib/app.js","type":"MODIFIED","insertions":283,"deletions":-417},{"file":"lib/machines.js","type":"MODIFIED","insertions":25,"deletions":-6},{"file":"lib/middleware/networks.js","type":"MODIFIED","insertions":6,"deletions":-1},{"file":"lib/nics.js","type":"MODIFIED","insertions":7,"deletions":-2},{"file":"lib/plugin-manager.js","type":"ADDED","insertions":339,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"plugins/capi_limits.js","type":"DELETED","insertions":0,"deletions":-164},{"file":"plugins/filter_owner_networks.js","type":"MODIFIED","insertions":107,"deletions":-228},{"file":"plugins/free_tier.js","type":"ADDED","insertions":125,"deletions":0},{"file":"plugins/jpc_free_tier.js","type":"DELETED","insertions":0,"deletions":-162},{"file":"plugins/machine_email.js","type":"MODIFIED","insertions":126,"deletions":-88},{"file":"plugins/provision_limits.js","type":"MODIFIED","insertions":835,"deletions":-351},{"file":"test/machines.test.js","type":"MODIFIED","insertions":1,"deletions":-9},{"file":"test/plugins/filter-owner-networks.test.js","type":"ADDED","insertions":292,"deletions":0},{"file":"test/plugins/filter_owner_networks.test.js","type":"DELETED","insertions":0,"deletions":-424},{"file":"test/plugins/free-tier.test.js","type":"ADDED","insertions":276,"deletions":0},{"file":"test/plugins/machine-email.test.js","type":"ADDED","insertions":198,"deletions":0},{"file":"test/plugins/plugin-manager.test.js","type":"ADDED","insertions":991,"deletions":0},{"file":"test/plugins/provision-limits.test.js","type":"ADDED","insertions":1167,"deletions":0}],"sizeInsertions":5094,"sizeDeletions":-2199}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Joshua M. Clulow","email":"jmc@joyent.com","username":"jclulow"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}]}