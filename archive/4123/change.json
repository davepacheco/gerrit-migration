{"project":"joyent/triton","branch":"master","id":"I87eba82f57220d64ef24d5fbc91ab5ce90ba1637","number":"4123","subject":"TRITON-463 consider adding joyent-maintained node lib repos to triton.git\u0027s repo manifest Reviewed by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e Approved by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/4123","commitMessage":"TRITON-463 consider adding joyent-maintained node lib repos to triton.git\u0027s repo manifest\nReviewed by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e\nApproved by: Chris Burroughs \u003cchris.burroughs@joyent.com\u003e\n","createdOn":1528146696,"lastUpdated":1529011755,"open":false,"status":"MERGED","comments":[{"timestamp":1528146696,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1528146697,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit d902969a9773e3c2a826e0e6e5badf7ca88cd02c\n    \n    a pass through remaining public joyent/node-* repos for those used in Triton-y repos\n    \n    commit a9ed2a306443c00e9c8634120e7fd869f8b3dde4\n    \n    add repos that were in engadm.git\u0027s repo list, it includes a start at reconsidering node-* lib repos"},{"timestamp":1528146699,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1528815279,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\nFor some cases (security advisories) working on the whole Triton dep graph is what we want.  For releases and friends I think the labels capture the basics there.  For the libraries I know a lot of the formatting, consistency, and best practices we would like to apply don\u0027t necessarily fit.  Maybe eventually a label to signify that a repo is in the trition-boilerplate quality regime?  I\u0027m not sure this is actionable yet.\n\nOthers to consider:\n * sdc-fast-stream (dep of sdc-firewaller-agent)\n * Several versions of node-sdc-clients still in use (by binder, config-agent, napi, and net-agent) depend on \nhttps://github.com/joyent/node-restify/commit/fd5d5b5  I\u0027m not sure how (if at all) that should be captured here\n * sdc-ur-agent (dep of mockcloud)  (Do you think of ur as more part of the OS?)\n * config-agent depends on this specific fork/commit https://github.com/joyent/hogan.js/commit/7d34ba7536b6d398ae97ea359ce6f4f005a40abb"},{"timestamp":1528931382,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\n\u003e Maybe eventually a label to signify that a repo is in the trition-boilerplate quality regime?\n\nYes, I like that idea. For a separate ticket tho.\n\n\u003e Others to consider:\n\u003e  * sdc-fast-stream (dep of sdc-firewaller-agent)\n\nThis was renamed to https://github.com/joyent/node-fast-messages\nwhich is in repos.json.\n\n\u003e  * Several versions of node-sdc-clients still in use (by binder, config-agent, napi, and net-agent) depend on \n\u003e https://github.com/joyent/node-restify/commit/fd5d5b5  I\u0027m not sure how (if at all) that should be captured here\n\u003e  * config-agent depends on this specific fork/commit https://github.com/joyent/hogan.js/commit/7d34ba7536b6d398ae97ea359ce6f4f005a40abb\n\nPerhaps one or more tickets to clear out these snowflakes?\n\nThe deps on \"joyent/node-restify/commit/fd5d5b5\" were due to me, when I couldn\u0027t\n(or couldn\u0027t fast enough) get a new release of restify out with the relevant\nchange. I\u0027d be able to get that through if it isn\u0027t already.S\n\n\u003e  * sdc-ur-agent (dep of mockcloud)  (Do you think of ur as more part of the OS?)\n\nYes, more part of the OS, however I think good to have it in triton\u0027s repos.json\nas well because of mockcloud\u0027s usage (as long as mockcloud is relevant -- I\u0027d\nhave to ask joshw if it is still relevant). Also there is intent to rewrite Ur,\nIIUC it would NOT be a default part of the OS, but instead would be installed\non CN setup. OS-2861. I might misremember."},{"timestamp":1529004432,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\nI created TRITON-506 and TRITON-507 for some of the snowflakes.\n\nAGENT-945 has some followup discussion on the hogan.js situation.  With upstream dead I don\u0027t see any near term solution.  I\u0027m fine with either omitting it from the manifest, or adding it with some sort of \"fork\" label, so we don\u0027t try to apply any of our practices to it."},{"timestamp":1529004494,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\ngah gerrit.\n\nIt sounds like sdc-ur-agent  should be added (at least until we kill ur?), and then it\u0027s +1 time."},{"timestamp":1529008644,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nwhile updating this again for the next patch set, that `jr update-manifest` is working is kinda neat:\n\n```\n$ jr update-manifest repos.json\nGathering candidate repos from GitHub.\n\n* * *\nThe following 5 repo(s) have been archived, or are otherwise no longer\ncandidate repos for \"repos.json\":\n    git-apply-pr\n    node-camp\n    node-documentation-generator\n    node-infra\n    node-tracing\nRemove them from the manifest? [Y/n]\nUpdated \"repos.json\".\n\n* * *\nThere are 12 candidate new repo(s) to work through:\n    sdc-ur-agent\n    MALT\n    pyserial\n    github-enterprise-triton-image\n    conch-reporter-smartos\n    cloud-init-ubuntu\n    cloud-init-debian\n    mi-debian-bhyve-8\n    pkgsrc-wiki\n    ...\n```"},{"timestamp":1529008887,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1529008888,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 89ecd24755b37f0c45983a0bb916d0c66e6575d7\n    \n    add sdc-ur-agent, and jr update-manifest run"},{"timestamp":1529008889,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1529009498,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1\n\nThat is... a lot of new repositories in little time."},{"timestamp":1529011751,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1529011755,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"87eba82f57220d64ef24d5fbc91ab5ce90ba1637","parents":["6b3f8bf7894a3f508fad8fe7525a8ecafeacfdc8"],"ref":"refs/changes/23/4123/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1529011751,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529008889,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529009498,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1529009498,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"SUBM","value":"1","grantedOn":1529011755,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"repos.json","type":"MODIFIED","insertions":192,"deletions":-63}],"sizeInsertions":192,"sizeDeletions":-63},"patchSets":[{"number":"1","revision":"32f4b5a0b6b9b9f744165149b60791ca75bc569e","parents":["6b3f8bf7894a3f508fad8fe7525a8ecafeacfdc8"],"ref":"refs/changes/23/4123/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1528146696,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1528146699,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"repos.json","type":"MODIFIED","insertions":159,"deletions":-59}],"sizeInsertions":159,"sizeDeletions":-59},{"number":"2","revision":"10efe554afea3899378b8913da76b738b5b43438","parents":["6b3f8bf7894a3f508fad8fe7525a8ecafeacfdc8"],"ref":"refs/changes/23/4123/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1529008887,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529008889,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529009498,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1529009498,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"repos.json","type":"MODIFIED","insertions":192,"deletions":-63}],"sizeInsertions":192,"sizeDeletions":-63},{"number":"3","revision":"87eba82f57220d64ef24d5fbc91ab5ce90ba1637","parents":["6b3f8bf7894a3f508fad8fe7525a8ecafeacfdc8"],"ref":"refs/changes/23/4123/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1529011751,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1529008889,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1529011755,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1529009498,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1529009498,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"repos.json","type":"MODIFIED","insertions":192,"deletions":-63}],"sizeInsertions":192,"sizeDeletions":-63}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}