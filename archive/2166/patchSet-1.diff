commit 8a85eab80be78b84b854d2a204eed0623ef848bd (refs/changes/66/2166/1)
Author: Cody Peter Mello <cody.mello@joyent.com>
Date:   2017-06-29T00:24:51+00:00 (2 years, 3 months ago)
    
    MANTA-3335 Muskie doesn't return after invoking callback with NotEnoughSpaceError

diff --git a/lib/picker.js b/lib/picker.js
index b2e797c..96f0f46 100644
--- a/lib/picker.js
+++ b/lib/picker.js
@@ -473,6 +473,7 @@ Picker.prototype.choose = function choose(opts, cb) {
 
         if (!sharks.length && (!tuple || tuple.length < replicas)) {
             cb(new NotEnoughSpaceError(size));
+            return;
         } else if (tuple && this.multiDC && replicas > 1) {
             var _dcs = tuple.map(function (s) {
                 return (s.datacenter);
