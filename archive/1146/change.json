{"project":"joyent/node-triton","branch":"master","id":"Ifb7903fb1aa691824c1cfacd0dd83ad94f53264e","number":"1146","subject":"joyent/node-triton#158 tritonapi image cache never expires Reviewed by: Chris Burroughs \u003cchris.burroughs@joyet.com\u003e Approved by: Chris Burroughs \u003cchris.burroughs@joyet.com\u003e","owner":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"url":"https://cr.joyent.us/1146","commitMessage":"joyent/node-triton#158 tritonapi image cache never expires\nReviewed by: Chris Burroughs \u003cchris.burroughs@joyet.com\u003e\nApproved by: Chris Burroughs \u003cchris.burroughs@joyet.com\u003e\n","createdOn":1482202918,"lastUpdated":1482347181,"open":false,"status":"MERGED","comments":[{"timestamp":1482202918,"reviewer":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"message":"Uploaded patch set 1."},{"timestamp":1482202951,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482269967,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\nI think the code is looking good.  Could you add an entry to the CHANGES file?  Since this project is directly user facing we try to keep that up to date."},{"timestamp":1482274141,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(2 comments)\n\nThanks for fixing this!\n\nI haven\u0027t spent any time in this code base, so someone else should probably take a look too."},{"timestamp":1482333361,"reviewer":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"message":"Uploaded patch set 2."},{"timestamp":1482333367,"reviewer":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1482333395,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482333482,"reviewer":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"message":"Patch Set 2:\n\n\u003e I think the code is looking good.  Could you add an entry to the\n \u003e CHANGES file?  Since this project is directly user facing we try to\n \u003e keep that up to date.\n\nDone. It looks like updating this file causes changes to merge conflict more often than would otherwise be necessary. Maybe there\u0027s some way to work around that in the future?"},{"timestamp":1482346855,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1482347179,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 3: Code-Review+1 Integration-Approval+1\n\nI agree the merge conflicts are a barrier.  We\u0027ve been willing to pay the cost for the minority of projects like this one that users install on their workstation and are likely to run into their first papercuts.  I haven\u0027t thought of a way to avoid them and still end up with a normal text file in the git repo at the end."},{"timestamp":1482347181,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Chris Burroughs"}],"currentPatchSet":{"number":"3","revision":"2453bc12e819c96b6122874dfdba2e4849d0b227","parents":["c7140609f0d887391b58eea407f01dd10da17846"],"ref":"refs/changes/46/1146/3","uploader":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"createdOn":1482346855,"author":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482333395,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482347179,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482347179,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"SUBM","value":"1","grantedOn":1482347181,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":34,"deletions":-23}],"sizeInsertions":36,"sizeDeletions":-23},"patchSets":[{"number":"1","revision":"a5f113a714722666d36d2700790a8b8dae2073ed","parents":["c7140609f0d887391b58eea407f01dd10da17846"],"ref":"refs/changes/46/1146/1","uploader":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"createdOn":1482202918,"author":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482202951,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/tritonapi.js","line":388,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I\u0027m not sure what the javascriptlint settings in this repo are, but it\u0027s normally a lint error to return a value sometimes, but not other times (e.g., line 407).  I\u0027d suggest separating the \"cb()\" from the \"return\", since the return value isn\u0027t actually used."},{"file":"lib/tritonapi.js","line":388,"reviewer":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"message":"Done"},{"file":"lib/tritonapi.js","line":405,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"I\u0027m not sure it\u0027s worth failing the pipeline in this case.  You could treat it like if we\u0027d failed to read the file for some other reason (like at line 390-391)."},{"file":"lib/tritonapi.js","line":405,"reviewer":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":34,"deletions":-23}],"sizeInsertions":34,"sizeDeletions":-23},{"number":"2","revision":"fb7903fb1aa691824c1cfacd0dd83ad94f53264e","parents":["c7140609f0d887391b58eea407f01dd10da17846"],"ref":"refs/changes/46/1146/2","uploader":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"createdOn":1482333361,"author":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482333395,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":34,"deletions":-23}],"sizeInsertions":36,"sizeDeletions":-23},{"number":"3","revision":"2453bc12e819c96b6122874dfdba2e4849d0b227","parents":["c7140609f0d887391b58eea407f01dd10da17846"],"ref":"refs/changes/46/1146/3","uploader":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"createdOn":1482346855,"author":{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482333395,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482347179,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482347179,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}},{"type":"SUBM","value":"1","grantedOn":1482347181,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":2,"deletions":0},{"file":"lib/tritonapi.js","type":"MODIFIED","insertions":34,"deletions":-23}],"sizeInsertions":36,"sizeDeletions":-23}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Dillon Amburgey","email":"dillona@dillona.com","username":"dillona"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}]}