{"project":"joyent/sdc-napi","branch":"master","id":"I0f05c2f2afce82fa06391dd2e65bd42bb1875aa7","number":"3904","subject":"TRITON-365 NAPI ping endpoint broken by TRITON-269 Reviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e Reviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e Approved by: Dave Eddy \u003cdave.eddy@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/3904","commitMessage":"TRITON-365 NAPI ping endpoint broken by TRITON-269\nReviewed by: Mike Zeller \u003cmike.zeller@joyent.com\u003e\nReviewed by: Dave Eddy \u003cdave.eddy@joyent.com\u003e\nApproved by: Dave Eddy \u003cdave.eddy@joyent.com\u003e\n","createdOn":1525382576,"lastUpdated":1525392185,"open":false,"status":"MERGED","comments":[{"timestamp":1525382576,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1525382638,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525383237,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1525383297,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1525383317,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1525383356,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1525384074,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 2:\n\nIt seems before we were checking for \nlib/napi.js\n67:    this.initialDataLoaded \u003d false;\n\nA quick grep shows that this variable is only ever modified by napi-test/*\n\nCan that be removed as well or do the tests depend on it?"},{"timestamp":1525384275,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\nI removed it from the test/lib/server.js file during TRITON-269, so there\u0027s no more reference to it now."},{"timestamp":1525384337,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1525388109,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2: Integration-Approval+1"},{"timestamp":1525388124,"reviewer":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1525391765,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1525392185,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"3","revision":"0f05c2f2afce82fa06391dd2e65bd42bb1875aa7","parents":["1c5cbf8cb02eaf78d83c71a3d6acfff535efd466"],"ref":"refs/changes/04/3904/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525391765,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525383356,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525384337,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525388109,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525388124,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"SUBM","value":"1","grantedOn":1525392185,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/endpoints/ping.js","type":"MODIFIED","insertions":4,"deletions":-13},{"file":"lib/napi.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":23,"sizeDeletions":-15},"patchSets":[{"number":"1","revision":"a233430ca63d9da22b28aa52f5e03d9785437e9a","parents":["1c5cbf8cb02eaf78d83c71a3d6acfff535efd466"],"ref":"refs/changes/04/3904/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525382576,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525382638,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/endpoints/ping.js","line":8,"reviewer":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},"message":"2018"},{"file":"lib/endpoints/ping.js","line":8,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/ping.js","type":"MODIFIED","insertions":3,"deletions":-12},{"file":"lib/napi.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":22,"sizeDeletions":-14},{"number":"2","revision":"4a55e9ebed239280e9295d73360522cc9d27073e","parents":["1c5cbf8cb02eaf78d83c71a3d6acfff535efd466"],"ref":"refs/changes/04/3904/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525383297,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525383356,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525388124,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525388109,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525384337,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/endpoints/ping.js","type":"MODIFIED","insertions":4,"deletions":-13},{"file":"lib/napi.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":23,"sizeDeletions":-15},{"number":"3","revision":"0f05c2f2afce82fa06391dd2e65bd42bb1875aa7","parents":["1c5cbf8cb02eaf78d83c71a3d6acfff535efd466"],"ref":"refs/changes/04/3904/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1525391765,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1525392185,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1525383356,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525388124,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1525388109,"by":{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1525384337,"by":{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":10,"deletions":0},{"file":"lib/endpoints/ping.js","type":"MODIFIED","insertions":4,"deletions":-13},{"file":"lib/napi.js","type":"MODIFIED","insertions":0,"deletions":-1},{"file":"test/unit/migration-1.2.0-networks.test.js","type":"MODIFIED","insertions":19,"deletions":-1}],"sizeInsertions":23,"sizeDeletions":-15}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Dave Eddy","email":"dave.eddy@joyent.com","username":"bahamas10"},{"name":"Michael Zeller","email":"mike.zeller@joyent.com","username":"papertigers"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}