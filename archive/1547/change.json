{"project":"joyent/node-triton","branch":"master","id":"I2bad27fcbb37c02377d37a9b793f309e1b589cd2","number":"1547","subject":"joyent/node-triton#142 triton help create could give fuller help Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/1547","commitMessage":"joyent/node-triton#142 triton help create could give fuller help\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1487695916,"lastUpdated":1487706120,"open":false,"status":"MERGED","comments":[{"timestamp":1487695916,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1487695917,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 8298a789bd950b1920b92aed8f913429dba80e8f\n    \n    clean up shortcut boilerplate; include targ.help"},{"timestamp":1487695966,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487696265,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1487696267,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 15d29fe03050a01369c30500f80778044371c23f\n    \n    clean up shortcut boilerplate; include targ.help"},{"timestamp":1487696297,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1487696386,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\ntesting notes: All tests pass for me runngin with node v4 on Mac against east3b:\n\n```\n[08:49:05 trentm@danger0:~/joy/node-triton (grr-142)]\n$ make test-in-parallel\nNODE_NDEBUG\u003d prove -j15 -e ./node_modules/.bin/tape \\\n\t\ttest/unit/*.test.js test/integration/*.test.js\ntest/unit/common.test.js ...................... ok\ntest/unit/metadataFromOpts.test.js ............ ok\ntest/unit/tagsFromCreateOpts.test.js .......... ok\ntest/unit/tagsFromSetArgs.test.js ............. ok\n\u003d\u003d\u003d(     134;1  1/?  1/?  1/?  1/?  0/?  0/?  0/?  0/?  0/?  0/?... )\u003d\u003d\u003d** skipping /Users/trentm/joy/node-triton/test/integration/cli-rbac.test.js tests\n** set \"allowRbacDestructiveTesting\" in test config to enable\ntest/integration/cli-rbac.test.js ............. skipped: (no reason given)\ntest/integration/api-packages.test.js ......... ok\ntest/integration/api-networks.test.js ......... ok\ntest/integration/api-instances.test.js ........ ok\ntest/integration/cli-basics.test.js ........... ok\ntest/integration/cli-profiles.test.js ......... ok\ntest/integration/api-images.test.js ........... ok\ntest/integration/cli-keys.test.js ............. ok\ntest/integration/cli-account.test.js .......... ok\ntest/integration/cli-networks.test.js ......... ok\ntest/integration/cli-subcommands.test.js ...... ok\ntest/integration/cli-fwrules.test.js .......... ok\ntest/integration/cli-manage-workflow.test.js .. ok\ntest/integration/cli-snapshots.test.js ........ ok\ntest/integration/cli-instance-tag.test.js ..... ok\ntest/integration/cli-image-create.test.js ..... ok\ntest/integration/cli-affinity.test.js ......... ok\nAll tests successful.\nFiles\u003d21, Tests\u003d1183, 421 wallclock secs ( 0.40 usr  0.09 sys + 176.58 cusr 17.21 csys \u003d 194.28 CPU)\nResult: PASS\n```"},{"timestamp":1487704927,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\n(1 comment)\n\nIf itâ€™s quick for you, do you mind showing the output of `triton help create` before and after your changes? Otherwise I\u0027ll check out the branch."},{"timestamp":1487705133,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2: Code-Review+1\n\nFor the record, see https://gist.github.com/trentm/2720f47c7bb0811043197ac0072ef126 for the output of triton help create with these changes."},{"timestamp":1487705194,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2:\n\nAlso, what\u0027s the semver-ness of this change? It could technically be major if help messages are considered part of the API."},{"timestamp":1487705350,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nsemverness: minor I guess\n\n[11:28]  \nit *is* staged to be part of next release which will already be major"},{"timestamp":1487705390,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3."},{"timestamp":1487705392,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit c474c8154a60329d3f98a57507b3d77288ea7fef\n    \n    need to at least get helpOpts for \u0027triton create\u0027 shortcut, the others don\u0027t use that opt"},{"timestamp":1487705428,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1487705875,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1487706118,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1487706120,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"2bad27fcbb37c02377d37a9b793f309e1b589cd2","parents":["46ded211f328412660e49bf682ded649230a4cc6"],"ref":"refs/changes/47/1547/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1487705390,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487705428,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1487705875,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1487706118,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1487706120,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/do_create.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/do_delete.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/do_fwrules.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"lib/do_images.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instance/do_snapshots.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/do_instance/do_tags.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instances.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_ip.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_keys.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_networks.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_packages.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_profiles.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_reboot.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_ssh.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_start.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_stop.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":98,"sizeDeletions":-42},"patchSets":[{"number":"1","revision":"fc928a73df3efba9c36acb179feabbbe374ce697","parents":["dba8915d4f600173d8646a01815c3010d1f5c6ca"],"ref":"refs/changes/47/1547/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1487695916,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487695966,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_create.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/do_delete.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/do_fwrules.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"lib/do_images.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instance/do_snapshots.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/do_instance/do_tags.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instances.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_ip.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_keys.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_networks.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_packages.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_profiles.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_reboot.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_ssh.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_start.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_stop.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":97,"sizeDeletions":-42},{"number":"2","revision":"f61b658eaed7acefe776eb53a7273602db0fd443","parents":["46ded211f328412660e49bf682ded649230a4cc6"],"ref":"refs/changes/47/1547/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1487696265,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487695966,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1487705133,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"comments":[{"file":"lib/do_create.js","line":23,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Nit: we might want to assert that \"targ.help\" is a string here, otherwise we could output weird stringified values like \"undefined\" and still have tests passing.\n\nThat applies to all uses of \"targ.property\"."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/do_create.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/do_delete.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/do_fwrules.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"lib/do_images.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instance/do_snapshots.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/do_instance/do_tags.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instances.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_ip.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_keys.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_networks.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_packages.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_profiles.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_reboot.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_ssh.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_start.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_stop.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":97,"sizeDeletions":-42},{"number":"3","revision":"2bad27fcbb37c02377d37a9b793f309e1b589cd2","parents":["46ded211f328412660e49bf682ded649230a4cc6"],"ref":"refs/changes/47/1547/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1487705390,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1487705428,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1487706118,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1487706120,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1487705875,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/do_create.js","type":"MODIFIED","insertions":4,"deletions":-3},{"file":"lib/do_delete.js","type":"MODIFIED","insertions":5,"deletions":-3},{"file":"lib/do_fwrules.js","type":"MODIFIED","insertions":9,"deletions":-2},{"file":"lib/do_images.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instance/do_snapshots.js","type":"MODIFIED","insertions":9,"deletions":-3},{"file":"lib/do_instance/do_tags.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_instances.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_ip.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_keys.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_networks.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_packages.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_profiles.js","type":"MODIFIED","insertions":8,"deletions":-3},{"file":"lib/do_reboot.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_ssh.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_start.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/do_stop.js","type":"MODIFIED","insertions":3,"deletions":-2}],"sizeInsertions":98,"sizeDeletions":-42}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}