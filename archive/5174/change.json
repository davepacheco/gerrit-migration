{"project":"joyent/node-moray-sandbox","branch":"master","topic":"TOOLS-2117","id":"I5191bd90dc0c805d64c466d5980185d64bf9c98c","number":"5174","subject":"TOOLS-2117 sdcnode updates for November 2018 node.js security releases Reviewed by: Trent Mick \u003ctrentm@gmail.com\u003e Approved by: Trent Mick \u003ctrentm@gmail.com\u003e","owner":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"url":"https://cr.joyent.us/5174","commitMessage":"TOOLS-2117 sdcnode updates for November 2018 node.js security releases\nReviewed by: Trent Mick \u003ctrentm@gmail.com\u003e\nApproved by: Trent Mick \u003ctrentm@gmail.com\u003e\n","createdOn":1543871494,"lastUpdated":1544822827,"open":false,"status":"MERGED","comments":[{"timestamp":1543871494,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 1."},{"timestamp":1543871536,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1543871567,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\nThis doesn\u0027t look like something that is included in the headnode, so I  was not sure what testing was appropriate."},{"timestamp":1543871828,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1:\n\nAs long as `make test` runs successfully, that should be good enough."},{"timestamp":1543871835,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1543872834,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Topic set to TOOLS-2117"},{"timestamp":1544034955,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 1:\n\nRegarding the tests, I see from the readme that I need to install to install some postgresql92 packages.  Do I need to setup a postgresql server in some particular way?\n\n[root@build-15-b ~/src/node-moray-sandbox]# ./bin/run-sandbox -p 2020\n{\"name\":\"run-sandbox\",\"hostname\":\"build-15-b\",\"pid\":249443,\"level\":30,\"msg\":\"Child will log to /tmp/moray-sandbox-log-249444\",\"time\":\"2018-12-05T18:32:07.458Z\",\"v\":0}\n{\"name\":\"run-sandbox\",\"hostname\":\"build-15-b\",\"pid\":249443,\"level\":50,\"msg\":\"Error in child:\\n{\\\"type\\\":\\\"error\\\",\\\"req_id\\\":\\\"8064b907-6ef8-4eba-bfe1-4e36b0af24fa\\\",\\\"err\\\":\\\"VError: exec \\\\\\\"initdb -D /tmp/tmp-249444B5YxdIdejSpo/db -E UNICODE -A trust\\\\\\\": exited with status 1\\\\n    at interpretChildProcessResult (/root/src/node-moray-sandbox/node_modules/forkexec/lib/forkexec.js:163:15)\\\\n    at onChildExited (/root/src/node-moray-sandbox/node_modules/forkexec/lib/forkexec.js:75:9)\\\\n    at /root/src/node-moray-sandbox/node_modules/forkexec/lib/forkexec.js:53:4\\\\n    at ChildProcess.exithandler (child_process.js:206:5)\\\\n    at emitTwo (events.js:106:13)\\\\n    at ChildProcess.emit (events.js:191:7)\\\\n    at maybeClose (internal/child_process.js:920:16)\\\\n    at Socket.\u003canonymous\u003e (internal/child_process.js:351:11)\\\\n    at emitOne (events.js:96:13)\\\\n    at Socket.emit (events.js:188:7)\\\",\\\"message\\\":\\\"exec \\\\\\\"initdb -D /tmp/tmp-249444B5YxdIdejSpo/db -E UNICODE -A trust\\\\\\\": exited with status 1\\\"}\",\"time\":\"2018-12-05T18:32:07.654Z\",\"v\":0}"},{"timestamp":1544714945,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Uploaded patch set 2."},{"timestamp":1544715106,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1544814749,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1544822823,"reviewer":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"message":"Patch Set 3: Commit message was updated."},{"timestamp":1544822827,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Chris Burroughs"}],"currentPatchSet":{"number":"3","revision":"a3b1d2c9d8249d839942fd6a44df25c0742bbfd6","parents":["96c02830a377b6cf1147432502902735318b4b8b"],"ref":"refs/changes/74/5174/3","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1544822823,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1544715106,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544814749,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544814749,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1544822827,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":2,"sizeDeletions":-2},"patchSets":[{"number":"1","revision":"3e6fc939acaf0563d60443536de1145fbd6f7a94","parents":["96c02830a377b6cf1147432502902735318b4b8b"],"ref":"refs/changes/74/5174/1","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1543871494,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1543871835,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1543871536,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":2,"sizeDeletions":-2},{"number":"2","revision":"5191bd90dc0c805d64c466d5980185d64bf9c98c","parents":["96c02830a377b6cf1147432502902735318b4b8b"],"ref":"refs/changes/74/5174/2","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1544714945,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1544715106,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544814749,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544814749,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":2,"sizeDeletions":-2},{"number":"3","revision":"a3b1d2c9d8249d839942fd6a44df25c0742bbfd6","parents":["96c02830a377b6cf1147432502902735318b4b8b"],"ref":"refs/changes/74/5174/3","uploader":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"createdOn":1544822823,"author":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1544715106,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1544814749,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1544814749,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1544822827,"by":{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":2,"deletions":-2}],"sizeInsertions":2,"sizeDeletions":-2}],"allReviewers":[{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Chris Burroughs","email":"chris.burroughs@joyent.com","username":"cburroughs"}]}