From eb1d6754fedceea06ef23331b27b1bb9f314781f Mon Sep 17 00:00:00 2001
From: Trent Mick <trentm@gmail.com>
Date: Fri, 23 Nov 2018 14:59:03 -0800
Subject: [PATCH] MANTA-4030 many images using node 0.10 or 0.12 broken by
 transitive lru-cache@4.1.4 dep

---
 package.json | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/package.json b/package.json
index 8356b9b..dfc63a0 100644
--- a/package.json
+++ b/package.json
@@ -1,11 +1,12 @@
 {
     "name": "mahi",
     "description": "Manta Auth Cache",
-    "version": "2.0.1",
+    "version": "2.0.2",
     "author": "Joyent (joyent.com)",
     "private": true,
 
     "//": "dependencies are in groups of v1 only, v2 only, and both v1 and v2",
+    "// lru-cache": "attempting to pin version while satisfying transitive deps, because lru-cache@4.1.4 includes yallist@3 which breaks node --abort-on-uncaught-exception with node <v4",
     "dependencies": {
         "optimist": "0.3.4",
         "aperture-config": "git+https://github.com/joyent/aperture-config.git#master",
@@ -13,7 +14,7 @@
         "binary-search": "1.1.1",
         "dashdash": "1.4.0",
         "hiredis": "0.1.16",
-        "lru-cache": "2.5.0",
+        "lru-cache": "4.1.3",
         "verror": "1.3.7",
 
         "assert-plus": "0.1.5",
-- 
2.21.0

