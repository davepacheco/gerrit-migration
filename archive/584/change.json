{"project":"joyent/sdcnode","branch":"master","id":"I5f5f6619a859e693ebf3847b6fa0a7305cad0b43","number":"584","subject":"TOOLS-1558 TOOLS-1555 broke sdcnode builds: \u0027npm install\u0027 isn\u0027t run, buildEnv changes break on spaces Reviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/584","commitMessage":"TOOLS-1558 TOOLS-1555 broke sdcnode builds: \u0027npm install\u0027 isn\u0027t run, buildEnv changes break on spaces\nReviewed by: Julien Gilli \u003cjulien.gilli@joyent.com\u003e\n","createdOn":1475537787,"lastUpdated":1475539121,"open":false,"status":"MERGED","comments":[{"timestamp":1475537787,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1475537787,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 8edf3c2fdd37aabac09f010b9b2c52390488c1fe\n    \n    fixes for TOOLS-1555 breakage"},{"timestamp":1475537843,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475538675,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 1:\n\n(2 comments)"},{"timestamp":1475538811,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1475538811,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 9dd8b957b717d735777d6d63dacd86bc60da0815\n    \n    suggestion from jgilli, so don\u0027t use an outdated semver, for example"},{"timestamp":1475538930,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Patch Set 2: Code-Review+1"},{"timestamp":1475539083,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1475539119,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 3: Integration-Approval+1"},{"timestamp":1475539121,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"5f5f6619a859e693ebf3847b6fa0a7305cad0b43","parents":["f8eca0447faf50bb6b9351cdb87fb2184afffe7c"],"ref":"refs/changes/84/584/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475539083,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475538930,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475539119,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1475539121,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"tools/build-a-node","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":12,"sizeDeletions":-6},"patchSets":[{"number":"1","revision":"81984a3637e19582762af618532c5de39a68f0a0","parents":["f8eca0447faf50bb6b9351cdb87fb2184afffe7c"],"ref":"refs/changes/84/584/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475537787,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475537843,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":7,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should it be one ticket per line? It\u0027s nitpicking but in this case I think it could improve readability. In the current state it\u0027s not clear what part of the commit message matches which ticket."},{"file":"Makefile","line":45,"reviewer":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},"message":"Should we use a PHONY \"npm-deps\" target instead of relying on modification time for a semver program that might be outdated? That is, with these changes, if there\u0027s a leftover outdated \"semver\" program, and the build process depends on a newer version, that newer version won\u0027t be installed."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"tools/build-a-node","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":11,"sizeDeletions":-6},{"number":"2","revision":"3b5d59d938b893c4c1495d97d6b33d97bea53624","parents":["f8eca0447faf50bb6b9351cdb87fb2184afffe7c"],"ref":"refs/changes/84/584/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475538811,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475538930,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"tools/build-a-node","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":12,"sizeDeletions":-6},{"number":"3","revision":"5f5f6619a859e693ebf3847b6fa0a7305cad0b43","parents":["f8eca0447faf50bb6b9351cdb87fb2184afffe7c"],"ref":"refs/changes/84/584/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1475539083,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1475539119,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1475539121,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1475538930,"by":{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":5,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-3},{"file":"tools/build-a-node","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":12,"sizeDeletions":-6}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Julien Gilli","email":"jgilli@netflix.com","username":"misterdjules"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}