From cb1c6050107e89319c069452c55c140a2e374dbf Mon Sep 17 00:00:00 2001
From: Jan Wyszynski <jan.wyszynski@joyent.com>
Date: Tue, 3 Oct 2017 01:10:44 +0000
Subject: [PATCH] MANTA-3440 Add support for Content-Encoding for objects

---
 lib/moray.js | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/lib/moray.js b/lib/moray.js
index fe8050c..a6e85d9 100644
--- a/lib/moray.js
+++ b/lib/moray.js
@@ -334,6 +334,8 @@ function createMetadata(options) {
 
     switch (options.type) {
     case 'object':
+        assert.optionalString(options.contentEncoding,
+                'options.contentEncoding');
         assert.number(options.contentLength, 'options.contentLength');
         assert.string(options.contentMD5, 'options.contentMD5');
         assert.string(options.contentType, 'options.contentType');
@@ -347,6 +349,7 @@ function createMetadata(options) {
             });
         }
 
+        md.contentEncoding = options.contentEncoding;
         md.contentLength = options.contentLength;
         md.contentMD5 = options.contentMD5;
         md.contentType = options.contentType;
-- 
2.21.0

