{"project":"joyent/smartos-live","branch":"master","id":"Iba0a7533def990ae0cf481992d6b37a558b4f8ff","number":"6777","subject":"OS-7921 SmartOS bash_completions should complete alias names Reviewed by: John Levon \u003cjohn.levon@joyent.com\u003e","owner":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"url":"https://cr.joyent.us/6777","commitMessage":"OS-7921 SmartOS bash_completions should complete alias names\nReviewed by: John Levon \u003cjohn.levon@joyent.com\u003e\n","createdOn":1565356500,"lastUpdated":1565713718,"open":false,"status":"MERGED","comments":[{"timestamp":1565356500,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 1."},{"timestamp":1565356509,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit 424769ff63f3f8e1beb5d1fb1e106fc42fef2e25\n    \n    OS-7921 SmartOS bash_completions should complete alias names"},{"timestamp":1565356593,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565621475,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 2: Patch Set 1 was rebased."},{"timestamp":1565621482,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 3e5e225fd888025cd4437871f46f541e0e2ce60c\n    \n    OS-7921 SmartOS bash_completions should complete alias names"},{"timestamp":1565621566,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2:\n\n\"make check\" passed ok"},{"timestamp":1565699908,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 2:\n\n(2 comments)\n\nAs mentioned, fwadm and imgadm could do with updating too"},{"timestamp":1565700785,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 2:\n\n(1 comment)"},{"timestamp":1565700877,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 3."},{"timestamp":1565700885,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Patch Set 3:\n\nNew commits:\n    \n    commit 5cc220230a11b58dd0b2daa1e7e8b7d1761e99f9\n    \n    Add completion support to imgadm and fwadm as well"},{"timestamp":1565700966,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1565701057,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1565701172,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"Uploaded patch set 4: Commit message was updated."},{"timestamp":1565702146,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1565713718,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Tim Foster"}],"currentPatchSet":{"number":"4","revision":"ba0a7533def990ae0cf481992d6b37a558b4f8ff","parents":["9d7650f8f849238fd4d97fcb78c2a730803af75f"],"ref":"refs/changes/77/6777/4","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565701172,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565700966,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565701057,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565702146,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565702146,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"SUBM","value":"1","grantedOn":1565713718,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/etc/fwadm.completion","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/img/etc/imgadm.completion","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/vm/etc/vmadm.completion","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":15,"sizeDeletions":0},"patchSets":[{"number":"1","revision":"8a63496baf8e570e5d528372eedb4550682dbf96","parents":["6e5419d8e98bc558aeaffb7bec98aedf6e40be34"],"ref":"refs/changes/77/6777/1","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565356500,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565356593,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/etc/vmadm.completion","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":9,"sizeDeletions":0},{"number":"2","revision":"7644dbf8bc15c2e927accb9dd1a2e2ff812cb63b","parents":["9d7650f8f849238fd4d97fcb78c2a730803af75f"],"ref":"refs/changes/77/6777/2","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565621475,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565356593,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"src/vm/etc/vmadm.completion","line":42,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"I guess we\u0027re OK with completing these against !HVM zones? FWIW it\u0027s more than fine with me."},{"file":"src/vm/etc/vmadm.completion","line":42,"reviewer":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"message":"I hadn\u0027t caught that - thanks. I\u0027m inclined not to add extra complexity here. Ultimately, if we complete to a uuid that the command doesn\u0027t apply to, we\u0027ll get an error:\n\n[root@kura ~]# vmadm sysrq jenkins-ser[completed alias: jenkins-server-18.1.0]\n                           c63c9110-2466-68dc-984f-98f956011e70 screenshot\nThe sysrq command is only supported for VMs  with brand \"bhyve\" or \"kvm\".\n[root@kura ~]#\n\nso I think this is still fine."},{"file":"src/vm/etc/vmadm.completion","line":53,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"as above"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/vm/etc/vmadm.completion","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":9,"sizeDeletions":0},{"number":"3","revision":"33d5903555cf5436376f79887c5998a5fb24194e","parents":["9d7650f8f849238fd4d97fcb78c2a730803af75f"],"ref":"refs/changes/77/6777/3","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565700877,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565700966,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565701057,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"src/fw/etc/fwadm.completion","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/img/etc/imgadm.completion","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/vm/etc/vmadm.completion","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":15,"sizeDeletions":0},{"number":"4","revision":"ba0a7533def990ae0cf481992d6b37a558b4f8ff","parents":["9d7650f8f849238fd4d97fcb78c2a730803af75f"],"ref":"refs/changes/77/6777/4","uploader":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"createdOn":1565701172,"author":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1565700966,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565702146,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1565702146,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1565701057,"by":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}},{"type":"SUBM","value":"1","grantedOn":1565713718,"by":{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"src/fw/etc/fwadm.completion","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/img/etc/imgadm.completion","type":"MODIFIED","insertions":3,"deletions":0},{"file":"src/vm/etc/vmadm.completion","type":"MODIFIED","insertions":9,"deletions":0}],"sizeInsertions":15,"sizeDeletions":0}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"Tim Foster","email":"tim.foster@joyent.com","username":"timfoster"}]}