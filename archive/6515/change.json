{"project":"joyent/sdc-firewaller-agent","branch":"master","id":"I83cdfad1625be6b98c379f895b0e164970825cf6","number":"6515","subject":"TRITON-439 firewaller stops performing sync tasks and never recovers Reviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e Approved by: Alex Wilson \u003calex.wilson@joyent.com\u003e","owner":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"url":"https://cr.joyent.us/6515","commitMessage":"TRITON-439 firewaller stops performing sync tasks and never recovers\nReviewed by: Alex Wilson \u003calex.wilson@joyent.com\u003e\nApproved by: Alex Wilson \u003calex.wilson@joyent.com\u003e\n","createdOn":1561669531,"lastUpdated":1561676044,"open":false,"status":"MERGED","comments":[{"timestamp":1561669531,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 1."},{"timestamp":1561669581,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1561669704,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 2."},{"timestamp":1561669754,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1561672054,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 3."},{"timestamp":1561672104,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1561673761,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1561673880,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 3: -Code-Review\n\n(1 comment)"},{"timestamp":1561674713,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 4."},{"timestamp":1561674734,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4:\n\n(1 comment)"},{"timestamp":1561674767,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1561675923,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 5."},{"timestamp":1561675934,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 4: Code-Review+1 Integration-Approval+1"},{"timestamp":1561675976,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1561675992,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 6: Commit message was updated."},{"timestamp":1561676033,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1"},{"timestamp":1561676044,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"6","revision":"83cdfad1625be6b98c379f895b0e164970825cf6","parents":["2f4fd52dd23dd219206120621fb170f574904246"],"ref":"refs/changes/15/6515/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1561675992,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561675976,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561676033,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561676033,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"SUBM","value":"1","grantedOn":1561676044,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/fwapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":26,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-7},"patchSets":[{"number":"1","revision":"0ef2859a094d212d5ef80594564e39f4150d94da","parents":["2f4fd52dd23dd219206120621fb170f574904246"],"ref":"refs/changes/15/6515/1","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1561669531,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1561669581,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"main.js","line":79,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"comma or semicolon followed by non-blank"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/fwapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":22,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":51,"sizeDeletions":-7},{"number":"2","revision":"1ab403a7f631505356ee40a62c74cedb05aff4e6","parents":["2f4fd52dd23dd219206120621fb170f574904246"],"ref":"refs/changes/15/6515/2","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1561669704,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561669754,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/fwapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":23,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":52,"sizeDeletions":-7},{"number":"3","revision":"e27a2906f4944d8d26b75c082cd04c5d9636c6e5","parents":["2f4fd52dd23dd219206120621fb170f574904246"],"ref":"refs/changes/15/6515/3","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1561672054,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561672104,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"main.js","line":82,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"You might want to set \"tcpKeepAliveInitialDelay\" here, and \"ping\"/\"pingInterval\"?"},{"file":"main.js","line":82,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Done"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/fwapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":23,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":52,"sizeDeletions":-7},{"number":"4","revision":"8df2de2009df75048a0ba00f04fc8175ff38ca5a","parents":["2f4fd52dd23dd219206120621fb170f574904246"],"ref":"refs/changes/15/6515/4","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1561674713,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561675934,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561675934,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561674767,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/fwapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":26,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-7},{"number":"5","revision":"122f035dca81fb202ea16bf20f4d4625eb37df55","parents":["2f4fd52dd23dd219206120621fb170f574904246"],"ref":"refs/changes/15/6515/5","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1561675923,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561675976,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/fwapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":26,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-7},{"number":"6","revision":"83cdfad1625be6b98c379f895b0e164970825cf6","parents":["2f4fd52dd23dd219206120621fb170f574904246"],"ref":"refs/changes/15/6515/6","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1561675992,"author":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1561676044,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1561676033,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1561676033,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1561675976,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":12,"deletions":-3},{"file":"lib/agent.js","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/fwapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"lib/vmapi.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"main.js","type":"MODIFIED","insertions":26,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/unit/helpers.js","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":55,"sizeDeletions":-7}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}]}