{"project":"joyent/illumos-extra","branch":"master","id":"Ie6e77cf377971399074bd0d7c0d7b977ed6ca384","number":"6658","subject":"OS-7896 need to workaround ssh failure on vmnat","owner":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"url":"https://cr.joyent.us/6658","commitMessage":"OS-7896 need to workaround ssh failure on vmnat\n","createdOn":1564416316,"lastUpdated":1571740159,"open":true,"status":"NEW","comments":[{"timestamp":1564416316,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Uploaded patch set 1."},{"timestamp":1564416376,"reviewer":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"message":"Patch Set 1: Code-Review-1\n\nNot a great fix due to cached value on usb key.  Likely changing default instead.  Here for comment."},{"timestamp":1571740159,"reviewer":{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"},"message":"Patch Set 1:\n\nHi Mike, what\u0027s the status of this?"}],"currentPatchSet":{"number":"1","revision":"e6e77cf377971399074bd0d7c0d7b977ed6ca384","parents":["4ea95c4d3847d025e769eccc26acdb4d6033011a"],"ref":"refs/changes/58/6658/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1564416316,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1564416376,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"openssh/Patches/0001-Skip-config-check.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0002-PAM-Support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0003-lastlogin.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0004-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0005-Deprecated-SunSSH-options.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0006-GSS-store-creds-for-Solaris.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0007-DTrace-support-for-SFTP.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0008-Add-DisableBanner-option.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0009-PAM-conversation-fix.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0010-PAM-enhancements-for-Solaris.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0012-Deprecate-SunSSH-compatible-server-options.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0013-Solaris-Auditing-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0014-GSS-API-key-exchange-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0015-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0016-PAM-setcred-failures.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0017-Don-t-call-do_pam_setcred-twice.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0018-Per-session-xauthfile.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0019-PubKeyPlugin-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0020-Compatibility-fix-for-ListenAddress.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0021-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0022-Add-SMF-manifest-and-method-and-install-them.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0023-Make-default-sshd_config-more-like-the-old-illumos-o.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0024-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0025-Re-enable-DSA-keys-for-pk-auth.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0026-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0027-Set-default-sshd-options-based-on-etc-default-login.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0028-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0029-Accept-and-send-LANG-and-LC_-environment-variables-b.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0030-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0031-Restore-tcpwrappers-libwrap-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0032-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0033-Temporarily-set-ssh-keygen-to-use-old-PKCS-1-PEM-for.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0034-OS-7896-need-to-workaround-ssh-failure-on-vmnat.patch","type":"ADDED","insertions":41,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-66},"patchSets":[{"number":"1","revision":"e6e77cf377971399074bd0d7c0d7b977ed6ca384","parents":["4ea95c4d3847d025e769eccc26acdb4d6033011a"],"ref":"refs/changes/58/6658/1","uploader":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"createdOn":1564416316,"author":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"-1","grantedOn":1564416376,"by":{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"openssh/Patches/0001-Skip-config-check.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0002-PAM-Support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0003-lastlogin.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0004-Reorganise-man-pages-into-Illumos-numbering-adjust-t.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0005-Deprecated-SunSSH-options.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0006-GSS-store-creds-for-Solaris.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0007-DTrace-support-for-SFTP.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0008-Add-DisableBanner-option.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0009-PAM-conversation-fix.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0010-PAM-enhancements-for-Solaris.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0011-SunSSH-compat-default-config-values.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0012-Deprecate-SunSSH-compatible-server-options.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0013-Solaris-Auditing-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0014-GSS-API-key-exchange-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0015-Enable-login-to-a-role-if-PAM-is-ok-with-it.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0016-PAM-setcred-failures.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0017-Don-t-call-do_pam_setcred-twice.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0018-Per-session-xauthfile.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0019-PubKeyPlugin-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0020-Compatibility-fix-for-ListenAddress.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0021-Try-to-create-privsep-chroot-dir-if-it-doesn-t-exist.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0022-Add-SMF-manifest-and-method-and-install-them.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0023-Make-default-sshd_config-more-like-the-old-illumos-o.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0024-Add-with-key-dir-configure-option-to-place-SSH-host-.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0025-Re-enable-DSA-keys-for-pk-auth.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0026-Don-t-use-krb5-config-to-check-for-GSSAPI-on-Illumos.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0027-Set-default-sshd-options-based-on-etc-default-login.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0028-Compatibility-for-SunSSH_1.5-should-include-old-DH-K.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0029-Accept-and-send-LANG-and-LC_-environment-variables-b.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0030-Temporarily-set-ssh-keygen-and-ssh-add-to-old-FP-for.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0031-Restore-tcpwrappers-libwrap-support.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0032-Let-us-put-a-fallback-copy-of-DH-moduli-in-a-system-.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0033-Temporarily-set-ssh-keygen-to-use-old-PKCS-1-PEM-for.patch","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"openssh/Patches/0034-OS-7896-need-to-workaround-ssh-failure-on-vmnat.patch","type":"ADDED","insertions":41,"deletions":0}],"sizeInsertions":107,"sizeDeletions":-66}],"allReviewers":[{"name":"Mike Gerdts","email":"mike.gerdts@joyent.com","username":"mgerdts"},{"name":"John Levon","email":"john.levon@joyent.com","username":"johnlevon"}]}