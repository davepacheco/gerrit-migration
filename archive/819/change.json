{"project":"joyent/node-docker-registry-client","branch":"master","id":"Iac26dad330c26672d420ae36434ff9f19ec698d5","number":"819","subject":"DOCKER-959 Unable to pull from registry when registry response sends multiple Docker-Distribution-Api-Version headers Reviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e Approved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e","owner":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"url":"https://cr.joyent.us/819","commitMessage":"DOCKER-959 Unable to pull from registry when registry response sends multiple Docker-Distribution-Api-Version headers\nReviewed by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\nApproved by: Todd Whiteman \u003ctodd.whiteman@joyent.com\u003e\n","createdOn":1477938853,"lastUpdated":1477940813,"open":false,"status":"MERGED","comments":[{"timestamp":1477938853,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 1."},{"timestamp":1477938854,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1:\n\nNew commits:\n    \n    commit eaa1c46537b4241deae843650ef00b0dd8538fae\n    \n    DOCKER-959; also add \u0027v1\u0027 to repo not found error message as a helpful hint; also workaround #12"},{"timestamp":1477938876,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1477939273,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 2."},{"timestamp":1477939274,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 2:\n\nNew commits:\n    \n    commit 621506420f275730d68fc3fe2a06eeab434433fe\n    \n    fix make check"},{"timestamp":1477939317,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1477940012,"reviewer":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},"message":"Patch Set 2: Code-Review+1 Integration-Approval+1"},{"timestamp":1477940797,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Uploaded patch set 3: Commit message was updated."},{"timestamp":1477940813,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Trent Mick"}],"currentPatchSet":{"number":"3","revision":"ac26dad330c26672d420ae36434ff9f19ec698d5","parents":["519612d0e2d240bb094fa80190daf7dccecf2882"],"ref":"refs/changes/19/819/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1477940797,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477939317,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477940012,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477940012,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"SUBM","value":"1","grantedOn":1477940813,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/registry-client-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.quayio.test.js","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":24,"sizeDeletions":-5},"patchSets":[{"number":"1","revision":"0a7de201e44cb6462900c7df0c0a378392eb8a1f","parents":["519612d0e2d240bb094fa80190daf7dccecf2882"],"ref":"refs/changes/19/819/1","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1477938853,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1477938876,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"test/v2.quayio.test.js","line":25,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"warning: missing semicolon"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/registry-client-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.quayio.test.js","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":24,"sizeDeletions":-5},{"number":"2","revision":"4727e7e4258ecee07ec83c0923b5f51ff3b1719a","parents":["519612d0e2d240bb094fa80190daf7dccecf2882"],"ref":"refs/changes/19/819/2","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1477939273,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477939317,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477940012,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477940012,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/registry-client-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.quayio.test.js","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":24,"sizeDeletions":-5},{"number":"3","revision":"ac26dad330c26672d420ae36434ff9f19ec698d5","parents":["519612d0e2d240bb094fa80190daf7dccecf2882"],"ref":"refs/changes/19/819/3","uploader":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"createdOn":1477940797,"author":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1477939317,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"SUBM","value":"1","grantedOn":1477940813,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1477940012,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1477940012,"by":{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"CHANGES.md","type":"MODIFIED","insertions":5,"deletions":0},{"file":"lib/registry-client-v1.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/registry-client-v2.js","type":"MODIFIED","insertions":12,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"test/v2.quayio.test.js","type":"MODIFIED","insertions":5,"deletions":-2}],"sizeInsertions":24,"sizeDeletions":-5}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Todd Whiteman","email":"todd.whiteman@joyent.com","username":"twhiteman"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}]}