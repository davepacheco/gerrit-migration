{"project":"joyent/sdc-docker","branch":"master","id":"I05fe07c4e94853e6476d419b1d8ad1fdca443efc","number":"1056","subject":"joyent/sdc-docker#102 need to be using bootstrap mode with cueball / moray-client v2 Reviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e","owner":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"url":"https://cr.joyent.us/1056","commitMessage":"joyent/sdc-docker#102 need to be using bootstrap mode with cueball / moray-client v2\nReviewed by: Trent Mick \u003ctrent.mick@joyent.com\u003e\n","createdOn":1480727322,"lastUpdated":1480978714,"open":false,"status":"MERGED","comments":[{"timestamp":1480727322,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Uploaded patch set 1."},{"timestamp":1480727504,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1480728068,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1480730168,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 1:\n\n(1 comment)"},{"timestamp":1480975828,"reviewer":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},"message":"Patch Set 1: Code-Review+1 Integration-Approval+1"},{"timestamp":1480977253,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Patch Set 2: Commit message was updated."},{"timestamp":1480977262,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Alex Wilson"},{"timestamp":1480978714,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Patch Set 1:\n\n(1 comment)"}],"currentPatchSet":{"number":"2","revision":"b4b9d129bcb44f11a7d36f3a43a48d6f46b3e1fa","parents":["2c4c3500a92d2f74a474a3504c538a83c3acd598"],"ref":"refs/changes/56/1056/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1480977253,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1480727504,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1480975828,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1480975828,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"SUBM","value":"1","grantedOn":1480977262,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":7,"sizeDeletions":-1},"patchSets":[{"number":"1","revision":"05fe07c4e94853e6476d419b1d8ad1fdca443efc","parents":["2c4c3500a92d2f74a474a3504c538a83c3acd598"],"ref":"refs/changes/56/1056/1","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1480727322,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1480727504,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1480975828,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1480975828,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"comments":[{"file":"lib/docker.js","line":370,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"You can drop the \"reconnect\": true.\n\nIn terms of a general pattern: my expectation was that we\u0027d deprecate the old properties in favor of directly specifying cueballOptions.  What do you think of that?"},{"file":"lib/docker.js","line":370,"reviewer":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"message":"Currently it seems that if you provide cueballOptions you don\u0027t get to use any of the library defaults for options -- you have to provide service, defaultPort etc. I\u0027m filing this as a bug on node-moray to improve this situation, but for now it\u0027s pretty inconvenient for users of moray to change to the new style."},{"file":"lib/docker.js","line":370,"reviewer":{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},"message":"Agreed.  I think MORAY-381 is the right answer here, and I\u0027m hoping to have that out for review by the end of today or tomorrow."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":7,"sizeDeletions":-1},{"number":"2","revision":"b4b9d129bcb44f11a7d36f3a43a48d6f46b3e1fa","parents":["2c4c3500a92d2f74a474a3504c538a83c3acd598"],"ref":"refs/changes/56/1056/2","uploader":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"createdOn":1480977253,"author":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"SUBM","value":"1","grantedOn":1480977262,"by":{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1480727504,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1480975828,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1480975828,"by":{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/docker.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"sapi_manifests/docker/template","type":"MODIFIED","insertions":3,"deletions":0}],"sizeInsertions":7,"sizeDeletions":-1}],"allReviewers":[{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"},{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Trent Mick","email":"trentm@gmail.com","username":"trentm"},{"name":"Alex Wilson","email":"alex@cooperi.net","username":"arekinath"}]}