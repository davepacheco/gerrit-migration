{"project":"joyent/manta-muskie","branch":"master","id":"Ib8572701cb060b262a94ef01e95f9a56bec726fa","number":"2000","subject":"MANTA-2409 Muskie pagination subject to Moray filter injection MANTA-2803 Cannot mrmdir or mls in manta folder with parentheses in name Reviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e Reviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e Appro","owner":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"url":"https://cr.joyent.us/2000","commitMessage":"MANTA-2409 Muskie pagination subject to Moray filter injection\nMANTA-2803 Cannot mrmdir or mls in manta folder with parentheses in name\nReviewed by: Jordan Hendricks \u003cjordan.hendricks@joyent.com\u003e\nReviewed by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\nApproved by: Cody Peter Mello \u003ccody.mello@joyent.com\u003e\n","createdOn":1495670310,"lastUpdated":1511974036,"open":false,"status":"MERGED","comments":[{"timestamp":1495670310,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 1."},{"timestamp":1495670343,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing-1\n\n(2 comments)\n\n\"make check\" exited with status 2"},{"timestamp":1495670850,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 2."},{"timestamp":1495670882,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing-1\n\n(1 comment)\n\n\"make check\" exited with status 2"},{"timestamp":1495670989,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Patch Set 2:\n\nI believe the remaining \"make check\" problem (missing space around assignment operator) is a false positive;  the \u0027\u003d\u0027 is actually part of a regex."},{"timestamp":1495672904,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Patch Set 2:\n\nAs suggested by Robert I have opened a GitHub issue about this: joyent/manta-muskie#4\n\nhttps://github.com/joyent/manta-muskie/issues/4"},{"timestamp":1495681872,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 2:\n\n(3 comments)"},{"timestamp":1495687635,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 3."},{"timestamp":1495687668,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495691697,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Patch Set 3:\n\n(1 comment)\n\nI\u0027ve deployed this rewrite using moray-filter to our local manta and tested all the combinations (i.e. sort by name or time, forward/reverse sort, with marker and without, all/dirsonly/objectsonly)"},{"timestamp":1495695366,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 3: Code-Review+1\n\n(2 comments)\n\nThanks for doing this! This looks good to me, and will be a good fix to have."},{"timestamp":1495695990,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 4."},{"timestamp":1495696017,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495696471,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 4: Code-Review+1"},{"timestamp":1495736183,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 4:\n\n(2 comments)\n\nThanks for taking this on! It will be great to finally have these bugs fixed.\n\nDo you have a development environment for Manta? As a part of this change, we should add some tests to the Muskie test suite to test the cases this change addresses, and verify that it passes the current Muskie tests. If you don\u0027t have a development environment, we can find someone who has cycles to run the test suite."},{"timestamp":1495752224,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 5."},{"timestamp":1495752252,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495753814,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Patch Set 5:\n\n(2 comments)\n\nI don\u0027t have a development environment for Manta, only a production install.\n\nThe original impetus for this was some clients using ()\u0027s in directory names which my quick patch set 1 was deployed to fix.\n\nI\u0027ll look into writing some tests."},{"timestamp":1495780104,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 6."},{"timestamp":1495780142,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1495780953,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Patch Set 6:\n\nI\u0027ve added two tests, one for checking escaping of the path and one for checking escaping of the pagination marker.\n\nI\u0027m not entirely happy with the marker one but it did unearth a bug - It turns out I got the direction wrong when I switched args and constructor around as suggested by Jordan.\n\nI didn\u0027t write an explicit test for mrmdir.  The only reason mrmdir didn\u0027t previously work is it did an implicit readdir to first check the directory was empty;  it\u0027s really only the ls which had the bug.\n\nI also haven\u0027t run the full test suite as I haven\u0027t yet setup a dev environment.  I just ran \u0027nodeunit test/dir.test.js\u0027 from my mac laptop against our public manta after I had applied this patchset."},{"timestamp":1500687180,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 7: Patch Set 6 was rebased."},{"timestamp":1500687213,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7:\n\n\"make check\" passed ok"},{"timestamp":1503474327,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 8: Patch Set 7 was rebased."},{"timestamp":1503474371,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8:\n\n\"make check\" passed ok"},{"timestamp":1508318422,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Uploaded patch set 9."},{"timestamp":1508318458,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1510873254,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 10."},{"timestamp":1510873282,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1510873294,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Uploaded patch set 11: Commit message was updated."},{"timestamp":1510873334,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 11: Code-Review+1 Integration-Approval+1"},{"timestamp":1510873362,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Patch Set 11:\n\nI just rebased this and reran the test suite against recent changes. Everything passed without issue."},{"timestamp":1510944343,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Patch Set 11: Code-Review+1"},{"timestamp":1511974036,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Cody Peter Mello"}],"currentPatchSet":{"number":"11","revision":"b8572701cb060b262a94ef01e95f9a56bec726fa","parents":["5aabef170d667adb088ee83a5e022fdfe9534405"],"ref":"refs/changes/00/2000/11","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1510873294,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510873282,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510873334,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510873334,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510944343,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}},{"type":"SUBM","value":"1","grantedOn":1511974036,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/dir.test.js","type":"MODIFIED","insertions":73,"deletions":0}],"sizeInsertions":120,"sizeDeletions":-40},"patchSets":[{"number":"1","revision":"0eb9995fc507954c83b87433a400cba020616b13","parents":["dd5e5f2f78e8e20853b73209862ca5d629fb2351"],"ref":"refs/changes/00/2000/1","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1495670310,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1495670343,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/common.js","line":610,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"missing space around assignment operator"},{"file":"lib/common.js","line":610,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"literal string using double-quote instead of single"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":4,"sizeDeletions":-3},{"number":"2","revision":"673a6063d769ae0aed28efa2d17f054b29ffe93d","parents":["dd5e5f2f78e8e20853b73209862ca5d629fb2351"],"ref":"refs/changes/00/2000/2","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1495670850,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"-1","grantedOn":1495670882,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"/COMMIT_MSG","line":9,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Can you make the commit message for this:\n\n    MANTA-2409 Muskie pagination subject to Moray filter injection\n    MANTA-2803 Cannot mrmdir or mls in manta folder with parentheses in name"},{"file":"lib/common.js","line":610,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"missing space around assignment operator"},{"file":"lib/common.js","line":610,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"I think that it would be better to start using moray-filter in this repository, so that we can move away from building queries using sprintf."},{"file":"lib/common.js","line":657,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Using moray-filter, this function could push each subfilter into a \"filters\" array above, and then do:\n\n    var filter \u003d new AndFilter(filters);\n    var opts \u003d {\n        filter: filter.toString(),"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":4,"deletions":-3}],"sizeInsertions":4,"sizeDeletions":-3},{"number":"3","revision":"e501d73e75aff7c94e85b7b5fa208175522926bd","parents":["dd5e5f2f78e8e20853b73209862ca5d629fb2351"],"ref":"refs/changes/00/2000/3","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1495687635,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495695366,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495687668,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/common.js","line":672,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Can you make this \u003d\u003d\u003d (triple equals)?"},{"file":"lib/common.js","line":682,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Should I move this new up to the var filters declaration and then use AndFilter.addFilter() instead of Array.push() ?"},{"file":"lib/common.js","line":682,"reviewer":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"message":"Sure! Either way seems fine to me, although the .addFilter() route might read more nicely."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":47,"sizeDeletions":-40},{"number":"4","revision":"e546b430288efc5be28a2d74f7d1178f755bf2e2","parents":["dd5e5f2f78e8e20853b73209862ca5d629fb2351"],"ref":"refs/changes/00/2000/4","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1495695990,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1495696471,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495696017,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"lib/common.js","line":659,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"Does this filter work with a date marker? It looks like the node-moray-filter asserts that the value is a string."},{"file":"lib/common.js","line":659,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"Good catch.  I thought I had tested this but my directory didn\u0027t have enough entries for the marker to come into play."},{"file":"lib/common.js","line":680,"reviewer":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},"message":"I think this would be easier to read if the constructor was explicit, and the arguments commonized instead of the constructor.\n\nSo something like:\n\nvar sortArgs \u003d {\n    attribute: opts.sort.attribute,\n    value: marker\n};\n\nif (opts.sort.order \u003d\u003d\u003d \u0027DESC\u0027) {\n    filter.addFilter(new morayFilter.LessThanEqualsFilter(sortArgs));\n} else {\n    filter.addFilter(new morayFilter.GreaterThanEqualsFilter(sortArgs));\n}"},{"file":"lib/common.js","line":680,"reviewer":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"message":"I agree;  this does look better."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":44,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":45,"sizeDeletions":-40},{"number":"5","revision":"6c3953f41ac6bc429fd7b49677998d76b1b4135f","parents":["dd5e5f2f78e8e20853b73209862ca5d629fb2351"],"ref":"refs/changes/00/2000/5","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1495752224,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495752252,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":47,"sizeDeletions":-40},{"number":"6","revision":"8438dbf6d20649b00ddb6053ff8218c63eddf392","parents":["dd5e5f2f78e8e20853b73209862ca5d629fb2351"],"ref":"refs/changes/00/2000/6","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1495780104,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495780142,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/dir.test.js","type":"MODIFIED","insertions":73,"deletions":0}],"sizeInsertions":120,"sizeDeletions":-40},{"number":"7","revision":"eaf1079b9a6af54b475546ac0ec2ce1302f06ee4","parents":["5018ca7d9ce64b8cd11e39a69575e7d2dec84554"],"ref":"refs/changes/00/2000/7","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1500687180,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495780142,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/dir.test.js","type":"MODIFIED","insertions":73,"deletions":0}],"sizeInsertions":120,"sizeDeletions":-40},{"number":"8","revision":"14188f425c97bfdd4712478796f47e5029692b98","parents":["cecdfce62528af5535e29640b414287860afaf25"],"ref":"refs/changes/00/2000/8","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1503474327,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1495780142,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/dir.test.js","type":"MODIFIED","insertions":73,"deletions":0}],"sizeInsertions":120,"sizeDeletions":-40},{"number":"9","revision":"a8064d5679aefff5611b3b56158c23d71f1ed4d0","parents":["a612da71491efd1e926b986741f30f2f2055b685"],"ref":"refs/changes/00/2000/9","uploader":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"createdOn":1508318422,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1508318458,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/dir.test.js","type":"MODIFIED","insertions":73,"deletions":0}],"sizeInsertions":120,"sizeDeletions":-40},{"number":"10","revision":"7af1e8ea9dc95e049a04e3f1624668572b733c8f","parents":["5aabef170d667adb088ee83a5e022fdfe9534405"],"ref":"refs/changes/00/2000/10","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1510873254,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510873282,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/dir.test.js","type":"MODIFIED","insertions":73,"deletions":0}],"sizeInsertions":120,"sizeDeletions":-40},{"number":"11","revision":"b8572701cb060b262a94ef01e95f9a56bec726fa","parents":["5aabef170d667adb088ee83a5e022fdfe9534405"],"ref":"refs/changes/00/2000/11","uploader":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},"createdOn":1510873294,"author":{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510873334,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1510873334,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"SUBM","value":"1","grantedOn":1511974036,"by":{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"}},{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1510873282,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1510944343,"by":{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"lib/common.js","type":"MODIFIED","insertions":46,"deletions":-40},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/dir.test.js","type":"MODIFIED","insertions":73,"deletions":0}],"sizeInsertions":120,"sizeDeletions":-40}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Cody Peter Mello","email":"melloc@writev.io","username":"melloc"},{"name":"Jordan Hendricks","email":"jordan.hendricks@joyent.com","username":"jordanhendricks"},{"name":"David Pacheco","email":"dap@joyent.com","username":"davepacheco"},{"name":"Kris Shannon","email":"k.shannon@amaze.com.au","username":"KrisShannon"}]}